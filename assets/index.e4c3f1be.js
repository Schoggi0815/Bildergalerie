var cfe=Object.defineProperty,ufe=Object.defineProperties;var dfe=Object.getOwnPropertyDescriptors;var TE=Object.getOwnPropertySymbols;var O5=Object.prototype.hasOwnProperty,F5=Object.prototype.propertyIsEnumerable;var N5=(t,e,n)=>e in t?cfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qn=(t,e)=>{for(var n in e||(e={}))O5.call(e,n)&&N5(t,n,e[n]);if(TE)for(var n of TE(e))F5.call(e,n)&&N5(t,n,e[n]);return t},Kl=(t,e)=>ufe(t,dfe(e));var Mf=(t,e)=>{var n={};for(var r in t)O5.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&TE)for(var r of TE(t))e.indexOf(r)<0&&F5.call(t,r)&&(n[r]=t[r]);return n};function ffe(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const hfe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};hfe();var an=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function lP(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var KN={},cP={exports:{}},Ga={},N={exports:{}},Dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=Symbol.for("react.element"),pfe=Symbol.for("react.portal"),mfe=Symbol.for("react.fragment"),gfe=Symbol.for("react.strict_mode"),vfe=Symbol.for("react.profiler"),yfe=Symbol.for("react.provider"),_fe=Symbol.for("react.context"),xfe=Symbol.for("react.forward_ref"),wfe=Symbol.for("react.suspense"),bfe=Symbol.for("react.memo"),Sfe=Symbol.for("react.lazy"),B5=Symbol.iterator;function Cfe(t){return t===null||typeof t!="object"?null:(t=B5&&t[B5]||t["@@iterator"],typeof t=="function"?t:null)}var b7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S7=Object.assign,C7={};function X_(t,e,n){this.props=t,this.context=e,this.refs=C7,this.updater=n||b7}X_.prototype.isReactComponent={};X_.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};X_.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function T7(){}T7.prototype=X_.prototype;function IB(t,e,n){this.props=t,this.context=e,this.refs=C7,this.updater=n||b7}var MB=IB.prototype=new T7;MB.constructor=IB;S7(MB,X_.prototype);MB.isPureReactComponent=!0;var $5=Array.isArray,E7=Object.prototype.hasOwnProperty,AB={current:null},I7={key:!0,ref:!0,__self:!0,__source:!0};function M7(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)E7.call(e,r)&&!I7.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:aC,type:t,key:s,ref:o,props:i,_owner:AB.current}}function Tfe(t,e){return{$$typeof:aC,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function RB(t){return typeof t=="object"&&t!==null&&t.$$typeof===aC}function Efe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U5=/\/+/g;function h2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Efe(""+t.key):e.toString(36)}function hM(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case aC:case pfe:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+h2(o,0):r,$5(i)?(n="",t!=null&&(n=t.replace(U5,"$&/")+"/"),hM(i,e,n,"",function(c){return c})):i!=null&&(RB(i)&&(i=Tfe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(U5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+h2(s,a);o+=hM(s,e,n,l,i)}else if(l=Cfe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+h2(s,a++),o+=hM(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function EE(t,e,n){if(t==null)return t;var r=[],i=0;return hM(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ife(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fo={current:null},pM={transition:null},Mfe={ReactCurrentDispatcher:Fo,ReactCurrentBatchConfig:pM,ReactCurrentOwner:AB};Dn.Children={map:EE,forEach:function(t,e,n){EE(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return EE(t,function(){e++}),e},toArray:function(t){return EE(t,function(e){return e})||[]},only:function(t){if(!RB(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dn.Component=X_;Dn.Fragment=mfe;Dn.Profiler=vfe;Dn.PureComponent=IB;Dn.StrictMode=gfe;Dn.Suspense=wfe;Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mfe;Dn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S7({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=AB.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)E7.call(e,l)&&!I7.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:aC,type:t.type,key:i,ref:s,props:r,_owner:o}};Dn.createContext=function(t){return t={$$typeof:_fe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yfe,_context:t},t.Consumer=t};Dn.createElement=M7;Dn.createFactory=function(t){var e=M7.bind(null,t);return e.type=t,e};Dn.createRef=function(){return{current:null}};Dn.forwardRef=function(t){return{$$typeof:xfe,render:t}};Dn.isValidElement=RB;Dn.lazy=function(t){return{$$typeof:Sfe,_payload:{_status:-1,_result:t},_init:Ife}};Dn.memo=function(t,e){return{$$typeof:bfe,type:t,compare:e===void 0?null:e}};Dn.startTransition=function(t){var e=pM.transition;pM.transition={};try{t()}finally{pM.transition=e}};Dn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Dn.useCallback=function(t,e){return Fo.current.useCallback(t,e)};Dn.useContext=function(t){return Fo.current.useContext(t)};Dn.useDebugValue=function(){};Dn.useDeferredValue=function(t){return Fo.current.useDeferredValue(t)};Dn.useEffect=function(t,e){return Fo.current.useEffect(t,e)};Dn.useId=function(){return Fo.current.useId()};Dn.useImperativeHandle=function(t,e,n){return Fo.current.useImperativeHandle(t,e,n)};Dn.useInsertionEffect=function(t,e){return Fo.current.useInsertionEffect(t,e)};Dn.useLayoutEffect=function(t,e){return Fo.current.useLayoutEffect(t,e)};Dn.useMemo=function(t,e){return Fo.current.useMemo(t,e)};Dn.useReducer=function(t,e,n){return Fo.current.useReducer(t,e,n)};Dn.useRef=function(t){return Fo.current.useRef(t)};Dn.useState=function(t){return Fo.current.useState(t)};Dn.useSyncExternalStore=function(t,e,n){return Fo.current.useSyncExternalStore(t,e,n)};Dn.useTransition=function(){return Fo.current.useTransition()};Dn.version="18.1.0";N.exports=Dn;var ru=N.exports,Ih=ffe({__proto__:null,default:ru},[N.exports]),A7={exports:{}},R7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var q=B.length;B.push(H);e:for(;0<q;){var ee=q-1>>>1,J=B[ee];if(0<i(J,H))B[ee]=H,B[q]=J,q=ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],q=B.pop();if(q!==H){B[0]=q;e:for(var ee=0,J=B.length,de=J>>>1;ee<de;){var ye=2*(ee+1)-1,Ce=B[ye],oe=ye+1,He=B[oe];if(0>i(Ce,q))oe<J&&0>i(He,Ce)?(B[ee]=He,B[oe]=q,ee=oe):(B[ee]=Ce,B[ye]=q,ee=ye);else if(oe<J&&0>i(He,q))B[ee]=He,B[oe]=q,ee=oe;else break e}}return H}function i(B,H){var q=B.sortIndex-H.sortIndex;return q!==0?q:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=B)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(B){if(v=!1,b(B),!g)if(n(l)!==null)g=!0,W(E);else{var H=n(c);H!==null&&X(T,H.startTime-B)}}function E(B,H){g=!1,v&&(v=!1,x(R),R=-1),p=!0;var q=f;try{for(b(H),d=n(l);d!==null&&(!(d.expirationTime>H)||B&&!G());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var J=ee(d.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),b(H)}else r(l);d=n(l)}if(d!==null)var de=!0;else{var ye=n(c);ye!==null&&X(T,ye.startTime-H),de=!1}return de}finally{d=null,f=q,p=!1}}var P=!1,L=null,R=-1,F=5,O=-1;function G(){return!(t.unstable_now()-O<F)}function Z(){if(L!==null){var B=t.unstable_now();O=B;var H=!0;try{H=L(!0,B)}finally{H?V():(P=!1,L=null)}}else P=!1}var V;if(typeof w=="function")V=function(){w(Z)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=Z,V=function(){j.postMessage(null)}}else V=function(){y(Z,0)};function W(B){L=B,P||(P=!0,V())}function X(B,H){R=y(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var q=f;f=H;try{return B()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=f;f=B;try{return H()}finally{f=q}},t.unstable_scheduleCallback=function(B,H,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,B={id:u++,callback:H,priorityLevel:B,startTime:q,expirationTime:J,sortIndex:-1},q>ee?(B.sortIndex=q,e(c,B),n(l)===null&&B===n(c)&&(v?(x(R),R=-1):v=!0,X(T,q-ee))):(B.sortIndex=J,e(l,B),g||p||(g=!0,W(E))),B},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(B){var H=f;return function(){var q=f;f=H;try{return B.apply(this,arguments)}finally{f=q}}}})(R7);A7.exports=R7;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P7=N.exports,za=A7.exports;function pt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k7=new Set,E1={};function Vg(t,e){K0(t,e),K0(t+"Capture",e)}function K0(t,e){for(E1[t]=e,t=0;t<e.length;t++)k7.add(e[t])}var Md=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),XN=Object.prototype.hasOwnProperty,Afe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z5={},V5={};function Rfe(t){return XN.call(V5,t)?!0:XN.call(z5,t)?!1:Afe.test(t)?V5[t]=!0:(z5[t]=!0,!1)}function Pfe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kfe(t,e,n,r){if(e===null||typeof e=="undefined"||Pfe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bo(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zs[t]=new Bo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zs[e]=new Bo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zs[t]=new Bo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zs[t]=new Bo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zs[t]=new Bo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zs[t]=new Bo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zs[t]=new Bo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zs[t]=new Bo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zs[t]=new Bo(t,5,!1,t.toLowerCase(),null,!1,!1)});var PB=/[\-:]([a-z])/g;function kB(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(PB,kB);zs[e]=new Bo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(PB,kB);zs[e]=new Bo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(PB,kB);zs[e]=new Bo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zs[t]=new Bo(t,1,!1,t.toLowerCase(),null,!1,!1)});zs.xlinkHref=new Bo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zs[t]=new Bo(t,1,!1,t.toLowerCase(),null,!0,!0)});function LB(t,e,n,r){var i=zs.hasOwnProperty(e)?zs[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kfe(e,n,i,r)&&(n=null),r||i===null?Rfe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jd=P7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,IE=Symbol.for("react.element"),Jy=Symbol.for("react.portal"),Zy=Symbol.for("react.fragment"),DB=Symbol.for("react.strict_mode"),YN=Symbol.for("react.profiler"),L7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),NB=Symbol.for("react.forward_ref"),QN=Symbol.for("react.suspense"),JN=Symbol.for("react.suspense_list"),OB=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),N7=Symbol.for("react.offscreen"),W5=Symbol.iterator;function Fw(t){return t===null||typeof t!="object"?null:(t=W5&&t[W5]||t["@@iterator"],typeof t=="function"?t:null)}var Gr=Object.assign,p2;function Cb(t){if(p2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);p2=e&&e[1]||""}return`
`+p2+t}var m2=!1;function g2(t,e){if(!t||m2)return"";m2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{m2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Cb(t):""}function Lfe(t){switch(t.tag){case 5:return Cb(t.type);case 16:return Cb("Lazy");case 13:return Cb("Suspense");case 19:return Cb("SuspenseList");case 0:case 2:case 15:return t=g2(t.type,!1),t;case 11:return t=g2(t.type.render,!1),t;case 1:return t=g2(t.type,!0),t;default:return""}}function ZN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zy:return"Fragment";case Jy:return"Portal";case YN:return"Profiler";case DB:return"StrictMode";case QN:return"Suspense";case JN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D7:return(t.displayName||"Context")+".Consumer";case L7:return(t._context.displayName||"Context")+".Provider";case NB:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case OB:return e=t.displayName||null,e!==null?e:ZN(t.type)||"Memo";case qf:e=t._payload,t=t._init;try{return ZN(t(e))}catch{}}return null}function Dfe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ZN(e);case 8:return e===DB?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function O7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nfe(t){var e=O7(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ME(t){t._valueTracker||(t._valueTracker=Nfe(t))}function F7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=O7(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lA(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function eO(t,e){var n=e.checked;return Gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function H5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B7(t,e){e=e.checked,e!=null&&LB(t,"checked",e,!1)}function tO(t,e){B7(t,e);var n=Mh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?nO(t,e.type,n):e.hasOwnProperty("defaultValue")&&nO(t,e.type,Mh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function nO(t,e,n){(e!=="number"||lA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tb=Array.isArray;function w0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function rO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pt(91));return Gr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pt(92));if(Tb(n)){if(1<n.length)throw Error(pt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mh(n)}}function $7(t,e){var n=Mh(e.value),r=Mh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function q5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function U7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?U7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var AE,z7=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(AE=AE||document.createElement("div"),AE.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=AE.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function I1(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ofe=["Webkit","ms","Moz","O"];Object.keys(Wb).forEach(function(t){Ofe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wb[e]=Wb[t]})});function V7(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wb.hasOwnProperty(t)&&Wb[t]?(""+e).trim():e+"px"}function W7(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=V7(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ffe=Gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sO(t,e){if(e){if(Ffe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pt(62))}}function oO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aO=null;function FB(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lO=null,b0=null,S0=null;function K5(t){if(t=uC(t)){if(typeof lO!="function")throw Error(pt(280));var e=t.stateNode;e&&(e=pP(e),lO(t.stateNode,t.type,e))}}function H7(t){b0?S0?S0.push(t):S0=[t]:b0=t}function G7(){if(b0){var t=b0,e=S0;if(S0=b0=null,K5(t),e)for(t=0;t<e.length;t++)K5(e[t])}}function j7(t,e){return t(e)}function q7(){}var v2=!1;function K7(t,e,n){if(v2)return t(e,n);v2=!0;try{return j7(t,e,n)}finally{v2=!1,(b0!==null||S0!==null)&&(q7(),G7())}}function M1(t,e){var n=t.stateNode;if(n===null)return null;var r=pP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pt(231,e,typeof n));return n}var cO=!1;if(Md)try{var Bw={};Object.defineProperty(Bw,"passive",{get:function(){cO=!0}}),window.addEventListener("test",Bw,Bw),window.removeEventListener("test",Bw,Bw)}catch{cO=!1}function Bfe(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Hb=!1,cA=null,uA=!1,uO=null,$fe={onError:function(t){Hb=!0,cA=t}};function Ufe(t,e,n,r,i,s,o,a,l){Hb=!1,cA=null,Bfe.apply($fe,arguments)}function zfe(t,e,n,r,i,s,o,a,l){if(Ufe.apply(this,arguments),Hb){if(Hb){var c=cA;Hb=!1,cA=null}else throw Error(pt(198));uA||(uA=!0,uO=c)}}function Wg(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X5(t){if(Wg(t)!==t)throw Error(pt(188))}function Vfe(t){var e=t.alternate;if(!e){if(e=Wg(t),e===null)throw Error(pt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X5(i),t;if(s===r)return X5(i),e;s=s.sibling}throw Error(pt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(pt(189))}}if(n.alternate!==r)throw Error(pt(190))}if(n.tag!==3)throw Error(pt(188));return n.stateNode.current===n?t:e}function Y7(t){return t=Vfe(t),t!==null?Q7(t):null}function Q7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Q7(t);if(e!==null)return e;t=t.sibling}return null}var J7=za.unstable_scheduleCallback,Y5=za.unstable_cancelCallback,Wfe=za.unstable_shouldYield,Hfe=za.unstable_requestPaint,ci=za.unstable_now,Gfe=za.unstable_getCurrentPriorityLevel,BB=za.unstable_ImmediatePriority,Z7=za.unstable_UserBlockingPriority,dA=za.unstable_NormalPriority,jfe=za.unstable_LowPriority,eK=za.unstable_IdlePriority,uP=null,ou=null;function qfe(t){if(ou&&typeof ou.onCommitFiberRoot=="function")try{ou.onCommitFiberRoot(uP,t,void 0,(t.current.flags&128)===128)}catch{}}var vc=Math.clz32?Math.clz32:Yfe,Kfe=Math.log,Xfe=Math.LN2;function Yfe(t){return t>>>=0,t===0?32:31-(Kfe(t)/Xfe|0)|0}var RE=64,PE=4194304;function Eb(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eb(a):(s&=o,s!==0&&(r=Eb(s)))}else o=n&~i,o!==0?r=Eb(o):s!==0&&(r=Eb(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vc(e),i=1<<n,r|=t[n],e&=~i;return r}function Qfe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jfe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vc(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=Qfe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function dO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tK(){var t=RE;return RE<<=1,(RE&4194240)===0&&(RE=64),t}function y2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lC(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vc(e),t[e]=n}function Zfe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $B(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ar=0;function nK(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var rK,UB,iK,sK,oK,fO=!1,kE=[],fh=null,hh=null,ph=null,A1=new Map,R1=new Map,Qf=[],ehe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q5(t,e){switch(t){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":A1.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":R1.delete(e.pointerId)}}function $w(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=uC(e),e!==null&&UB(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function the(t,e,n,r,i){switch(e){case"focusin":return fh=$w(fh,t,e,n,r,i),!0;case"dragenter":return hh=$w(hh,t,e,n,r,i),!0;case"mouseover":return ph=$w(ph,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return A1.set(s,$w(A1.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,R1.set(s,$w(R1.get(s)||null,t,e,n,r,i)),!0}return!1}function aK(t){var e=Cm(t.target);if(e!==null){var n=Wg(e);if(n!==null){if(e=n.tag,e===13){if(e=X7(n),e!==null){t.blockedOn=e,oK(t.priority,function(){iK(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mM(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);aO=r,n.target.dispatchEvent(r),aO=null}else return e=uC(n),e!==null&&UB(e),t.blockedOn=n,!1;e.shift()}return!0}function J5(t,e,n){mM(t)&&n.delete(e)}function nhe(){fO=!1,fh!==null&&mM(fh)&&(fh=null),hh!==null&&mM(hh)&&(hh=null),ph!==null&&mM(ph)&&(ph=null),A1.forEach(J5),R1.forEach(J5)}function Uw(t,e){t.blockedOn===e&&(t.blockedOn=null,fO||(fO=!0,za.unstable_scheduleCallback(za.unstable_NormalPriority,nhe)))}function P1(t){function e(i){return Uw(i,t)}if(0<kE.length){Uw(kE[0],t);for(var n=1;n<kE.length;n++){var r=kE[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fh!==null&&Uw(fh,t),hh!==null&&Uw(hh,t),ph!==null&&Uw(ph,t),A1.forEach(e),R1.forEach(e),n=0;n<Qf.length;n++)r=Qf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qf.length&&(n=Qf[0],n.blockedOn===null);)aK(n),n.blockedOn===null&&Qf.shift()}var C0=jd.ReactCurrentBatchConfig,hA=!0;function rhe(t,e,n,r){var i=ar,s=C0.transition;C0.transition=null;try{ar=1,zB(t,e,n,r)}finally{ar=i,C0.transition=s}}function ihe(t,e,n,r){var i=ar,s=C0.transition;C0.transition=null;try{ar=4,zB(t,e,n,r)}finally{ar=i,C0.transition=s}}function zB(t,e,n,r){if(hA){var i=hO(t,e,n,r);if(i===null)M2(t,e,r,pA,n),Q5(t,r);else if(the(i,t,e,n,r))r.stopPropagation();else if(Q5(t,r),e&4&&-1<ehe.indexOf(t)){for(;i!==null;){var s=uC(i);if(s!==null&&rK(s),s=hO(t,e,n,r),s===null&&M2(t,e,r,pA,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else M2(t,e,r,null,n)}}var pA=null;function hO(t,e,n,r){if(pA=null,t=FB(r),t=Cm(t),t!==null)if(e=Wg(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X7(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pA=t,null}function lK(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gfe()){case BB:return 1;case Z7:return 4;case dA:case jfe:return 16;case eK:return 536870912;default:return 16}default:return 16}}var th=null,VB=null,gM=null;function cK(){if(gM)return gM;var t,e=VB,n=e.length,r,i="value"in th?th.value:th.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return gM=i.slice(t,1<r?1-r:void 0)}function vM(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function LE(){return!0}function Z5(){return!1}function ja(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?LE:Z5,this.isPropagationStopped=Z5,this}return Gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=LE)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=LE)},persist:function(){},isPersistent:LE}),e}var Y_={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WB=ja(Y_),cC=Gr({},Y_,{view:0,detail:0}),she=ja(cC),_2,x2,zw,dP=Gr({},cC,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:HB,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zw&&(zw&&t.type==="mousemove"?(_2=t.screenX-zw.screenX,x2=t.screenY-zw.screenY):x2=_2=0,zw=t),_2)},movementY:function(t){return"movementY"in t?t.movementY:x2}}),e6=ja(dP),ohe=Gr({},dP,{dataTransfer:0}),ahe=ja(ohe),lhe=Gr({},cC,{relatedTarget:0}),w2=ja(lhe),che=Gr({},Y_,{animationName:0,elapsedTime:0,pseudoElement:0}),uhe=ja(che),dhe=Gr({},Y_,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fhe=ja(dhe),hhe=Gr({},Y_,{data:0}),t6=ja(hhe),phe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mhe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ghe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vhe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ghe[t])?!!e[t]:!1}function HB(){return vhe}var yhe=Gr({},cC,{key:function(t){if(t.key){var e=phe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vM(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mhe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:HB,charCode:function(t){return t.type==="keypress"?vM(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vM(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_he=ja(yhe),xhe=Gr({},dP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n6=ja(xhe),whe=Gr({},cC,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:HB}),bhe=ja(whe),She=Gr({},Y_,{propertyName:0,elapsedTime:0,pseudoElement:0}),Che=ja(She),The=Gr({},dP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ehe=ja(The),Ihe=[9,13,27,32],GB=Md&&"CompositionEvent"in window,Gb=null;Md&&"documentMode"in document&&(Gb=document.documentMode);var Mhe=Md&&"TextEvent"in window&&!Gb,uK=Md&&(!GB||Gb&&8<Gb&&11>=Gb),r6=String.fromCharCode(32),i6=!1;function dK(t,e){switch(t){case"keyup":return Ihe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var e0=!1;function Ahe(t,e){switch(t){case"compositionend":return fK(e);case"keypress":return e.which!==32?null:(i6=!0,r6);case"textInput":return t=e.data,t===r6&&i6?null:t;default:return null}}function Rhe(t,e){if(e0)return t==="compositionend"||!GB&&dK(t,e)?(t=cK(),gM=VB=th=null,e0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uK&&e.locale!=="ko"?null:e.data;default:return null}}var Phe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Phe[t.type]:e==="textarea"}function hK(t,e,n,r){H7(r),e=mA(e,"onChange"),0<e.length&&(n=new WB("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jb=null,k1=null;function khe(t){CK(t,0)}function fP(t){var e=r0(t);if(F7(e))return t}function Lhe(t,e){if(t==="change")return e}var pK=!1;if(Md){var b2;if(Md){var S2="oninput"in document;if(!S2){var o6=document.createElement("div");o6.setAttribute("oninput","return;"),S2=typeof o6.oninput=="function"}b2=S2}else b2=!1;pK=b2&&(!document.documentMode||9<document.documentMode)}function a6(){jb&&(jb.detachEvent("onpropertychange",mK),k1=jb=null)}function mK(t){if(t.propertyName==="value"&&fP(k1)){var e=[];hK(e,k1,t,FB(t)),K7(khe,e)}}function Dhe(t,e,n){t==="focusin"?(a6(),jb=e,k1=n,jb.attachEvent("onpropertychange",mK)):t==="focusout"&&a6()}function Nhe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fP(k1)}function Ohe(t,e){if(t==="click")return fP(e)}function Fhe(t,e){if(t==="input"||t==="change")return fP(e)}function Bhe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wc=typeof Object.is=="function"?Object.is:Bhe;function L1(t,e){if(wc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!XN.call(e,i)||!wc(t[i],e[i]))return!1}return!0}function l6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c6(t,e){var n=l6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=l6(n)}}function gK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vK(){for(var t=window,e=lA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lA(t.document)}return e}function jB(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $he(t){var e=vK(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gK(n.ownerDocument.documentElement,n)){if(r!==null&&jB(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=c6(n,s);var o=c6(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Uhe=Md&&"documentMode"in document&&11>=document.documentMode,t0=null,pO=null,qb=null,mO=!1;function u6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mO||t0==null||t0!==lA(r)||(r=t0,"selectionStart"in r&&jB(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qb&&L1(qb,r)||(qb=r,r=mA(pO,"onSelect"),0<r.length&&(e=new WB("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=t0)))}function DE(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var n0={animationend:DE("Animation","AnimationEnd"),animationiteration:DE("Animation","AnimationIteration"),animationstart:DE("Animation","AnimationStart"),transitionend:DE("Transition","TransitionEnd")},C2={},yK={};Md&&(yK=document.createElement("div").style,"AnimationEvent"in window||(delete n0.animationend.animation,delete n0.animationiteration.animation,delete n0.animationstart.animation),"TransitionEvent"in window||delete n0.transitionend.transition);function hP(t){if(C2[t])return C2[t];if(!n0[t])return t;var e=n0[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yK)return C2[t]=e[n];return t}var _K=hP("animationend"),xK=hP("animationiteration"),wK=hP("animationstart"),bK=hP("transitionend"),SK=new Map,d6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qh(t,e){SK.set(t,e),Vg(e,[t])}for(var T2=0;T2<d6.length;T2++){var E2=d6[T2],zhe=E2.toLowerCase(),Vhe=E2[0].toUpperCase()+E2.slice(1);Qh(zhe,"on"+Vhe)}Qh(_K,"onAnimationEnd");Qh(xK,"onAnimationIteration");Qh(wK,"onAnimationStart");Qh("dblclick","onDoubleClick");Qh("focusin","onFocus");Qh("focusout","onBlur");Qh(bK,"onTransitionEnd");K0("onMouseEnter",["mouseout","mouseover"]);K0("onMouseLeave",["mouseout","mouseover"]);K0("onPointerEnter",["pointerout","pointerover"]);K0("onPointerLeave",["pointerout","pointerover"]);Vg("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vg("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vg("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vg("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vg("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vg("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ib="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Whe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ib));function f6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zfe(r,e,void 0,t),t.currentTarget=null}function CK(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;f6(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;f6(i,a,c),s=l}}}if(uA)throw t=uO,uA=!1,uO=null,t}function Cr(t,e){var n=e[xO];n===void 0&&(n=e[xO]=new Set);var r=t+"__bubble";n.has(r)||(TK(e,t,2,!1),n.add(r))}function I2(t,e,n){var r=0;e&&(r|=4),TK(n,t,r,e)}var NE="_reactListening"+Math.random().toString(36).slice(2);function D1(t){if(!t[NE]){t[NE]=!0,k7.forEach(function(n){n!=="selectionchange"&&(Whe.has(n)||I2(n,!1,t),I2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[NE]||(e[NE]=!0,I2("selectionchange",!1,e))}}function TK(t,e,n,r){switch(lK(e)){case 1:var i=rhe;break;case 4:i=ihe;break;default:i=zB}n=i.bind(null,e,n,t),i=void 0,!cO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function M2(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Cm(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}K7(function(){var c=s,u=FB(n),d=[];e:{var f=SK.get(t);if(f!==void 0){var p=WB,g=t;switch(t){case"keypress":if(vM(n)===0)break e;case"keydown":case"keyup":p=_he;break;case"focusin":g="focus",p=w2;break;case"focusout":g="blur",p=w2;break;case"beforeblur":case"afterblur":p=w2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=e6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ahe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=bhe;break;case _K:case xK:case wK:p=uhe;break;case bK:p=Che;break;case"scroll":p=she;break;case"wheel":p=Ehe;break;case"copy":case"cut":case"paste":p=fhe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=n6}var v=(e&4)!==0,y=!v&&t==="scroll",x=v?f!==null?f+"Capture":null:f;v=[];for(var w=c,b;w!==null;){b=w;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,x!==null&&(T=M1(w,x),T!=null&&v.push(N1(w,T,b)))),y)break;w=w.return}0<v.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:v}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==aO&&(g=n.relatedTarget||n.fromElement)&&(Cm(g)||g[Ad]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?Cm(g):null,g!==null&&(y=Wg(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(v=e6,T="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=n6,T="onPointerLeave",x="onPointerEnter",w="pointer"),y=p==null?f:r0(p),b=g==null?f:r0(g),f=new v(T,w+"leave",p,n,u),f.target=y,f.relatedTarget=b,T=null,Cm(u)===c&&(v=new v(x,w+"enter",g,n,u),v.target=b,v.relatedTarget=y,T=v),y=T,p&&g)t:{for(v=p,x=g,w=0,b=v;b;b=dy(b))w++;for(b=0,T=x;T;T=dy(T))b++;for(;0<w-b;)v=dy(v),w--;for(;0<b-w;)x=dy(x),b--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=dy(v),x=dy(x)}v=null}else v=null;p!==null&&h6(d,f,p,v,!1),g!==null&&y!==null&&h6(d,y,g,v,!0)}}e:{if(f=c?r0(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=Lhe;else if(s6(f))if(pK)E=Fhe;else{E=Nhe;var P=Dhe}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Ohe);if(E&&(E=E(t,c))){hK(d,E,n,u);break e}P&&P(t,f,c),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&nO(f,"number",f.value)}switch(P=c?r0(c):window,t){case"focusin":(s6(P)||P.contentEditable==="true")&&(t0=P,pO=c,qb=null);break;case"focusout":qb=pO=t0=null;break;case"mousedown":mO=!0;break;case"contextmenu":case"mouseup":case"dragend":mO=!1,u6(d,n,u);break;case"selectionchange":if(Uhe)break;case"keydown":case"keyup":u6(d,n,u)}var L;if(GB)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else e0?dK(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(uK&&n.locale!=="ko"&&(e0||R!=="onCompositionStart"?R==="onCompositionEnd"&&e0&&(L=cK()):(th=u,VB="value"in th?th.value:th.textContent,e0=!0)),P=mA(c,R),0<P.length&&(R=new t6(R,t,null,n,u),d.push({event:R,listeners:P}),L?R.data=L:(L=fK(n),L!==null&&(R.data=L)))),(L=Mhe?Ahe(t,n):Rhe(t,n))&&(c=mA(c,"onBeforeInput"),0<c.length&&(u=new t6("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=L))}CK(d,e)})}function N1(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=M1(t,n),s!=null&&r.unshift(N1(t,s,i)),s=M1(t,e),s!=null&&r.push(N1(t,s,i))),t=t.return}return r}function dy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function h6(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=M1(n,s),l!=null&&o.unshift(N1(n,l,a))):i||(l=M1(n,s),l!=null&&o.push(N1(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Hhe=/\r\n?/g,Ghe=/\u0000|\uFFFD/g;function p6(t){return(typeof t=="string"?t:""+t).replace(Hhe,`
`).replace(Ghe,"")}function OE(t,e,n){if(e=p6(e),p6(t)!==e&&n)throw Error(pt(425))}function gA(){}var gO=null,vO=null;function yO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _O=typeof setTimeout=="function"?setTimeout:void 0,jhe=typeof clearTimeout=="function"?clearTimeout:void 0,m6=typeof Promise=="function"?Promise:void 0,qhe=typeof queueMicrotask=="function"?queueMicrotask:typeof m6!="undefined"?function(t){return m6.resolve(null).then(t).catch(Khe)}:_O;function Khe(t){setTimeout(function(){throw t})}function A2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),P1(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);P1(e)}function ud(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function g6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Q_=Math.random().toString(36).slice(2),Qc="__reactFiber$"+Q_,O1="__reactProps$"+Q_,Ad="__reactContainer$"+Q_,xO="__reactEvents$"+Q_,Xhe="__reactListeners$"+Q_,Yhe="__reactHandles$"+Q_;function Cm(t){var e=t[Qc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ad]||n[Qc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=g6(t);t!==null;){if(n=t[Qc])return n;t=g6(t)}return e}t=n,n=t.parentNode}return null}function uC(t){return t=t[Qc]||t[Ad],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function r0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pt(33))}function pP(t){return t[O1]||null}var wO=[],i0=-1;function Jh(t){return{current:t}}function Mr(t){0>i0||(t.current=wO[i0],wO[i0]=null,i0--)}function xr(t,e){i0++,wO[i0]=t.current,t.current=e}var Ah={},co=Jh(Ah),oa=Jh(!1),eg=Ah;function X0(t,e){var n=t.type.contextTypes;if(!n)return Ah;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function aa(t){return t=t.childContextTypes,t!=null}function vA(){Mr(oa),Mr(co)}function v6(t,e,n){if(co.current!==Ah)throw Error(pt(168));xr(co,e),xr(oa,n)}function EK(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pt(108,Dfe(t)||"Unknown",i));return Gr({},n,r)}function yA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ah,eg=co.current,xr(co,t),xr(oa,oa.current),!0}function y6(t,e,n){var r=t.stateNode;if(!r)throw Error(pt(169));n?(t=EK(t,e,eg),r.__reactInternalMemoizedMergedChildContext=t,Mr(oa),Mr(co),xr(co,t)):Mr(oa),xr(oa,n)}var ad=null,mP=!1,R2=!1;function IK(t){ad===null?ad=[t]:ad.push(t)}function Qhe(t){mP=!0,IK(t)}function Zh(){if(!R2&&ad!==null){R2=!0;var t=0,e=ar;try{var n=ad;for(ar=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ad=null,mP=!1}catch(i){throw ad!==null&&(ad=ad.slice(t+1)),J7(BB,Zh),i}finally{ar=e,R2=!1}}return null}var Jhe=jd.ReactCurrentBatchConfig;function nc(t,e){if(t&&t.defaultProps){e=Gr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _A=Jh(null),xA=null,s0=null,qB=null;function KB(){qB=s0=xA=null}function XB(t){var e=_A.current;Mr(_A),t._currentValue=e}function bO(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function T0(t,e){xA=t,qB=s0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(ia=!0),t.firstContext=null)}function Sl(t){var e=t._currentValue;if(qB!==t)if(t={context:t,memoizedValue:e,next:null},s0===null){if(xA===null)throw Error(pt(308));s0=t,xA.dependencies={lanes:0,firstContext:t}}else s0=s0.next=t;return e}var dc=null,Kf=!1;function YB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wd(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mh(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,vX(t)?(t=n.interleaved,t===null?(e.next=e,dc===null?dc=[n]:dc.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function yM(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$B(t,n)}}function _6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wA(t,e,n,r){var i=t.updateQueue;Kf=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=Gr({},d,f);break e;case 2:Kf=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rg|=o,t.lanes=o,t.memoizedState=d}}function x6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pt(191,i));i.call(r)}}}var AK=new P7.Component().refs;function SO(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gP={isMounted:function(t){return(t=t._reactInternals)?Wg(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ro(),i=vh(t),s=wd(r,i);s.payload=e,n!=null&&(s.callback=n),mh(t,s),e=vl(t,i,r),e!==null&&yM(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ro(),i=vh(t),s=wd(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),mh(t,s),e=vl(t,i,r),e!==null&&yM(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ro(),r=vh(t),i=wd(n,r);i.tag=2,e!=null&&(i.callback=e),mh(t,i),e=vl(t,r,n),e!==null&&yM(e,t,r)}};function w6(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!L1(n,r)||!L1(i,s):!0}function RK(t,e,n){var r=!1,i=Ah,s=e.contextType;return typeof s=="object"&&s!==null?s=Sl(s):(i=aa(e)?eg:co.current,r=e.contextTypes,s=(r=r!=null)?X0(t,i):Ah),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function b6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gP.enqueueReplaceState(e,e.state,null)}function CO(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=AK,YB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Sl(s):(s=aa(e)?eg:co.current,i.context=X0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(SO(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gP.enqueueReplaceState(i,i.state,null),wA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var o0=[],a0=0,bA=null,SA=0,al=[],ll=0,tg=null,dd=1,fd="";function rm(t,e){o0[a0++]=SA,o0[a0++]=bA,bA=t,SA=e}function PK(t,e,n){al[ll++]=dd,al[ll++]=fd,al[ll++]=tg,tg=t;var r=dd;t=fd;var i=32-vc(r)-1;r&=~(1<<i),n+=1;var s=32-vc(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dd=1<<32-vc(e)+i|n<<i|r,fd=s+t}else dd=1<<s|n<<i|r,fd=t}function QB(t){t.return!==null&&(rm(t,1),PK(t,1,0))}function JB(t){for(;t===bA;)bA=o0[--a0],o0[a0]=null,SA=o0[--a0],o0[a0]=null;for(;t===tg;)tg=al[--ll],al[ll]=null,fd=al[--ll],al[ll]=null,dd=al[--ll],al[ll]=null}var Oa=null,ta=null,Nr=!1,sc=null;function kK(t,e){var n=ul(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function S6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oa=t,ta=ud(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oa=t,ta=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tg!==null?{id:dd,overflow:fd}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ul(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Oa=t,ta=null,!0):!1;default:return!1}}function TO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function EO(t){if(Nr){var e=ta;if(e){var n=e;if(!S6(t,e)){if(TO(t))throw Error(pt(418));e=ud(n.nextSibling);var r=Oa;e&&S6(t,e)?kK(r,n):(t.flags=t.flags&-4097|2,Nr=!1,Oa=t)}}else{if(TO(t))throw Error(pt(418));t.flags=t.flags&-4097|2,Nr=!1,Oa=t}}}function C6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oa=t}function Vw(t){if(t!==Oa)return!1;if(!Nr)return C6(t),Nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yO(t.type,t.memoizedProps)),e&&(e=ta)){if(TO(t)){for(t=ta;t;)t=ud(t.nextSibling);throw Error(pt(418))}for(;e;)kK(t,e),e=ud(e.nextSibling)}if(C6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ta=ud(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ta=null}}else ta=Oa?ud(t.stateNode.nextSibling):null;return!0}function Y0(){ta=Oa=null,Nr=!1}function ZB(t){sc===null?sc=[t]:sc.push(t)}function Ww(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pt(309));var r=n.stateNode}if(!r)throw Error(pt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===AK&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(pt(284));if(!n._owner)throw Error(pt(290,t))}return t}function FE(t,e){throw t=Object.prototype.toString.call(e),Error(pt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T6(t){var e=t._init;return e(t._payload)}function LK(t){function e(x,w){if(t){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Rh(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,b,T){return w===null||w.tag!==6?(w=O2(b,x.mode,T),w.return=x,w):(w=i(w,b),w.return=x,w)}function l(x,w,b,T){var E=b.type;return E===Zy?u(x,w,b.props.children,T,b.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qf&&T6(E)===w.type)?(T=i(w,b.props),T.ref=Ww(x,w,b),T.return=x,T):(T=SM(b.type,b.key,b.props,null,x.mode,T),T.ref=Ww(x,w,b),T.return=x,T)}function c(x,w,b,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=F2(b,x.mode,T),w.return=x,w):(w=i(w,b.children||[]),w.return=x,w)}function u(x,w,b,T,E){return w===null||w.tag!==7?(w=$m(b,x.mode,T,E),w.return=x,w):(w=i(w,b),w.return=x,w)}function d(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=O2(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case IE:return b=SM(w.type,w.key,w.props,null,x.mode,b),b.ref=Ww(x,null,w),b.return=x,b;case Jy:return w=F2(w,x.mode,b),w.return=x,w;case qf:var T=w._init;return d(x,T(w._payload),b)}if(Tb(w)||Fw(w))return w=$m(w,x.mode,b,null),w.return=x,w;FE(x,w)}return null}function f(x,w,b,T){var E=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(x,w,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case IE:return b.key===E?l(x,w,b,T):null;case Jy:return b.key===E?c(x,w,b,T):null;case qf:return E=b._init,f(x,w,E(b._payload),T)}if(Tb(b)||Fw(b))return E!==null?null:u(x,w,b,T,null);FE(x,b)}return null}function p(x,w,b,T,E){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(b)||null,a(w,x,""+T,E);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case IE:return x=x.get(T.key===null?b:T.key)||null,l(w,x,T,E);case Jy:return x=x.get(T.key===null?b:T.key)||null,c(w,x,T,E);case qf:var P=T._init;return p(x,w,b,P(T._payload),E)}if(Tb(T)||Fw(T))return x=x.get(b)||null,u(w,x,T,E,null);FE(w,T)}return null}function g(x,w,b,T){for(var E=null,P=null,L=w,R=w=0,F=null;L!==null&&R<b.length;R++){L.index>R?(F=L,L=null):F=L.sibling;var O=f(x,L,b[R],T);if(O===null){L===null&&(L=F);break}t&&L&&O.alternate===null&&e(x,L),w=s(O,w,R),P===null?E=O:P.sibling=O,P=O,L=F}if(R===b.length)return n(x,L),Nr&&rm(x,R),E;if(L===null){for(;R<b.length;R++)L=d(x,b[R],T),L!==null&&(w=s(L,w,R),P===null?E=L:P.sibling=L,P=L);return Nr&&rm(x,R),E}for(L=r(x,L);R<b.length;R++)F=p(L,x,R,b[R],T),F!==null&&(t&&F.alternate!==null&&L.delete(F.key===null?R:F.key),w=s(F,w,R),P===null?E=F:P.sibling=F,P=F);return t&&L.forEach(function(G){return e(x,G)}),Nr&&rm(x,R),E}function v(x,w,b,T){var E=Fw(b);if(typeof E!="function")throw Error(pt(150));if(b=E.call(b),b==null)throw Error(pt(151));for(var P=E=null,L=w,R=w=0,F=null,O=b.next();L!==null&&!O.done;R++,O=b.next()){L.index>R?(F=L,L=null):F=L.sibling;var G=f(x,L,O.value,T);if(G===null){L===null&&(L=F);break}t&&L&&G.alternate===null&&e(x,L),w=s(G,w,R),P===null?E=G:P.sibling=G,P=G,L=F}if(O.done)return n(x,L),Nr&&rm(x,R),E;if(L===null){for(;!O.done;R++,O=b.next())O=d(x,O.value,T),O!==null&&(w=s(O,w,R),P===null?E=O:P.sibling=O,P=O);return Nr&&rm(x,R),E}for(L=r(x,L);!O.done;R++,O=b.next())O=p(L,x,R,O.value,T),O!==null&&(t&&O.alternate!==null&&L.delete(O.key===null?R:O.key),w=s(O,w,R),P===null?E=O:P.sibling=O,P=O);return t&&L.forEach(function(Z){return e(x,Z)}),Nr&&rm(x,R),E}function y(x,w,b,T){if(typeof b=="object"&&b!==null&&b.type===Zy&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case IE:e:{for(var E=b.key,P=w;P!==null;){if(P.key===E){if(E=b.type,E===Zy){if(P.tag===7){n(x,P.sibling),w=i(P,b.props.children),w.return=x,x=w;break e}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===qf&&T6(E)===P.type){n(x,P.sibling),w=i(P,b.props),w.ref=Ww(x,P,b),w.return=x,x=w;break e}n(x,P);break}else e(x,P);P=P.sibling}b.type===Zy?(w=$m(b.props.children,x.mode,T,b.key),w.return=x,x=w):(T=SM(b.type,b.key,b.props,null,x.mode,T),T.ref=Ww(x,w,b),T.return=x,x=T)}return o(x);case Jy:e:{for(P=b.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=i(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=F2(b,x.mode,T),w.return=x,x=w}return o(x);case qf:return P=b._init,y(x,w,P(b._payload),T)}if(Tb(b))return g(x,w,b,T);if(Fw(b))return v(x,w,b,T);FE(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,b),w.return=x,x=w):(n(x,w),w=O2(b,x.mode,T),w.return=x,x=w),o(x)):n(x,w)}return y}var Q0=LK(!0),DK=LK(!1),dC={},au=Jh(dC),F1=Jh(dC),B1=Jh(dC);function Tm(t){if(t===dC)throw Error(pt(174));return t}function e$(t,e){switch(xr(B1,e),xr(F1,t),xr(au,dC),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iO(e,t)}Mr(au),xr(au,e)}function J0(){Mr(au),Mr(F1),Mr(B1)}function NK(t){Tm(B1.current);var e=Tm(au.current),n=iO(e,t.type);e!==n&&(xr(F1,t),xr(au,n))}function t$(t){F1.current===t&&(Mr(au),Mr(F1))}var zr=Jh(0);function CA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var P2=[];function n$(){for(var t=0;t<P2.length;t++)P2[t]._workInProgressVersionPrimary=null;P2.length=0}var _M=jd.ReactCurrentDispatcher,k2=jd.ReactCurrentBatchConfig,ng=0,Hr=null,Fi=null,is=null,TA=!1,Kb=!1,$1=0,Zhe=0;function Js(){throw Error(pt(321))}function r$(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wc(t[n],e[n]))return!1;return!0}function i$(t,e,n,r,i,s){if(ng=s,Hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_M.current=t===null||t.memoizedState===null?rpe:ipe,t=n(r,i),Kb){s=0;do{if(Kb=!1,$1=0,25<=s)throw Error(pt(301));s+=1,is=Fi=null,e.updateQueue=null,_M.current=spe,t=n(r,i)}while(Kb)}if(_M.current=EA,e=Fi!==null&&Fi.next!==null,ng=0,is=Fi=Hr=null,TA=!1,e)throw Error(pt(300));return t}function s$(){var t=$1!==0;return $1=0,t}function qc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?Hr.memoizedState=is=t:is=is.next=t,is}function Cl(){if(Fi===null){var t=Hr.alternate;t=t!==null?t.memoizedState:null}else t=Fi.next;var e=is===null?Hr.memoizedState:is.next;if(e!==null)is=e,Fi=t;else{if(t===null)throw Error(pt(310));Fi=t,t={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},is===null?Hr.memoizedState=is=t:is=is.next=t}return is}function U1(t,e){return typeof e=="function"?e(t):e}function L2(t){var e=Cl(),n=e.queue;if(n===null)throw Error(pt(311));n.lastRenderedReducer=t;var r=Fi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ng&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Hr.lanes|=u,rg|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,wc(r,e.memoizedState)||(ia=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Hr.lanes|=s,rg|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function D2(t){var e=Cl(),n=e.queue;if(n===null)throw Error(pt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wc(s,e.memoizedState)||(ia=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OK(){}function FK(t,e){var n=Hr,r=Cl(),i=e(),s=!wc(r.memoizedState,i);if(s&&(r.memoizedState=i,ia=!0),r=r.queue,o$(UK.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||is!==null&&is.memoizedState.tag&1){if(n.flags|=2048,z1(9,$K.bind(null,n,r,i,e),void 0,null),Wi===null)throw Error(pt(349));(ng&30)!==0||BK(n,e,i)}return i}function BK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Hr.updateQueue,e===null?(e={lastEffect:null,stores:null},Hr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $K(t,e,n,r){e.value=n,e.getSnapshot=r,zK(e)&&vl(t,1,-1)}function UK(t,e,n){return n(function(){zK(e)&&vl(t,1,-1)})}function zK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wc(t,n)}catch{return!0}}function E6(t){var e=qc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:U1,lastRenderedState:t},e.queue=t,t=t.dispatch=npe.bind(null,Hr,t),[e.memoizedState,t]}function z1(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Hr.updateQueue,e===null?(e={lastEffect:null,stores:null},Hr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VK(){return Cl().memoizedState}function xM(t,e,n,r){var i=qc();Hr.flags|=t,i.memoizedState=z1(1|e,n,void 0,r===void 0?null:r)}function vP(t,e,n,r){var i=Cl();r=r===void 0?null:r;var s=void 0;if(Fi!==null){var o=Fi.memoizedState;if(s=o.destroy,r!==null&&r$(r,o.deps)){i.memoizedState=z1(e,n,s,r);return}}Hr.flags|=t,i.memoizedState=z1(1|e,n,s,r)}function I6(t,e){return xM(8390656,8,t,e)}function o$(t,e){return vP(2048,8,t,e)}function WK(t,e){return vP(4,2,t,e)}function HK(t,e){return vP(4,4,t,e)}function GK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jK(t,e,n){return n=n!=null?n.concat([t]):null,vP(4,4,GK.bind(null,e,t),n)}function a$(){}function qK(t,e){var n=Cl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r$(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KK(t,e){var n=Cl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&r$(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XK(t,e,n){return(ng&21)===0?(t.baseState&&(t.baseState=!1,ia=!0),t.memoizedState=n):(wc(n,e)||(n=tK(),Hr.lanes|=n,rg|=n,t.baseState=!0),e)}function epe(t,e){var n=ar;ar=n!==0&&4>n?n:4,t(!0);var r=k2.transition;k2.transition={};try{t(!1),e()}finally{ar=n,k2.transition=r}}function YK(){return Cl().memoizedState}function tpe(t,e,n){var r=vh(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QK(t)?JK(e,n):(ZK(t,e,n),n=Ro(),t=vl(t,r,n),t!==null&&eX(t,e,r))}function npe(t,e,n){var r=vh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QK(t))JK(e,i);else{ZK(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wc(a,o))return}catch{}finally{}n=Ro(),t=vl(t,r,n),t!==null&&eX(t,e,r)}}function QK(t){var e=t.alternate;return t===Hr||e!==null&&e===Hr}function JK(t,e){Kb=TA=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZK(t,e,n){vX(t)?(t=e.interleaved,t===null?(n.next=n,dc===null?dc=[e]:dc.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function eX(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$B(t,n)}}var EA={readContext:Sl,useCallback:Js,useContext:Js,useEffect:Js,useImperativeHandle:Js,useInsertionEffect:Js,useLayoutEffect:Js,useMemo:Js,useReducer:Js,useRef:Js,useState:Js,useDebugValue:Js,useDeferredValue:Js,useTransition:Js,useMutableSource:Js,useSyncExternalStore:Js,useId:Js,unstable_isNewReconciler:!1},rpe={readContext:Sl,useCallback:function(t,e){return qc().memoizedState=[t,e===void 0?null:e],t},useContext:Sl,useEffect:I6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xM(4194308,4,GK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xM(4194308,4,t,e)},useInsertionEffect:function(t,e){return xM(4,2,t,e)},useMemo:function(t,e){var n=qc();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qc();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=tpe.bind(null,Hr,t),[r.memoizedState,t]},useRef:function(t){var e=qc();return t={current:t},e.memoizedState=t},useState:E6,useDebugValue:a$,useDeferredValue:function(t){return qc().memoizedState=t},useTransition:function(){var t=E6(!1),e=t[0];return t=epe.bind(null,t[1]),qc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Hr,i=qc();if(Nr){if(n===void 0)throw Error(pt(407));n=n()}else{if(n=e(),Wi===null)throw Error(pt(349));(ng&30)!==0||BK(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,I6(UK.bind(null,r,s,t),[t]),r.flags|=2048,z1(9,$K.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=qc(),e=Wi.identifierPrefix;if(Nr){var n=fd,r=dd;n=(r&~(1<<32-vc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$1++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Zhe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ipe={readContext:Sl,useCallback:qK,useContext:Sl,useEffect:o$,useImperativeHandle:jK,useInsertionEffect:WK,useLayoutEffect:HK,useMemo:KK,useReducer:L2,useRef:VK,useState:function(){return L2(U1)},useDebugValue:a$,useDeferredValue:function(t){var e=Cl();return XK(e,Fi.memoizedState,t)},useTransition:function(){var t=L2(U1)[0],e=Cl().memoizedState;return[t,e]},useMutableSource:OK,useSyncExternalStore:FK,useId:YK,unstable_isNewReconciler:!1},spe={readContext:Sl,useCallback:qK,useContext:Sl,useEffect:o$,useImperativeHandle:jK,useInsertionEffect:WK,useLayoutEffect:HK,useMemo:KK,useReducer:D2,useRef:VK,useState:function(){return D2(U1)},useDebugValue:a$,useDeferredValue:function(t){var e=Cl();return Fi===null?e.memoizedState=t:XK(e,Fi.memoizedState,t)},useTransition:function(){var t=D2(U1)[0],e=Cl().memoizedState;return[t,e]},useMutableSource:OK,useSyncExternalStore:FK,useId:YK,unstable_isNewReconciler:!1};function l$(t,e){try{var n="",r=e;do n+=Lfe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function IO(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ope=typeof WeakMap=="function"?WeakMap:Map;function tX(t,e,n){n=wd(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){MA||(MA=!0,OO=r),IO(t,e)},n}function nX(t,e,n){n=wd(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){IO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){IO(t,e),typeof r!="function"&&(gh===null?gh=new Set([this]):gh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function M6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ope;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=_pe.bind(null,t,e,n),e.then(t,t))}function A6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R6(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wd(-1,1),e.tag=2,mh(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var rX,MO,iX,sX;rX=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};MO=function(){};iX=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Tm(au.current);var s=null;switch(n){case"input":i=eO(t,i),r=eO(t,r),s=[];break;case"select":i=Gr({},i,{value:void 0}),r=Gr({},r,{value:void 0}),s=[];break;case"textarea":i=rO(t,i),r=rO(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gA)}sO(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(E1.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(E1.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Cr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sX=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hw(t,e){if(!Nr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zs(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ape(t,e,n){var r=e.pendingProps;switch(JB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(e),null;case 1:return aa(e.type)&&vA(),Zs(e),null;case 3:return r=e.stateNode,J0(),Mr(oa),Mr(co),n$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vw(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,sc!==null&&($O(sc),sc=null))),MO(t,e),Zs(e),null;case 5:t$(e);var i=Tm(B1.current);if(n=e.type,t!==null&&e.stateNode!=null)iX(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pt(166));return Zs(e),null}if(t=Tm(au.current),Vw(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qc]=e,r[O1]=s,t=(e.mode&1)!==0,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(i=0;i<Ib.length;i++)Cr(Ib[i],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":H5(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":j5(r,s),Cr("invalid",r)}sO(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&OE(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&OE(r.textContent,a,t),i=["children",""+a]):E1.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Cr("scroll",r)}switch(n){case"input":ME(r),G5(r,s,!0);break;case"textarea":ME(r),q5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=U7(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qc]=e,t[O1]=r,rX(t,e,!1,!1),e.stateNode=t;e:{switch(o=oO(n,r),n){case"dialog":Cr("cancel",t),Cr("close",t),i=r;break;case"iframe":case"object":case"embed":Cr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ib.length;i++)Cr(Ib[i],t);i=r;break;case"source":Cr("error",t),i=r;break;case"img":case"image":case"link":Cr("error",t),Cr("load",t),i=r;break;case"details":Cr("toggle",t),i=r;break;case"input":H5(t,r),i=eO(t,r),Cr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gr({},r,{value:void 0}),Cr("invalid",t);break;case"textarea":j5(t,r),i=rO(t,r),Cr("invalid",t);break;default:i=r}sO(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?W7(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&z7(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&I1(t,l):typeof l=="number"&&I1(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(E1.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Cr("scroll",t):l!=null&&LB(t,s,l,o))}switch(n){case"input":ME(t),G5(t,r,!1);break;case"textarea":ME(t),q5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?w0(t,!!r.multiple,s,!1):r.defaultValue!=null&&w0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zs(e),null;case 6:if(t&&e.stateNode!=null)sX(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pt(166));if(n=Tm(B1.current),Tm(au.current),Vw(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qc]=e,(s=r.nodeValue!==n)&&(t=Oa,t!==null))switch(t.tag){case 3:OE(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&OE(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qc]=e,e.stateNode=r}return Zs(e),null;case 13:if(Mr(zr),r=e.memoizedState,Nr&&ta!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=ta;r;)r=ud(r.nextSibling);return Y0(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=Vw(e),t===null){if(!r)throw Error(pt(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(pt(317));r[Qc]=e}else Y0(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return Zs(e),null}return sc!==null&&($O(sc),sc=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?Vw(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(zr.current&1)!==0?Vi===0&&(Vi=3):p$())),e.updateQueue!==null&&(e.flags|=4),Zs(e),null);case 4:return J0(),MO(t,e),t===null&&D1(e.stateNode.containerInfo),Zs(e),null;case 10:return XB(e.type._context),Zs(e),null;case 17:return aa(e.type)&&vA(),Zs(e),null;case 19:if(Mr(zr),s=e.memoizedState,s===null)return Zs(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Hw(s,!1);else{if(Vi!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=CA(t),o!==null){for(e.flags|=128,Hw(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xr(zr,zr.current&1|2),e.child}t=t.sibling}s.tail!==null&&ci()>Z0&&(e.flags|=128,r=!0,Hw(s,!1),e.lanes=4194304)}else{if(!r)if(t=CA(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hw(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Nr)return Zs(e),null}else 2*ci()-s.renderingStartTime>Z0&&n!==1073741824&&(e.flags|=128,r=!0,Hw(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ci(),e.sibling=null,n=zr.current,xr(zr,r?n&1|2:n&1),e):(Zs(e),null);case 22:case 23:return h$(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Ia&1073741824)!==0&&(Zs(e),e.subtreeFlags&6&&(e.flags|=8192)):Zs(e),null;case 24:return null;case 25:return null}throw Error(pt(156,e.tag))}var lpe=jd.ReactCurrentOwner,ia=!1;function _o(t,e,n,r){e.child=t===null?DK(e,null,n,r):Q0(e,t.child,n,r)}function P6(t,e,n,r,i){n=n.render;var s=e.ref;return T0(e,i),r=i$(t,e,n,r,s,i),n=s$(),t!==null&&!ia?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rd(t,e,i)):(Nr&&n&&QB(e),e.flags|=1,_o(t,e,r,i),e.child)}function k6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!m$(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oX(t,e,s,r,i)):(t=SM(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:L1,n(o,r)&&t.ref===e.ref)return Rd(t,e,i)}return e.flags|=1,t=Rh(s,r),t.ref=e.ref,t.return=e,e.child=t}function oX(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(L1(s,r)&&t.ref===e.ref)if(ia=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(ia=!0);else return e.lanes=t.lanes,Rd(t,e,i)}return AO(t,e,n,r,i)}function aX(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xr(c0,Ia),Ia|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xr(c0,Ia),Ia|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xr(c0,Ia),Ia|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xr(c0,Ia),Ia|=r;return _o(t,e,i,n),e.child}function lX(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function AO(t,e,n,r,i){var s=aa(n)?eg:co.current;return s=X0(e,s),T0(e,i),n=i$(t,e,n,r,s,i),r=s$(),t!==null&&!ia?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rd(t,e,i)):(Nr&&r&&QB(e),e.flags|=1,_o(t,e,n,i),e.child)}function L6(t,e,n,r,i){if(aa(n)){var s=!0;yA(e)}else s=!1;if(T0(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),RK(e,n,r),CO(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Sl(c):(c=aa(n)?eg:co.current,c=X0(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&b6(e,o,r,c),Kf=!1;var f=e.memoizedState;o.state=f,wA(e,r,o,i),l=e.memoizedState,a!==r||f!==l||oa.current||Kf?(typeof u=="function"&&(SO(e,n,u,r),l=e.memoizedState),(a=Kf||w6(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,MK(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:nc(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sl(l):(l=aa(n)?eg:co.current,l=X0(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&b6(e,o,r,l),Kf=!1,f=e.memoizedState,o.state=f,wA(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||oa.current||Kf?(typeof p=="function"&&(SO(e,n,p,r),g=e.memoizedState),(c=Kf||w6(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return RO(t,e,n,r,s,i)}function RO(t,e,n,r,i,s){lX(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&y6(e,n,!1),Rd(t,e,s);r=e.stateNode,lpe.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Q0(e,t.child,null,s),e.child=Q0(e,null,a,s)):_o(t,e,a,s),e.memoizedState=r.state,i&&y6(e,n,!0),e.child}function cX(t){var e=t.stateNode;e.pendingContext?v6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v6(t,e.context,!1),e$(t,e.containerInfo)}function D6(t,e,n,r,i){return Y0(),ZB(i),e.flags|=256,_o(t,e,n,r),e.child}var BE={dehydrated:null,treeContext:null,retryLane:0};function $E(t){return{baseLanes:t,cachePool:null,transitions:null}}function N6(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function uX(t,e,n){var r=e.pendingProps,i=zr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xr(zr,i&1),t===null)return EO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=PA(i,r,0,null),t=$m(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$E(n),e.memoizedState=BE,t):PO(e,i));if(i=t.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,UE(t,e,n,Error(pt(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=PA({mode:"visible",children:r.children},i,0,null),s=$m(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Q0(e,t.child,null,n),e.child.memoizedState=$E(n),e.memoizedState=BE,s);if((e.mode&1)===0)e=UE(t,e,n,null);else if(a.data==="$!")e=UE(t,e,n,Error(pt(419)));else if(r=(n&t.childLanes)!==0,ia||r){if(r=Wi,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,vl(t,r,-1))}p$(),e=UE(t,e,n,Error(pt(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=xpe.bind(null,t),a._reactRetry=e,e=null):(n=i.treeContext,ta=ud(a.nextSibling),Oa=e,Nr=!0,sc=null,n!==null&&(al[ll++]=dd,al[ll++]=fd,al[ll++]=tg,dd=n.id,fd=n.overflow,tg=e),e=PO(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=F6(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?$E(n):N6(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=BE,r):(n=O6(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=F6(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?$E(n):N6(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=BE,r):(n=O6(t,e,r.children,n),e.memoizedState=null,n)}function PO(t,e){return e=PA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function O6(t,e,n,r){var i=t.child;return t=i.sibling,n=Rh(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function F6(t,e,n,r,i){var s=e.mode;t=t.child;var o=t.sibling,a={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=Rh(t,a),n.subtreeFlags=t.subtreeFlags&14680064),o!==null?r=Rh(o,r):(r=$m(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function UE(t,e,n,r){return r!==null&&ZB(r),Q0(e,t.child,null,n),t=PO(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function B6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bO(t.return,e,n)}function N2(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dX(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_o(t,e,r.children,n),r=zr.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B6(t,n,e);else if(t.tag===19)B6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xr(zr,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&CA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),N2(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&CA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}N2(e,!0,n,null,s);break;case"together":N2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rd(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rg|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(pt(153));if(e.child!==null){for(t=e.child,n=Rh(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rh(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function cpe(t,e,n){switch(e.tag){case 3:cX(e),Y0();break;case 5:NK(e);break;case 1:aa(e.type)&&yA(e);break;case 4:e$(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xr(_A,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xr(zr,zr.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?uX(t,e,n):(xr(zr,zr.current&1),t=Rd(t,e,n),t!==null?t.sibling:null);xr(zr,zr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return dX(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xr(zr,zr.current),r)break;return null;case 22:case 23:return e.lanes=0,aX(t,e,n)}return Rd(t,e,n)}function upe(t,e){switch(JB(e),e.tag){case 1:return aa(e.type)&&vA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return J0(),Mr(oa),Mr(co),n$(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return t$(e),null;case 13:if(Mr(zr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pt(340));Y0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mr(zr),null;case 4:return J0(),null;case 10:return XB(e.type._context),null;case 22:case 23:return h$(),null;case 24:return null;default:return null}}var zE=!1,io=!1,dpe=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function l0(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zr(t,e,r)}else n.current=null}function kO(t,e,n){try{n()}catch(r){Zr(t,e,r)}}var $6=!1;function fpe(t,e){if(gO=hA,t=vK(),jB(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vO={focusedElem:t,selectionRange:n},hA=!1,Bt=e;Bt!==null;)if(e=Bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Bt=t;else for(;Bt!==null;){e=Bt;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,y=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:nc(e.type,v),y);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;if(b.nodeType===1)b.textContent="";else if(b.nodeType===9){var T=b.body;T!=null&&(T.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(pt(163))}}catch(E){Zr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Bt=t;break}Bt=e.return}return g=$6,$6=!1,g}function Xb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&kO(e,n,s)}i=i.next}while(i!==r)}}function yP(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function LO(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fX(t){var e=t.alternate;e!==null&&(t.alternate=null,fX(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qc],delete e[O1],delete e[xO],delete e[Xhe],delete e[Yhe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hX(t){return t.tag===5||t.tag===3||t.tag===4}function U6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hX(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function DO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gA));else if(r!==4&&(t=t.child,t!==null))for(DO(t,e,n),t=t.sibling;t!==null;)DO(t,e,n),t=t.sibling}function NO(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(NO(t,e,n),t=t.sibling;t!==null;)NO(t,e,n),t=t.sibling}var As=null,ic=!1;function Af(t,e,n){for(n=n.child;n!==null;)pX(t,e,n),n=n.sibling}function pX(t,e,n){if(ou&&typeof ou.onCommitFiberUnmount=="function")try{ou.onCommitFiberUnmount(uP,n)}catch{}switch(n.tag){case 5:io||l0(n,e);case 6:var r=As,i=ic;As=null,Af(t,e,n),As=r,ic=i,As!==null&&(ic?(t=As,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):As.removeChild(n.stateNode));break;case 18:As!==null&&(ic?(t=As,n=n.stateNode,t.nodeType===8?A2(t.parentNode,n):t.nodeType===1&&A2(t,n),P1(t)):A2(As,n.stateNode));break;case 4:r=As,i=ic,As=n.stateNode.containerInfo,ic=!0,Af(t,e,n),As=r,ic=i;break;case 0:case 11:case 14:case 15:if(!io&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&kO(n,e,o),i=i.next}while(i!==r)}Af(t,e,n);break;case 1:if(!io&&(l0(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Zr(n,e,a)}Af(t,e,n);break;case 21:Af(t,e,n);break;case 22:n.mode&1?(io=(r=io)||n.memoizedState!==null,Af(t,e,n),io=r):Af(t,e,n);break;default:Af(t,e,n)}}function z6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dpe),e.forEach(function(r){var i=wpe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:As=a.stateNode,ic=!1;break e;case 3:As=a.stateNode.containerInfo,ic=!0;break e;case 4:As=a.stateNode.containerInfo,ic=!0;break e}a=a.return}if(As===null)throw Error(pt(160));pX(s,o,i),As=null,ic=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mX(e,t),e=e.sibling}function mX(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xl(e,t),Hc(t),r&4){try{Xb(3,t,t.return),yP(3,t)}catch(g){Zr(t,t.return,g)}try{Xb(5,t,t.return)}catch(g){Zr(t,t.return,g)}}break;case 1:Xl(e,t),Hc(t),r&512&&n!==null&&l0(n,n.return);break;case 5:if(Xl(e,t),Hc(t),r&512&&n!==null&&l0(n,n.return),t.flags&32){var i=t.stateNode;try{I1(i,"")}catch(g){Zr(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&B7(i,s),oO(a,o);var c=oO(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?W7(i,d):u==="dangerouslySetInnerHTML"?z7(i,d):u==="children"?I1(i,d):LB(i,u,d,c)}switch(a){case"input":tO(i,s);break;case"textarea":$7(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?w0(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?w0(i,!!s.multiple,s.defaultValue,!0):w0(i,!!s.multiple,s.multiple?[]:"",!1))}i[O1]=s}catch(g){Zr(t,t.return,g)}}break;case 6:if(Xl(e,t),Hc(t),r&4){if(t.stateNode===null)throw Error(pt(162));c=t.stateNode,u=t.memoizedProps;try{c.nodeValue=u}catch(g){Zr(t,t.return,g)}}break;case 3:if(Xl(e,t),Hc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{P1(e.containerInfo)}catch(g){Zr(t,t.return,g)}break;case 4:Xl(e,t),Hc(t);break;case 13:Xl(e,t),Hc(t),c=t.child,c.flags&8192&&c.memoizedState!==null&&(c.alternate===null||c.alternate.memoizedState===null)&&(d$=ci()),r&4&&z6(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(io=(u=io)||c,Xl(e,t),io=u):Xl(e,t),Hc(t),r&8192){u=t.memoizedState!==null;e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=V7("display",o))}catch(g){Zr(t,t.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Zr(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}if(u&&!c&&(t.mode&1)!==0)for(Bt=t,t=t.child;t!==null;){for(c=Bt=t;Bt!==null;){switch(u=Bt,d=u.child,u.tag){case 0:case 11:case 14:case 15:Xb(4,u,u.return);break;case 1:if(l0(u,u.return),s=u.stateNode,typeof s.componentWillUnmount=="function"){f=u,p=u.return;try{i=f,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(g){Zr(f,p,g)}}break;case 5:l0(u,u.return);break;case 22:if(u.memoizedState!==null){W6(c);continue}}d!==null?(d.return=u,Bt=d):W6(c)}t=t.sibling}}break;case 19:Xl(e,t),Hc(t),r&4&&z6(t);break;case 21:break;default:Xl(e,t),Hc(t)}}function Hc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hX(n)){var r=n;break e}n=n.return}throw Error(pt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(I1(i,""),r.flags&=-33);var s=U6(t);NO(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=U6(t);DO(t,a,o);break;default:throw Error(pt(161))}}catch(l){Zr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hpe(t,e,n){Bt=t,gX(t)}function gX(t,e,n){for(var r=(t.mode&1)!==0;Bt!==null;){var i=Bt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zE;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||io;a=zE;var c=io;if(zE=o,(io=l)&&!c)for(Bt=i;Bt!==null;)o=Bt,l=o.child,o.tag===22&&o.memoizedState!==null?H6(i):l!==null?(l.return=o,Bt=l):H6(i);for(;s!==null;)Bt=s,gX(s),s=s.sibling;Bt=i,zE=a,io=c}V6(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,Bt=s):V6(t)}}function V6(t){for(;Bt!==null;){var e=Bt;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:io||yP(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!io)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nc(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&x6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}x6(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&P1(d)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(pt(163))}io||e.flags&512&&LO(e)}catch(f){Zr(e,e.return,f)}}if(e===t){Bt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Bt=n;break}Bt=e.return}}function W6(t){for(;Bt!==null;){var e=Bt;if(e===t){Bt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Bt=n;break}Bt=e.return}}function H6(t){for(;Bt!==null;){var e=Bt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yP(4,e)}catch(l){Zr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zr(e,i,l)}}var s=e.return;try{LO(e)}catch(l){Zr(e,s,l)}break;case 5:var o=e.return;try{LO(e)}catch(l){Zr(e,o,l)}}}catch(l){Zr(e,e.return,l)}if(e===t){Bt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Bt=a;break}Bt=e.return}}var ppe=Math.ceil,IA=jd.ReactCurrentDispatcher,c$=jd.ReactCurrentOwner,gl=jd.ReactCurrentBatchConfig,Vn=0,Wi=null,bi=null,Ns=0,Ia=0,c0=Jh(0),Vi=0,V1=null,rg=0,_P=0,u$=0,Yb=null,ea=null,d$=0,Z0=1/0,rd=null,MA=!1,OO=null,gh=null,VE=!1,nh=null,AA=0,Qb=0,FO=null,wM=-1,bM=0;function Ro(){return(Vn&6)!==0?ci():wM!==-1?wM:wM=ci()}function vh(t){return(t.mode&1)===0?1:(Vn&2)!==0&&Ns!==0?Ns&-Ns:Jhe.transition!==null?(bM===0&&(bM=tK()),bM):(t=ar,t!==0||(t=window.event,t=t===void 0?16:lK(t.type)),t)}function vl(t,e,n){if(50<Qb)throw Qb=0,FO=null,Error(pt(185));var r=xP(t,e);return r===null?null:(lC(r,e,n),((Vn&2)===0||r!==Wi)&&(r===Wi&&((Vn&2)===0&&(_P|=e),Vi===4&&Jf(r,Ns)),la(r,n),e===1&&Vn===0&&(t.mode&1)===0&&(Z0=ci()+500,mP&&Zh())),r)}function xP(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function vX(t){return(Wi!==null||dc!==null)&&(t.mode&1)!==0&&(Vn&2)===0}function la(t,e){var n=t.callbackNode;Jfe(t,e);var r=fA(t,t===Wi?Ns:0);if(r===0)n!==null&&Y5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Y5(n),e===1)t.tag===0?Qhe(G6.bind(null,t)):IK(G6.bind(null,t)),qhe(function(){Vn===0&&Zh()}),n=null;else{switch(nK(r)){case 1:n=BB;break;case 4:n=Z7;break;case 16:n=dA;break;case 536870912:n=eK;break;default:n=dA}n=TX(n,yX.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yX(t,e){if(wM=-1,bM=0,(Vn&6)!==0)throw Error(pt(327));var n=t.callbackNode;if(E0()&&t.callbackNode!==n)return null;var r=fA(t,t===Wi?Ns:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=RA(t,r);else{e=r;var i=Vn;Vn|=2;var s=xX();(Wi!==t||Ns!==e)&&(rd=null,Z0=ci()+500,Bm(t,e));do try{vpe();break}catch(a){_X(t,a)}while(1);KB(),IA.current=s,Vn=i,bi!==null?e=0:(Wi=null,Ns=0,e=Vi)}if(e!==0){if(e===2&&(i=dO(t),i!==0&&(r=i,e=BO(t,i))),e===1)throw n=V1,Bm(t,0),Jf(t,r),la(t,ci()),n;if(e===6)Jf(t,r);else{if(i=t.current.alternate,(r&30)===0&&!mpe(i)&&(e=RA(t,r),e===2&&(s=dO(t),s!==0&&(r=s,e=BO(t,s))),e===1))throw n=V1,Bm(t,0),Jf(t,r),la(t,ci()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pt(345));case 2:im(t,ea,rd);break;case 3:if(Jf(t,r),(r&130023424)===r&&(e=d$+500-ci(),10<e)){if(fA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ro(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_O(im.bind(null,t,ea,rd),e);break}im(t,ea,rd);break;case 4:if(Jf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vc(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ci()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ppe(r/1960))-r,10<r){t.timeoutHandle=_O(im.bind(null,t,ea,rd),r);break}im(t,ea,rd);break;case 5:im(t,ea,rd);break;default:throw Error(pt(329))}}}return la(t,ci()),t.callbackNode===n?yX.bind(null,t):null}function BO(t,e){var n=Yb;return t.current.memoizedState.isDehydrated&&(Bm(t,e).flags|=256),t=RA(t,e),t!==2&&(e=ea,ea=n,e!==null&&$O(e)),t}function $O(t){ea===null?ea=t:ea.push.apply(ea,t)}function mpe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wc(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jf(t,e){for(e&=~u$,e&=~_P,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vc(e),r=1<<n;t[n]=-1,e&=~r}}function G6(t){if((Vn&6)!==0)throw Error(pt(327));E0();var e=fA(t,0);if((e&1)===0)return la(t,ci()),null;var n=RA(t,e);if(t.tag!==0&&n===2){var r=dO(t);r!==0&&(e=r,n=BO(t,r))}if(n===1)throw n=V1,Bm(t,0),Jf(t,e),la(t,ci()),n;if(n===6)throw Error(pt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,im(t,ea,rd),la(t,ci()),null}function f$(t,e){var n=Vn;Vn|=1;try{return t(e)}finally{Vn=n,Vn===0&&(Z0=ci()+500,mP&&Zh())}}function ig(t){nh!==null&&nh.tag===0&&(Vn&6)===0&&E0();var e=Vn;Vn|=1;var n=gl.transition,r=ar;try{if(gl.transition=null,ar=1,t)return t()}finally{ar=r,gl.transition=n,Vn=e,(Vn&6)===0&&Zh()}}function h$(){Ia=c0.current,Mr(c0)}function Bm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jhe(n)),bi!==null)for(n=bi.return;n!==null;){var r=n;switch(JB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vA();break;case 3:J0(),Mr(oa),Mr(co),n$();break;case 5:t$(r);break;case 4:J0();break;case 13:Mr(zr);break;case 19:Mr(zr);break;case 10:XB(r.type._context);break;case 22:case 23:h$()}n=n.return}if(Wi=t,bi=t=Rh(t.current,null),Ns=Ia=e,Vi=0,V1=null,u$=_P=rg=0,ea=Yb=null,dc!==null){for(e=0;e<dc.length;e++)if(n=dc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}dc=null}return t}function _X(t,e){do{var n=bi;try{if(KB(),_M.current=EA,TA){for(var r=Hr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}TA=!1}if(ng=0,is=Fi=Hr=null,Kb=!1,$1=0,c$.current=null,n===null||n.return===null){Vi=1,V1=e,bi=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ns,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if((u.mode&1)===0&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=A6(o);if(p!==null){p.flags&=-257,R6(p,o,a,s,e),p.mode&1&&M6(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if((e&1)===0){M6(s,c,e),p$();break e}l=Error(pt(426))}}else if(Nr&&a.mode&1){var y=A6(o);if(y!==null){(y.flags&65536)===0&&(y.flags|=256),R6(y,o,a,s,e),ZB(l);break e}}s=l,Vi!==4&&(Vi=2),Yb===null?Yb=[s]:Yb.push(s),l=l$(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var x=tX(a,l,e);_6(a,x);break e;case 1:s=l;var w=a.type,b=a.stateNode;if((a.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(gh===null||!gh.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var T=nX(a,s,e);_6(a,T);break e}}a=a.return}while(a!==null)}bX(n)}catch(E){e=E,bi===n&&n!==null&&(bi=n=n.return);continue}break}while(1)}function xX(){var t=IA.current;return IA.current=EA,t===null?EA:t}function p$(){(Vi===0||Vi===3||Vi===2)&&(Vi=4),Wi===null||(rg&268435455)===0&&(_P&268435455)===0||Jf(Wi,Ns)}function RA(t,e){var n=Vn;Vn|=2;var r=xX();(Wi!==t||Ns!==e)&&(rd=null,Bm(t,e));do try{gpe();break}catch(i){_X(t,i)}while(1);if(KB(),Vn=n,IA.current=r,bi!==null)throw Error(pt(261));return Wi=null,Ns=0,Vi}function gpe(){for(;bi!==null;)wX(bi)}function vpe(){for(;bi!==null&&!Wfe();)wX(bi)}function wX(t){var e=CX(t.alternate,t,Ia);t.memoizedProps=t.pendingProps,e===null?bX(t):bi=e,c$.current=null}function bX(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=ape(n,e,Ia),n!==null){bi=n;return}}else{if(n=upe(n,e),n!==null){n.flags&=32767,bi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vi=6,bi=null;return}}if(e=e.sibling,e!==null){bi=e;return}bi=e=t}while(e!==null);Vi===0&&(Vi=5)}function im(t,e,n){var r=ar,i=gl.transition;try{gl.transition=null,ar=1,ype(t,e,n,r)}finally{gl.transition=i,ar=r}return null}function ype(t,e,n,r){do E0();while(nh!==null);if((Vn&6)!==0)throw Error(pt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Zfe(t,s),t===Wi&&(bi=Wi=null,Ns=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||VE||(VE=!0,TX(dA,function(){return E0(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=gl.transition,gl.transition=null;var o=ar;ar=1;var a=Vn;Vn|=4,c$.current=null,fpe(t,n),mX(n,t),$he(vO),hA=!!gO,vO=gO=null,t.current=n,hpe(n),Hfe(),Vn=a,ar=o,gl.transition=s}else t.current=n;if(VE&&(VE=!1,nh=t,AA=i),s=t.pendingLanes,s===0&&(gh=null),qfe(n.stateNode),la(t,ci()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(MA)throw MA=!1,t=OO,OO=null,t;return(AA&1)!==0&&t.tag!==0&&E0(),s=t.pendingLanes,(s&1)!==0?t===FO?Qb++:(Qb=0,FO=t):Qb=0,Zh(),null}function E0(){if(nh!==null){var t=nK(AA),e=gl.transition,n=ar;try{if(gl.transition=null,ar=16>t?16:t,nh===null)var r=!1;else{if(t=nh,nh=null,AA=0,(Vn&6)!==0)throw Error(pt(331));var i=Vn;for(Vn|=4,Bt=t.current;Bt!==null;){var s=Bt,o=s.child;if((Bt.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Bt=c;Bt!==null;){var u=Bt;switch(u.tag){case 0:case 11:case 15:Xb(8,u,s)}var d=u.child;if(d!==null)d.return=u,Bt=d;else for(;Bt!==null;){u=Bt;var f=u.sibling,p=u.return;if(fX(u),u===c){Bt=null;break}if(f!==null){f.return=p,Bt=f;break}Bt=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Bt=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Bt=o;else e:for(;Bt!==null;){if(s=Bt,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Xb(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Bt=x;break e}Bt=s.return}}var w=t.current;for(Bt=w;Bt!==null;){o=Bt;var b=o.child;if((o.subtreeFlags&2064)!==0&&b!==null)b.return=o,Bt=b;else e:for(o=w;Bt!==null;){if(a=Bt,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:yP(9,a)}}catch(E){Zr(a,a.return,E)}if(a===o){Bt=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Bt=T;break e}Bt=a.return}}if(Vn=i,Zh(),ou&&typeof ou.onPostCommitFiberRoot=="function")try{ou.onPostCommitFiberRoot(uP,t)}catch{}r=!0}return r}finally{ar=n,gl.transition=e}}return!1}function j6(t,e,n){e=l$(n,e),e=tX(t,e,1),mh(t,e),e=Ro(),t=xP(t,1),t!==null&&(lC(t,1,e),la(t,e))}function Zr(t,e,n){if(t.tag===3)j6(t,t,n);else for(;e!==null;){if(e.tag===3){j6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gh===null||!gh.has(r))){t=l$(n,t),t=nX(e,t,1),mh(e,t),t=Ro(),e=xP(e,1),e!==null&&(lC(e,1,t),la(e,t));break}}e=e.return}}function _pe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ro(),t.pingedLanes|=t.suspendedLanes&n,Wi===t&&(Ns&n)===n&&(Vi===4||Vi===3&&(Ns&130023424)===Ns&&500>ci()-d$?Bm(t,0):u$|=n),la(t,e)}function SX(t,e){e===0&&((t.mode&1)===0?e=1:(e=PE,PE<<=1,(PE&130023424)===0&&(PE=4194304)));var n=Ro();t=xP(t,e),t!==null&&(lC(t,e,n),la(t,n))}function xpe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SX(t,n)}function wpe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pt(314))}r!==null&&r.delete(e),SX(t,n)}var CX;CX=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||oa.current)ia=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return ia=!1,cpe(t,e,n);ia=(t.flags&131072)!==0}else ia=!1,Nr&&(e.flags&1048576)!==0&&PK(e,SA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=X0(e,co.current);T0(e,n),i=i$(null,e,r,t,i,n);var s=s$();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,aa(r)?(s=!0,yA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,YB(e),i.updater=gP,e.stateNode=i,i._reactInternals=e,CO(e,r,t,n),e=RO(null,e,r,!0,s,n)):(e.tag=0,Nr&&s&&QB(e),_o(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Spe(r),t=nc(r,t),i){case 0:e=AO(null,e,r,t,n);break e;case 1:e=L6(null,e,r,t,n);break e;case 11:e=P6(null,e,r,t,n);break e;case 14:e=k6(null,e,r,nc(r.type,t),n);break e}throw Error(pt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nc(r,i),AO(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nc(r,i),L6(t,e,r,i,n);case 3:e:{if(cX(e),t===null)throw Error(pt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,MK(t,e),wA(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(pt(423)),e=D6(t,e,r,n,i);break e}else if(r!==i){i=Error(pt(424)),e=D6(t,e,r,n,i);break e}else for(ta=ud(e.stateNode.containerInfo.firstChild),Oa=e,Nr=!0,sc=null,n=DK(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Y0(),r===i){e=Rd(t,e,n);break e}_o(t,e,r,n)}e=e.child}return e;case 5:return NK(e),t===null&&EO(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yO(r,i)?o=null:s!==null&&yO(r,s)&&(e.flags|=32),lX(t,e),_o(t,e,o,n),e.child;case 6:return t===null&&EO(e),null;case 13:return uX(t,e,n);case 4:return e$(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Q0(e,null,r,n):_o(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nc(r,i),P6(t,e,r,i,n);case 7:return _o(t,e,e.pendingProps,n),e.child;case 8:return _o(t,e,e.pendingProps.children,n),e.child;case 12:return _o(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xr(_A,r._currentValue),r._currentValue=o,s!==null)if(wc(s.value,o)){if(s.children===i.children&&!oa.current){e=Rd(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wd(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bO(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bO(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_o(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,T0(e,n),i=Sl(i),r=r(i),e.flags|=1,_o(t,e,r,n),e.child;case 14:return r=e.type,i=nc(r,e.pendingProps),i=nc(r.type,i),k6(t,e,r,i,n);case 15:return oX(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nc(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,aa(r)?(t=!0,yA(e)):t=!1,T0(e,n),RK(e,r,i),CO(e,r,i,n),RO(null,e,r,!0,t,n);case 19:return dX(t,e,n);case 22:return aX(t,e,n)}throw Error(pt(156,e.tag))};function TX(t,e){return J7(t,e)}function bpe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ul(t,e,n,r){return new bpe(t,e,n,r)}function m$(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Spe(t){if(typeof t=="function")return m$(t)?1:0;if(t!=null){if(t=t.$$typeof,t===NB)return 11;if(t===OB)return 14}return 2}function Rh(t,e){var n=t.alternate;return n===null?(n=ul(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function SM(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")m$(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zy:return $m(n.children,i,s,e);case DB:o=8,i|=8;break;case YN:return t=ul(12,n,e,i|2),t.elementType=YN,t.lanes=s,t;case QN:return t=ul(13,n,e,i),t.elementType=QN,t.lanes=s,t;case JN:return t=ul(19,n,e,i),t.elementType=JN,t.lanes=s,t;case N7:return PA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L7:o=10;break e;case D7:o=9;break e;case NB:o=11;break e;case OB:o=14;break e;case qf:o=16,r=null;break e}throw Error(pt(130,t==null?t:typeof t,""))}return e=ul(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $m(t,e,n,r){return t=ul(7,t,r,e),t.lanes=n,t}function PA(t,e,n,r){return t=ul(22,t,r,e),t.elementType=N7,t.lanes=n,t.stateNode={},t}function O2(t,e,n){return t=ul(6,t,null,e),t.lanes=n,t}function F2(t,e,n){return e=ul(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cpe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y2(0),this.expirationTimes=y2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function g$(t,e,n,r,i,s,o,a,l){return t=new Cpe(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ul(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},YB(s),t}function Tpe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jy,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EX(t){if(!t)return Ah;t=t._reactInternals;e:{if(Wg(t)!==t||t.tag!==1)throw Error(pt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(aa(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pt(171))}if(t.tag===1){var n=t.type;if(aa(n))return EK(t,n,e)}return e}function IX(t,e,n,r,i,s,o,a,l){return t=g$(n,r,!0,t,i,s,o,a,l),t.context=EX(null),n=t.current,r=Ro(),i=vh(n),s=wd(r,i),s.callback=e!=null?e:null,mh(n,s),t.current.lanes=i,lC(t,i,r),la(t,r),t}function wP(t,e,n,r){var i=e.current,s=Ro(),o=vh(i);return n=EX(n),e.context===null?e.context=n:e.pendingContext=n,e=wd(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),mh(i,e),t=vl(i,o,s),t!==null&&yM(t,i,o),o}function kA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function q6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function v$(t,e){q6(t,e),(t=t.alternate)&&q6(t,e)}function Epe(){return null}var MX=typeof reportError=="function"?reportError:function(t){console.error(t)};function y$(t){this._internalRoot=t}bP.prototype.render=y$.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pt(409));wP(t,e,null,null)};bP.prototype.unmount=y$.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ig(function(){wP(null,t,null,null)}),e[Ad]=null}};function bP(t){this._internalRoot=t}bP.prototype.unstable_scheduleHydration=function(t){if(t){var e=sK();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qf.length&&e!==0&&e<Qf[n].priority;n++);Qf.splice(n,0,t),n===0&&aK(t)}};function _$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function SP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function K6(){}function Ipe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=kA(o);s.call(c)}}var o=IX(e,r,t,0,null,!1,!1,"",K6);return t._reactRootContainer=o,t[Ad]=o.current,D1(t.nodeType===8?t.parentNode:t),ig(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=kA(l);a.call(c)}}var l=g$(t,0,!1,null,null,!1,!1,"",K6);return t._reactRootContainer=l,t[Ad]=l.current,D1(t.nodeType===8?t.parentNode:t),ig(function(){wP(e,l,n,r)}),l}function CP(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=kA(o);a.call(l)}}wP(e,o,t,i)}else o=Ipe(n,e,t,i,r);return kA(o)}rK=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eb(e.pendingLanes);n!==0&&($B(e,n|1),la(e,ci()),(Vn&6)===0&&(Z0=ci()+500,Zh()))}break;case 13:var r=Ro();ig(function(){return vl(t,1,r)}),v$(t,1)}};UB=function(t){if(t.tag===13){var e=Ro();vl(t,134217728,e),v$(t,134217728)}};iK=function(t){if(t.tag===13){var e=Ro(),n=vh(t);vl(t,n,e),v$(t,n)}};sK=function(){return ar};oK=function(t,e){var n=ar;try{return ar=t,e()}finally{ar=n}};lO=function(t,e,n){switch(e){case"input":if(tO(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=pP(r);if(!i)throw Error(pt(90));F7(r),tO(r,i)}}}break;case"textarea":$7(t,n);break;case"select":e=n.value,e!=null&&w0(t,!!n.multiple,e,!1)}};j7=f$;q7=ig;var Mpe={usingClientEntryPoint:!1,Events:[uC,r0,pP,H7,G7,f$]},Gw={findFiberByHostInstance:Cm,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},Ape={bundleType:Gw.bundleType,version:Gw.version,rendererPackageName:Gw.rendererPackageName,rendererConfig:Gw.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y7(t),t===null?null:t.stateNode},findFiberByHostInstance:Gw.findFiberByHostInstance||Epe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var WE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!WE.isDisabled&&WE.supportsFiber)try{uP=WE.inject(Ape),ou=WE}catch{}}Ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mpe;Ga.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_$(e))throw Error(pt(200));return Tpe(t,e,null,n)};Ga.createRoot=function(t,e){if(!_$(t))throw Error(pt(299));var n=!1,r="",i=MX;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=g$(t,1,!1,null,null,n,!1,r,i),t[Ad]=e.current,D1(t.nodeType===8?t.parentNode:t),new y$(e)};Ga.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pt(188)):(t=Object.keys(t).join(","),Error(pt(268,t)));return t=Y7(e),t=t===null?null:t.stateNode,t};Ga.flushSync=function(t){return ig(t)};Ga.hydrate=function(t,e,n){if(!SP(e))throw Error(pt(200));return CP(null,t,e,!0,n)};Ga.hydrateRoot=function(t,e,n){if(!_$(t))throw Error(pt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=MX;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IX(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Ad]=e.current,D1(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bP(e)};Ga.render=function(t,e,n){if(!SP(e))throw Error(pt(200));return CP(null,t,e,!1,n)};Ga.unmountComponentAtNode=function(t){if(!SP(t))throw Error(pt(40));return t._reactRootContainer?(ig(function(){CP(null,null,t,!1,function(){t._reactRootContainer=null,t[Ad]=null})}),!0):!1};Ga.unstable_batchedUpdates=f$;Ga.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!SP(n))throw Error(pt(200));if(t==null||t._reactInternals===void 0)throw Error(pt(38));return CP(t,e,n,!1,r)};Ga.version="18.1.0-next-22edb9f77-20220426";function AX(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AX)}catch(t){console.error(t)}}AX(),cP.exports=Ga;var B2=cP.exports,X6=cP.exports;KN.createRoot=X6.createRoot,KN.hydrateRoot=X6.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RX={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt=function(t,e){if(!t)throw J_(e)},J_=function(t){return new Error("Firebase Database ("+RX.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PX=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rpe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PX(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rpe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw Error();const f=s<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kX=function(t){const e=PX(t);return TP.encodeByteArray(e,!0)},LA=function(t){return kX(t).replace(/\./g,"")},UO=function(t){try{return TP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ppe(t){return W1(void 0,t)}function W1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!kpe(n)||(t[n]=W1(t[n],e[n]));return t}function kpe(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[LA(JSON.stringify(n)),LA(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EP(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function w$(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Lpe(){return typeof self=="object"&&self.self===self}function fC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dpe(){return kr().indexOf("Electron/")>=0}function b$(){const t=kr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Npe(){return kr().indexOf("MSAppHost/")>=0}function LX(){return RX.NODE_ADMIN===!0}function Ope(){return!w$()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ha(){return typeof indexedDB=="object"}function pC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function IP(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}function Fpe(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bpe="FirebaseError";class hi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bpe,Object.setPrototypeOf(this,hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$pe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hi(i,a,r)}}function $pe(t,e){return t.replace(Upe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Upe=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){return JSON.parse(t)}function zi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=H1(UO(s[0])||""),n=H1(UO(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},zpe=function(t){const e=S$(t).claims;return typeof e=="object"&&e.hasOwnProperty("iat")?e.iat:null},Vpe=function(t){const e=S$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Wpe=function(t){const e=S$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function sg(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function DA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function NA(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function zO(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Y6(s)&&Y6(o)){if(!zO(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Y6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function u0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Mb(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hpe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function DX(t,e){const n=new Gpe(t,e);return n.subscribe.bind(n)}class Gpe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jpe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$2),i.error===void 0&&(i.error=$2),i.complete===void 0&&(i.complete=$2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jpe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $2(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=function(t,e,n,r){let i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){const s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function ca(t,e){return`${t} failed: ${e} argument `}function ss(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(ca(t,e)+"must be a valid function.")}function Q6(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(ca(t,e)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qpe=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,wt(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MP=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kpe=1e3,Xpe=2,Ype=4*60*60*1e3,Qpe=.5;function OA(t,e=Kpe,n=Xpe){const r=e*Math.pow(n,t),i=Math.round(Qpe*r*(Math.random()-.5)*2);return Math.min(Ype,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;r(`${e}: ${(s=i.target.error)===null||s===void 0?void 0:s.message}`)}})}class J6{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n="readonly"){return new NX(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new OX(this._db.createObjectStore(e,n))}close(){this._db.close()}}class NX{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new OX(this._transaction.objectStore(e))}}class OX{constructor(e){this._store=e}index(e){return new Z6(this._store.index(e))}createIndex(e,n,r){return new Z6(this._store.createIndex(e,n,r))}get(e){const n=this._store.get(e);return Ab(n,"Error reading from IndexedDB")}put(e,n){const r=this._store.put(e,n);return Ab(r,"Error writing to IndexedDB")}delete(e){const n=this._store.delete(e);return Ab(n,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return Ab(e,"Error clearing IndexedDB object store")}}class Z6{constructor(e){this._index=e}get(e){const n=this._index.get(e);return Ab(n,"Error reading from IndexedDB")}}function Z_(t,e,n){return new Promise((r,i)=>{try{const s=indexedDB.open(t,e);s.onsuccess=o=>{r(new J6(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},s.onupgradeneeded=o=>{n(new J6(s.result),o.oldVersion,o.newVersion,new NX(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}async function I0(t){return new Promise((e,n)=>{try{const r=indexedDB.deleteDatabase(t);r.onsuccess=()=>{e()},r.onerror=i=>{var s;n(`Error deleting indexedDB database "${t}": ${(s=i.target.error)===null||s===void 0?void 0:s.message}`)}}catch(r){n(`Error deleting indexedDB database "${t}": ${r.message}`)}})}class Gn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FX{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ui;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zpe(e))try{this.getOrInitializeService({instanceIdentifier:sm})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=sm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sm){return this.instances.has(e)}getOptions(e=sm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Jpe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=sm){return this.component?this.component.multipleInstances?e:sm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Jpe(t){return t===sm?void 0:t}function Zpe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=[];var wn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wn||(wn={}));const $X={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},eme=wn.INFO,tme={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},nme=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tme[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pu{constructor(e){this.name=e,this._logLevel=eme,this._logHandler=nme,this._userLogHandler=null,C$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$X[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}function rme(t){C$.forEach(e=>{e.setLogLevel(t)})}function ime(t,e){for(const n of C$){let r=null;e&&e.level&&(r=$X[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:wn[s].toLowerCase(),message:a,args:o,type:i.name})}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sme{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ome(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ome(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const VO="@firebase/app",eW="0.7.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=new Pu("@firebase/app"),ame="@firebase/app-compat",lme="@firebase/analytics-compat",cme="@firebase/analytics",ume="@firebase/app-check-compat",dme="@firebase/app-check",fme="@firebase/auth",hme="@firebase/auth-compat",pme="@firebase/database",mme="@firebase/database-compat",gme="@firebase/functions",vme="@firebase/functions-compat",yme="@firebase/installations",_me="@firebase/installations-compat",xme="@firebase/messaging",wme="@firebase/messaging-compat",bme="@firebase/performance",Sme="@firebase/performance-compat",Cme="@firebase/remote-config",Tme="@firebase/remote-config-compat",Eme="@firebase/storage",Ime="@firebase/storage-compat",Mme="@firebase/firestore",Ame="@firebase/firestore-compat",Rme="firebase",Pme="9.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",kme={[VO]:"fire-core",[ame]:"fire-core-compat",[cme]:"fire-analytics",[lme]:"fire-analytics-compat",[dme]:"fire-app-check",[ume]:"fire-app-check-compat",[fme]:"fire-auth",[hme]:"fire-auth-compat",[pme]:"fire-rtdb",[mme]:"fire-rtdb-compat",[gme]:"fire-fn",[vme]:"fire-fn-compat",[yme]:"fire-iid",[_me]:"fire-iid-compat",[xme]:"fire-fcm",[wme]:"fire-fcm-compat",[bme]:"fire-perf",[Sme]:"fire-perf-compat",[Cme]:"fire-rc",[Tme]:"fire-rc-compat",[Eme]:"fire-gcs",[Ime]:"fire-gcs-compat",[Mme]:"fire-fst",[Ame]:"fire-fst-compat","fire-js":"fire-js",[Rme]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Map,G1=new Map;function FA(t,e){try{t.container.addComponent(e)}catch(n){T$.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function UX(t,e){t.container.addOrOverwriteComponent(e)}function ti(t){const e=t.name;if(G1.has(e))return T$.debug(`There were multiple attempts to register component ${e}.`),!1;G1.set(e,t);for(const n of Ph.values())FA(n,t);return!0}function ep(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lme(t,e,n=og){ep(t,e).clearInstance(n)}function Dme(){G1.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nme={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},kh=new $o("app","Firebase",Nme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ome{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=Pme;function E$(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw kh.create("bad-app-name",{appName:String(r)});const i=Ph.get(r);if(i){if(zO(t,i.options)&&zO(n,i.config))return i;throw kh.create("duplicate-app",{appName:r})}const s=new BX(r);for(const a of G1.values())s.addComponent(a);const o=new Ome(t,n,s);return Ph.set(r,o),o}function I$(t=og){const e=Ph.get(t);if(!e)throw kh.create("no-app",{appName:t});return e}function Fme(){return Array.from(Ph.values())}async function zX(t){const e=t.name;Ph.has(e)&&(Ph.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function dr(t,e,n){var r;let i=(r=kme[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),T$.warn(a.join(" "));return}ti(new Gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function VX(t,e){if(t!==null&&typeof t!="function")throw kh.create("invalid-log-argument");ime(t,e)}function WX(t){rme(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bme="firebase-heartbeat-database",$me=1,j1="firebase-heartbeat-store";let U2=null;function HX(){return U2||(U2=Z_(Bme,$me,(t,e)=>{switch(e){case 0:t.createObjectStore(j1)}}).catch(t=>{throw kh.create("storage-open",{originalErrorMessage:t.message})})),U2}async function Ume(t){try{return(await HX()).transaction(j1).objectStore(j1).get(GX(t))}catch(e){throw kh.create("storage-get",{originalErrorMessage:e.message})}}async function tW(t,e){try{const r=(await HX()).transaction(j1,"readwrite");return await r.objectStore(j1).put(e,GX(t)),r.complete}catch(n){throw kh.create("storage-set",{originalErrorMessage:n.message})}}function GX(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zme=1024,Vme=30*24*60*60*1e3;class Wme{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gme(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nW();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Vme}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nW(),{heartbeatsToSend:n,unsentEntries:r}=Hme(this._heartbeatsCache.heartbeats),i=LA(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function nW(){return new Date().toISOString().substring(0,10)}function Hme(t,e=zme){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),rW(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rW(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gme{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ha()?pC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Ume(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tW(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tW(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rW(t){return LA(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jme(t){ti(new Gn("platform-logger",e=>new sme(e),"PRIVATE")),ti(new Gn("heartbeat",e=>new Wme(e),"PRIVATE")),dr(VO,eW,t),dr(VO,eW,"esm2017"),dr("fire-js","")}jme("");var qme=Object.freeze(Object.defineProperty({__proto__:null,SDK_VERSION:ku,_DEFAULT_ENTRY_NAME:og,_addComponent:FA,_addOrOverwriteComponent:UX,_apps:Ph,_clearComponents:Dme,_components:G1,_getProvider:ep,_registerComponent:ti,_removeServiceInstance:Lme,deleteApp:zX,getApp:I$,getApps:Fme,initializeApp:E$,onLog:VX,registerVersion:dr,setLogLevel:WX,FirebaseError:hi},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX="firebasestorage.googleapis.com",qX="storageBucket",Kme=2*60*1e3,Xme=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends hi{constructor(e,n){super(z2(e),`Firebase Storage: ${n} (${z2(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}_codeEquals(e){return z2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function z2(t){return"storage/"+t}function M$(){const t="An unknown error occurred, please check the error payload for server response.";return new ii("unknown",t)}function Yme(t){return new ii("object-not-found","Object '"+t+"' does not exist.")}function Qme(t){return new ii("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Jme(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ii("unauthenticated",t)}function Zme(){return new ii("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function ege(t){return new ii("unauthorized","User does not have permission to access '"+t+"'.")}function tge(){return new ii("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function KX(){return new ii("canceled","User canceled the upload/download.")}function nge(t){return new ii("invalid-url","Invalid URL '"+t+"'.")}function rge(t){return new ii("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function ige(){return new ii("no-default-bucket","No default bucket found. Did you set the '"+qX+"' property when initializing the app?")}function XX(){return new ii("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function sge(){return new ii("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function oge(){return new ii("no-download-url","The given file does not have any download URLs.")}function M0(t){return new ii("invalid-argument",t)}function YX(){return new ii("app-deleted","The Firebase app was deleted.")}function QX(t){return new ii("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Jb(t,e){return new ii("invalid-format","String does not match format '"+t+"': "+e)}function jw(t){throw new ii("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=oo.makeFromUrl(e,n)}catch{return new oo(e,"")}if(r.path==="")return r;throw rge(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},v=n===jX?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",x=new RegExp(`^https?://${v}/${i}/${y}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<b.length;T++){const E=b[T],P=E.regex.exec(e);if(P){const L=P[E.indices.bucket];let R=P[E.indices.path];R||(R=""),r=new oo(L,R),E.postModify(r);break}}if(r==null)throw nge(e);return r}}class age{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lge(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(p,l())},y)}function f(){s&&clearTimeout(s)}function p(y,...x){if(c){f();return}if(y){f(),u.call(null,y,...x);return}if(l()||o){f(),u.call(null,y,...x);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let g=!1;function v(y){g||(g=!0,f(),!c&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function cge(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uge(t){return t!==void 0}function dge(t){return typeof t=="function"}function fge(t){return typeof t=="object"&&!Array.isArray(t)}function AP(t){return typeof t=="string"||t instanceof String}function iW(t){return A$()&&t instanceof Blob}function A$(){return typeof Blob!="undefined"}function WO(t,e,n,r){if(r<e)throw M0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw M0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function JX(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Um;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Um||(Um={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hge{constructor(e,n,r,i,s,o,a,l,c,u,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new HE(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Um.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const u=s.getErrorCode()===Um.ABORT;r(!1,new HE(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new HE(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uge(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=M$();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?YX():KX();o(l)}else{const l=tge();o(l)}};this.canceled_?n(!1,new HE(!1,null,!0)):this.backoffId_=lge(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&cge(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class HE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function pge(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mge(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function gge(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vge(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yge(t,e,n,r,i,s){const o=JX(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return gge(l,e),pge(l,n),mge(l,s),vge(l,r),new hge(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ge(){return typeof BlobBuilder!="undefined"?BlobBuilder:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:void 0}function xge(...t){const e=_ge();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(A$())return new Blob(t);throw new ii("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function wge(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bge(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class V2{constructor(e,n){this.data=e,this.contentType=n||null}}function ZX(t,e){switch(t){case dl.RAW:return new V2(eY(e));case dl.BASE64:case dl.BASE64URL:return new V2(tY(t,e));case dl.DATA_URL:return new V2(Cge(e),Tge(e))}throw M$()}function eY(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Sge(t){let e;try{e=decodeURIComponent(t)}catch{throw Jb(dl.DATA_URL,"Malformed data URL.")}return eY(e)}function tY(t,e){switch(t){case dl.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Jb(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case dl.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Jb(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bge(e)}catch{throw Jb(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nY{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Jb(dl.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Ege(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Cge(t){const e=new nY(t);return e.base64?tY(dl.BASE64,e.rest):Sge(e.rest)}function Tge(t){return new nY(t).contentType}function Ege(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){let r=0,i="";iW(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(iW(this.data_)){const r=this.data_,i=wge(r,e,n);return i===null?null:new Jc(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Jc(r,!0)}}static getBlob(...e){if(A$()){const n=e.map(r=>r instanceof Jc?r.data_:r);return new Jc(xge.apply(null,n))}else{const n=e.map(o=>AP(o)?ZX(dl.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Jc(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){let e;try{e=JSON.parse(t)}catch{return null}return fge(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ige(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Mge(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Age(t,e){return e}class vo{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Age}}let GE=null;function Rge(t){return!AP(t)||t.length<2?t:rY(t)}function mC(){if(GE)return GE;const t=[];t.push(new vo("bucket")),t.push(new vo("generation")),t.push(new vo("metageneration")),t.push(new vo("name","fullPath",!0));function e(s,o){return Rge(o)}const n=new vo("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vo("size");return i.xform=r,t.push(i),t.push(new vo("timeCreated")),t.push(new vo("updated")),t.push(new vo("md5Hash",null,!0)),t.push(new vo("cacheControl",null,!0)),t.push(new vo("contentDisposition",null,!0)),t.push(new vo("contentEncoding",null,!0)),t.push(new vo("contentLanguage",null,!0)),t.push(new vo("contentType",null,!0)),t.push(new vo("metadata","customMetadata",!0)),GE=t,GE}function Pge(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new oo(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function kge(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Pge(r,t),r}function iY(t,e,n){const r=R$(e);return r===null?null:kge(t,r,n)}function Lge(t,e,n,r){const i=R$(e);if(i===null||!AP(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=tp(f,n,r),g=JX({alt:"media",token:c});return p+g})[0]}function P$(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW="prefixes",oW="items";function Dge(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[sW])for(const i of n[sW]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new oo(e,s));r.prefixes.push(o)}if(n[oW])for(const i of n[oW]){const s=t._makeStorageReference(new oo(e,i.name));r.items.push(s)}return r}function Nge(t,e,n){const r=R$(n);return r===null?null:Dge(t,e,r)}class qd{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){if(!t)throw M$()}function RP(t,e){function n(r,i){const s=iY(t,i,e);return lu(s!==null),s}return n}function Oge(t,e){function n(r,i){const s=Nge(t,e,i);return lu(s!==null),s}return n}function Fge(t,e){function n(r,i){const s=iY(t,i,e);return lu(s!==null),Lge(s,i,t.host,t._protocol)}return n}function ex(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Zme():i=Jme():n.getStatus()===402?i=Qme(t.bucket):n.getStatus()===403?i=ege(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function PP(t){const e=ex(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Yme(t.path)),s.serverResponse=i.serverResponse,s}return n}function sY(t,e,n){const r=e.fullServerUrl(),i=tp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new qd(i,s,RP(t,n),o);return a.errorHandler=PP(e),a}function Bge(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=tp(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,u=new qd(a,l,Oge(t,e.bucket),c);return u.urlParams=s,u.errorHandler=ex(e),u}function $ge(t,e,n){const r=e.fullServerUrl(),i=tp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new qd(i,s,Fge(t,n),o);return a.errorHandler=PP(e),a}function Uge(t,e,n,r){const i=e.fullServerUrl(),s=tp(i,t.host,t._protocol),o="PATCH",a=P$(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,u=new qd(s,o,RP(t,r),c);return u.headers=l,u.body=a,u.errorHandler=PP(e),u}function zge(t,e){const n=e.fullServerUrl(),r=tp(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new qd(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=PP(e),a}function Vge(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function oY(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Vge(null,e)),r}function aY(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=oY(e,r,i),u=P$(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Jc.getBlob(d,r,f);if(p===null)throw XX();const g={name:c.fullPath},v=tp(s,t.host,t._protocol),y="POST",x=t.maxUploadRetryTime,w=new qd(v,y,RP(t,n),x);return w.urlParams=g,w.headers=o,w.body=p.uploadData(),w.errorHandler=ex(e),w}class BA{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function k$(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{lu(!1)}return lu(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Wge(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=oY(e,r,i),a={name:o.fullPath},l=tp(s,t.host,t._protocol),c="POST",u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=P$(o,n),f=t.maxUploadRetryTime;function p(v){k$(v);let y;try{y=v.getResponseHeader("X-Goog-Upload-URL")}catch{lu(!1)}return lu(AP(y)),y}const g=new qd(l,c,p,f);return g.urlParams=a,g.headers=u,g.body=d,g.errorHandler=ex(e),g}function Hge(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const u=k$(c,["active","final"]);let d=null;try{d=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{lu(!1)}d||lu(!1);const f=Number(d);return lu(!isNaN(f)),new BA(f,r.size(),u==="final")}const o="POST",a=t.maxUploadRetryTime,l=new qd(n,o,s,a);return l.headers=i,l.errorHandler=ex(e),l}const aW=256*1024;function Gge(t,e,n,r,i,s,o,a){const l=new BA(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw sge();const c=l.total-l.current;let u=c;i>0&&(u=Math.min(u,i));const d=l.current,f=d+u,g={"X-Goog-Upload-Command":u===c?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,f);if(v===null)throw XX();function y(T,E){const P=k$(T,["active","final"]),L=l.current+u,R=r.size();let F;return P==="final"?F=RP(e,s)(T,E):F=null,new BA(L,R,P==="final",F)}const x="POST",w=e.maxUploadRetryTime,b=new qd(n,x,y,w);return b.headers=g,b.body=v.uploadData(),b.progressCallback=a||null,b.errorHandler=ex(t),b}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jge={STATE_CHANGED:"state_changed"},wo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function W2(t){switch(t){case"running":case"pausing":case"canceling":return wo.RUNNING;case"paused":return wo.PAUSED;case"success":return wo.SUCCESS;case"canceled":return wo.CANCELED;case"error":return wo.ERROR;default:return wo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qge{constructor(e,n,r){if(dge(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class Kge{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Um.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Um.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Um.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw jw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Xge extends Kge{initXhr(){this.xhr_.responseType="text"}}function lc(){return new Xge}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=mC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Wge(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,lc,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Hge(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,lc,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=aW*this._chunkMultiplier,n=new BA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Gge(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,lc,i,s);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){aW*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=sY(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,lc,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=aY(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,lc,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=KX(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=W2(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new qge(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(W2(this._state)){case wo.SUCCESS:fy(this._resolve.bind(null,this.snapshot))();break;case wo.CANCELED:case wo.ERROR:const n=this._reject;fy(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(W2(this._state)){case wo.RUNNING:case wo.PAUSED:e.next&&fy(e.next.bind(e,this.snapshot))();break;case wo.SUCCESS:e.complete&&fy(e.complete.bind(e))();break;case wo.CANCELED:case wo.ERROR:e.error&&fy(e.error.bind(e,this._error))();break;default:e.error&&fy(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){this._service=e,n instanceof oo?this._location=n:this._location=oo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ag(e,n)}get root(){const e=new oo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rY(this._location.path)}get storage(){return this._service}get parent(){const e=Ige(this._location.path);if(e===null)return null;const n=new oo(this._location.bucket,e);return new ag(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw QX(e)}}function Yge(t,e,n){t._throwIfRoot("uploadBytes");const r=aY(t.storage,t._location,mC(),new Jc(e,!0),n);return t.storage.makeRequestWithTokens(r,lc).then(i=>({metadata:i,ref:t}))}function Qge(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new lY(t,new Jc(e),n)}function Jge(t){const e={prefixes:[],items:[]};return cY(t,e).then(()=>e)}async function cY(t,e,n){const i=await uY(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await cY(t,e,i.nextPageToken)}function uY(t,e){e!=null&&typeof e.maxResults=="number"&&WO("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=Bge(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,lc)}function Zge(t){t._throwIfRoot("getMetadata");const e=sY(t.storage,t._location,mC());return t.storage.makeRequestWithTokens(e,lc)}function eve(t,e){t._throwIfRoot("updateMetadata");const n=Uge(t.storage,t._location,e,mC());return t.storage.makeRequestWithTokens(n,lc)}function tve(t){t._throwIfRoot("getDownloadURL");const e=$ge(t.storage,t._location,mC());return t.storage.makeRequestWithTokens(e,lc).then(n=>{if(n===null)throw oge();return n})}function nve(t){t._throwIfRoot("deleteObject");const e=zge(t.storage,t._location);return t.storage.makeRequestWithTokens(e,lc)}function dY(t,e){const n=Mge(t._location.path,e),r=new oo(t._location.bucket,n);return new ag(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rve(t){return/^[A-Za-z]+:\/\//.test(t)}function ive(t,e){return new ag(t,e)}function fY(t,e){if(t instanceof L$){const n=t;if(n._bucket==null)throw ige();const r=new ag(n,n._bucket);return e!=null?fY(r,e):r}else return e!==void 0?dY(t,e):t}function sve(t,e){if(e&&rve(e)){if(t instanceof L$)return ive(t,e);throw M0("To use ref(service, url), the first argument must be a Storage instance.")}else return fY(t,e)}function lW(t,e){const n=e==null?void 0:e[qX];return n==null?null:oo.makeFromBucketSpec(n,t)}function ove(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:x$(i,t.app.options.projectId))}class L${constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kme,this._maxUploadRetryTime=Xme,this._requests=new Set,i!=null?this._bucket=oo.makeFromBucketSpec(i,this._host):this._bucket=lW(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=oo.makeFromBucketSpec(this._url,e):this._bucket=lW(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){WO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){WO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ag(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new age(YX());{const s=yge(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const cW="@firebase/storage",uW="0.9.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY="storage";function ave(t,e,n){return t=ft(t),Yge(t,e,n)}function lve(t,e,n){return t=ft(t),Qge(t,e,n)}function cve(t){return t=ft(t),Zge(t)}function uve(t,e){return t=ft(t),eve(t,e)}function dve(t,e){return t=ft(t),uY(t,e)}function pY(t){return t=ft(t),Jge(t)}function mY(t){return t=ft(t),tve(t)}function gY(t){return t=ft(t),nve(t)}function A0(t,e){return t=ft(t),sve(t,e)}function fve(t,e){return dY(t,e)}function vY(t=I$(),e){return t=ft(t),ep(t,hY).getImmediate({identifier:e})}function hve(t,e,n,r={}){ove(t,e,n,r)}function pve(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new L$(n,r,i,e,ku)}function mve(){ti(new Gn(hY,pve,"PUBLIC").setMultipleInstances(!0)),dr(cW,uW,""),dr(cW,uW,"esm2017")}mve();const gve={black:"#000",white:"#fff"};var e_=gve;const vve={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};var om=vve;const yve={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};var _ve=yve;const xve={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"};var am=xve;const wve={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"};var bve=wve;const Sve={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};var Cve=Sve;const Tve={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};var lm=Tve;const Eve={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"};var cm=Eve;const Ive={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"};var Mve=Ive;const Ave={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"};var Rve=Ave;const Pve={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var um=Pve;const kve={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"};var Lve=kve;const Dve={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"};var Nve=Dve;const Ove={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"};var Fve=Ove;const Bve={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"};var $ve=Bve;const Uve={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var Vy=Uve;const zve={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"};var Vve=zve;const Wve={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"};var Hve=Wve;const Gve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};var yY=Gve;const jve={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"};var qve=jve,Kve=Object.freeze(Object.defineProperty({__proto__:null,common:e_,red:om,pink:_ve,purple:am,deepPurple:bve,indigo:Cve,blue:lm,lightBlue:cm,cyan:Mve,teal:Rve,green:um,lightGreen:Lve,lime:Nve,yellow:Fve,amber:$ve,orange:Vy,deepOrange:Vve,brown:Hve,grey:yY,blueGrey:qve},Symbol.toStringTag,{value:"Module"}));function A(){return A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A.apply(this,arguments)}function ke(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _Y(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Xve=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Yve=_Y(function(t){return Xve.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Qve(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Jve(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Zve=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Jve(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Qve(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),eo="-ms-",$A="-moz-",Jn="-webkit-",xY="comm",D$="rule",N$="decl",eye="@import",wY="@keyframes",tye=Math.abs,kP=String.fromCharCode,nye=Object.assign;function rye(t,e){return(((e<<2^Zo(t,0))<<2^Zo(t,1))<<2^Zo(t,2))<<2^Zo(t,3)}function bY(t){return t.trim()}function iye(t,e){return(t=e.exec(t))?t[0]:t}function tr(t,e,n){return t.replace(e,n)}function HO(t,e){return t.indexOf(e)}function Zo(t,e){return t.charCodeAt(e)|0}function q1(t,e,n){return t.slice(e,n)}function Xc(t){return t.length}function O$(t){return t.length}function jE(t,e){return e.push(t),t}function sye(t,e){return t.map(e).join("")}var LP=1,t_=1,SY=0,pa=0,xi=0,tx="";function DP(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:LP,column:t_,length:o,return:""}}function qw(t,e){return nye(DP("",null,null,"",null,null,0),t,{length:-t.length},e)}function oye(){return xi}function aye(){return xi=pa>0?Zo(tx,--pa):0,t_--,xi===10&&(t_=1,LP--),xi}function Fa(){return xi=pa<SY?Zo(tx,pa++):0,t_++,xi===10&&(t_=1,LP++),xi}function cu(){return Zo(tx,pa)}function CM(){return pa}function gC(t,e){return q1(tx,t,e)}function K1(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CY(t){return LP=t_=1,SY=Xc(tx=t),pa=0,[]}function TY(t){return tx="",t}function TM(t){return bY(gC(pa-1,GO(t===91?t+2:t===40?t+1:t)))}function lye(t){for(;(xi=cu())&&xi<33;)Fa();return K1(t)>2||K1(xi)>3?"":" "}function cye(t,e){for(;--e&&Fa()&&!(xi<48||xi>102||xi>57&&xi<65||xi>70&&xi<97););return gC(t,CM()+(e<6&&cu()==32&&Fa()==32))}function GO(t){for(;Fa();)switch(xi){case t:return pa;case 34:case 39:t!==34&&t!==39&&GO(xi);break;case 40:t===41&&GO(t);break;case 92:Fa();break}return pa}function uye(t,e){for(;Fa()&&t+xi!==47+10;)if(t+xi===42+42&&cu()===47)break;return"/*"+gC(e,pa-1)+"*"+kP(t===47?t:Fa())}function dye(t){for(;!K1(cu());)Fa();return gC(t,pa)}function fye(t){return TY(EM("",null,null,null,[""],t=CY(t),0,[0],t))}function EM(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,f=0,p=0,g=0,v=1,y=1,x=1,w=0,b="",T=i,E=s,P=r,L=b;y;)switch(g=w,w=Fa()){case 40:if(g!=108&&L.charCodeAt(d-1)==58){HO(L+=tr(TM(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:L+=TM(w);break;case 9:case 10:case 13:case 32:L+=lye(g);break;case 92:L+=cye(CM()-1,7);continue;case 47:switch(cu()){case 42:case 47:jE(hye(uye(Fa(),CM()),e,n),l);break;default:L+="/"}break;case 123*v:a[c++]=Xc(L)*x;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+u:p>0&&Xc(L)-d&&jE(p>32?fW(L+";",r,n,d-1):fW(tr(L," ","")+";",r,n,d-2),l);break;case 59:L+=";";default:if(jE(P=dW(L,e,n,c,u,i,a,b,T=[],E=[],d),s),w===123)if(u===0)EM(L,e,P,P,T,s,d,a,E);else switch(f){case 100:case 109:case 115:EM(t,P,P,r&&jE(dW(t,P,P,0,0,i,a,b,i,T=[],d),E),i,E,d,a,r?T:E);break;default:EM(L,P,P,P,[""],E,0,a,E)}}c=u=p=0,v=x=1,b=L="",d=o;break;case 58:d=1+Xc(L),p=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&aye()==125)continue}switch(L+=kP(w),w*v){case 38:x=u>0?1:(L+="\f",-1);break;case 44:a[c++]=(Xc(L)-1)*x,x=1;break;case 64:cu()===45&&(L+=TM(Fa())),f=cu(),u=d=Xc(b=L+=dye(CM())),w++;break;case 45:g===45&&Xc(L)==2&&(v=0)}}return s}function dW(t,e,n,r,i,s,o,a,l,c,u){for(var d=i-1,f=i===0?s:[""],p=O$(f),g=0,v=0,y=0;g<r;++g)for(var x=0,w=q1(t,d+1,d=tye(v=o[g])),b=t;x<p;++x)(b=bY(v>0?f[x]+" "+w:tr(w,/&\f/g,f[x])))&&(l[y++]=b);return DP(t,e,n,i===0?D$:a,l,c,u)}function hye(t,e,n){return DP(t,e,n,xY,kP(oye()),q1(t,2,-2),0)}function fW(t,e,n,r){return DP(t,e,n,N$,q1(t,0,r),q1(t,r+1,-1),r)}function EY(t,e){switch(rye(t,e)){case 5103:return Jn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Jn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Jn+t+$A+t+eo+t+t;case 6828:case 4268:return Jn+t+eo+t+t;case 6165:return Jn+t+eo+"flex-"+t+t;case 5187:return Jn+t+tr(t,/(\w+).+(:[^]+)/,Jn+"box-$1$2"+eo+"flex-$1$2")+t;case 5443:return Jn+t+eo+"flex-item-"+tr(t,/flex-|-self/,"")+t;case 4675:return Jn+t+eo+"flex-line-pack"+tr(t,/align-content|flex-|-self/,"")+t;case 5548:return Jn+t+eo+tr(t,"shrink","negative")+t;case 5292:return Jn+t+eo+tr(t,"basis","preferred-size")+t;case 6060:return Jn+"box-"+tr(t,"-grow","")+Jn+t+eo+tr(t,"grow","positive")+t;case 4554:return Jn+tr(t,/([^-])(transform)/g,"$1"+Jn+"$2")+t;case 6187:return tr(tr(tr(t,/(zoom-|grab)/,Jn+"$1"),/(image-set)/,Jn+"$1"),t,"")+t;case 5495:case 3959:return tr(t,/(image-set\([^]*)/,Jn+"$1$`$1");case 4968:return tr(tr(t,/(.+:)(flex-)?(.*)/,Jn+"box-pack:$3"+eo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Jn+t+t;case 4095:case 3583:case 4068:case 2532:return tr(t,/(.+)-inline(.+)/,Jn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xc(t)-1-e>6)switch(Zo(t,e+1)){case 109:if(Zo(t,e+4)!==45)break;case 102:return tr(t,/(.+:)(.+)-([^]+)/,"$1"+Jn+"$2-$3$1"+$A+(Zo(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~HO(t,"stretch")?EY(tr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Zo(t,e+1)!==115)break;case 6444:switch(Zo(t,Xc(t)-3-(~HO(t,"!important")&&10))){case 107:return tr(t,":",":"+Jn)+t;case 101:return tr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Jn+(Zo(t,14)===45?"inline-":"")+"box$3$1"+Jn+"$2$3$1"+eo+"$2box$3")+t}break;case 5936:switch(Zo(t,e+11)){case 114:return Jn+t+eo+tr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Jn+t+eo+tr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Jn+t+eo+tr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Jn+t+eo+t+t}return t}function R0(t,e){for(var n="",r=O$(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function pye(t,e,n,r){switch(t.type){case eye:case N$:return t.return=t.return||t.value;case xY:return"";case wY:return t.return=t.value+"{"+R0(t.children,r)+"}";case D$:t.value=t.props.join(",")}return Xc(n=R0(t.children,r))?t.return=t.value+"{"+n+"}":""}function mye(t){var e=O$(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function gye(t){return function(e){e.root||(e=e.return)&&t(e)}}function vye(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case N$:t.return=EY(t.value,t.length);break;case wY:return R0([qw(t,{value:tr(t.value,"@","@"+Jn)})],r);case D$:if(t.length)return sye(t.props,function(i){switch(iye(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return R0([qw(t,{props:[tr(i,/:(read-\w+)/,":"+$A+"$1")]})],r);case"::placeholder":return R0([qw(t,{props:[tr(i,/:(plac\w+)/,":"+Jn+"input-$1")]}),qw(t,{props:[tr(i,/:(plac\w+)/,":"+$A+"$1")]}),qw(t,{props:[tr(i,/:(plac\w+)/,eo+"input-$1")]})],r)}return""})}}var yye=function(e,n,r){for(var i=0,s=0;i=s,s=cu(),i===38&&s===12&&(n[r]=1),!K1(s);)Fa();return gC(e,pa)},_ye=function(e,n){var r=-1,i=44;do switch(K1(i)){case 0:i===38&&cu()===12&&(n[r]=1),e[r]+=yye(pa-1,n,r);break;case 2:e[r]+=TM(i);break;case 4:if(i===44){e[++r]=cu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=kP(i)}while(i=Fa());return e},xye=function(e,n){return TY(_ye(CY(e),n))},hW=new WeakMap,wye=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!hW.get(r))&&!i){hW.set(e,!0);for(var s=[],o=xye(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},bye=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},Sye=[vye],Cye=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var y=v.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||Sye,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var y=v.getAttribute("data-emotion").split(" "),x=1;x<y.length;x++)s[y[x]]=!0;a.push(v)});var l,c=[wye,bye];{var u,d=[pye,gye(function(v){u.insert(v)})],f=mye(c.concat(i,d)),p=function(y){return R0(fye(y),f)};l=function(y,x,w,b){u=w,p(y?y+"{"+x.styles+"}":x.styles),b&&(g.inserted[x.name]=!0)}}var g={key:n,sheet:new Zve({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},IY=Cye,MY={exports:{}},lr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=typeof Symbol=="function"&&Symbol.for,F$=_s?Symbol.for("react.element"):60103,B$=_s?Symbol.for("react.portal"):60106,NP=_s?Symbol.for("react.fragment"):60107,OP=_s?Symbol.for("react.strict_mode"):60108,FP=_s?Symbol.for("react.profiler"):60114,BP=_s?Symbol.for("react.provider"):60109,$P=_s?Symbol.for("react.context"):60110,$$=_s?Symbol.for("react.async_mode"):60111,UP=_s?Symbol.for("react.concurrent_mode"):60111,zP=_s?Symbol.for("react.forward_ref"):60112,VP=_s?Symbol.for("react.suspense"):60113,Tye=_s?Symbol.for("react.suspense_list"):60120,WP=_s?Symbol.for("react.memo"):60115,HP=_s?Symbol.for("react.lazy"):60116,Eye=_s?Symbol.for("react.block"):60121,Iye=_s?Symbol.for("react.fundamental"):60117,Mye=_s?Symbol.for("react.responder"):60118,Aye=_s?Symbol.for("react.scope"):60119;function qa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case F$:switch(t=t.type,t){case $$:case UP:case NP:case FP:case OP:case VP:return t;default:switch(t=t&&t.$$typeof,t){case $P:case zP:case HP:case WP:case BP:return t;default:return e}}case B$:return e}}}function AY(t){return qa(t)===UP}lr.AsyncMode=$$;lr.ConcurrentMode=UP;lr.ContextConsumer=$P;lr.ContextProvider=BP;lr.Element=F$;lr.ForwardRef=zP;lr.Fragment=NP;lr.Lazy=HP;lr.Memo=WP;lr.Portal=B$;lr.Profiler=FP;lr.StrictMode=OP;lr.Suspense=VP;lr.isAsyncMode=function(t){return AY(t)||qa(t)===$$};lr.isConcurrentMode=AY;lr.isContextConsumer=function(t){return qa(t)===$P};lr.isContextProvider=function(t){return qa(t)===BP};lr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===F$};lr.isForwardRef=function(t){return qa(t)===zP};lr.isFragment=function(t){return qa(t)===NP};lr.isLazy=function(t){return qa(t)===HP};lr.isMemo=function(t){return qa(t)===WP};lr.isPortal=function(t){return qa(t)===B$};lr.isProfiler=function(t){return qa(t)===FP};lr.isStrictMode=function(t){return qa(t)===OP};lr.isSuspense=function(t){return qa(t)===VP};lr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===NP||t===UP||t===FP||t===OP||t===VP||t===Tye||typeof t=="object"&&t!==null&&(t.$$typeof===HP||t.$$typeof===WP||t.$$typeof===BP||t.$$typeof===$P||t.$$typeof===zP||t.$$typeof===Iye||t.$$typeof===Mye||t.$$typeof===Aye||t.$$typeof===Eye)};lr.typeOf=qa;MY.exports=lr;var U$=MY.exports,Rye={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Pye={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kye={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RY={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},z$={};z$[U$.ForwardRef]=kye;z$[U$.Memo]=RY;function pW(t){return U$.isMemo(t)?RY:z$[t.$$typeof]||Rye}var Lye=Object.defineProperty,Dye=Object.getOwnPropertyNames,mW=Object.getOwnPropertySymbols,Nye=Object.getOwnPropertyDescriptor,Oye=Object.getPrototypeOf,gW=Object.prototype;function PY(t,e,n){if(typeof e!="string"){if(gW){var r=Oye(e);r&&r!==gW&&PY(t,r,n)}var i=Dye(e);mW&&(i=i.concat(mW(e)));for(var s=pW(t),o=pW(e),a=0;a<i.length;++a){var l=i[a];if(!Pye[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var c=Nye(e,l);try{Lye(t,l,c)}catch{}}}}return t}var Fye=PY,Bye=!0;function $ye(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var kY=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Bye===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},LY=function(e,n,r){kY(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Uye(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var zye={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vye=/[A-Z]|^ms/g,Wye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,DY=function(e){return e.charCodeAt(1)===45},vW=function(e){return e!=null&&typeof e!="boolean"},H2=_Y(function(t){return DY(t)?t:t.replace(Vye,"-$&").toLowerCase()}),yW=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Wye,function(r,i,s){return Yc={name:i,styles:s,next:Yc},i})}return zye[e]!==1&&!DY(e)&&typeof n=="number"&&n!==0?n+"px":n};function X1(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Yc={name:n.name,styles:n.styles,next:Yc},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Yc={name:r.name,styles:r.styles,next:Yc},r=r.next;var i=n.styles+";";return i}return Hye(t,e,n)}case"function":{if(t!==void 0){var s=Yc,o=n(t);return Yc=s,X1(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function Hye(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=X1(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":vW(o)&&(r+=H2(s)+":"+yW(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)vW(o[a])&&(r+=H2(s)+":"+yW(s,o[a])+";");else{var l=X1(t,e,o);switch(s){case"animation":case"animationName":{r+=H2(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var _W=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yc,V$=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Yc=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=X1(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=X1(r,n,e[a]),i&&(s+=o[a]);_W.lastIndex=0;for(var l="",c;(c=_W.exec(s))!==null;)l+="-"+c[1];var u=Uye(s)+l;return{name:u,styles:s,next:Yc}},NY=N.exports.createContext(typeof HTMLElement!="undefined"?IY({key:"css"}):null),Gye=NY.Provider,OY=function(e){return N.exports.forwardRef(function(n,r){var i=N.exports.useContext(NY);return e(n,i,r)})},W$=N.exports.createContext({});Ih["useInsertionEffect"]&&Ih["useInsertionEffect"];var xW=Ih["useInsertionEffect"]?Ih["useInsertionEffect"]:N.exports.useLayoutEffect,jye=OY(function(t,e){var n=t.styles,r=V$([n],void 0,N.exports.useContext(W$)),i=N.exports.useRef();return xW(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),xW(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&LY(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Pd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return V$(e)}var Ec=function(){var e=Pd.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},qye=Yve,Kye=function(e){return e!=="theme"},wW=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?qye:Kye},bW=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},Xye=Ih["useInsertionEffect"]?Ih["useInsertionEffect"]:function(e){e()};function Yye(t){Xye(t)}var Qye=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return kY(n,r,i),Yye(function(){return LY(n,r,i)}),null},Jye=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=bW(e,n,r),l=a||wW(i),c=!l("as");return function(){var u=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],u[0][p])}var g=OY(function(v,y,x){var w=c&&v.as||i,b="",T=[],E=v;if(v.theme==null){E={};for(var P in v)E[P]=v[P];E.theme=N.exports.useContext(W$)}typeof v.className=="string"?b=$ye(y.registered,T,v.className):v.className!=null&&(b=v.className+" ");var L=V$(d.concat(T),y.registered,E);b+=y.key+"-"+L.name,o!==void 0&&(b+=" "+o);var R=c&&a===void 0?wW(w):l,F={};for(var O in v)c&&O==="as"||R(O)&&(F[O]=v[O]);return F.className=b,F.ref=x,N.exports.createElement(N.exports.Fragment,null,N.exports.createElement(Qye,{cache:y,serialized:L,isStringTag:typeof w=="string"}),N.exports.createElement(w,F))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,y){return t(v,A({},n,y,{shouldForwardProp:bW(g,y,!0)})).apply(void 0,d)},g}},Zye=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],jO=Jye.bind();Zye.forEach(function(t){jO[t]=jO(t)});var e0e=jO,FY={exports:{}},t0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",n0e=t0e,r0e=n0e;function BY(){}function $Y(){}$Y.resetWarningCache=BY;var i0e=function(){function t(r,i,s,o,a,l){if(l!==r0e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$Y,resetWarningCache:BY};return n.PropTypes=n,n};FY.exports=i0e();var Ni=FY.exports,GP={exports:{}},jP={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0e=N.exports,o0e=Symbol.for("react.element"),a0e=Symbol.for("react.fragment"),l0e=Object.prototype.hasOwnProperty,c0e=s0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u0e={key:!0,ref:!0,__self:!0,__source:!0};function UY(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)l0e.call(e,r)&&!u0e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:o0e,type:t,key:s,ref:o,props:i,_owner:c0e.current}}jP.Fragment=a0e;jP.jsx=UY;jP.jsxs=UY;GP.exports=jP;const K=GP.exports.jsx,Tt=GP.exports.jsxs,zY=GP.exports.Fragment;var d0e=Object.freeze(Object.defineProperty({__proto__:null,jsx:K,jsxs:Tt,Fragment:zY},Symbol.toStringTag,{value:"Module"}));const f0e=IY({key:"css",prepend:!0});function h0e(t){const{injectFirst:e,children:n}=t;return e?K(Gye,{value:f0e,children:n}):n}function p0e(t){return t==null||Object.keys(t).length===0}function qO(t){const{styles:e,defaultTheme:n={}}=t;return K(jye,{styles:typeof e=="function"?i=>e(p0e(i)?n:i):e})}/** @license MUI v5.6.1
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function VY(t,e){return e0e(t,e)}function Rb(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function ao(t,e,n={clone:!0}){const r=n.clone?A({},t):t;return Rb(t)&&Rb(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Rb(e[i])&&i in t&&Rb(t[i])?r[i]=ao(t[i],e[i],n):r[i]=e[i])}),r}function Tl(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var br={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP=60103,KP=60106,vC=60107,yC=60108,_C=60114,xC=60109,wC=60110,bC=60112,SC=60113,H$=60120,CC=60115,TC=60116,WY=60121,HY=60122,GY=60117,jY=60129,qY=60131;if(typeof Symbol=="function"&&Symbol.for){var Es=Symbol.for;qP=Es("react.element"),KP=Es("react.portal"),vC=Es("react.fragment"),yC=Es("react.strict_mode"),_C=Es("react.profiler"),xC=Es("react.provider"),wC=Es("react.context"),bC=Es("react.forward_ref"),SC=Es("react.suspense"),H$=Es("react.suspense_list"),CC=Es("react.memo"),TC=Es("react.lazy"),WY=Es("react.block"),HY=Es("react.server.block"),GY=Es("react.fundamental"),jY=Es("react.debug_trace_mode"),qY=Es("react.legacy_hidden")}function Ic(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qP:switch(t=t.type,t){case vC:case _C:case yC:case SC:case H$:return t;default:switch(t=t&&t.$$typeof,t){case wC:case bC:case TC:case CC:case xC:return t;default:return e}}case KP:return e}}}var m0e=xC,g0e=qP,v0e=bC,y0e=vC,_0e=TC,x0e=CC,w0e=KP,b0e=_C,S0e=yC,C0e=SC;br.ContextConsumer=wC;br.ContextProvider=m0e;br.Element=g0e;br.ForwardRef=v0e;br.Fragment=y0e;br.Lazy=_0e;br.Memo=x0e;br.Portal=w0e;br.Profiler=b0e;br.StrictMode=S0e;br.Suspense=C0e;br.isAsyncMode=function(){return!1};br.isConcurrentMode=function(){return!1};br.isContextConsumer=function(t){return Ic(t)===wC};br.isContextProvider=function(t){return Ic(t)===xC};br.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qP};br.isForwardRef=function(t){return Ic(t)===bC};br.isFragment=function(t){return Ic(t)===vC};br.isLazy=function(t){return Ic(t)===TC};br.isMemo=function(t){return Ic(t)===CC};br.isPortal=function(t){return Ic(t)===KP};br.isProfiler=function(t){return Ic(t)===_C};br.isStrictMode=function(t){return Ic(t)===yC};br.isSuspense=function(t){return Ic(t)===SC};br.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vC||t===_C||t===jY||t===yC||t===SC||t===H$||t===qY||typeof t=="object"&&t!==null&&(t.$$typeof===TC||t.$$typeof===CC||t.$$typeof===xC||t.$$typeof===wC||t.$$typeof===bC||t.$$typeof===GY||t.$$typeof===WY||t[0]===HY)};br.typeOf=Ic;function _e(t){if(typeof t!="string")throw new Error(Tl(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Y1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Lh(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function KY(t,e){return()=>null}function bd(t,e){return N.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function pr(t){return t&&t.ownerDocument||document}function Os(t){return pr(t).defaultView||window}function XY(t,e){return()=>null}function lg(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const T0e=typeof window!="undefined"?N.exports.useLayoutEffect:N.exports.useEffect;var Hi=T0e;let SW=0;function E0e(t){const[e,n]=N.exports.useState(t),r=t||e;return N.exports.useEffect(()=>{e==null&&(SW+=1,n(`mui-${SW}`))},[e]),r}const CW=Ih["useId"];function bc(t){if(CW!==void 0){const e=CW();return t!=null?t:e}return E0e(t)}function YY(t,e,n,r,i){return null}function Po({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=N.exports.useRef(t!==void 0),[s,o]=N.exports.useState(e),a=i?t:s,l=N.exports.useCallback(c=>{i||o(c)},[]);return[a,l]}function Ar(t){const e=N.exports.useRef(t);return Hi(()=>{e.current=t}),N.exports.useCallback((...n)=>(0,e.current)(...n),[])}function pn(t,e){return N.exports.useMemo(()=>t==null&&e==null?null:n=>{lg(t,n),lg(e,n)},[t,e])}let XP=!0,KO=!1,TW;const I0e={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function M0e(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&I0e[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function A0e(t){t.metaKey||t.altKey||t.ctrlKey||(XP=!0)}function G2(){XP=!1}function R0e(){this.visibilityState==="hidden"&&KO&&(XP=!0)}function P0e(t){t.addEventListener("keydown",A0e,!0),t.addEventListener("mousedown",G2,!0),t.addEventListener("pointerdown",G2,!0),t.addEventListener("touchstart",G2,!0),t.addEventListener("visibilitychange",R0e,!0)}function k0e(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return XP||M0e(e)}function Gg(){const t=N.exports.useCallback(i=>{i!=null&&P0e(i.ownerDocument)},[]),e=N.exports.useRef(!1);function n(){return e.current?(KO=!0,window.clearTimeout(TW),TW=window.setTimeout(()=>{KO=!1},100),e.current=!1,!0):!1}function r(i){return k0e(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function QY(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}let hy;function JY(){if(hy)return hy;const t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),hy="reverse",t.scrollLeft>0?hy="default":(t.scrollLeft=1,t.scrollLeft===0&&(hy="negative")),document.body.removeChild(t),hy}function EW(t,e){const n=t.scrollLeft;if(e!=="rtl")return n;switch(JY()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}const L0e=t=>{const e=N.exports.useRef({});return N.exports.useEffect(()=>{e.current=t}),e.current};var ZY=L0e;const D0e={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var eQ=D0e;function tQ(t,e){const n=A({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Zb(t,e){return e?ao(t,e,{clone:!1}):t}const G$={xs:0,sm:600,md:900,lg:1200,xl:1536},IW={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${G$[t]}px)`};function Wa(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||IW;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||IW;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||G$).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function N0e(t={}){var e;return(t==null||(e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function O0e(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function F0e(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function zm({values:t,breakpoints:e,base:n}){const r=n||F0e(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):(o[a]=t[a]!=null?t[a]:t[s]||t,s=a),o),{})}function YP(t,e){if(!e||typeof e!="string")return null;if(t&&t.vars){const n=`vars.${e}`.split(".").reduce((r,i)=>r&&r[i]?r[i]:null,t);if(n!=null)return n}return e.split(".").reduce((n,r)=>n&&n[r]!=null?n[r]:null,t)}function MW(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=YP(t,n)||r,e&&(i=e(i)),i}function Ut(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=YP(l,r)||{};return Wa(o,a,d=>{let f=MW(c,i,d);return d===f&&typeof d=="string"&&(f=MW(c,i,`${e}${d==="default"?"":_e(d)}`,d)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function np(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Zb(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function B0e(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const $0e={m:"margin",p:"padding"},U0e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},AW={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},z0e=B0e(t=>{if(t.length>2)if(AW[t])t=AW[t];else return[t];const[e,n]=t.split(""),r=$0e[e],i=U0e[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),V0e=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],W0e=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],nQ=[...V0e,...W0e];function EC(t,e,n,r){var i;const s=(i=YP(t,e))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function j$(t){return EC(t,"spacing",8)}function nx(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function H0e(t,e){return n=>t.reduce((r,i)=>(r[i]=nx(e,n),r),{})}function G0e(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=z0e(n),s=H0e(i,r),o=t[n];return Wa(t,o,s)}function j0e(t,e){const n=j$(t.theme);return Object.keys(t).map(r=>G0e(t,e,r,n)).reduce(Zb,{})}function QP(t){return j0e(t,nQ)}QP.propTypes={};QP.filterProps=nQ;function IC(t){return typeof t!="number"?t:`${t}px solid`}const q0e=Ut({prop:"border",themeKey:"borders",transform:IC}),K0e=Ut({prop:"borderTop",themeKey:"borders",transform:IC}),X0e=Ut({prop:"borderRight",themeKey:"borders",transform:IC}),Y0e=Ut({prop:"borderBottom",themeKey:"borders",transform:IC}),Q0e=Ut({prop:"borderLeft",themeKey:"borders",transform:IC}),J0e=Ut({prop:"borderColor",themeKey:"palette"}),Z0e=Ut({prop:"borderTopColor",themeKey:"palette"}),e_e=Ut({prop:"borderRightColor",themeKey:"palette"}),t_e=Ut({prop:"borderBottomColor",themeKey:"palette"}),n_e=Ut({prop:"borderLeftColor",themeKey:"palette"}),q$=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=EC(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:nx(e,r)});return Wa(t,t.borderRadius,n)}return null};q$.propTypes={};q$.filterProps=["borderRadius"];const r_e=np(q0e,K0e,X0e,Y0e,Q0e,J0e,Z0e,e_e,t_e,n_e,q$);var rQ=r_e;const i_e=Ut({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),s_e=Ut({prop:"display"}),o_e=Ut({prop:"overflow"}),a_e=Ut({prop:"textOverflow"}),l_e=Ut({prop:"visibility"}),c_e=Ut({prop:"whiteSpace"});var iQ=np(i_e,s_e,o_e,a_e,l_e,c_e);const u_e=Ut({prop:"flexBasis"}),d_e=Ut({prop:"flexDirection"}),f_e=Ut({prop:"flexWrap"}),h_e=Ut({prop:"justifyContent"}),p_e=Ut({prop:"alignItems"}),m_e=Ut({prop:"alignContent"}),g_e=Ut({prop:"order"}),v_e=Ut({prop:"flex"}),y_e=Ut({prop:"flexGrow"}),__e=Ut({prop:"flexShrink"}),x_e=Ut({prop:"alignSelf"}),w_e=Ut({prop:"justifyItems"}),b_e=Ut({prop:"justifySelf"}),S_e=np(u_e,d_e,f_e,h_e,p_e,m_e,g_e,v_e,y_e,__e,x_e,w_e,b_e);var sQ=S_e;const K$=t=>{if(t.gap!==void 0&&t.gap!==null){const e=EC(t.theme,"spacing",8),n=r=>({gap:nx(e,r)});return Wa(t,t.gap,n)}return null};K$.propTypes={};K$.filterProps=["gap"];const X$=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=EC(t.theme,"spacing",8),n=r=>({columnGap:nx(e,r)});return Wa(t,t.columnGap,n)}return null};X$.propTypes={};X$.filterProps=["columnGap"];const Y$=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=EC(t.theme,"spacing",8),n=r=>({rowGap:nx(e,r)});return Wa(t,t.rowGap,n)}return null};Y$.propTypes={};Y$.filterProps=["rowGap"];const C_e=Ut({prop:"gridColumn"}),T_e=Ut({prop:"gridRow"}),E_e=Ut({prop:"gridAutoFlow"}),I_e=Ut({prop:"gridAutoColumns"}),M_e=Ut({prop:"gridAutoRows"}),A_e=Ut({prop:"gridTemplateColumns"}),R_e=Ut({prop:"gridTemplateRows"}),P_e=Ut({prop:"gridTemplateAreas"}),k_e=Ut({prop:"gridArea"}),L_e=np(K$,X$,Y$,C_e,T_e,E_e,I_e,M_e,A_e,R_e,P_e,k_e);var oQ=L_e;const D_e=Ut({prop:"color",themeKey:"palette"}),N_e=Ut({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),O_e=Ut({prop:"backgroundColor",themeKey:"palette"}),F_e=np(D_e,N_e,O_e);var aQ=F_e;const B_e=Ut({prop:"position"}),$_e=Ut({prop:"zIndex",themeKey:"zIndex"}),U_e=Ut({prop:"top"}),z_e=Ut({prop:"right"}),V_e=Ut({prop:"bottom"}),W_e=Ut({prop:"left"});var lQ=np(B_e,$_e,U_e,z_e,V_e,W_e);const H_e=Ut({prop:"boxShadow",themeKey:"shadows"});var cQ=H_e;function rp(t){return t<=1&&t!==0?`${t*100}%`:t}const G_e=Ut({prop:"width",transform:rp}),uQ=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||G$[n]||rp(n)}};return Wa(t,t.maxWidth,e)}return null};uQ.filterProps=["maxWidth"];const j_e=Ut({prop:"minWidth",transform:rp}),q_e=Ut({prop:"height",transform:rp}),K_e=Ut({prop:"maxHeight",transform:rp}),X_e=Ut({prop:"minHeight",transform:rp});Ut({prop:"size",cssProperty:"width",transform:rp});Ut({prop:"size",cssProperty:"height",transform:rp});const Y_e=Ut({prop:"boxSizing"}),Q_e=np(G_e,uQ,j_e,q_e,K_e,X_e,Y_e);var dQ=Q_e;const J_e=Ut({prop:"fontFamily",themeKey:"typography"}),Z_e=Ut({prop:"fontSize",themeKey:"typography"}),exe=Ut({prop:"fontStyle",themeKey:"typography"}),txe=Ut({prop:"fontWeight",themeKey:"typography"}),nxe=Ut({prop:"letterSpacing"}),rxe=Ut({prop:"textTransform"}),ixe=Ut({prop:"lineHeight"}),sxe=Ut({prop:"textAlign"}),oxe=Ut({prop:"typography",cssProperty:!1,themeKey:"typography"}),axe=np(oxe,J_e,Z_e,exe,txe,nxe,ixe,sxe,rxe);var fQ=axe;const RW={borders:rQ.filterProps,display:iQ.filterProps,flexbox:sQ.filterProps,grid:oQ.filterProps,positions:lQ.filterProps,palette:aQ.filterProps,shadows:cQ.filterProps,sizing:dQ.filterProps,spacing:QP.filterProps,typography:fQ.filterProps},hQ={borders:rQ,display:iQ,flexbox:sQ,grid:oQ,positions:lQ,palette:aQ,shadows:cQ,sizing:dQ,spacing:QP,typography:fQ},lxe=Object.keys(RW).reduce((t,e)=>(RW[e].forEach(n=>{t[n]=hQ[e]}),t),{});function cxe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function uxe(t,e){return typeof t=="function"?t(e):t}function dxe(t=hQ){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(o=>{i[o]=t[s]}),i),{});function n(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=N0e(o.breakpoints),d=Object.keys(u);let f=u;return Object.keys(c).forEach(p=>{const g=uxe(c[p],o);if(g!=null)if(typeof g=="object")if(e[p])f=Zb(f,n(p,g,o));else{const v=Wa({theme:o},g,y=>({[p]:y}));cxe(v,g)?f[p]=r({sx:g,theme:o}):f=Zb(f,v)}else f=Zb(f,n(p,g,o))}),O0e(d,f)}return Array.isArray(s)?s.map(a):a(s)}return r}const pQ=dxe();pQ.filterProps=["sx"];var Q$=pQ;const fxe=["sx"],hxe=t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach(n=>{lxe[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function JP(t){const{sx:e}=t,n=ke(t,fxe),{systemProps:r,otherProps:i}=hxe(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Rb(a)?A({},r,a):r}:s=A({},r,e),A({},i,{sx:s})}function pxe(t){return({theme:e})=>Q$({sx:t,theme:e})}function mQ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=mQ(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ie(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=mQ(e))&&(r&&(r+=" "),r+=n);return r}const mxe=["values","unit","step"],gxe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>A({},n,{[r.key]:r.val}),{})};function gQ(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ke(t,mxe),s=gxe(e),o=Object.keys(s);function a(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function c(f,p){const g=o.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:p)-r/100}${n})`}function u(f){return o.indexOf(f)+1<o.length?c(f,o[o.indexOf(f)+1]):a(f)}function d(f){const p=o.indexOf(f);return p===0?a(o[1]):p===o.length-1?l(o[p]):c(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return A({keys:o,values:s,up:a,down:l,between:c,only:u,not:d,unit:n},i)}const vxe={borderRadius:4};var yxe=vxe;function vQ(t=8){if(t.mui)return t;const e=j$({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const _xe=["breakpoints","palette","spacing","shape"];function J$(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ke(t,_xe),a=gQ(n),l=vQ(i);let c=ao({breakpoints:a,direction:"ltr",components:{},palette:A({mode:"light"},r),spacing:l,shape:A({},yxe,s)},o);return c=e.reduce((u,d)=>ao(u,d),c),c}const xxe=N.exports.createContext(null);var yQ=xxe;function _Q(){return N.exports.useContext(yQ)}const wxe=typeof Symbol=="function"&&Symbol.for;var bxe=wxe?Symbol.for("mui.nested"):"__THEME_NESTED__";function Sxe(t,e){return typeof e=="function"?e(t):A({},t,e)}function Cxe(t){const{children:e,theme:n}=t,r=_Q(),i=N.exports.useMemo(()=>{const s=r===null?n:Sxe(r,n);return s!=null&&(s[bxe]=r!==null),s},[n,r]);return K(yQ.Provider,{value:i,children:e})}function Txe(t){return Object.keys(t).length===0}function Z$(t=null){const e=_Q();return!e||Txe(e)?t:e}const Exe=J$();function ZP(t=Exe){return Z$(t)}const Ixe=["className","component"];function Mxe(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r,styleFunctionSx:i=Q$}=t,s=VY("div")(i);return N.exports.forwardRef(function(l,c){const u=ZP(e),d=JP(l),{className:f,component:p="div"}=d,g=ke(d,Ixe);return K(s,A({as:p,ref:c,className:Ie(f,r?r(n):n),theme:u},g))})}const Axe=["variant"];function PW(t){return t.length===0}function xQ(t){const{variant:e}=t,n=ke(t,Axe);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=PW(r)?t[i]:_e(t[i]):r+=`${PW(r)?i:_e(i)}${_e(t[i].toString())}`}),r}const Rxe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Pxe=["theme"],kxe=["theme"];function Kw(t){return Object.keys(t).length===0}const Lxe=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,Dxe=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=xQ(i.props);r[s]=i.style}),r},Nxe=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(d=>{o[d]!==c.props[d]&&t[d]!==c.props[d]&&(u=!1)}),u&&a.push(e[xQ(c.props)])}),a};function e1(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Oxe=J$();function Fxe(t={}){const{defaultTheme:e=Oxe,rootShouldForwardProp:n=e1,slotShouldForwardProp:r=e1,styleFunctionSx:i=Q$}=t;return(s,o={})=>{const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d}=o,f=ke(o,Rxe),p=c!==void 0?c:l&&l!=="Root"||!1,g=u||!1;let v,y=e1;l==="Root"?y=n:l&&(y=r);const x=VY(s,A({shouldForwardProp:y,label:v},f)),w=(b,...T)=>{const E=T?T.map(F=>typeof F=="function"&&F.__emotion_real!==F?O=>{let{theme:G}=O,Z=ke(O,Pxe);return F(A({theme:Kw(G)?e:G},Z))}:F):[];let P=b;a&&d&&E.push(F=>{const O=Kw(F.theme)?e:F.theme,G=Lxe(a,O);if(G){const Z={};return Object.entries(G).forEach(([V,U])=>{Z[V]=typeof U=="function"?U(A({},F,{theme:O})):U}),d(F,Z)}return null}),a&&!p&&E.push(F=>{const O=Kw(F.theme)?e:F.theme;return Nxe(F,Dxe(a,O),O,a)}),g||E.push(F=>{const O=Kw(F.theme)?e:F.theme;return i(A({},F,{theme:O}))});const L=E.length-T.length;if(Array.isArray(b)&&L>0){const F=new Array(L).fill("");P=[...b,...F],P.raw=[...b.raw,...F]}else typeof b=="function"&&b.__emotion_real!==b&&(P=F=>{let{theme:O}=F,G=ke(F,kxe);return b(A({theme:Kw(O)?e:O},G))});return x(P,...E)};return x.withConfig&&(w.withConfig=x.withConfig),w}}function eU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:tQ(e.components[n].defaultProps,r)}function wQ({props:t,name:e,defaultTheme:n}){const r=ZP(n);return eU({theme:r,name:e,props:t})}function tU(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function bQ(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Bxe(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function gu(t){if(t.type)return t;if(t.charAt(0)==="#")return gu(bQ(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Tl(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Tl(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const py=t=>{const e=gu(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};function MC(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function $xe(t){if(t.indexOf("#")===0)return t;const{values:e}=gu(t);return`#${e.map((n,r)=>Bxe(r===3?Math.round(255*n):n)).join("")}`}function SQ(t){t=gu(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+n/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),MC({type:a,values:l})}function UA(t){t=gu(t);let e=t.type==="hsl"?gu(SQ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function CQ(t,e){const n=UA(t),r=UA(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Xt(t,e){return t=gu(t),e=tU(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,MC(t)}function kd(t,e){if(t=gu(t),e=tU(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return MC(t)}function Ld(t,e){if(t=gu(t),e=tU(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return MC(t)}function Q1(t,e=.15){return UA(t)>.5?kd(t,e):Ld(t,e)}function Uxe(t){const e=ZP();return K(W$.Provider,{value:typeof e=="object"?e:{},children:t.children})}function TQ(t){const{children:e,theme:n}=t;return K(Cxe,{theme:n,children:K(Uxe,{children:e})})}const kW=(t,e,n,r=[])=>{let i=t;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},zxe=(t,e,n)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...s,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...s,a],Array.isArray(l)?[...o,a]:o):e([...s,a],l,o))})}r(t)},Vxe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function LW(t,e){const{prefix:n,basePrefix:r="",shouldSkipGeneratingVar:i}=e||{},s={},o={},a={};return zxe(t,(l,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(typeof c=="string"&&c.match(/var\(\s*--/)&&(!r&&n?c=c.replace(/var\(\s*--/g,`var(--${n}-`):c=n?c.replace(new RegExp(`var\\(\\s*--${r}`,"g"),`var(--${n}`):c.replace(new RegExp(`var\\(\\s*--${r}-`,"g"),"var(--")),!i||i&&!i(l,c))){const d=`--${n?`${n}-`:""}${l.join("-")}`;Object.assign(s,{[d]:Vxe(l,c)}),kW(o,l,`var(${d})`,u)}kW(a,l,c,u)},l=>l[0]==="vars"),{css:s,vars:o,parsedTheme:a}}const nU="mui-mode",EQ="mui-color-scheme",IQ="data-mui-color-scheme";function Wxe(t){const{enableSystem:e,defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=nU,colorSchemeStorageKey:s=EQ,attribute:o=IQ}=t||{};return K("script",{dangerouslySetInnerHTML:{__html:`(function() { try {
        var mode = localStorage.getItem('${i}');
        var colorScheme = '';
        if (mode === 'system' || (!mode && !!${e})) {
          // handle system mode
          var mql = window.matchMedia('(prefers-color-scheme: dark)');
          if (mql.matches) {
            colorScheme = localStorage.getItem('${s}-dark') || '${r}';
          } else {
            colorScheme = localStorage.getItem('${s}-light') || '${n}';
          }
        }
        if (mode === 'light') {
          colorScheme = localStorage.getItem('${s}-light') || '${n}';
        }
        if (mode === 'dark') {
          colorScheme = localStorage.getItem('${s}-dark') || '${r}';
        }
        if (colorScheme) {
          document.documentElement.setAttribute('${o}', colorScheme);
        }
      } catch (e) {} })();`}})}function DW(t){if(typeof window!="undefined"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function XO(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Hxe(t){return XO(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function j2(t,e){if(typeof window=="undefined")return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e}function Gxe(t){const{defaultMode:e="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=nU,colorSchemeStorageKey:o=EQ}=t,a=i.join(","),[l,c]=N.exports.useState(()=>{const v=j2(s,e);return{mode:v,systemMode:DW(v),lightColorScheme:j2(`${o}-light`)||n,darkColorScheme:j2(`${o}-dark`)||r}}),u=Hxe(l),d=N.exports.useCallback(v=>{c(y=>{const x=v||e;return typeof localStorage!="undefined"&&localStorage.setItem(s,x),A({},y,{mode:x,systemMode:DW(x)})})},[s,e]),f=N.exports.useCallback(v=>{!v||typeof v=="string"?v&&!i.includes(v)?console.error(`\`${v}\` does not exist in \`theme.colorSchemes\`.`):c(y=>{const x=A({},y);return v?(XO(y,w=>{localStorage.setItem(`${o}-${w}`,v),w==="light"&&(x.lightColorScheme=v),w==="dark"&&(x.darkColorScheme=v)}),x):(x.lightColorScheme=n,x.darkColorScheme=r,x)}):v.light&&!i.includes(v.light)||v.dark&&!i.includes(v.dark)?console.error(`\`${v}\` does not exist in \`theme.colorSchemes\`.`):(c(y=>{const x=A({},y);return(v.light||v.light===null)&&(x.lightColorScheme=v.light===null?n:v.light),(v.dark||v.dark===null)&&(x.darkColorScheme=v.dark===null?r:v.dark),x}),v.light&&localStorage.setItem(`${o}-light`,v.light),v.dark&&localStorage.setItem(`${o}-dark`,v.dark))},[o,i,n,r]),p=N.exports.useCallback(v=>{l.mode==="system"&&c(y=>A({},y,{systemMode:v.matches?"dark":"light"}))},[l.mode]),g=N.exports.useRef(p);return g.current=p,N.exports.useEffect(()=>{const v=(...x)=>g.current(...x),y=window.matchMedia("(prefers-color-scheme: dark)");return y.addListener(v),v(y),()=>y.removeListener(v)},[]),N.exports.useEffect(()=>{l.mode&&localStorage.setItem(s,l.mode),XO(l,v=>{v==="light"&&localStorage.setItem(`${o}-light`,l.lightColorScheme),v==="dark"&&localStorage.setItem(`${o}-dark`,l.darkColorScheme)})},[l,o,s]),N.exports.useEffect(()=>{const v=y=>{const x=y.newValue;typeof y.key=="string"&&y.key.startsWith(o)&&(!x||a.match(x))&&(y.key.endsWith("light")&&f({light:x}),y.key.endsWith("dark")&&f({dark:x})),y.key===s&&(!x||["light","dark","system"].includes(x))&&d(x||e)};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)},[f,d,s,o,a,e]),A({},l,{colorScheme:u,setMode:d,setColorScheme:f})}function jxe(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const qxe=["colorSchemes","components"],Kxe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Xxe(t){const{theme:e={},defaultMode:n="light",defaultColorScheme:r,disableTransitionOnChange:i=!1,enableColorScheme:s=!0,prefix:o="",shouldSkipGeneratingVar:a,resolveTheme:l}=t;(!e.colorSchemes||typeof r=="string"&&!e.colorSchemes[r]||typeof r=="object"&&!e.colorSchemes[r==null?void 0:r.light]||typeof r=="object"&&!e.colorSchemes[r==null?void 0:r.dark])&&console.error(`MUI: \`${r}\` does not exist in \`theme.colorSchemes\`.`);const c=N.exports.createContext(void 0),u=()=>{const f=N.exports.useContext(c);if(!f)throw new Error(Tl(19));return f};function d({children:f,theme:p=e,prefix:g=o,modeStorageKey:v=nU,attribute:y=IQ,defaultMode:x=n,defaultColorScheme:w=r,disableTransitionOnChange:b=i,enableColorScheme:T=s}){const E=N.exports.useRef(!1),{colorSchemes:P={},components:L={}}=p,R=ke(p,qxe),F=Object.keys(P),O=typeof w=="string"?w:w.light,G=typeof w=="string"?w:w.dark,{mode:Z,setMode:V,systemMode:U,lightColorScheme:j,darkColorScheme:W,colorScheme:X,setColorScheme:B}=Gxe({supportedColorSchemes:F,defaultLightColorScheme:O,defaultDarkColorScheme:G,modeStorageKey:v,defaultMode:x}),H=(()=>X||(x==="dark"?G:O))();let q=R;const{css:ee,vars:J,parsedTheme:de}=LW(q,{prefix:g,basePrefix:o,shouldSkipGeneratingVar:a});q=A({},de,{components:L,colorSchemes:P,prefix:g,vars:J,getCssVar:jxe(g)});const ye={};return Object.entries(P).forEach(([Ce,oe])=>{const{css:He,vars:Ae,parsedTheme:Ne}=LW(oe,{prefix:g,basePrefix:o,shouldSkipGeneratingVar:a});q.vars=ao(q.vars,Ae),Ce===H&&(q=A({},q,Ne),q.palette&&(q.palette.mode=Z,q.palette.colorScheme=H));const Se=(()=>typeof w=="string"?w:x==="dark"?w.dark:w.light)();Ce===Se?ye[":root"]=He:ye[`[${y}="${Ce}"]`]=He}),N.exports.useEffect(()=>{X&&document.documentElement.setAttribute(y,X)},[X,y]),Hi(()=>{if(!Z||!T)return;const Ce=document.documentElement.style.getPropertyValue("color-scheme");return Z==="system"?document.documentElement.style.setProperty("color-scheme",U):document.documentElement.style.setProperty("color-scheme",Z),()=>{document.documentElement.style.setProperty("color-scheme",Ce)}},[Z,U,T]),N.exports.useEffect(()=>{let Ce;if(b&&E.current){const oe=document.createElement("style");oe.appendChild(document.createTextNode(Kxe)),document.head.appendChild(oe),window.getComputedStyle(document.body),Ce=setTimeout(()=>{document.head.removeChild(oe)},1)}return()=>{clearTimeout(Ce)}},[X,b]),N.exports.useEffect(()=>(E.current=!0,()=>{E.current=!1}),[]),Tt(c.Provider,{value:{mode:Z,setMode:V,lightColorScheme:j,darkColorScheme:W,colorScheme:X,setColorScheme:B,allColorSchemes:F},children:[K(qO,{styles:{":root":ee}}),K(qO,{styles:ye}),K(TQ,{theme:l?l(q):q,children:f})]})}return{CssVarsProvider:d,useColorScheme:u,getInitColorSchemeScript:Wxe}}const Yxe=["defaultProps","mixins","overrides","palette","props","styleOverrides"],Qxe=["type","mode"];function Jxe(t){const{defaultProps:e={},mixins:n={},overrides:r={},palette:i={},props:s={},styleOverrides:o={}}=t,a=ke(t,Yxe),l=A({},a,{components:{}});Object.keys(e).forEach(v=>{const y=l.components[v]||{};y.defaultProps=e[v],l.components[v]=y}),Object.keys(s).forEach(v=>{const y=l.components[v]||{};y.defaultProps=s[v],l.components[v]=y}),Object.keys(o).forEach(v=>{const y=l.components[v]||{};y.styleOverrides=o[v],l.components[v]=y}),Object.keys(r).forEach(v=>{const y=l.components[v]||{};y.styleOverrides=r[v],l.components[v]=y}),l.spacing=vQ(t.spacing);const c=gQ(t.breakpoints||{}),u=l.spacing;l.mixins=A({gutters:(v={})=>A({paddingLeft:u(2),paddingRight:u(2)},v,{[c.up("sm")]:A({paddingLeft:u(3),paddingRight:u(3)},v[c.up("sm")])})},n);const{type:d,mode:f}=i,p=ke(i,Qxe),g=f||d||"light";return l.palette=A({text:{hint:g==="dark"?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.38)"},mode:g,type:g},p),l}function na(t){return typeof t=="string"}function Yo(t,e={},n){return na(t)?e:A({},e,{ownerState:A({},e.ownerState,n)})}function NW(t){return typeof t.normalize!="undefined"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function MQ(t={}){const{ignoreAccents:e=!0,ignoreCase:n=!0,limit:r,matchFrom:i="any",stringify:s,trim:o=!1}=t;return(a,{inputValue:l,getOptionLabel:c})=>{let u=o?l.trim():l;n&&(u=u.toLowerCase()),e&&(u=NW(u));const d=a.filter(f=>{let p=(s||c)(f);return n&&(p=p.toLowerCase()),e&&(p=NW(p)),i==="start"?p.indexOf(u)===0:p.indexOf(u)>-1});return typeof r=="number"?d.slice(0,r):d}}function q2(t,e){for(let n=0;n<t.length;n+=1)if(e(t[n]))return n;return-1}const Zxe=MQ(),OW=5;function AQ(t){const{autoComplete:e=!1,autoHighlight:n=!1,autoSelect:r=!1,blurOnSelect:i=!1,disabled:s,clearOnBlur:o=!t.freeSolo,clearOnEscape:a=!1,componentName:l="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:u=!1,disableCloseOnSelect:d=!1,disabledItemsFocusable:f=!1,disableListWrap:p=!1,filterOptions:g=Zxe,filterSelectedOptions:v=!1,freeSolo:y=!1,getOptionDisabled:x,getOptionLabel:w=ce=>{var ge;return(ge=ce.label)!=null?ge:ce},isOptionEqualToValue:b=(ce,ge)=>ce===ge,groupBy:T,handleHomeEndKeys:E=!t.freeSolo,id:P,includeInputInList:L=!1,inputValue:R,multiple:F=!1,onChange:O,onClose:G,onHighlightChange:Z,onInputChange:V,onOpen:U,open:j,openOnFocus:W=!1,options:X,readOnly:B=!1,selectOnFocus:H=!t.freeSolo,value:q}=t,ee=bc(P);let J=w;J=ce=>{const ge=w(ce);return typeof ge!="string"?String(ge):ge};const de=N.exports.useRef(!1),ye=N.exports.useRef(!0),Ce=N.exports.useRef(null),oe=N.exports.useRef(null),[He,Ae]=N.exports.useState(null),[Ne,Se]=N.exports.useState(-1),Ze=n?0:-1,we=N.exports.useRef(Ze),[ve,Ue]=Po({controlled:q,default:c,name:l}),[Qe,ze]=Po({controlled:R,default:"",name:l,state:"inputValue"}),[st,vt]=N.exports.useState(!1),mt=N.exports.useCallback((ce,ge)=>{if(!(F?ve.length<ge.length:ge!==null)&&!o)return;let bt;if(F)bt="";else if(ge==null)bt="";else{const Dt=J(ge);bt=typeof Dt=="string"?Dt:""}Qe!==bt&&(ze(bt),V&&V(ce,bt,"reset"))},[J,Qe,F,V,ze,o,ve]),St=N.exports.useRef();N.exports.useEffect(()=>{const ce=ve!==St.current;St.current=ve,!(st&&!ce)&&(y&&!ce||mt(null,ve))},[ve,mt,st,St,y]);const[It,te]=Po({controlled:j,default:!1,name:l,state:"open"}),[Q,ue]=N.exports.useState(!0),Re=!F&&ve!=null&&Qe===J(ve),Le=It&&!B,Pe=Le?g(X.filter(ce=>!(v&&(F?ve:[ve]).some(ge=>ge!==null&&b(ce,ge)))),{inputValue:Re&&Q?"":Qe,getOptionLabel:J}):[],xe=It&&Pe.length>0&&!B,me=Ar(ce=>{ce===-1?Ce.current.focus():He.querySelector(`[data-tag-index="${ce}"]`).focus()});N.exports.useEffect(()=>{F&&Ne>ve.length-1&&(Se(-1),me(-1))},[ve,F,Ne,me]);function Ee(ce,ge){if(!oe.current||ce===-1)return-1;let dt=ce;for(;;){if(ge==="next"&&dt===Pe.length||ge==="previous"&&dt===-1)return-1;const bt=oe.current.querySelector(`[data-option-index="${dt}"]`),Dt=f?!1:!bt||bt.disabled||bt.getAttribute("aria-disabled")==="true";if(bt&&!bt.hasAttribute("tabindex")||Dt)dt+=ge==="next"?1:-1;else return dt}}const Oe=Ar(({event:ce,index:ge,reason:dt="auto"})=>{if(we.current=ge,ge===-1?Ce.current.removeAttribute("aria-activedescendant"):Ce.current.setAttribute("aria-activedescendant",`${ee}-option-${ge}`),Z&&Z(ce,ge===-1?null:Pe[ge],dt),!oe.current)return;const bt=oe.current.querySelector('[role="option"].Mui-focused');bt&&(bt.classList.remove("Mui-focused"),bt.classList.remove("Mui-focusVisible"));const Dt=oe.current.parentElement.querySelector('[role="listbox"]');if(!Dt)return;if(ge===-1){Dt.scrollTop=0;return}const Wt=oe.current.querySelector(`[data-option-index="${ge}"]`);if(!!Wt&&(Wt.classList.add("Mui-focused"),dt==="keyboard"&&Wt.classList.add("Mui-focusVisible"),Dt.scrollHeight>Dt.clientHeight&&dt!=="mouse")){const Yt=Wt,tn=Dt.clientHeight+Dt.scrollTop,gn=Yt.offsetTop+Yt.offsetHeight;gn>tn?Dt.scrollTop=gn-Dt.clientHeight:Yt.offsetTop-Yt.offsetHeight*(T?1.3:0)<Dt.scrollTop&&(Dt.scrollTop=Yt.offsetTop-Yt.offsetHeight*(T?1.3:0))}}),qe=Ar(({event:ce,diff:ge,direction:dt="next",reason:bt="auto"})=>{if(!Le)return;const Wt=Ee((()=>{const Yt=Pe.length-1;if(ge==="reset")return Ze;if(ge==="start")return 0;if(ge==="end")return Yt;const tn=we.current+ge;return tn<0?tn===-1&&L?-1:p&&we.current!==-1||Math.abs(ge)>1?0:Yt:tn>Yt?tn===Yt+1&&L?-1:p||Math.abs(ge)>1?Yt:0:tn})(),dt);if(Oe({index:Wt,reason:bt,event:ce}),e&&ge!=="reset")if(Wt===-1)Ce.current.value=Qe;else{const Yt=J(Pe[Wt]);Ce.current.value=Yt,Yt.toLowerCase().indexOf(Qe.toLowerCase())===0&&Qe.length>0&&Ce.current.setSelectionRange(Qe.length,Yt.length)}}),le=N.exports.useCallback(()=>{if(!Le)return;const ce=F?ve[0]:ve;if(Pe.length===0||ce==null){qe({diff:"reset"});return}if(!!oe.current){if(ce!=null){const ge=Pe[we.current];if(F&&ge&&q2(ve,bt=>b(ge,bt))!==-1)return;const dt=q2(Pe,bt=>b(bt,ce));dt===-1?qe({diff:"reset"}):Oe({index:dt});return}if(we.current>=Pe.length-1){Oe({index:Pe.length-1});return}Oe({index:we.current})}},[Pe.length,F?!1:ve,v,qe,Oe,Le,Qe,F]),at=Ar(ce=>{lg(oe,ce),ce&&le()});N.exports.useEffect(()=>{le()},[le]);const et=ce=>{It||(te(!0),ue(!0),U&&U(ce))},Vt=(ce,ge)=>{!It||(te(!1),G&&G(ce,ge))},Et=(ce,ge,dt,bt)=>{if(Array.isArray(ve)){if(ve.length===ge.length&&ve.every((Dt,Wt)=>Dt===ge[Wt]))return}else if(ve===ge)return;O&&O(ce,ge,dt,bt),Ue(ge)},Lt=N.exports.useRef(!1),lt=(ce,ge,dt="selectOption",bt="options")=>{let Dt=dt,Wt=ge;if(F){Wt=Array.isArray(ve)?ve.slice():[];const Yt=q2(Wt,tn=>b(ge,tn));Yt===-1?Wt.push(ge):bt!=="freeSolo"&&(Wt.splice(Yt,1),Dt="removeOption")}mt(ce,Wt),Et(ce,Wt,Dt,{option:ge}),!d&&!ce.ctrlKey&&!ce.metaKey&&Vt(ce,Dt),(i===!0||i==="touch"&&Lt.current||i==="mouse"&&!Lt.current)&&Ce.current.blur()};function Ft(ce,ge){if(ce===-1)return-1;let dt=ce;for(;;){if(ge==="next"&&dt===ve.length||ge==="previous"&&dt===-1)return-1;const bt=He.querySelector(`[data-tag-index="${dt}"]`);if(!bt||!bt.hasAttribute("tabindex")||bt.disabled||bt.getAttribute("aria-disabled")==="true")dt+=ge==="next"?1:-1;else return dt}}const mn=(ce,ge)=>{if(!F)return;Vt(ce,"toggleInput");let dt=Ne;Ne===-1?Qe===""&&ge==="previous"&&(dt=ve.length-1):(dt+=ge==="next"?1:-1,dt<0&&(dt=0),dt===ve.length&&(dt=-1)),dt=Ft(dt,ge),Se(dt),me(dt)},en=ce=>{de.current=!0,ze(""),V&&V(ce,"","clear"),Et(ce,F?[]:null,"clear")},jn=ce=>ge=>{if(ce.onKeyDown&&ce.onKeyDown(ge),!ge.defaultMuiPrevented&&(Ne!==-1&&["ArrowLeft","ArrowRight"].indexOf(ge.key)===-1&&(Se(-1),me(-1)),ge.which!==229))switch(ge.key){case"Home":Le&&E&&(ge.preventDefault(),qe({diff:"start",direction:"next",reason:"keyboard",event:ge}));break;case"End":Le&&E&&(ge.preventDefault(),qe({diff:"end",direction:"previous",reason:"keyboard",event:ge}));break;case"PageUp":ge.preventDefault(),qe({diff:-OW,direction:"previous",reason:"keyboard",event:ge}),et(ge);break;case"PageDown":ge.preventDefault(),qe({diff:OW,direction:"next",reason:"keyboard",event:ge}),et(ge);break;case"ArrowDown":ge.preventDefault(),qe({diff:1,direction:"next",reason:"keyboard",event:ge}),et(ge);break;case"ArrowUp":ge.preventDefault(),qe({diff:-1,direction:"previous",reason:"keyboard",event:ge}),et(ge);break;case"ArrowLeft":mn(ge,"previous");break;case"ArrowRight":mn(ge,"next");break;case"Enter":if(we.current!==-1&&Le){const dt=Pe[we.current],bt=x?x(dt):!1;if(ge.preventDefault(),bt)return;lt(ge,dt,"selectOption"),e&&Ce.current.setSelectionRange(Ce.current.value.length,Ce.current.value.length)}else y&&Qe!==""&&Re===!1&&(F&&ge.preventDefault(),lt(ge,Qe,"createOption","freeSolo"));break;case"Escape":Le?(ge.preventDefault(),ge.stopPropagation(),Vt(ge,"escape")):a&&(Qe!==""||F&&ve.length>0)&&(ge.preventDefault(),ge.stopPropagation(),en(ge));break;case"Backspace":if(F&&!B&&Qe===""&&ve.length>0){const dt=Ne===-1?ve.length-1:Ne,bt=ve.slice();bt.splice(dt,1),Et(ge,bt,"removeOption",{option:ve[dt]})}break}},jr=ce=>{vt(!0),W&&!de.current&&et(ce)},Ii=ce=>{if(oe.current!==null&&oe.current.parentElement.contains(document.activeElement)){Ce.current.focus();return}vt(!1),ye.current=!0,de.current=!1,r&&we.current!==-1&&Le?lt(ce,Pe[we.current],"blur"):r&&y&&Qe!==""?lt(ce,Qe,"blur","freeSolo"):o&&mt(ce,ve),Vt(ce,"blur")},xn=ce=>{const ge=ce.target.value;Qe!==ge&&(ze(ge),ue(!1),V&&V(ce,ge,"input")),ge===""?!u&&!F&&Et(ce,null,"clear"):et(ce)},cr=ce=>{Oe({event:ce,index:Number(ce.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Yi=()=>{Lt.current=!0},Ss=ce=>{const ge=Number(ce.currentTarget.getAttribute("data-option-index"));lt(ce,Pe[ge],"selectOption"),Lt.current=!1},Nl=ce=>ge=>{const dt=ve.slice();dt.splice(ce,1),Et(ge,dt,"removeOption",{option:ve[ce]})},Pc=ce=>{It?Vt(ce,"toggleInput"):et(ce)},Du=ce=>{ce.target.getAttribute("id")!==ee&&ce.preventDefault()},Ka=()=>{Ce.current.focus(),H&&ye.current&&Ce.current.selectionEnd-Ce.current.selectionStart===0&&Ce.current.select(),ye.current=!1},ie=ce=>{(Qe===""||!It)&&Pc(ce)};let Te=y&&Qe.length>0;Te=Te||(F?ve.length>0:ve!==null);let Fe=Pe;return T&&(Fe=Pe.reduce((ce,ge,dt)=>{const bt=T(ge);return ce.length>0&&ce[ce.length-1].group===bt?ce[ce.length-1].options.push(ge):ce.push({key:dt,index:dt,group:bt,options:[ge]}),ce},[])),s&&st&&Ii(),{getRootProps:(ce={})=>A({"aria-owns":xe?`${ee}-listbox`:null},ce,{onKeyDown:jn(ce),onMouseDown:Du,onClick:Ka}),getInputLabelProps:()=>({id:`${ee}-label`,htmlFor:ee}),getInputProps:()=>({id:ee,value:Qe,onBlur:Ii,onFocus:jr,onChange:xn,onMouseDown:ie,"aria-activedescendant":Le?"":null,"aria-autocomplete":e?"both":"list","aria-controls":xe?`${ee}-listbox`:void 0,"aria-expanded":xe,autoComplete:"off",ref:Ce,autoCapitalize:"none",spellCheck:"false",role:"combobox"}),getClearProps:()=>({tabIndex:-1,onClick:en}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Pc}),getTagProps:({index:ce})=>A({key:ce,"data-tag-index":ce,tabIndex:-1},!B&&{onDelete:Nl(ce)}),getListboxProps:()=>({role:"listbox",id:`${ee}-listbox`,"aria-labelledby":`${ee}-label`,ref:at,onMouseDown:ce=>{ce.preventDefault()}}),getOptionProps:({index:ce,option:ge})=>{const dt=(F?ve:[ve]).some(Dt=>Dt!=null&&b(ge,Dt)),bt=x?x(ge):!1;return{key:J(ge),tabIndex:-1,role:"option",id:`${ee}-option-${ce}`,onMouseOver:cr,onClick:Ss,onTouchStart:Yi,"data-option-index":ce,"aria-disabled":bt,"aria-selected":dt}},id:ee,inputValue:Qe,value:ve,dirty:Te,popupOpen:Le,focused:st||Ne!==-1,anchorEl:He,setAnchorEl:Ae,focusedTag:Ne,groupedOptions:Fe}}function rt(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(n&&n[o]&&s.push(n[o]),s.push(e(o))),s),[]).join(" ")}),r}function ewe(t){const{badgeContent:e,invisible:n=!1,max:r=99,showZero:i=!1}=t,s=ZY({badgeContent:e,max:r});let o=n;n===!1&&e===0&&!i&&(o=!0);const{badgeContent:a,max:l=r}=o?s:t,c=a&&Number(a)>l?`${l}+`:a;return{badgeContent:a,invisible:o,max:l,displayValue:c}}const FW=t=>t,twe=()=>{let t=FW;return{configure(e){t=e},generate(e){return t(e)},reset(){t=FW}}},nwe=twe();var rU=nwe;const rwe={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function tt(t,e){return rwe[e]||`${rU.generate(t)}-${e}`}function nt(t,e){const n={};return e.forEach(r=>{n[r]=tt(t,r)}),n}function iwe(t){return tt("BaseBadge",t)}nt("BaseBadge",["root","badge","invisible"]);const swe=["badgeContent","component","children","className","components","componentsProps","invisible","max","showZero"],owe=t=>{const{invisible:e}=t;return rt({root:["root"],badge:["badge",e&&"invisible"]},iwe,void 0)},awe=N.exports.forwardRef(function(e,n){const{component:r,children:i,className:s,components:o={},componentsProps:a={},max:l=99,showZero:c=!1}=e,u=ke(e,swe),{badgeContent:d,max:f,displayValue:p,invisible:g}=ewe(A({},e,{max:l})),v=A({},e,{badgeContent:d,invisible:g,max:f,showZero:c}),y=owe(v),x=r||o.Root||"span",w=Yo(x,A({},u,a.root),v),b=o.Badge||"span",T=Yo(b,a.badge,v);return Tt(x,A({},w,{ref:n},u,{className:Ie(y.root,w.className,s),children:[i,K(b,A({},T,{className:Ie(y.badge,T.className),children:p}))]}))});var lwe=awe;function BW(t){return t.substring(2).toLowerCase()}function cwe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function RQ(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=N.exports.useRef(!1),a=N.exports.useRef(null),l=N.exports.useRef(!1),c=N.exports.useRef(!1);N.exports.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const u=pn(e.ref,a),d=Ar(g=>{const v=c.current;c.current=!1;const y=pr(a.current);if(!l.current||!a.current||"clientX"in g&&cwe(g,y))return;if(o.current){o.current=!1;return}let x;g.composedPath?x=g.composedPath().indexOf(a.current)>-1:x=!y.documentElement.contains(g.target)||a.current.contains(g.target),!x&&(n||!v)&&i(g)}),f=g=>v=>{c.current=!0;const y=e.props[g];y&&y(v)},p={ref:u};return s!==!1&&(p[s]=f(s)),N.exports.useEffect(()=>{if(s!==!1){const g=BW(s),v=pr(a.current),y=()=>{o.current=!0};return v.addEventListener(g,d),v.addEventListener("touchmove",y),()=>{v.removeEventListener(g,d),v.removeEventListener("touchmove",y)}}},[d,s]),r!==!1&&(p[r]=f(r)),N.exports.useEffect(()=>{if(r!==!1){const g=BW(r),v=pr(a.current);return v.addEventListener(g,d),()=>{v.removeEventListener(g,d)}}},[d,r]),K(N.exports.Fragment,{children:N.exports.cloneElement(e,p)})}var ua="top",El="bottom",Il="right",da="left",iU="auto",AC=[ua,El,Il,da],n_="start",J1="end",uwe="clippingParents",PQ="viewport",Xw="popper",dwe="reference",$W=AC.reduce(function(t,e){return t.concat([e+"-"+n_,e+"-"+J1])},[]),kQ=[].concat(AC,[iU]).reduce(function(t,e){return t.concat([e,e+"-"+n_,e+"-"+J1])},[]),fwe="beforeRead",hwe="read",pwe="afterRead",mwe="beforeMain",gwe="main",vwe="afterMain",ywe="beforeWrite",_we="write",xwe="afterWrite",wwe=[fwe,hwe,pwe,mwe,gwe,vwe,ywe,_we,xwe];function vu(t){return t?(t.nodeName||"").toLowerCase():null}function Mc(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function r_(t){var e=Mc(t).Element;return t instanceof e||t instanceof Element}function yl(t){var e=Mc(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function sU(t){if(typeof ShadowRoot=="undefined")return!1;var e=Mc(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function bwe(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!yl(s)||!vu(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Swe(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!yl(i)||!vu(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}var Cwe={name:"applyStyles",enabled:!0,phase:"write",fn:bwe,effect:Swe,requires:["computeStyles"]};function uu(t){return t.split("-")[0]}var Vm=Math.max,zA=Math.min,i_=Math.round;function s_(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(yl(t)&&e){var s=t.offsetHeight,o=t.offsetWidth;o>0&&(r=i_(n.width)/o||1),s>0&&(i=i_(n.height)/s||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function oU(t){var e=s_(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function LQ(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&sU(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dd(t){return Mc(t).getComputedStyle(t)}function Twe(t){return["table","td","th"].indexOf(vu(t))>=0}function ip(t){return((r_(t)?t.ownerDocument:t.document)||window.document).documentElement}function ek(t){return vu(t)==="html"?t:t.assignedSlot||t.parentNode||(sU(t)?t.host:null)||ip(t)}function UW(t){return!yl(t)||Dd(t).position==="fixed"?null:t.offsetParent}function Ewe(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&yl(t)){var r=Dd(t);if(r.position==="fixed")return null}var i=ek(t);for(sU(i)&&(i=i.host);yl(i)&&["html","body"].indexOf(vu(i))<0;){var s=Dd(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function RC(t){for(var e=Mc(t),n=UW(t);n&&Twe(n)&&Dd(n).position==="static";)n=UW(n);return n&&(vu(n)==="html"||vu(n)==="body"&&Dd(n).position==="static")?e:n||Ewe(t)||e}function aU(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function t1(t,e,n){return Vm(t,zA(e,n))}function Iwe(t,e,n){var r=t1(t,e,n);return r>n?n:r}function DQ(){return{top:0,right:0,bottom:0,left:0}}function NQ(t){return Object.assign({},DQ(),t)}function OQ(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Mwe=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,NQ(typeof e!="number"?e:OQ(e,AC))};function Awe(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=uu(n.placement),l=aU(a),c=[da,Il].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=Mwe(i.padding,n),f=oU(s),p=l==="y"?ua:da,g=l==="y"?El:Il,v=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],x=RC(s),w=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,b=v/2-y/2,T=d[p],E=w-f[u]-d[g],P=w/2-f[u]/2+b,L=t1(T,P,E),R=l;n.modifiersData[r]=(e={},e[R]=L,e.centerOffset=L-P,e)}}function Rwe(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!LQ(e.elements.popper,i)||(e.elements.arrow=i))}var Pwe={name:"arrow",enabled:!0,phase:"main",fn:Awe,effect:Rwe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function o_(t){return t.split("-")[1]}var kwe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lwe(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:i_(e*i)/i||0,y:i_(n*i)/i||0}}function zW(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,f=o.x,p=f===void 0?0:f,g=o.y,v=g===void 0?0:g,y=typeof u=="function"?u({x:p,y:v}):{x:p,y:v};p=y.x,v=y.y;var x=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),b=da,T=ua,E=window;if(c){var P=RC(n),L="clientHeight",R="clientWidth";if(P===Mc(n)&&(P=ip(n),Dd(P).position!=="static"&&a==="absolute"&&(L="scrollHeight",R="scrollWidth")),P=P,i===ua||(i===da||i===Il)&&s===J1){T=El;var F=d&&P===E&&E.visualViewport?E.visualViewport.height:P[L];v-=F-r.height,v*=l?1:-1}if(i===da||(i===ua||i===El)&&s===J1){b=Il;var O=d&&P===E&&E.visualViewport?E.visualViewport.width:P[R];p-=O-r.width,p*=l?1:-1}}var G=Object.assign({position:a},c&&kwe),Z=u===!0?Lwe({x:p,y:v}):{x:p,y:v};if(p=Z.x,v=Z.y,l){var V;return Object.assign({},G,(V={},V[T]=w?"0":"",V[b]=x?"0":"",V.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",V))}return Object.assign({},G,(e={},e[T]=w?v+"px":"",e[b]=x?p+"px":"",e.transform="",e))}function Dwe(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:uu(e.placement),variation:o_(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,zW(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,zW(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var Nwe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Dwe,data:{}},qE={passive:!0};function Owe(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Mc(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,qE)}),a&&l.addEventListener("resize",n.update,qE),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,qE)}),a&&l.removeEventListener("resize",n.update,qE)}}var Fwe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Owe,data:{}},Bwe={left:"right",right:"left",bottom:"top",top:"bottom"};function IM(t){return t.replace(/left|right|bottom|top/g,function(e){return Bwe[e]})}var $we={start:"end",end:"start"};function VW(t){return t.replace(/start|end/g,function(e){return $we[e]})}function lU(t){var e=Mc(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function cU(t){return s_(ip(t)).left+lU(t).scrollLeft}function Uwe(t){var e=Mc(t),n=ip(t),r=e.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,a=0;return r&&(i=r.width,s=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:i,height:s,x:o+cU(t),y:a}}function zwe(t){var e,n=ip(t),r=lU(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Vm(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Vm(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+cU(t),l=-r.scrollTop;return Dd(i||n).direction==="rtl"&&(a+=Vm(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function uU(t){var e=Dd(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function FQ(t){return["html","body","#document"].indexOf(vu(t))>=0?t.ownerDocument.body:yl(t)&&uU(t)?t:FQ(ek(t))}function n1(t,e){var n;e===void 0&&(e=[]);var r=FQ(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Mc(r),o=i?[s].concat(s.visualViewport||[],uU(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(n1(ek(o)))}function YO(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Vwe(t){var e=s_(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function WW(t,e){return e===PQ?YO(Uwe(t)):r_(e)?Vwe(e):YO(zwe(ip(t)))}function Wwe(t){var e=n1(ek(t)),n=["absolute","fixed"].indexOf(Dd(t).position)>=0,r=n&&yl(t)?RC(t):t;return r_(r)?e.filter(function(i){return r_(i)&&LQ(i,r)&&vu(i)!=="body"}):[]}function Hwe(t,e,n){var r=e==="clippingParents"?Wwe(t):[].concat(e),i=[].concat(r,[n]),s=i[0],o=i.reduce(function(a,l){var c=WW(t,l);return a.top=Vm(c.top,a.top),a.right=zA(c.right,a.right),a.bottom=zA(c.bottom,a.bottom),a.left=Vm(c.left,a.left),a},WW(t,s));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function BQ(t){var e=t.reference,n=t.element,r=t.placement,i=r?uu(r):null,s=r?o_(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ua:l={x:o,y:e.y-n.height};break;case El:l={x:o,y:e.y+e.height};break;case Il:l={x:e.x+e.width,y:a};break;case da:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?aU(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case n_:l[c]=l[c]-(e[u]/2-n[u]/2);break;case J1:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Z1(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.boundary,o=s===void 0?uwe:s,a=n.rootBoundary,l=a===void 0?PQ:a,c=n.elementContext,u=c===void 0?Xw:c,d=n.altBoundary,f=d===void 0?!1:d,p=n.padding,g=p===void 0?0:p,v=NQ(typeof g!="number"?g:OQ(g,AC)),y=u===Xw?dwe:Xw,x=t.rects.popper,w=t.elements[f?y:u],b=Hwe(r_(w)?w:w.contextElement||ip(t.elements.popper),o,l),T=s_(t.elements.reference),E=BQ({reference:T,element:x,strategy:"absolute",placement:i}),P=YO(Object.assign({},x,E)),L=u===Xw?P:T,R={top:b.top-L.top+v.top,bottom:L.bottom-b.bottom+v.bottom,left:b.left-L.left+v.left,right:L.right-b.right+v.right},F=t.modifiersData.offset;if(u===Xw&&F){var O=F[i];Object.keys(R).forEach(function(G){var Z=[Il,El].indexOf(G)>=0?1:-1,V=[ua,El].indexOf(G)>=0?"y":"x";R[G]+=O[V]*Z})}return R}function Gwe(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?kQ:l,u=o_(r),d=u?a?$W:$W.filter(function(g){return o_(g)===u}):AC,f=d.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=d);var p=f.reduce(function(g,v){return g[v]=Z1(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[uu(v)],g},{});return Object.keys(p).sort(function(g,v){return p[g]-p[v]})}function jwe(t){if(uu(t)===iU)return[];var e=IM(t);return[VW(t),e,VW(e)]}function qwe(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,v=n.allowedAutoPlacements,y=e.options.placement,x=uu(y),w=x===y,b=l||(w||!g?[IM(y)]:jwe(y)),T=[y].concat(b).reduce(function(ye,Ce){return ye.concat(uu(Ce)===iU?Gwe(e,{placement:Ce,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:v}):Ce)},[]),E=e.rects.reference,P=e.rects.popper,L=new Map,R=!0,F=T[0],O=0;O<T.length;O++){var G=T[O],Z=uu(G),V=o_(G)===n_,U=[ua,El].indexOf(Z)>=0,j=U?"width":"height",W=Z1(e,{placement:G,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),X=U?V?Il:da:V?El:ua;E[j]>P[j]&&(X=IM(X));var B=IM(X),H=[];if(s&&H.push(W[Z]<=0),a&&H.push(W[X]<=0,W[B]<=0),H.every(function(ye){return ye})){F=G,R=!1;break}L.set(G,H)}if(R)for(var q=g?3:1,ee=function(Ce){var oe=T.find(function(He){var Ae=L.get(He);if(Ae)return Ae.slice(0,Ce).every(function(Ne){return Ne})});if(oe)return F=oe,"break"},J=q;J>0;J--){var de=ee(J);if(de==="break")break}e.placement!==F&&(e.modifiersData[r]._skip=!0,e.placement=F,e.reset=!0)}}var Kwe={name:"flip",enabled:!0,phase:"main",fn:qwe,requiresIfExists:["offset"],data:{_skip:!1}};function HW(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function GW(t){return[ua,Il,El,da].some(function(e){return t[e]>=0})}function Xwe(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Z1(e,{elementContext:"reference"}),a=Z1(e,{altBoundary:!0}),l=HW(o,r),c=HW(a,i,s),u=GW(l),d=GW(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Ywe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xwe};function Qwe(t,e,n){var r=uu(t),i=[da,ua].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[da,Il].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Jwe(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=kQ.reduce(function(u,d){return u[d]=Qwe(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}var Zwe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jwe};function ebe(t){var e=t.state,n=t.name;e.modifiersData[n]=BQ({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var tbe={name:"popperOffsets",enabled:!0,phase:"read",fn:ebe,data:{}};function nbe(t){return t==="x"?"y":"x"}function rbe(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=f===void 0?!0:f,g=n.tetherOffset,v=g===void 0?0:g,y=Z1(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),x=uu(e.placement),w=o_(e.placement),b=!w,T=aU(x),E=nbe(T),P=e.modifiersData.popperOffsets,L=e.rects.reference,R=e.rects.popper,F=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,O=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),G=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Z={x:0,y:0};if(!!P){if(s){var V,U=T==="y"?ua:da,j=T==="y"?El:Il,W=T==="y"?"height":"width",X=P[T],B=X+y[U],H=X-y[j],q=p?-R[W]/2:0,ee=w===n_?L[W]:R[W],J=w===n_?-R[W]:-L[W],de=e.elements.arrow,ye=p&&de?oU(de):{width:0,height:0},Ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DQ(),oe=Ce[U],He=Ce[j],Ae=t1(0,L[W],ye[W]),Ne=b?L[W]/2-q-Ae-oe-O.mainAxis:ee-Ae-oe-O.mainAxis,Se=b?-L[W]/2+q+Ae+He+O.mainAxis:J+Ae+He+O.mainAxis,Ze=e.elements.arrow&&RC(e.elements.arrow),we=Ze?T==="y"?Ze.clientTop||0:Ze.clientLeft||0:0,ve=(V=G==null?void 0:G[T])!=null?V:0,Ue=X+Ne-ve-we,Qe=X+Se-ve,ze=t1(p?zA(B,Ue):B,X,p?Vm(H,Qe):H);P[T]=ze,Z[T]=ze-X}if(a){var st,vt=T==="x"?ua:da,mt=T==="x"?El:Il,St=P[E],It=E==="y"?"height":"width",te=St+y[vt],Q=St-y[mt],ue=[ua,da].indexOf(x)!==-1,Re=(st=G==null?void 0:G[E])!=null?st:0,Le=ue?te:St-L[It]-R[It]-Re+O.altAxis,Pe=ue?St+L[It]+R[It]-Re-O.altAxis:Q,xe=p&&ue?Iwe(Le,St,Pe):t1(p?Le:te,St,p?Pe:Q);P[E]=xe,Z[E]=xe-St}e.modifiersData[r]=Z}}var ibe={name:"preventOverflow",enabled:!0,phase:"main",fn:rbe,requiresIfExists:["offset"]};function sbe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function obe(t){return t===Mc(t)||!yl(t)?lU(t):sbe(t)}function abe(t){var e=t.getBoundingClientRect(),n=i_(e.width)/t.offsetWidth||1,r=i_(e.height)/t.offsetHeight||1;return n!==1||r!==1}function lbe(t,e,n){n===void 0&&(n=!1);var r=yl(e),i=yl(e)&&abe(e),s=ip(e),o=s_(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((vu(e)!=="body"||uU(s))&&(a=obe(e)),yl(e)?(l=s_(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=cU(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function cbe(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function ube(t){var e=cbe(t);return wwe.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function dbe(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function fbe(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var jW={placement:"bottom",modifiers:[],strategy:"absolute"};function qW(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hbe(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?jW:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},jW,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],f=!1,p={state:u,setOptions:function(x){var w=typeof x=="function"?x(u.options):x;v(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:r_(a)?n1(a):a.contextElement?n1(a.contextElement):[],popper:n1(l)};var b=ube(fbe([].concat(r,u.options.modifiers)));return u.orderedModifiers=b.filter(function(T){return T.enabled}),g(),p.update()},forceUpdate:function(){if(!f){var x=u.elements,w=x.reference,b=x.popper;if(!!qW(w,b)){u.rects={reference:lbe(w,RC(b),u.options.strategy==="fixed"),popper:oU(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var E=u.orderedModifiers[T],P=E.fn,L=E.options,R=L===void 0?{}:L,F=E.name;typeof P=="function"&&(u=P({state:u,options:R,name:F,instance:p})||u)}}}},update:dbe(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){v(),f=!0}};if(!qW(a,l))return p;p.setOptions(c).then(function(y){!f&&c.onFirstUpdate&&c.onFirstUpdate(y)});function g(){u.orderedModifiers.forEach(function(y){var x=y.name,w=y.options,b=w===void 0?{}:w,T=y.effect;if(typeof T=="function"){var E=T({state:u,name:x,instance:p,options:b}),P=function(){};d.push(E||P)}})}function v(){d.forEach(function(y){return y()}),d=[]}return p}}var pbe=[Fwe,tbe,Nwe,Cwe,Zwe,Kwe,ibe,Pwe,Ywe],mbe=hbe({defaultModifiers:pbe});function gbe(t){return typeof t=="function"?t():t}const vbe=N.exports.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=N.exports.useState(null),l=pn(N.exports.isValidElement(r)?r.ref:null,n);return Hi(()=>{s||a(gbe(i)||document.body)},[i,s]),Hi(()=>{if(o&&!s)return lg(n,o),()=>{lg(n,null)}},[n,o,s]),s?N.exports.isValidElement(r)?N.exports.cloneElement(r,{ref:l}):r:o&&cP.exports.createPortal(r,o)});var dU=vbe;const ybe=["anchorEl","children","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],_be=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function xbe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function QO(t){return typeof t=="function"?t():t}const wbe={},bbe=N.exports.forwardRef(function(e,n){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:a,open:l,placement:c,popperOptions:u,popperRef:d,TransitionProps:f}=e,p=ke(e,ybe),g=N.exports.useRef(null),v=pn(g,n),y=N.exports.useRef(null),x=pn(y,d),w=N.exports.useRef(x);Hi(()=>{w.current=x},[x]),N.exports.useImperativeHandle(d,()=>y.current,[]);const b=xbe(c,s),[T,E]=N.exports.useState(b);N.exports.useEffect(()=>{y.current&&y.current.forceUpdate()}),Hi(()=>{if(!r||!l)return;const L=O=>{E(O.placement)};QO(r);let R=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:O})=>{L(O)}}];a!=null&&(R=R.concat(a)),u&&u.modifiers!=null&&(R=R.concat(u.modifiers));const F=mbe(QO(r),g.current,A({placement:b},u,{modifiers:R}));return w.current(F),()=>{F.destroy(),w.current(null)}},[r,o,a,l,u,b]);const P={placement:T};return f!==null&&(P.TransitionProps=f),K("div",A({ref:v,role:"tooltip"},p,{children:typeof i=="function"?i(P):i}))}),Sbe=N.exports.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:u,placement:d="bottom",popperOptions:f=wbe,popperRef:p,style:g,transition:v=!1}=e,y=ke(e,_be),[x,w]=N.exports.useState(!0),b=()=>{w(!1)},T=()=>{w(!0)};if(!l&&!u&&(!v||x))return null;const E=s||(r?pr(QO(r)).body:void 0);return K(dU,{disablePortal:a,container:E,children:K(bbe,A({anchorEl:r,direction:o,disablePortal:a,modifiers:c,ref:n,open:v?!x:u,placement:d,popperOptions:f,popperRef:p},y,{style:A({position:"fixed",top:0,left:0,display:!u&&l&&(!v||x)?"none":null},g),TransitionProps:v?{in:u,onEnter:b,onExited:T}:null,children:i}))})});var Cbe=Sbe;function Tbe(t){const e=pr(t);return e.body===t?Os(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function r1(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function KW(t){return parseInt(Os(t).getComputedStyle(t).paddingRight,10)||0}function XW(t,e,n,r=[],i){const s=[e,n,...r],o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,a=>{s.indexOf(a)===-1&&o.indexOf(a.tagName)===-1&&r1(a,i)})}function K2(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Ebe(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Tbe(r)){const l=QY(pr(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${KW(r)+l}px`;const c=pr(r).querySelectorAll(".mui-fixed");[].forEach.call(c,u=>{n.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${KW(u)+l}px`})}const s=r.parentElement,o=Os(r),a=(s==null?void 0:s.nodeName)==="HTML"&&o.getComputedStyle(s).overflowY==="scroll"?s:r;n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Ibe(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class $Q{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&r1(e.modalRef,!1);const i=Ibe(n);XW(n,e.mount,e.modalRef,i,!0);const s=K2(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=K2(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Ebe(i,n))}remove(e){const n=this.modals.indexOf(e);if(n===-1)return n;const r=K2(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&r1(e.modalRef,!0),XW(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const s=i.modals[i.modals.length-1];s.modalRef&&r1(s.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const Mbe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Abe(t){const e=parseInt(t.getAttribute("tabindex"),10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function Rbe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function Pbe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Rbe(t))}function kbe(t){const e=[],n=[];return Array.from(t.querySelectorAll(Mbe)).forEach((r,i)=>{const s=Abe(r);s===-1||!Pbe(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function Lbe(){return!0}function Dbe(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=kbe,isEnabled:o=Lbe,open:a}=t,l=N.exports.useRef(),c=N.exports.useRef(null),u=N.exports.useRef(null),d=N.exports.useRef(null),f=N.exports.useRef(null),p=N.exports.useRef(!1),g=N.exports.useRef(null),v=pn(e.ref,g),y=N.exports.useRef(null);N.exports.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),N.exports.useEffect(()=>{if(!a||!g.current)return;const b=pr(g.current);return g.current.contains(b.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex",-1),p.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),N.exports.useEffect(()=>{if(!a||!g.current)return;const b=pr(g.current),T=L=>{const{current:R}=g;if(R!==null){if(!b.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!R.contains(b.activeElement)){if(L&&f.current!==L.target||b.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!p.current)return;let G=[];if((b.activeElement===c.current||b.activeElement===u.current)&&(G=s(g.current)),G.length>0){var F,O;const Z=Boolean(((F=y.current)==null?void 0:F.shiftKey)&&((O=y.current)==null?void 0:O.key)==="Tab"),V=G[0],U=G[G.length-1];Z?U.focus():V.focus()}else R.focus()}}},E=L=>{y.current=L,!(r||!o()||L.key!=="Tab")&&b.activeElement===g.current&&L.shiftKey&&(l.current=!0,u.current.focus())};b.addEventListener("focusin",T),b.addEventListener("keydown",E,!0);const P=setInterval(()=>{b.activeElement.tagName==="BODY"&&T()},50);return()=>{clearInterval(P),b.removeEventListener("focusin",T),b.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const x=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0,f.current=b.target;const T=e.props.onFocus;T&&T(b)},w=b=>{d.current===null&&(d.current=b.relatedTarget),p.current=!0};return Tt(N.exports.Fragment,{children:[K("div",{tabIndex:0,onFocus:w,ref:c,"data-test":"sentinelStart"}),N.exports.cloneElement(e,{ref:v,onFocus:x}),K("div",{tabIndex:0,onFocus:w,ref:u,"data-test":"sentinelEnd"})]})}function UQ(t){return tt("MuiModal",t)}const Nbe=nt("MuiModal",["root","hidden"]);var zQ=Nbe;const Obe=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"],Fbe=t=>{const{open:e,exited:n,classes:r}=t;return rt({root:["root",!e&&n&&"hidden"]},UQ,r)};function Bbe(t){return typeof t=="function"?t():t}function $be(t){return t.children?t.children.props.hasOwnProperty("in"):!1}const Ube=new $Q,zbe=N.exports.forwardRef(function(e,n){const{BackdropComponent:r,BackdropProps:i,children:s,classes:o,className:a,closeAfterTransition:l=!1,component:c="div",components:u={},componentsProps:d={},container:f,disableAutoFocus:p=!1,disableEnforceFocus:g=!1,disableEscapeKeyDown:v=!1,disablePortal:y=!1,disableRestoreFocus:x=!1,disableScrollLock:w=!1,hideBackdrop:b=!1,keepMounted:T=!1,manager:E=Ube,onBackdropClick:P,onClose:L,onKeyDown:R,open:F,theme:O,onTransitionEnter:G,onTransitionExited:Z}=e,V=ke(e,Obe),[U,j]=N.exports.useState(!0),W=N.exports.useRef({}),X=N.exports.useRef(null),B=N.exports.useRef(null),H=pn(B,n),q=$be(e),ee=()=>pr(X.current),J=()=>(W.current.modalRef=B.current,W.current.mountNode=X.current,W.current),de=()=>{E.mount(J(),{disableScrollLock:w}),B.current.scrollTop=0},ye=Ar(()=>{const st=Bbe(f)||ee().body;E.add(J(),st),B.current&&de()}),Ce=N.exports.useCallback(()=>E.isTopModal(J()),[E]),oe=Ar(st=>{X.current=st,st&&(F&&Ce()?de():r1(B.current,!0))}),He=N.exports.useCallback(()=>{E.remove(J())},[E]);N.exports.useEffect(()=>()=>{He()},[He]),N.exports.useEffect(()=>{F?ye():(!q||!l)&&He()},[F,He,q,l,ye]);const Ae=A({},e,{classes:o,closeAfterTransition:l,disableAutoFocus:p,disableEnforceFocus:g,disableEscapeKeyDown:v,disablePortal:y,disableRestoreFocus:x,disableScrollLock:w,exited:U,hideBackdrop:b,keepMounted:T}),Ne=Fbe(Ae);if(!T&&!F&&(!q||U))return null;const Se=()=>{j(!1),G&&G()},Ze=()=>{j(!0),Z&&Z(),l&&He()},we=st=>{st.target===st.currentTarget&&(P&&P(st),L&&L(st,"backdropClick"))},ve=st=>{R&&R(st),!(st.key!=="Escape"||!Ce())&&(v||(st.stopPropagation(),L&&L(st,"escapeKeyDown")))},Ue={};s.props.tabIndex===void 0&&(Ue.tabIndex="-1"),q&&(Ue.onEnter=Y1(Se,s.props.onEnter),Ue.onExited=Y1(Ze,s.props.onExited));const Qe=u.Root||c,ze=d.root||{};return K(dU,{ref:oe,container:f,disablePortal:y,children:Tt(Qe,A({role:"presentation"},ze,!na(Qe)&&{as:c,ownerState:A({},Ae,ze.ownerState),theme:O},V,{ref:H,onKeyDown:ve,className:Ie(Ne.root,ze.className,a),children:[!b&&r?K(r,A({"aria-hidden":!0,open:F,onClick:we},i)):null,K(Dbe,{disableEnforceFocus:g,disableAutoFocus:p,disableRestoreFocus:x,isEnabled:Ce,open:F,children:N.exports.cloneElement(s,Ue)})]}))})});var Vbe=zbe;function VQ(t){const{children:e,defer:n=!1,fallback:r=null}=t,[i,s]=N.exports.useState(!1);return Hi(()=>{n||s(!0)},[n]),N.exports.useEffect(()=>{n&&s(!0)},[n]),K(N.exports.Fragment,{children:i?e:r})}function Pb(t){return tt("MuiSlider",t)}const Wbe=nt("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);var MM=Wbe;const Hbe=t=>{const{open:e}=t;return{offset:Ie(e&&MM.valueLabelOpen),circle:MM.valueLabelCircle,label:MM.valueLabelLabel}};function WQ(t){const{children:e,className:n,value:r,theme:i}=t,s=Hbe(t);return N.exports.cloneElement(e,{className:Ie(e.props.className)},Tt(N.exports.Fragment,{children:[e.props.children,K("span",{className:Ie(s.offset,n),theme:i,"aria-hidden":!0,children:K("span",{className:s.circle,children:K("span",{className:s.label,children:r})})})]}))}const Gbe=2;function HQ(t,e){return t-e}function Yw(t,e,n){return t==null?e:Math.min(Math.max(e,t),n)}function YW(t,e){var n;const{index:r}=(n=t.reduce((i,s,o)=>{const a=Math.abs(e-s);return i===null||a<i.distance||a===i.distance?{distance:a,index:o}:i},null))!=null?n:{};return r}function KE(t,e){if(e.current!==void 0&&t.changedTouches){const n=t;for(let r=0;r<n.changedTouches.length;r+=1){const i=n.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function VA(t,e,n){return(t-e)*100/(n-e)}function jbe(t,e,n){return(n-e)*t+e}function qbe(t){if(Math.abs(t)<1){const n=t.toExponential().split("e-"),r=n[0].split(".")[1];return(r?r.length:0)+parseInt(n[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function Kbe(t,e,n){const r=Math.round((t-n)/e)*e+n;return Number(r.toFixed(qbe(e)))}function QW({values:t,newValue:e,index:n}){const r=t.slice();return r[n]=e,r.sort(HQ)}function XE({sliderRef:t,activeIndex:e,setActive:n}){var r,i;const s=pr(t.current);if(!((r=t.current)!=null&&r.contains(s.activeElement))||Number(s==null||(i=s.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector(`[type="range"][data-index="${e}"]`).focus()}n&&n(e)}const Xbe={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Ybe=t=>t;let YE;function X2(){return YE===void 0&&(typeof CSS!="undefined"&&typeof CSS.supports=="function"?YE=CSS.supports("touch-action","none"):YE=!0),YE}function Qbe(t){const{ref:e,"aria-labelledby":n,defaultValue:r,disableSwap:i=!1,disabled:s=!1,marks:o=!1,max:a=100,min:l=0,name:c,onChange:u,onChangeCommitted:d,orientation:f="horizontal",scale:p=Ybe,step:g=1,tabIndex:v,value:y,isRtl:x=!1}=t,w=N.exports.useRef(),[b,T]=N.exports.useState(-1),[E,P]=N.exports.useState(-1),[L,R]=N.exports.useState(!1),F=N.exports.useRef(0),[O,G]=Po({controlled:y,default:r!=null?r:l,name:"Slider"}),Z=u&&((ue,Re,Le)=>{const Pe=ue.nativeEvent||ue,xe=new Pe.constructor(Pe.type,Pe);Object.defineProperty(xe,"target",{writable:!0,value:{value:Re,name:c}}),u(xe,Re,Le)}),V=Array.isArray(O);let U=V?O.slice().sort(HQ):[O];U=U.map(ue=>Yw(ue,l,a));const j=o===!0&&g!==null?[...Array(Math.floor((a-l)/g)+1)].map((ue,Re)=>({value:l+g*Re})):o||[],W=j.map(ue=>ue.value),{isFocusVisibleRef:X,onBlur:B,onFocus:H,ref:q}=Gg(),[ee,J]=N.exports.useState(-1),de=N.exports.useRef(),ye=pn(q,de),Ce=pn(e,ye),oe=ue=>Re=>{var Le;const Pe=Number(Re.currentTarget.getAttribute("data-index"));H(Re),X.current===!0&&J(Pe),P(Pe),ue==null||(Le=ue.onFocus)==null||Le.call(ue,Re)},He=ue=>Re=>{var Le;B(Re),X.current===!1&&J(-1),P(-1),ue==null||(Le=ue.onBlur)==null||Le.call(ue,Re)};Hi(()=>{if(s&&de.current.contains(document.activeElement)){var ue;(ue=document.activeElement)==null||ue.blur()}},[s]),s&&b!==-1&&T(-1),s&&ee!==-1&&J(-1);const Ae=ue=>Re=>{var Le;(Le=ue.onChange)==null||Le.call(ue,Re);const Pe=Number(Re.currentTarget.getAttribute("data-index")),xe=U[Pe],me=W.indexOf(xe);let Ee=Re.target.valueAsNumber;if(j&&g==null&&(Ee=Ee<xe?W[me-1]:W[me+1]),Ee=Yw(Ee,l,a),j&&g==null){const Oe=W.indexOf(U[Pe]);Ee=Ee<U[Pe]?W[Oe-1]:W[Oe+1]}if(V){i&&(Ee=Yw(Ee,U[Pe-1]||-1/0,U[Pe+1]||1/0));const Oe=Ee;Ee=QW({values:U,newValue:Ee,index:Pe});let qe=Pe;i||(qe=Ee.indexOf(Oe)),XE({sliderRef:de,activeIndex:qe})}G(Ee),J(Pe),Z&&Z(Re,Ee,Pe),d&&d(Re,Ee)},Ne=N.exports.useRef();let Se=f;x&&f==="horizontal"&&(Se+="-reverse");const Ze=({finger:ue,move:Re=!1,values:Le})=>{const{current:Pe}=de,{width:xe,height:me,bottom:Ee,left:Oe}=Pe.getBoundingClientRect();let qe;Se.indexOf("vertical")===0?qe=(Ee-ue.y)/me:qe=(ue.x-Oe)/xe,Se.indexOf("-reverse")!==-1&&(qe=1-qe);let le;if(le=jbe(qe,l,a),g)le=Kbe(le,g,l);else{const et=YW(W,le);le=W[et]}le=Yw(le,l,a);let at=0;if(V){Re?at=Ne.current:at=YW(Le,le),i&&(le=Yw(le,Le[at-1]||-1/0,Le[at+1]||1/0));const et=le;le=QW({values:Le,newValue:le,index:at}),i&&Re||(at=le.indexOf(et),Ne.current=at)}return{newValue:le,activeIndex:at}},we=Ar(ue=>{const Re=KE(ue,w);if(!Re)return;if(F.current+=1,ue.type==="mousemove"&&ue.buttons===0){ve(ue);return}const{newValue:Le,activeIndex:Pe}=Ze({finger:Re,move:!0,values:U});XE({sliderRef:de,activeIndex:Pe,setActive:T}),G(Le),!L&&F.current>Gbe&&R(!0),Z&&Z(ue,Le,Pe)}),ve=Ar(ue=>{const Re=KE(ue,w);if(R(!1),!Re)return;const{newValue:Le}=Ze({finger:Re,values:U});T(-1),ue.type==="touchend"&&P(-1),d&&d(ue,Le),w.current=void 0,Qe()}),Ue=Ar(ue=>{if(s)return;X2()||ue.preventDefault();const Re=ue.changedTouches[0];Re!=null&&(w.current=Re.identifier);const Le=KE(ue,w);if(Le!==!1){const{newValue:xe,activeIndex:me}=Ze({finger:Le,values:U});XE({sliderRef:de,activeIndex:me,setActive:T}),G(xe),Z&&Z(ue,xe,me)}F.current=0;const Pe=pr(de.current);Pe.addEventListener("touchmove",we),Pe.addEventListener("touchend",ve)}),Qe=N.exports.useCallback(()=>{const ue=pr(de.current);ue.removeEventListener("mousemove",we),ue.removeEventListener("mouseup",ve),ue.removeEventListener("touchmove",we),ue.removeEventListener("touchend",ve)},[ve,we]);N.exports.useEffect(()=>{const{current:ue}=de;return ue.addEventListener("touchstart",Ue,{passive:X2()}),()=>{ue.removeEventListener("touchstart",Ue,{passive:X2()}),Qe()}},[Qe,Ue]),N.exports.useEffect(()=>{s&&Qe()},[s,Qe]);const ze=ue=>Re=>{var Le;if((Le=ue.onMouseDown)==null||Le.call(ue,Re),s||Re.defaultPrevented||Re.button!==0)return;Re.preventDefault();const Pe=KE(Re,w);if(Pe!==!1){const{newValue:me,activeIndex:Ee}=Ze({finger:Pe,values:U});XE({sliderRef:de,activeIndex:Ee,setActive:T}),G(me),Z&&Z(Re,me,Ee)}F.current=0;const xe=pr(de.current);xe.addEventListener("mousemove",we),xe.addEventListener("mouseup",ve)},st=VA(V?U[0]:l,l,a),vt=VA(U[U.length-1],l,a)-st,mt=ue=>{const Re={onMouseDown:ze(ue||{})},Le=A({},ue,Re);return A({ref:Ce},Le)},St=ue=>Re=>{var Le;(Le=ue.onMouseOver)==null||Le.call(ue,Re);const Pe=Number(Re.currentTarget.getAttribute("data-index"));P(Pe)},It=ue=>Re=>{var Le;(Le=ue.onMouseLeave)==null||Le.call(ue,Re),P(-1)};return{axis:Se,axisProps:Xbe,getRootProps:mt,getHiddenInputProps:ue=>{const Re={onChange:Ae(ue||{}),onFocus:oe(ue||{}),onBlur:He(ue||{})},Le=A({},ue,Re);return A({tabIndex:v,"aria-labelledby":n,"aria-orientation":f,"aria-valuemax":p(a),"aria-valuemin":p(l),name:c,type:"range",min:t.min,max:t.max,step:t.step,disabled:s},Le,{style:A({},eQ,{direction:x?"rtl":"ltr",width:"100%",height:"100%"})})},getThumbProps:ue=>{const Re={onMouseOver:St(ue||{}),onMouseLeave:It(ue||{})},Le=A({},ue,Re);return A({},Le)},dragging:L,marks:j,values:U,active:b,focusVisible:ee,open:E,range:V,trackOffset:st,trackLeap:vt}}const Jbe=["aria-label","aria-valuetext","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"],JW=t=>t,Zbe=t=>{const{disabled:e,dragging:n,marked:r,orientation:i,track:s,classes:o}=t;return rt({root:["root",e&&"disabled",n&&"dragging",r&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]},Pb,o)},e1e=({children:t})=>t,t1e=N.exports.forwardRef(function(e,n){var r,i,s,o,a,l,c;const{"aria-label":u,"aria-valuetext":d,className:f,component:p,classes:g,disableSwap:v=!1,disabled:y=!1,getAriaLabel:x,getAriaValueText:w,marks:b=!1,max:T=100,min:E=0,onMouseDown:P,orientation:L="horizontal",scale:R=JW,step:F=1,track:O="normal",valueLabelDisplay:G="off",valueLabelFormat:Z=JW,isRtl:V=!1,components:U={},componentsProps:j={}}=e,W=ke(e,Jbe),X=A({},e,{mark:b,classes:g,disabled:y,isRtl:V,max:T,min:E,orientation:L,scale:R,step:F,track:O,valueLabelDisplay:G,valueLabelFormat:Z}),{axisProps:B,getRootProps:H,getHiddenInputProps:q,getThumbProps:ee,open:J,active:de,axis:ye,range:Ce,focusVisible:oe,dragging:He,marks:Ae,values:Ne,trackOffset:Se,trackLeap:Ze}=Qbe(A({},X,{ref:n}));X.marked=Ae.length>0&&Ae.some(Oe=>Oe.label),X.dragging=He;const we=(r=p!=null?p:U.Root)!=null?r:"span",ve=Yo(we,A({},W,j.root),X),Ue=(i=U.Rail)!=null?i:"span",Qe=Yo(Ue,j.rail,X),ze=(s=U.Track)!=null?s:"span",st=Yo(ze,j.track,X),vt=A({},B[ye].offset(Se),B[ye].leap(Ze)),mt=(o=U.Thumb)!=null?o:"span",St=Yo(mt,j.thumb,X),It=(a=U.ValueLabel)!=null?a:WQ,te=Yo(It,j.valueLabel,X),Q=(l=U.Mark)!=null?l:"span",ue=Yo(Q,j.mark,X),Re=(c=U.MarkLabel)!=null?c:"span",Le=Yo(Re,j.markLabel,X),Pe=U.Input||"input",xe=Yo(Pe,j.input,X),me=q(),Ee=Zbe(X);return Tt(we,A({},ve,H({onMouseDown:P}),{className:Ie(Ee.root,ve.className,f),children:[K(Ue,A({},Qe,{className:Ie(Ee.rail,Qe.className)})),K(ze,A({},st,{className:Ie(Ee.track,st.className),style:A({},vt,st.style)})),Ae.map((Oe,qe)=>{const le=VA(Oe.value,E,T),at=B[ye].offset(le);let et;return O===!1?et=Ne.indexOf(Oe.value)!==-1:et=O==="normal"&&(Ce?Oe.value>=Ne[0]&&Oe.value<=Ne[Ne.length-1]:Oe.value<=Ne[0])||O==="inverted"&&(Ce?Oe.value<=Ne[0]||Oe.value>=Ne[Ne.length-1]:Oe.value>=Ne[0]),Tt(N.exports.Fragment,{children:[K(Q,A({"data-index":qe},ue,!na(Q)&&{markActive:et},{style:A({},at,ue.style),className:Ie(Ee.mark,ue.className,et&&Ee.markActive)})),Oe.label!=null?K(Re,A({"aria-hidden":!0,"data-index":qe},Le,!na(Re)&&{markLabelActive:et},{style:A({},at,Le.style),className:Ie(Ee.markLabel,Le.className,et&&Ee.markLabelActive),children:Oe.label})):null]},Oe.value)}),Ne.map((Oe,qe)=>{const le=VA(Oe,E,T),at=B[ye].offset(le),et=G==="off"?e1e:It;return K(N.exports.Fragment,{children:K(et,A({},!na(et)&&{valueLabelFormat:Z,valueLabelDisplay:G,value:typeof Z=="function"?Z(R(Oe),qe):Z,index:qe,open:J===qe||de===qe||G==="on",disabled:y},te,{className:Ie(Ee.valueLabel,te.className),children:K(mt,A({"data-index":qe},St,ee(),{className:Ie(Ee.thumb,St.className,de===qe&&Ee.active,oe===qe&&Ee.focusVisible)},!na(mt)&&{ownerState:A({},X,St.ownerState)},{style:A({},at,{pointerEvents:v&&de!==qe?"none":void 0},St.style),children:K(Pe,A({},me,{"data-index":qe,"aria-label":x?x(qe):u,"aria-valuenow":R(Oe),"aria-valuetext":w?w(R(Oe),qe):d,value:Ne[qe]},!na(Pe)&&{ownerState:A({},X,xe.ownerState)},xe,{style:A({},me.style,xe.style)}))}))}))},qe)})]}))});var n1e=t1e;const r1e=["onChange","maxRows","minRows","style","value"];function QE(t,e){return parseInt(t[e],10)||0}const i1e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}},s1e=N.exports.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=ke(e,r1e),{current:c}=N.exports.useRef(a!=null),u=N.exports.useRef(null),d=pn(n,u),f=N.exports.useRef(null),p=N.exports.useRef(0),[g,v]=N.exports.useState({}),y=N.exports.useCallback(()=>{const w=u.current,T=Os(w).getComputedStyle(w);if(T.width==="0px")return;const E=f.current;E.style.width=T.width,E.value=w.value||e.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const P=T["box-sizing"],L=QE(T,"padding-bottom")+QE(T,"padding-top"),R=QE(T,"border-bottom-width")+QE(T,"border-top-width"),F=E.scrollHeight;E.value="x";const O=E.scrollHeight;let G=F;s&&(G=Math.max(Number(s)*O,G)),i&&(G=Math.min(Number(i)*O,G)),G=Math.max(G,O);const Z=G+(P==="border-box"?L+R:0),V=Math.abs(G-F)<=1;v(U=>p.current<20&&(Z>0&&Math.abs((U.outerHeightStyle||0)-Z)>1||U.overflow!==V)?(p.current+=1,{overflow:V,outerHeightStyle:Z}):U)},[i,s,e.placeholder]);N.exports.useEffect(()=>{const w=Lh(()=>{p.current=0,y()}),b=Os(u.current);b.addEventListener("resize",w);let T;return typeof ResizeObserver!="undefined"&&(T=new ResizeObserver(w),T.observe(u.current)),()=>{w.clear(),b.removeEventListener("resize",w),T&&T.disconnect()}},[y]),Hi(()=>{y()}),N.exports.useEffect(()=>{p.current=0},[a]);const x=w=>{p.current=0,c||y(),r&&r(w)};return Tt(N.exports.Fragment,{children:[K("textarea",A({value:a,onChange:x,ref:d,rows:s,style:A({height:g.outerHeightStyle,overflow:g.overflow?"hidden":null},o)},l)),K("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:A({},i1e.shadow,o,{padding:0})})]})});var GQ=s1e;function o1e(t,e,n){return A({toolbar:{minHeight:56,[`${t.up("xs")} and (orientation: landscape)`]:{minHeight:48},[t.up("sm")]:{minHeight:64}}},n)}const a1e=["mode","contrastThreshold","tonalOffset"],ZW={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:e_.white,default:e_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Y2={text:{primary:e_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:e_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function eH(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Ld(t.main,i):e==="dark"&&(t.dark=kd(t.main,s)))}function l1e(t="light"){return t==="dark"?{main:lm[200],light:lm[50],dark:lm[400]}:{main:lm[700],light:lm[400],dark:lm[800]}}function c1e(t="light"){return t==="dark"?{main:am[200],light:am[50],dark:am[400]}:{main:am[500],light:am[300],dark:am[700]}}function u1e(t="light"){return t==="dark"?{main:om[500],light:om[300],dark:om[700]}:{main:om[700],light:om[400],dark:om[800]}}function d1e(t="light"){return t==="dark"?{main:cm[400],light:cm[300],dark:cm[700]}:{main:cm[700],light:cm[500],dark:cm[900]}}function f1e(t="light"){return t==="dark"?{main:um[400],light:um[300],dark:um[700]}:{main:um[800],light:um[500],dark:um[900]}}function h1e(t="light"){return t==="dark"?{main:Vy[400],light:Vy[300],dark:Vy[700]}:{main:"#ed6c02",light:Vy[500],dark:Vy[900]}}function jQ(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ke(t,a1e),s=t.primary||l1e(e),o=t.secondary||c1e(e),a=t.error||u1e(e),l=t.info||d1e(e),c=t.success||f1e(e),u=t.warning||h1e(e);function d(v){return CQ(v,Y2.text.primary)>=n?Y2.text.primary:ZW.text.primary}const f=({color:v,name:y,mainShade:x=500,lightShade:w=300,darkShade:b=700})=>{if(v=A({},v),!v.main&&v[x]&&(v.main=v[x]),!v.hasOwnProperty("main"))throw new Error(Tl(11,y?` (${y})`:"",x));if(typeof v.main!="string")throw new Error(Tl(12,y?` (${y})`:"",JSON.stringify(v.main)));return eH(v,"light",w,r),eH(v,"dark",b,r),v.contrastText||(v.contrastText=d(v.main)),v},p={dark:Y2,light:ZW};return ao(A({common:e_,mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:a,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:yY,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[e]),i)}const p1e=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function m1e(t){return Math.round(t*1e5)/1e5}const tH={textTransform:"uppercase"},nH='"Roboto", "Helvetica", "Arial", sans-serif';function qQ(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=nH,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=ke(n,p1e),p=i/14,g=d||(x=>`${x/c*p}rem`),v=(x,w,b,T,E)=>A({fontFamily:r,fontWeight:x,fontSize:g(w),lineHeight:b},r===nH?{letterSpacing:`${m1e(T/w)}em`}:{},E,u),y={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,tH),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,tH)};return ao(A({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},y),f,{clone:!1})}const g1e=.2,v1e=.14,y1e=.12;function Lr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${g1e})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${v1e})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${y1e})`].join(",")}const _1e=["none",Lr(0,2,1,-1,0,1,1,0,0,1,3,0),Lr(0,3,1,-2,0,2,2,0,0,1,5,0),Lr(0,3,3,-2,0,3,4,0,0,1,8,0),Lr(0,2,4,-1,0,4,5,0,0,1,10,0),Lr(0,3,5,-1,0,5,8,0,0,1,14,0),Lr(0,3,5,-1,0,6,10,0,0,1,18,0),Lr(0,4,5,-2,0,7,10,1,0,2,16,1),Lr(0,5,5,-3,0,8,10,1,0,3,14,2),Lr(0,5,6,-3,0,9,12,1,0,3,16,2),Lr(0,6,6,-3,0,10,14,1,0,4,18,3),Lr(0,6,7,-4,0,11,15,1,0,4,20,3),Lr(0,7,8,-4,0,12,17,2,0,5,22,4),Lr(0,7,8,-4,0,13,19,2,0,5,24,4),Lr(0,7,9,-4,0,14,21,2,0,5,26,4),Lr(0,8,9,-5,0,15,22,2,0,6,28,5),Lr(0,8,10,-5,0,16,24,2,0,6,30,5),Lr(0,8,11,-5,0,17,26,2,0,6,32,5),Lr(0,9,11,-5,0,18,28,2,0,7,34,6),Lr(0,9,12,-6,0,19,29,2,0,7,36,6),Lr(0,10,13,-6,0,20,31,3,0,8,38,7),Lr(0,10,13,-6,0,21,33,3,0,8,40,7),Lr(0,10,14,-6,0,22,35,3,0,8,42,7),Lr(0,11,14,-7,0,23,36,3,0,9,44,8),Lr(0,11,15,-7,0,24,38,3,0,9,46,8)];var x1e=_1e;const w1e=["duration","easing","delay"],KQ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},fU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rH(t){return`${Math.round(t)}ms`}function b1e(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function S1e(t){const e=A({},KQ,t.easing),n=A({},fU,t.duration);return A({getAutoHeightDuration:b1e,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ke(s,w1e),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:rH(o)} ${a} ${typeof l=="string"?l:rH(l)}`).join(",")}},t,{easing:e,duration:n})}const C1e={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var T1e=C1e;const E1e=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function cg(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ke(t,E1e),a=jQ(r),l=J$(t);let c=ao(l,{mixins:o1e(l.breakpoints,l.spacing,n),palette:a,shadows:x1e.slice(),typography:qQ(a,s),transitions:S1e(i),zIndex:A({},T1e)});return c=ao(c,o),c=e.reduce((u,d)=>ao(u,d),c),c}function I1e(...t){return cg(...t)}function M1e(t,...e){return cg(ao({unstable_strictMode:!0},t),...e)}let iH=!1;function A1e(t){return iH||(console.warn(["MUI: createStyles from @mui/material/styles is deprecated.","Please use @mui/styles/createStyles"].join(`
`)),iH=!0),t}function sH(t){return String(parseFloat(t)).length===String(t).length}function hU(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function id(t){return parseFloat(t)}function R1e(t){return(e,n)=>{const r=hU(e);if(r===n)return e;let i=id(e);r!=="px"&&(r==="em"||r==="rem")&&(i=id(e)*id(t));let s=i;if(n!=="px")if(n==="em")s=i/id(t);else if(n==="rem")s=i/id(t);else return e;return parseFloat(s.toFixed(5))+n}}function P1e({size:t,grid:e}){const n=t-t%e,r=n+e;return t-n<r-t?n:r}function k1e({lineHeight:t,pixels:e,htmlFontSize:n}){return e/(t*n)}function L1e({cssProperty:t,min:e,max:n,unit:r="rem",breakpoints:i=[600,900,1200],transform:s=null}){const o={[t]:`${e}${r}`},a=(n-e)/i[i.length-1];return i.forEach(l=>{let c=e+a*l;s!==null&&(c=s(c)),o[`@media (min-width:${l}px)`]={[t]:`${Math.round(c*1e4)/1e4}${r}`}}),o}function D1e(t,e={}){const{breakpoints:n=["sm","md","lg"],disableAlign:r=!1,factor:i=2,variants:s=["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]}=e,o=A({},t);o.typography=A({},o.typography);const a=o.typography,l=R1e(a.htmlFontSize),c=n.map(u=>o.breakpoints.values[u]);return s.forEach(u=>{const d=a[u],f=parseFloat(l(d.fontSize,"rem"));if(f<=1)return;const p=f,g=1+(p-1)/i;let{lineHeight:v}=d;if(!sH(v)&&!r)throw new Error(Tl(6));sH(v)||(v=parseFloat(l(v,"rem"))/parseFloat(f));let y=null;r||(y=x=>P1e({size:x,grid:k1e({pixels:4,lineHeight:v,htmlFontSize:a.htmlFontSize})})),a[u]=A({},d,L1e({cssProperty:"fontSize",min:g,max:p,unit:"rem",breakpoints:c,transform:y}))}),o}const N1e=cg();var tk=N1e;function Br(){return ZP(tk)}function it({props:t,name:e}){return wQ({props:t,name:e,defaultTheme:tk})}const Uo=t=>e1(t)&&t!=="classes",PC=e1,O1e=Fxe({defaultTheme:tk,rootShouldForwardProp:Uo});var he=O1e;function F1e(){throw new Error(Tl(14))}function B1e(){throw new Error(Tl(15))}function $1e(){throw new Error(Tl(16))}const U1e=["colorSchemes","opacity"],z1e=["palette"],V1e={active:.54,hover:.04,selected:.08,disabled:.26,focus:.12};function XQ(t={},...e){var n,r;const{colorSchemes:i={},opacity:s={}}=t,o=ke(t,U1e);let a=cg(A({},o,i.light&&{palette:(n=i.light)==null?void 0:n.palette})),{palette:l}=a,c=ke(a,z1e);const{palette:u}=cg({palette:A({mode:"dark"},(r=i.dark)==null?void 0:r.palette)});i.light={palette:l},i.dark={palette:u};const d={};Object.keys(i).forEach(p=>{const g=jQ(i[p].palette);Object.keys(g).forEach(v=>{const y=g[v];y.main&&(g[v].mainChannel=py(y.main)),y.light&&(g[v].lightChannel=py(y.light)),y.dark&&(g[v].darkChannel=py(y.dark)),y.primary&&(g[v].primaryChannel=py(y.primary)),y.secondary&&(g[v].secondaryChannel=py(y.secondary)),y.disabled&&(g[v].disabledChannel=py(y.disabled))}),d[p]={palette:g}});const f=A({},V1e,s);return c.colorSchemes=d,c.opacity=f,c=e.reduce((p,g)=>ao(p,g),c),c}const W1e=XQ(),{CssVarsProvider:H1e,useColorScheme:G1e,getInitColorSchemeScript:j1e}=Xxe({theme:W1e,defaultColorScheme:{light:"light",dark:"dark"},prefix:"md",resolveTheme:t=>A({},t,{typography:qQ(t.palette,t.typography)}),shouldSkipGeneratingVar:t=>!!t[0].match(/(typography|mixins|breakpoints|direction|transitions)/)});function YQ(t){return tt("MuiSvgIcon",t)}const q1e=nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var K1e=q1e;const X1e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Y1e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${_e(e)}`,`fontSize${_e(n)}`]};return rt(i,YQ,r)},Q1e=he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${_e(n.color)}`],e[`fontSize${_e(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,u,d,f,p,g,v,y,x,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=t.typography)==null||(d=u.pxToRem)==null?void 0:d.call(u,35))||"2.1875"}[e.fontSize],color:(f=(p=t.palette)==null||(g=p[e.color])==null?void 0:g.main)!=null?f:{action:(v=t.palette)==null||(y=v.action)==null?void 0:y.active,disabled:(x=t.palette)==null||(w=x.action)==null?void 0:w.disabled,inherit:void 0}[e.color]}}),QQ=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=ke(r,X1e),g=A({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f}),v={};u||(v.viewBox=f);const y=Y1e(g);return Tt(Q1e,A({as:a,className:Ie(y.root,s),ownerState:g,focusable:"false",color:c,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},v,p,{children:[i,d?K("title",{children:d}):null]}))});QQ.muiName="SvgIcon";var WA=QQ;function fr(t,e){const n=(r,i)=>K(WA,A({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=WA.muiName,N.exports.memo(N.exports.forwardRef(n))}const JQ={configure:t=>{console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join(`
`)),rU.configure(t)}};var J1e=Object.freeze(Object.defineProperty({__proto__:null,unstable_ClassNameGenerator:JQ,capitalize:_e,createChainedFunction:Y1,createSvgIcon:fr,debounce:Lh,deprecatedPropType:KY,isMuiElement:bd,ownerDocument:pr,ownerWindow:Os,requirePropFactory:XY,setRef:lg,unstable_useEnhancedEffect:Hi,unstable_useId:bc,unsupportedProp:YY,useControlled:Po,useEventCallback:Ar,useForkRef:pn,useIsFocusVisible:Gg},Symbol.toStringTag,{value:"Module"}));function JO(t,e){return JO=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},JO(t,e)}function ZQ(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,JO(t,e)}var oH={disabled:!1},HA=ru.createContext(null),kb="unmounted",dm="exited",fm="entering",Wy="entered",ZO="exiting",Kd=function(t){ZQ(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=dm,s.appearStatus=fm):l=Wy:r.unmountOnExit||r.mountOnEnter?l=kb:l=dm,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===kb?{status:dm}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==fm&&o!==Wy&&(s=fm):(o===fm||o===Wy)&&(s=ZO)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){i===void 0&&(i=!1),s!==null?(this.cancelNextCallback(),s===fm?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===dm&&this.setState({status:kb})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[B2.findDOMNode(this),a],c=l[0],u=l[1],d=this.getTimeouts(),f=a?d.appear:d.enter;if(!i&&!o||oH.disabled){this.safeSetState({status:Wy},function(){s.props.onEntered(c)});return}this.props.onEnter(c,u),this.safeSetState({status:fm},function(){s.props.onEntering(c,u),s.onTransitionEnd(f,function(){s.safeSetState({status:Wy},function(){s.props.onEntered(c,u)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:B2.findDOMNode(this);if(!s||oH.disabled){this.safeSetState({status:dm},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:ZO},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:dm},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:B2.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],u=l[1];this.props.addEndListener(c,u)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===kb)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ke(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ru.createElement(HA.Provider,{value:null},typeof o=="function"?o(i,a):ru.cloneElement(ru.Children.only(o),a))},e}(ru.Component);Kd.contextType=HA;Kd.propTypes={};function my(){}Kd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:my,onEntering:my,onEntered:my,onExit:my,onExiting:my,onExited:my};Kd.UNMOUNTED=kb;Kd.EXITED=dm;Kd.ENTERING=fm;Kd.ENTERED=Wy;Kd.EXITING=ZO;var kC=Kd;function Z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pU(t,e){var n=function(s){return e&&N.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&N.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function eSe(t,e){t=t||{},e=e||{};function n(u){return u in e?e[u]:t[u]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Em(t,e,n){return n[e]!=null?n[e]:t.props[e]}function tSe(t,e){return pU(t.children,function(n){return N.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Em(n,"appear",t),enter:Em(n,"enter",t),exit:Em(n,"exit",t)})})}function nSe(t,e,n){var r=pU(t.children),i=eSe(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!N.exports.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=N.exports.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=N.exports.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Em(o,"exit",t),enter:Em(o,"enter",t)}):!l&&a&&!u?i[s]=N.exports.cloneElement(o,{in:!1}):l&&a&&N.exports.isValidElement(c)&&(i[s]=N.exports.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Em(o,"exit",t),enter:Em(o,"enter",t)}))}}),i}var rSe=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},iSe={component:"div",childFactory:function(e){return e}},mU=function(t){ZQ(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(Z1e(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?tSe(i,a):nSe(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=pU(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=A({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=ke(i,["component","childFactory"]),l=this.state.contextValue,c=rSe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?ru.createElement(HA.Provider,{value:l},c):ru.createElement(HA.Provider,{value:l},ru.createElement(s,a,c))},e}(ru.Component);mU.propTypes={};mU.defaultProps=iSe;var sSe=mU;const nk=t=>t.scrollTop;function Sc(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function eJ(t){return tt("MuiCollapse",t)}const oSe=nt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var aSe=oSe;const lSe=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],cSe=t=>{const{orientation:e,classes:n}=t,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return rt(r,eJ,n)},uSe=he("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>A({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&A({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),dSe=he("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>A({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),fSe=he("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>A({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),tJ=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:a="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:g,onExited:v,onExiting:y,orientation:x="vertical",style:w,timeout:b=fU.standard,TransitionComponent:T=kC}=r,E=ke(r,lSe),P=A({},r,{orientation:x,collapsedSize:a}),L=cSe(P),R=Br(),F=N.exports.useRef(),O=N.exports.useRef(null),G=N.exports.useRef(),Z=typeof a=="number"?`${a}px`:a,V=x==="horizontal",U=V?"width":"height";N.exports.useEffect(()=>()=>{clearTimeout(F.current)},[]);const j=N.exports.useRef(null),W=pn(n,j),X=oe=>He=>{if(oe){const Ae=j.current;He===void 0?oe(Ae):oe(Ae,He)}},B=()=>O.current?O.current[V?"clientWidth":"clientHeight"]:0,H=X((oe,He)=>{O.current&&V&&(O.current.style.position="absolute"),oe.style[U]=Z,d&&d(oe,He)}),q=X((oe,He)=>{const Ae=B();O.current&&V&&(O.current.style.position="");const{duration:Ne,easing:Se}=Sc({style:w,timeout:b,easing:c},{mode:"enter"});if(b==="auto"){const Ze=R.transitions.getAutoHeightDuration(Ae);oe.style.transitionDuration=`${Ze}ms`,G.current=Ze}else oe.style.transitionDuration=typeof Ne=="string"?Ne:`${Ne}ms`;oe.style[U]=`${Ae}px`,oe.style.transitionTimingFunction=Se,p&&p(oe,He)}),ee=X((oe,He)=>{oe.style[U]="auto",f&&f(oe,He)}),J=X(oe=>{oe.style[U]=`${B()}px`,g&&g(oe)}),de=X(v),ye=X(oe=>{const He=B(),{duration:Ae,easing:Ne}=Sc({style:w,timeout:b,easing:c},{mode:"exit"});if(b==="auto"){const Se=R.transitions.getAutoHeightDuration(He);oe.style.transitionDuration=`${Se}ms`,G.current=Se}else oe.style.transitionDuration=typeof Ae=="string"?Ae:`${Ae}ms`;oe.style[U]=Z,oe.style.transitionTimingFunction=Ne,y&&y(oe)});return K(T,A({in:u,onEnter:H,onEntered:ee,onEntering:q,onExit:J,onExited:de,onExiting:ye,addEndListener:oe=>{b==="auto"&&(F.current=setTimeout(oe,G.current||0)),i&&i(j.current,oe)},nodeRef:j,timeout:b==="auto"?null:b},E,{children:(oe,He)=>K(uSe,A({as:l,className:Ie(L.root,o,{entered:L.entered,exited:!u&&Z==="0px"&&L.hidden}[oe]),style:A({[V?"minWidth":"minHeight"]:Z},w),ownerState:A({},P,{state:oe}),ref:W},He,{children:K(dSe,{ownerState:A({},P,{state:oe}),className:L.wrapper,ref:O,children:K(fSe,{ownerState:A({},P,{state:oe}),className:L.wrapperInner,children:s})})}))}))});tJ.muiSupportAuto=!0;var rk=tJ;function nJ(t){return tt("MuiPaper",t)}const hSe=nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var pSe=hSe;const mSe=["className","component","elevation","square","variant"],aH=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},gSe=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return rt(s,nJ,i)},vSe=he("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>A({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${t.palette.divider}`},e.variant==="elevation"&&A({boxShadow:t.shadows[e.elevation]},t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Xt("#fff",aH(e.elevation))}, ${Xt("#fff",aH(e.elevation))})`}))),ySe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=ke(r,mSe),u=A({},r,{component:s,elevation:o,square:a,variant:l}),d=gSe(u);return K(vSe,A({as:s,ownerState:u,className:Ie(d.root,i),ref:n},c))});var zo=ySe;const _Se=N.exports.createContext({});var rJ=_Se;function iJ(t){return tt("MuiAccordion",t)}const xSe=nt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]);var Lb=xSe;const wSe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],bSe=t=>{const{classes:e,square:n,expanded:r,disabled:i,disableGutters:s}=t;return rt({root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!s&&"gutters"],region:["region"]},iJ,e)},SSe=he(zo,{name:"MuiAccordion",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Lb.region}`]:e.region},e.root,!n.square&&e.rounded,!n.disableGutters&&e.gutters]}})(({theme:t})=>{const e={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],e),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],e)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${Lb.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${Lb.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}},({theme:t,ownerState:e})=>A({},!e.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!e.disableGutters&&{[`&.${Lb.expanded}`]:{margin:"16px 0"}})),CSe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAccordion"}),{children:i,className:s,defaultExpanded:o=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:f=rk,TransitionProps:p}=r,g=ke(r,wSe),[v,y]=Po({controlled:c,default:o,name:"Accordion",state:"expanded"}),x=N.exports.useCallback(L=>{y(!v),u&&u(L,!v)},[v,u,y]),[w,...b]=N.exports.Children.toArray(i),T=N.exports.useMemo(()=>({expanded:v,disabled:a,disableGutters:l,toggle:x}),[v,a,l,x]),E=A({},r,{square:d,disabled:a,disableGutters:l,expanded:v}),P=bSe(E);return Tt(SSe,A({className:Ie(P.root,s),ref:n,ownerState:E,square:d},g,{children:[K(rJ.Provider,{value:T,children:w}),K(f,A({in:v,timeout:"auto"},p,{children:K("div",{"aria-labelledby":w.props.id,id:w.props["aria-controls"],role:"region",className:P.region,children:b})}))]}))});var TSe=CSe;function sJ(t){return tt("MuiAccordionActions",t)}const ESe=nt("MuiAccordionActions",["root","spacing"]);var ISe=ESe;const MSe=["className","disableSpacing"],ASe=t=>{const{classes:e,disableSpacing:n}=t;return rt({root:["root",!n&&"spacing"]},sJ,e)},RSe=he("div",{name:"MuiAccordionActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>A({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),PSe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAccordionActions"}),{className:i,disableSpacing:s=!1}=r,o=ke(r,MSe),a=A({},r,{disableSpacing:s}),l=ASe(a);return K(RSe,A({className:Ie(l.root,i),ref:n,ownerState:a},o))});var kSe=PSe;function oJ(t){return tt("MuiAccordionDetails",t)}const LSe=nt("MuiAccordionDetails",["root"]);var DSe=LSe;const NSe=["className"],OSe=t=>{const{classes:e}=t;return rt({root:["root"]},oJ,e)},FSe=he("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({padding:t.spacing(1,2,2)})),BSe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAccordionDetails"}),{className:i}=r,s=ke(r,NSe),o=r,a=OSe(o);return K(FSe,A({className:Ie(a.root,i),ref:n,ownerState:o},s))});var $Se=BSe;function USe(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[u,d]=N.exports.useState(!1),f=Ie(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Ie(n.child,u&&n.childLeaving,r&&n.childPulsate);return!a&&!u&&d(!0),N.exports.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,c);return()=>{clearTimeout(v)}}},[l,a,c]),K("span",{className:f,style:p,children:K("span",{className:g})})}function zSe(t){return tt("MuiTouchRipple",t)}const VSe=nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Ma=VSe;const WSe=["center","classes","className"];let ik=t=>t,lH,cH,uH,dH;const eF=550,HSe=80,GSe=Ec(lH||(lH=ik`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),jSe=Ec(cH||(cH=ik`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),qSe=Ec(uH||(uH=ik`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),KSe=he("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),XSe=he(USe,{name:"MuiTouchRipple",slot:"Ripple"})(dH||(dH=ik`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ma.rippleVisible,GSe,eF,({theme:t})=>t.transitions.easing.easeInOut,Ma.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ma.child,Ma.childLeaving,jSe,eF,({theme:t})=>t.transitions.easing.easeInOut,Ma.childPulsate,qSe,({theme:t})=>t.transitions.easing.easeInOut),YSe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=ke(r,WSe),[l,c]=N.exports.useState([]),u=N.exports.useRef(0),d=N.exports.useRef(null);N.exports.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const f=N.exports.useRef(!1),p=N.exports.useRef(null),g=N.exports.useRef(null),v=N.exports.useRef(null);N.exports.useEffect(()=>()=>{clearTimeout(p.current)},[]);const y=N.exports.useCallback(T=>{const{pulsate:E,rippleX:P,rippleY:L,rippleSize:R,cb:F}=T;c(O=>[...O,K(XSe,{classes:{ripple:Ie(s.ripple,Ma.ripple),rippleVisible:Ie(s.rippleVisible,Ma.rippleVisible),ripplePulsate:Ie(s.ripplePulsate,Ma.ripplePulsate),child:Ie(s.child,Ma.child),childLeaving:Ie(s.childLeaving,Ma.childLeaving),childPulsate:Ie(s.childPulsate,Ma.childPulsate)},timeout:eF,pulsate:E,rippleX:P,rippleY:L,rippleSize:R},u.current)]),u.current+=1,d.current=F},[s]),x=N.exports.useCallback((T={},E={},P)=>{const{pulsate:L=!1,center:R=i||E.pulsate,fakeElement:F=!1}=E;if(T.type==="mousedown"&&f.current){f.current=!1;return}T.type==="touchstart"&&(f.current=!0);const O=F?null:v.current,G=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Z,V,U;if(R||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)Z=Math.round(G.width/2),V=Math.round(G.height/2);else{const{clientX:j,clientY:W}=T.touches?T.touches[0]:T;Z=Math.round(j-G.left),V=Math.round(W-G.top)}if(R)U=Math.sqrt((2*G.width**2+G.height**2)/3),U%2===0&&(U+=1);else{const j=Math.max(Math.abs((O?O.clientWidth:0)-Z),Z)*2+2,W=Math.max(Math.abs((O?O.clientHeight:0)-V),V)*2+2;U=Math.sqrt(j**2+W**2)}T.touches?g.current===null&&(g.current=()=>{y({pulsate:L,rippleX:Z,rippleY:V,rippleSize:U,cb:P})},p.current=setTimeout(()=>{g.current&&(g.current(),g.current=null)},HSe)):y({pulsate:L,rippleX:Z,rippleY:V,rippleSize:U,cb:P})},[i,y]),w=N.exports.useCallback(()=>{x({},{pulsate:!0})},[x]),b=N.exports.useCallback((T,E)=>{if(clearTimeout(p.current),T.type==="touchend"&&g.current){g.current(),g.current=null,p.current=setTimeout(()=>{b(T,E)});return}g.current=null,c(P=>P.length>0?P.slice(1):P),d.current=E},[]);return N.exports.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:b}),[w,x,b]),K(KSe,A({className:Ie(s.root,Ma.root,o),ref:v},a,{children:K(sSe,{component:null,exit:!0,children:l})}))});var QSe=YSe;function aJ(t){return tt("MuiButtonBase",t)}const JSe=nt("MuiButtonBase",["root","disabled","focusVisible"]);var lJ=JSe;const ZSe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],eCe=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=rt({root:["root",e&&"disabled",n&&"focusVisible"]},aJ,i);return n&&r&&(o.root+=` ${r}`),o},tCe=he("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lJ.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nCe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:f=!1,LinkComponent:p="a",onBlur:g,onClick:v,onContextMenu:y,onDragLeave:x,onFocus:w,onFocusVisible:b,onKeyDown:T,onKeyUp:E,onMouseDown:P,onMouseLeave:L,onMouseUp:R,onTouchEnd:F,onTouchMove:O,onTouchStart:G,tabIndex:Z=0,TouchRippleProps:V,touchRippleRef:U,type:j}=r,W=ke(r,ZSe),X=N.exports.useRef(null),B=N.exports.useRef(null),H=pn(B,U),{isFocusVisibleRef:q,onFocus:ee,onBlur:J,ref:de}=Gg(),[ye,Ce]=N.exports.useState(!1);c&&ye&&Ce(!1),N.exports.useImperativeHandle(i,()=>({focusVisible:()=>{Ce(!0),X.current.focus()}}),[]);const[oe,He]=N.exports.useState(!1);N.exports.useEffect(()=>{He(!0)},[]);const Ae=oe&&!u&&!c;N.exports.useEffect(()=>{ye&&f&&!u&&oe&&B.current.pulsate()},[u,f,ye,oe]);function Ne(Ee,Oe,qe=d){return Ar(le=>(Oe&&Oe(le),!qe&&B.current&&B.current[Ee](le),!0))}const Se=Ne("start",P),Ze=Ne("stop",y),we=Ne("stop",x),ve=Ne("stop",R),Ue=Ne("stop",Ee=>{ye&&Ee.preventDefault(),L&&L(Ee)}),Qe=Ne("start",G),ze=Ne("stop",F),st=Ne("stop",O),vt=Ne("stop",Ee=>{J(Ee),q.current===!1&&Ce(!1),g&&g(Ee)},!1),mt=Ar(Ee=>{X.current||(X.current=Ee.currentTarget),ee(Ee),q.current===!0&&(Ce(!0),b&&b(Ee)),w&&w(Ee)}),St=()=>{const Ee=X.current;return l&&l!=="button"&&!(Ee.tagName==="A"&&Ee.href)},It=N.exports.useRef(!1),te=Ar(Ee=>{f&&!It.current&&ye&&B.current&&Ee.key===" "&&(It.current=!0,B.current.stop(Ee,()=>{B.current.start(Ee)})),Ee.target===Ee.currentTarget&&St()&&Ee.key===" "&&Ee.preventDefault(),T&&T(Ee),Ee.target===Ee.currentTarget&&St()&&Ee.key==="Enter"&&!c&&(Ee.preventDefault(),v&&v(Ee))}),Q=Ar(Ee=>{f&&Ee.key===" "&&B.current&&ye&&!Ee.defaultPrevented&&(It.current=!1,B.current.stop(Ee,()=>{B.current.pulsate(Ee)})),E&&E(Ee),v&&Ee.target===Ee.currentTarget&&St()&&Ee.key===" "&&!Ee.defaultPrevented&&v(Ee)});let ue=l;ue==="button"&&(W.href||W.to)&&(ue=p);const Re={};ue==="button"?(Re.type=j===void 0?"button":j,Re.disabled=c):(!W.href&&!W.to&&(Re.role="button"),c&&(Re["aria-disabled"]=c));const Le=pn(de,X),Pe=pn(n,Le),xe=A({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:f,tabIndex:Z,focusVisible:ye}),me=eCe(xe);return Tt(tCe,A({as:ue,className:Ie(me.root,a),ownerState:xe,onBlur:vt,onClick:v,onContextMenu:Ze,onFocus:mt,onKeyDown:te,onKeyUp:Q,onMouseDown:Se,onMouseLeave:Ue,onMouseUp:ve,onDragLeave:we,onTouchEnd:ze,onTouchMove:st,onTouchStart:Qe,ref:Pe,tabIndex:c?-1:Z,type:j},Re,W,{children:[o,Ae?K(QSe,A({ref:H,center:s},V)):null]}))});var Ti=nCe;function cJ(t){return tt("MuiAccordionSummary",t)}const rCe=nt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]);var Im=rCe;const iCe=["children","className","expandIcon","focusVisibleClassName","onClick"],sCe=t=>{const{classes:e,expanded:n,disabled:r,disableGutters:i}=t;return rt({root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},cJ,e)},oCe=he(Ti,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{const n={duration:t.transitions.duration.shortest};return A({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${Im.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Im.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Im.disabled})`]:{cursor:"pointer"}},!e.disableGutters&&{[`&.${Im.expanded}`]:{minHeight:64}})}),aCe=he("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(t,e)=>e.content})(({theme:t,ownerState:e})=>A({display:"flex",flexGrow:1,margin:"12px 0"},!e.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Im.expanded}`]:{margin:"20px 0"}})),lCe=he("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(t,e)=>e.expandIconWrapper})(({theme:t})=>({display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Im.expanded}`]:{transform:"rotate(180deg)"}})),cCe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAccordionSummary"}),{children:i,className:s,expandIcon:o,focusVisibleClassName:a,onClick:l}=r,c=ke(r,iCe),{disabled:u=!1,disableGutters:d,expanded:f,toggle:p}=N.exports.useContext(rJ),g=x=>{p&&p(x),l&&l(x)},v=A({},r,{expanded:f,disabled:u,disableGutters:d}),y=sCe(v);return Tt(oCe,A({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":f,className:Ie(y.root,s),focusVisibleClassName:Ie(y.focusVisible,a),onClick:g,ref:n,ownerState:v},c,{children:[K(aCe,{className:y.content,ownerState:v,children:i}),o&&K(lCe,{className:y.expandIconWrapper,ownerState:v,children:o})]}))});var uCe=cCe;function uJ(t){return tt("MuiAlert",t)}const dCe=nt("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var tF=dCe;function dJ(t){return tt("MuiIconButton",t)}const fCe=nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var fJ=fCe;const hCe=["edge","children","className","color","disabled","disableFocusRipple","size"],pCe=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${_e(r)}`,i&&`edge${_e(i)}`,`size${_e(s)}`]};return rt(o,dJ,e)},mCe=he(Ti,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${_e(n.color)}`],n.edge&&e[`edge${_e(n.edge)}`],e[`size${_e(n.size)}`]]}})(({theme:t,ownerState:e})=>A({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:Xt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>A({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&A({color:t.palette[e.color].main},!e.disableRipple&&{"&:hover":{backgroundColor:Xt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${fJ.disabled}`]:{backgroundColor:"transparent",color:t.palette.action.disabled}})),gCe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,d=ke(r,hCe),f=A({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),p=pCe(f);return K(mCe,A({className:Ie(p.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:f},d,{children:s}))});var fc=gCe,vCe=fr(K("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),yCe=fr(K("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),_Ce=fr(K("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),xCe=fr(K("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),hJ=fr(K("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),fH;const wCe=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],bCe=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${_e(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return rt(s,uJ,i)},SCe=he(zo,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${_e(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?kd:Ld,r=t.palette.mode==="light"?Ld:kd,i=e.color||e.severity;return A({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:n(t.palette[i].light,.6),backgroundColor:r(t.palette[i].light,.9),[`& .${tF.icon}`]:{color:t.palette.mode==="dark"?t.palette[i].main:t.palette[i].light}},i&&e.variant==="outlined"&&{color:n(t.palette[i].light,.6),border:`1px solid ${t.palette[i].light}`,[`& .${tF.icon}`]:{color:t.palette.mode==="dark"?t.palette[i].main:t.palette[i].light}},i&&e.variant==="filled"&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main})}),CCe=he("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),TCe=he("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),hH=he("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),pH={success:K(vCe,{fontSize:"inherit"}),warning:K(yCe,{fontSize:"inherit"}),error:K(_Ce,{fontSize:"inherit"}),info:K(xCe,{fontSize:"inherit"})},ECe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:a="Close",color:l,icon:c,iconMapping:u=pH,onClose:d,role:f="alert",severity:p="success",variant:g="standard"}=r,v=ke(r,wCe),y=A({},r,{color:l,severity:p,variant:g}),x=bCe(y);return Tt(SCe,A({role:f,elevation:0,ownerState:y,className:Ie(x.root,o),ref:n},v,{children:[c!==!1?K(CCe,{ownerState:y,className:x.icon,children:c||u[p]||pH[p]}):null,K(TCe,{ownerState:y,className:x.message,children:s}),i!=null?K(hH,{className:x.action,children:i}):null,i==null&&d?K(hH,{ownerState:y,className:x.action,children:K(fc,{size:"small","aria-label":a,title:a,color:"inherit",onClick:d,children:fH||(fH=K(hJ,{fontSize:"small"}))})}):null]}))});var ICe=ECe;function pJ(t){return tt("MuiTypography",t)}const MCe=nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var ACe=MCe;const RCe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],PCe=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${_e(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return rt(a,pJ,o)},kCe=he("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${_e(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>A({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),mH={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},LCe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},DCe=t=>LCe[t]||t,NCe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTypography"}),i=DCe(r.color),s=JP(A({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:u=!1,paragraph:d=!1,variant:f="body1",variantMapping:p=mH}=s,g=ke(s,RCe),v=A({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:u,paragraph:d,variant:f,variantMapping:p}),y=l||(d?"p":p[f]||mH[f])||"span",x=PCe(v);return K(kCe,A({as:y,ref:n,ownerState:v,className:Ie(x.root,a)},g))});var Ls=NCe;function mJ(t){return tt("MuiAlertTitle",t)}const OCe=nt("MuiAlertTitle",["root"]);var FCe=OCe;const BCe=["className"],$Ce=t=>{const{classes:e}=t;return rt({root:["root"]},mJ,e)},UCe=he(Ls,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({fontWeight:t.typography.fontWeightMedium,marginTop:-2})),zCe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAlertTitle"}),{className:i}=r,s=ke(r,BCe),o=r,a=$Ce(o);return K(UCe,A({gutterBottom:!0,component:"div",ownerState:o,ref:n,className:Ie(a.root,i)},s))});var VCe=zCe;function gJ(t){return tt("MuiAppBar",t)}const WCe=nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var HCe=WCe;const GCe=["className","color","enableColorOnDark","position"],jCe=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${_e(e)}`,`position${_e(n)}`]};return rt(i,gJ,r)},qCe=he(zo,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${_e(n.position)}`],e[`color${_e(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return A({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&A({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"}))}),KCe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=ke(r,GCe),c=A({},r,{color:s,position:a,enableColorOnDark:o}),u=jCe(c);return K(qCe,A({square:!0,component:"header",ownerState:c,elevation:4,className:Ie(u.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))});var XCe=KCe;const YCe=he(Cbe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),QCe=N.exports.forwardRef(function(e,n){const r=Z$(),i=it({props:e,name:"MuiPopper"});return K(YCe,A({direction:r==null?void 0:r.direction},i,{ref:n}))});var LC=QCe;function vJ(t){return tt("MuiListSubheader",t)}const JCe=nt("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var ZCe=JCe;const eTe=["className","color","component","disableGutters","disableSticky","inset"],tTe=t=>{const{classes:e,color:n,disableGutters:r,inset:i,disableSticky:s}=t,o={root:["root",n!=="default"&&`color${_e(n)}`,!r&&"gutters",i&&"inset",!s&&"sticky"]};return rt(o,vJ,e)},nTe=he("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${_e(n.color)}`],!n.disableGutters&&e.gutters,n.inset&&e.inset,!n.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>A({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:t.palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:t.palette.background.paper})),rTe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListSubheader"}),{className:i,color:s="default",component:o="li",disableGutters:a=!1,disableSticky:l=!1,inset:c=!1}=r,u=ke(r,eTe),d=A({},r,{color:s,component:o,disableGutters:a,disableSticky:l,inset:c}),f=tTe(d);return K(nTe,A({as:o,className:Ie(f.root,i),ref:n,ownerState:d},u))});var yJ=rTe,iTe=fr(K("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function _J(t){return tt("MuiChip",t)}const sTe=nt("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","focusVisible"]);var zn=sTe;const oTe=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],aTe=t=>{const{classes:e,disabled:n,size:r,color:i,onDelete:s,clickable:o,variant:a}=t,l={root:["root",a,n&&"disabled",`size${_e(r)}`,`color${_e(i)}`,o&&"clickable",o&&`clickableColor${_e(i)}`,s&&"deletable",s&&`deletableColor${_e(i)}`,`${a}${_e(i)}`],label:["label",`label${_e(r)}`],avatar:["avatar",`avatar${_e(r)}`,`avatarColor${_e(i)}`],icon:["icon",`icon${_e(r)}`,`iconColor${_e(i)}`],deleteIcon:["deleteIcon",`deleteIcon${_e(r)}`,`deleteIconColor${_e(i)}`,`deleteIconOutlinedColor${_e(i)}`]};return rt(l,_J,e)},lTe=he("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,clickable:i,onDelete:s,size:o,variant:a}=n;return[{[`& .${zn.avatar}`]:e.avatar},{[`& .${zn.avatar}`]:e[`avatar${_e(o)}`]},{[`& .${zn.avatar}`]:e[`avatarColor${_e(r)}`]},{[`& .${zn.icon}`]:e.icon},{[`& .${zn.icon}`]:e[`icon${_e(o)}`]},{[`& .${zn.icon}`]:e[`iconColor${_e(r)}`]},{[`& .${zn.deleteIcon}`]:e.deleteIcon},{[`& .${zn.deleteIcon}`]:e[`deleteIcon${_e(o)}`]},{[`& .${zn.deleteIcon}`]:e[`deleteIconColor${_e(r)}`]},{[`& .${zn.deleteIcon}`]:e[`deleteIconOutlinedColor${_e(r)}`]},e.root,e[`size${_e(o)}`],e[`color${_e(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${_e(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${_e(r)}`],e[a],a==="outlined"&&e[`outlined${_e(r)}`]]}})(({theme:t,ownerState:e})=>{const n=Xt(t.palette.text.primary,.26);return A({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:t.palette.text.primary,backgroundColor:t.palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${zn.disabled}`]:{opacity:t.palette.action.disabledOpacity,pointerEvents:"none"},[`& .${zn.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300],fontSize:t.typography.pxToRem(12)},[`& .${zn.avatarColorPrimary}`]:{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.dark},[`& .${zn.avatarColorSecondary}`]:{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.dark},[`& .${zn.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${zn.icon}`]:A({color:t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300],marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.color!=="default"&&{color:"inherit"}),[`& .${zn.deleteIcon}`]:A({WebkitTapHighlightColor:"transparent",color:n,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Xt(n,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:Xt(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:t.palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.onDelete&&{[`&.${zn.focusVisible}`]:{backgroundColor:Xt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${zn.focusVisible}`]:{backgroundColor:t.palette[e.color].dark}})},({theme:t,ownerState:e})=>A({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:Xt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${zn.focusVisible}`]:{backgroundColor:Xt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:t.shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${zn.focusVisible}`]:{backgroundColor:t.palette[e.color].dark}}),({theme:t,ownerState:e})=>A({},e.variant==="outlined"&&{backgroundColor:"transparent",border:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${zn.clickable}:hover`]:{backgroundColor:t.palette.action.hover},[`&.${zn.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`& .${zn.avatar}`]:{marginLeft:4},[`& .${zn.avatarSmall}`]:{marginLeft:2},[`& .${zn.icon}`]:{marginLeft:4},[`& .${zn.iconSmall}`]:{marginLeft:2},[`& .${zn.deleteIcon}`]:{marginRight:5},[`& .${zn.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:t.palette[e.color].main,border:`1px solid ${Xt(t.palette[e.color].main,.7)}`,[`&.${zn.clickable}:hover`]:{backgroundColor:Xt(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${zn.focusVisible}`]:{backgroundColor:Xt(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${zn.deleteIcon}`]:{color:Xt(t.palette[e.color].main,.7),"&:hover, &:active":{color:t.palette[e.color].main}}})),cTe=he("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${_e(r)}`]]}})(({ownerState:t})=>A({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.size==="small"&&{paddingLeft:8,paddingRight:8}));function gH(t){return t.key==="Backspace"||t.key==="Delete"}const uTe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:f,onClick:p,onDelete:g,onKeyDown:v,onKeyUp:y,size:x="medium",variant:w="filled"}=r,b=ke(r,oTe),T=N.exports.useRef(null),E=pn(T,n),P=B=>{B.stopPropagation(),g&&g(B)},L=B=>{B.currentTarget===B.target&&gH(B)&&B.preventDefault(),v&&v(B)},R=B=>{B.currentTarget===B.target&&(g&&gH(B)?g(B):B.key==="Escape"&&T.current&&T.current.blur()),y&&y(B)},F=o!==!1&&p?!0:o,O=x==="small",G=F||g?Ti:l||"div",Z=A({},r,{component:G,disabled:u,size:x,color:a,onDelete:!!g,clickable:F,variant:w}),V=aTe(Z),U=G===Ti?A({component:l||"div",focusVisibleClassName:V.focusVisible},g&&{disableRipple:!0}):{};let j=null;if(g){const B=Ie(a!=="default"&&(w==="outlined"?V[`deleteIconOutlinedColor${_e(a)}`]:V[`deleteIconColor${_e(a)}`]),O&&V.deleteIconSmall);j=c&&N.exports.isValidElement(c)?N.exports.cloneElement(c,{className:Ie(c.props.className,V.deleteIcon,B),onClick:P}):K(iTe,{className:Ie(V.deleteIcon,B),onClick:P})}let W=null;i&&N.exports.isValidElement(i)&&(W=N.exports.cloneElement(i,{className:Ie(V.avatar,i.props.className)}));let X=null;return d&&N.exports.isValidElement(d)&&(X=N.exports.cloneElement(d,{className:Ie(V.icon,d.props.className)})),Tt(lTe,A({as:G,className:Ie(V.root,s),disabled:F&&u?!0:void 0,onClick:p,onKeyDown:L,onKeyUp:R,ref:E,ownerState:Z},U,b,{children:[W||X,K(cTe,{className:Ie(V.label),ownerState:Z,children:f}),j]}))});var xJ=uTe;function Xd({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]=="undefined"&&(r[i]=n[i]),r),{})}const dTe=N.exports.createContext();var sk=dTe;function kl(){return N.exports.useContext(sk)}function gU(t){return K(qO,A({},t,{defaultTheme:tk}))}function vH(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function vU(t,e=!1){return t&&(vH(t.value)&&t.value!==""||e&&vH(t.defaultValue)&&t.defaultValue!=="")}function fTe(t){return t.startAdornment}function wJ(t){return tt("MuiInputBase",t)}const hTe=nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var hc=hTe;const pTe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],ok=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${_e(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},ak=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},mTe=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,size:d,startAdornment:f,type:p}=t,g={root:["root",`color${_e(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",d==="small"&&"sizeSmall",u&&"multiline",f&&"adornedStart",s&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",u&&"inputMultiline",d==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd"]};return rt(g,wJ,e)},lk=he("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ok})(({theme:t,ownerState:e})=>A({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${hc.disabled}`]:{color:t.palette.text.disabled,cursor:"default"}},e.multiline&&A({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),ck=he("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ak})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r={color:"currentColor",opacity:n?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},i={opacity:"0 !important"},s={opacity:n?.42:.5};return A({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${hc.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${hc.disabled}`]:{opacity:1,WebkitTextFillColor:t.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),gTe=K(gU,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),vTe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,components:l={},componentsProps:c={},defaultValue:u,disabled:d,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:v,inputComponent:y="input",inputProps:x={},inputRef:w,maxRows:b,minRows:T,multiline:E=!1,name:P,onBlur:L,onChange:R,onClick:F,onFocus:O,onKeyDown:G,onKeyUp:Z,placeholder:V,readOnly:U,renderSuffix:j,rows:W,startAdornment:X,type:B="text",value:H}=r,q=ke(r,pTe),ee=x.value!=null?x.value:H,{current:J}=N.exports.useRef(ee!=null),de=N.exports.useRef(),ye=N.exports.useCallback(Pe=>{},[]),Ce=pn(x.ref,ye),oe=pn(w,Ce),He=pn(de,oe),[Ae,Ne]=N.exports.useState(!1),Se=kl(),Ze=Xd({props:r,muiFormControl:Se,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ze.focused=Se?Se.focused:Ae,N.exports.useEffect(()=>{!Se&&d&&Ae&&(Ne(!1),L&&L())},[Se,d,Ae,L]);const we=Se&&Se.onFilled,ve=Se&&Se.onEmpty,Ue=N.exports.useCallback(Pe=>{vU(Pe)?we&&we():ve&&ve()},[we,ve]);Hi(()=>{J&&Ue({value:ee})},[ee,Ue,J]);const Qe=Pe=>{if(Ze.disabled){Pe.stopPropagation();return}O&&O(Pe),x.onFocus&&x.onFocus(Pe),Se&&Se.onFocus?Se.onFocus(Pe):Ne(!0)},ze=Pe=>{L&&L(Pe),x.onBlur&&x.onBlur(Pe),Se&&Se.onBlur?Se.onBlur(Pe):Ne(!1)},st=(Pe,...xe)=>{if(!J){const me=Pe.target||de.current;if(me==null)throw new Error(Tl(1));Ue({value:me.value})}x.onChange&&x.onChange(Pe,...xe),R&&R(Pe,...xe)};N.exports.useEffect(()=>{Ue(de.current)},[]);const vt=Pe=>{de.current&&Pe.currentTarget===Pe.target&&de.current.focus(),F&&F(Pe)};let mt=y,St=x;E&&mt==="input"&&(W?St=A({type:void 0,minRows:W,maxRows:W},St):St=A({type:void 0,maxRows:b,minRows:T},St),mt=GQ);const It=Pe=>{Ue(Pe.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};N.exports.useEffect(()=>{Se&&Se.setAdornedStart(Boolean(X))},[Se,X]);const te=A({},r,{color:Ze.color||"primary",disabled:Ze.disabled,endAdornment:p,error:Ze.error,focused:Ze.focused,formControl:Se,fullWidth:g,hiddenLabel:Ze.hiddenLabel,multiline:E,size:Ze.size,startAdornment:X,type:B}),Q=mTe(te),ue=l.Root||lk,Re=c.root||{},Le=l.Input||ck;return St=A({},St,c.input),Tt(N.exports.Fragment,{children:[!f&&gTe,Tt(ue,A({},Re,!na(ue)&&{ownerState:A({},te,Re.ownerState)},{ref:n,onClick:vt},q,{className:Ie(Q.root,Re.className,a),children:[X,K(sk.Provider,{value:null,children:K(Le,A({ownerState:te,"aria-invalid":Ze.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:u,disabled:Ze.disabled,id:v,onAnimationStart:It,name:P,placeholder:V,readOnly:U,required:Ze.required,rows:W,value:ee,onKeyDown:G,onKeyUp:Z,type:B},St,!na(Le)&&{as:mt,ownerState:A({},te,St.ownerState)},{ref:He,className:Ie(Q.input,St.className),onBlur:ze,onChange:st,onFocus:Qe}))}),p,j?j(A({},Ze,{startAdornment:X})):null]}))]})});var DC=vTe;function bJ(t){return tt("MuiInput",t)}const yTe=A({},hc,nt("MuiInput",["root","underline","input"]));var rh=yTe;function SJ(t){return tt("MuiOutlinedInput",t)}const _Te=A({},hc,nt("MuiOutlinedInput",["root","notchedOutline","input"]));var rc=_Te;function CJ(t){return tt("MuiFilledInput",t)}const xTe=A({},hc,nt("MuiFilledInput",["root","underline","input"]));var oc=xTe,yU=fr(K("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function TJ(t){return tt("MuiAutocomplete",t)}const wTe=nt("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var kn=wTe,yH,_H;const bTe=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"],STe=t=>{const{classes:e,disablePortal:n,focused:r,fullWidth:i,hasClearIcon:s,hasPopupIcon:o,inputFocused:a,popupOpen:l,size:c}=t,u={root:["root",r&&"focused",i&&"fullWidth",s&&"hasClearIcon",o&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",a&&"inputFocused"],tag:["tag",`tagSize${_e(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",l&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return rt(u,TJ,e)},CTe=he("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{fullWidth:r,hasClearIcon:i,hasPopupIcon:s,inputFocused:o,size:a}=n;return[{[`& .${kn.tag}`]:e.tag},{[`& .${kn.tag}`]:e[`tagSize${_e(a)}`]},{[`& .${kn.inputRoot}`]:e.inputRoot},{[`& .${kn.input}`]:e.input},{[`& .${kn.input}`]:o&&e.inputFocused},e.root,r&&e.fullWidth,s&&e.hasPopupIcon,i&&e.hasClearIcon]}})(({ownerState:t})=>A({[`&.${kn.focused} .${kn.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${kn.clearIndicator}`]:{visibility:"visible"}}},t.fullWidth&&{width:"100%"},{[`& .${kn.tag}`]:A({margin:3,maxWidth:"calc(100% - 6px)"},t.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${kn.inputRoot}`]:{flexWrap:"wrap",[`.${kn.hasPopupIcon}&, .${kn.hasClearIcon}&`]:{paddingRight:26+4},[`.${kn.hasPopupIcon}.${kn.hasClearIcon}&`]:{paddingRight:52+4},[`& .${kn.input}`]:{width:0,minWidth:30}},[`& .${rh.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${rh.root}.${hc.sizeSmall}`]:{[`& .${rh.input}`]:{padding:"2px 4px 3px 0"}},[`& .${rc.root}`]:{padding:9,[`.${kn.hasPopupIcon}&, .${kn.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${kn.hasPopupIcon}.${kn.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${kn.input}`]:{padding:"7.5px 4px 7.5px 6px"},[`& .${kn.endAdornment}`]:{right:9}},[`& .${rc.root}.${hc.sizeSmall}`]:{padding:6,[`& .${kn.input}`]:{padding:"2.5px 4px 2.5px 6px"}},[`& .${oc.root}`]:{paddingTop:19,paddingLeft:8,[`.${kn.hasPopupIcon}&, .${kn.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${kn.hasPopupIcon}.${kn.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${oc.input}`]:{padding:"7px 4px"},[`& .${kn.endAdornment}`]:{right:9}},[`& .${oc.root}.${hc.sizeSmall}`]:{paddingBottom:1,[`& .${oc.input}`]:{padding:"2.5px 4px"}},[`& .${hc.hiddenLabel}`]:{paddingTop:8},[`& .${kn.input}`]:A({flexGrow:1,textOverflow:"ellipsis",opacity:0},t.inputFocused&&{opacity:1})})),TTe=he("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),ETe=he(fc,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),ITe=he(fc,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>A({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})(({ownerState:t})=>A({padding:2,marginRight:-2},t.popupOpen&&{transform:"rotate(180deg)"})),MTe=he(LC,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${kn.option}`]:e.option},e.popper,n.disablePortal&&e.popperDisablePortal]}})(({theme:t,ownerState:e})=>A({zIndex:t.zIndex.modal},e.disablePortal&&{position:"absolute"})),ATe=he(zo,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>A({},t.typography.body1,{overflow:"auto"})),RTe=he("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:t.palette.text.secondary,padding:"14px 16px"})),PTe=he("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:t.palette.text.secondary,padding:"14px 16px"})),kTe=he("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",[`& .${kn.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${kn.focused}`]:{backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:t.palette.action.disabledOpacity,pointerEvents:"none"},[`&.${kn.focusVisible}`]:{backgroundColor:t.palette.action.focus},'&[aria-selected="true"]':{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kn.focused}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.palette.action.selected}},[`&.${kn.focusVisible}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),LTe=he(yJ,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:t.palette.background.paper,top:-8})),DTe=he("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,[`& .${kn.option}`]:{paddingLeft:24}}),NTe=N.exports.forwardRef(function(e,n){var r,i;const s=it({props:e,name:"MuiAutocomplete"}),{autoComplete:o=!1,autoHighlight:a=!1,autoSelect:l=!1,blurOnSelect:c=!1,ChipProps:u,className:d,clearIcon:f=yH||(yH=K(hJ,{fontSize:"small"})),clearOnBlur:p=!s.freeSolo,clearOnEscape:g=!1,clearText:v="Clear",closeText:y="Close",componentsProps:x={},defaultValue:w=s.multiple?[]:null,disableClearable:b=!1,disableCloseOnSelect:T=!1,disabled:E=!1,disabledItemsFocusable:P=!1,disableListWrap:L=!1,disablePortal:R=!1,filterSelectedOptions:F=!1,forcePopupIcon:O="auto",freeSolo:G=!1,fullWidth:Z=!1,getLimitTagsText:V=xn=>`+${xn}`,getOptionLabel:U=xn=>{var cr;return(cr=xn.label)!=null?cr:xn},groupBy:j,handleHomeEndKeys:W=!s.freeSolo,includeInputInList:X=!1,limitTags:B=-1,ListboxComponent:H="ul",ListboxProps:q,loading:ee=!1,loadingText:J="Loading\u2026",multiple:de=!1,noOptionsText:ye="No options",openOnFocus:Ce=!1,openText:oe="Open",PaperComponent:He=zo,PopperComponent:Ae=LC,popupIcon:Ne=_H||(_H=K(yU,{})),readOnly:Se=!1,renderGroup:Ze,renderInput:we,renderOption:ve,renderTags:Ue,selectOnFocus:Qe=!s.freeSolo,size:ze="medium"}=s,st=ke(s,bTe),{getRootProps:vt,getInputProps:mt,getInputLabelProps:St,getPopupIndicatorProps:It,getClearProps:te,getTagProps:Q,getListboxProps:ue,getOptionProps:Re,value:Le,dirty:Pe,id:xe,popupOpen:me,focused:Ee,focusedTag:Oe,anchorEl:qe,setAnchorEl:le,inputValue:at,groupedOptions:et}=AQ(A({},s,{componentName:"Autocomplete"})),Vt=!b&&!E&&Pe&&!Se,Et=(!G||O===!0)&&O!==!1,Lt=A({},s,{disablePortal:R,focused:Ee,fullWidth:Z,hasClearIcon:Vt,hasPopupIcon:Et,inputFocused:Oe===-1,popupOpen:me,size:ze}),lt=STe(Lt);let Ft;if(de&&Le.length>0){const xn=cr=>A({className:Ie(lt.tag),disabled:E},Q(cr));Ue?Ft=Ue(Le,xn):Ft=Le.map((cr,Yi)=>K(xJ,A({label:U(cr),size:ze},xn({index:Yi}),u)))}if(B>-1&&Array.isArray(Ft)){const xn=Ft.length-B;!Ee&&xn>0&&(Ft=Ft.splice(0,B),Ft.push(K("span",{className:lt.tag,children:V(xn)},Ft.length)))}const en=Ze||(xn=>Tt("li",{children:[K(LTe,{className:lt.groupLabel,ownerState:Lt,component:"div",children:xn.group}),K(DTe,{className:lt.groupUl,ownerState:Lt,children:xn.children})]},xn.key)),jr=ve||((xn,cr)=>K("li",A({},xn,{children:U(cr)}))),Ii=(xn,cr)=>{const Yi=Re({option:xn,index:cr});return jr(A({},Yi,{className:lt.option}),xn,{selected:Yi["aria-selected"],inputValue:at})};return Tt(N.exports.Fragment,{children:[K(CTe,A({ref:n,className:Ie(lt.root,d),ownerState:Lt},vt(st),{children:we({id:xe,disabled:E,fullWidth:!0,size:ze==="small"?"small":void 0,InputLabelProps:St(),InputProps:{ref:le,className:lt.inputRoot,startAdornment:Ft,endAdornment:Tt(TTe,{className:lt.endAdornment,ownerState:Lt,children:[Vt?K(ETe,A({},te(),{"aria-label":v,title:v,ownerState:Lt},x.clearIndicator,{className:Ie(lt.clearIndicator,(r=x.clearIndicator)==null?void 0:r.className),children:f})):null,Et?K(ITe,A({},It(),{disabled:E,"aria-label":me?y:oe,title:me?y:oe,className:Ie(lt.popupIndicator),ownerState:Lt,children:Ne})):null]})},inputProps:A({className:Ie(lt.input),disabled:E,readOnly:Se},mt())})})),me&&qe?K(MTe,{as:Ae,className:Ie(lt.popper),disablePortal:R,style:{width:qe?qe.clientWidth:null},ownerState:Lt,role:"presentation",anchorEl:qe,open:!0,children:Tt(ATe,A({ownerState:Lt,as:He},x.paper,{className:Ie(lt.paper,(i=x.paper)==null?void 0:i.className),children:[ee&&et.length===0?K(RTe,{className:lt.loading,ownerState:Lt,children:J}):null,et.length===0&&!G&&!ee?K(PTe,{className:lt.noOptions,ownerState:Lt,role:"presentation",onMouseDown:xn=>{xn.preventDefault()},children:ye}):null,et.length>0?K(kTe,A({as:H,className:lt.listbox,ownerState:Lt},ue(),q,{children:et.map((xn,cr)=>j?en({key:xn.key,group:xn.group,children:xn.options.map((Yi,Ss)=>Ii(Yi,xn.index+Ss))}):Ii(xn,cr))})):null]}))}):null]})});var OTe=NTe,FTe=fr(K("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function EJ(t){return tt("MuiAvatar",t)}const BTe=nt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var IJ=BTe;const $Te=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],UTe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return rt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},EJ,e)},zTe=he("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t,ownerState:e})=>A({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},e.variant==="rounded"&&{borderRadius:t.shape.borderRadius},e.variant==="square"&&{borderRadius:0},e.colorDefault&&{color:t.palette.background.default,backgroundColor:t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[600]})),VTe=he("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),WTe=he(FTe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function HTe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=N.exports.useState(!1);return N.exports.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{!o||s("loaded")},a.onerror=()=>{!o||s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const GTe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:f="circular"}=r,p=ke(r,$Te);let g=null;const v=HTe(A({},l,{src:u,srcSet:d})),y=u||d,x=y&&v!=="error",w=A({},r,{colorDefault:!x,component:a,variant:f}),b=UTe(w);return x?g=K(VTe,A({alt:i,src:u,srcSet:d,sizes:c,ownerState:w,className:b.img},l)):s!=null?g=s:y&&i?g=i[0]:g=K(WTe,{className:b.fallback}),K(zTe,A({as:a,ownerState:w,className:Ie(b.root,o),ref:n},p,{children:g}))});var MJ=GTe;function AJ(t){return tt("MuiAvatarGroup",t)}const jTe=nt("MuiAvatarGroup",["root","avatar"]);var RJ=jTe;const qTe=["children","className","componentsProps","max","spacing","total","variant"],xH={small:-16,medium:null},KTe=t=>{const{classes:e}=t;return rt({root:["root"],avatar:["avatar"]},AJ,e)},XTe=he("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(t,e)=>A({[`& .${RJ.avatar}`]:e.avatar},e.root)})(({theme:t})=>({[`& .${IJ.root}`]:{border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"})),YTe=he(MJ,{name:"MuiAvatarGroup",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})(({theme:t})=>({border:`2px solid ${(t.vars||t).palette.background.default}`,boxSizing:"content-box",marginLeft:-8,"&:last-child":{marginLeft:0}})),QTe=N.exports.forwardRef(function(e,n){var r,i;const s=it({props:e,name:"MuiAvatarGroup"}),{children:o,className:a,componentsProps:l={},max:c=5,spacing:u="medium",total:d,variant:f="circular"}=s,p=ke(s,qTe);let g=c<2?2:c;const v=A({},s,{max:c,spacing:u,variant:f}),y=KTe(v),x=N.exports.Children.toArray(o).filter(P=>N.exports.isValidElement(P)),w=d||x.length;w===g&&(g+=1),g=Math.min(w+1,g);const b=Math.min(x.length,g-1),T=Math.max(w-g,w-b,0),E=u&&xH[u]!==void 0?xH[u]:-u;return Tt(XTe,A({ownerState:v,className:Ie(y.root,a),ref:n},p,{children:[T?Tt(YTe,A({ownerState:v,variant:f},l.additionalAvatar,{className:Ie(y.avatar,(r=l.additionalAvatar)==null?void 0:r.className),style:A({marginLeft:E},(i=l.additionalAvatar)==null?void 0:i.style),children:["+",T]})):null,x.slice(0,b).reverse().map((P,L)=>N.exports.cloneElement(P,{className:Ie(P.props.className,y.avatar),style:A({marginLeft:L===b-1?void 0:E},P.props.style),variant:P.props.variant||f}))]}))});var JTe=QTe;const ZTe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],eEe={entering:{opacity:1},entered:{opacity:1}},tEe=N.exports.forwardRef(function(e,n){const r=Br(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:v,style:y,timeout:x=i,TransitionComponent:w=kC}=e,b=ke(e,ZTe),T=N.exports.useRef(null),E=pn(a.ref,n),P=pn(T,E),L=j=>W=>{if(j){const X=T.current;W===void 0?j(X):j(X,W)}},R=L(f),F=L((j,W)=>{nk(j);const X=Sc({style:y,timeout:x,easing:l},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",X),j.style.transition=r.transitions.create("opacity",X),u&&u(j,W)}),O=L(d),G=L(v),Z=L(j=>{const W=Sc({style:y,timeout:x,easing:l},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",W),j.style.transition=r.transitions.create("opacity",W),p&&p(j)}),V=L(g);return K(w,A({appear:o,in:c,nodeRef:T,onEnter:F,onEntered:O,onEntering:R,onExit:Z,onExited:V,onExiting:G,addEndListener:j=>{s&&s(T.current,j)},timeout:x},b,{children:(j,W)=>N.exports.cloneElement(a,A({style:A({opacity:0,visibility:j==="exited"&&!c?"hidden":void 0},eEe[j],y,a.props.style),ref:P},W))}))});var _U=tEe;function PJ(t){return tt("MuiBackdrop",t)}const nEe=nt("MuiBackdrop",["root","invisible"]);var rEe=nEe;const iEe=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],sEe=t=>{const{classes:e,invisible:n}=t;return rt({root:["root",n&&"invisible"]},PJ,e)},oEe=he("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>A({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),aEe=N.exports.forwardRef(function(e,n){var r,i;const s=it({props:e,name:"MuiBackdrop"}),{children:o,component:a="div",components:l={},componentsProps:c={},className:u,invisible:d=!1,open:f,transitionDuration:p,TransitionComponent:g=_U}=s,v=ke(s,iEe),y=A({},s,{component:a,invisible:d}),x=sEe(y);return K(g,A({in:f,timeout:p},v,{children:K(oEe,{"aria-hidden":!0,as:(r=l.Root)!=null?r:a,className:Ie(x.root,u),ownerState:A({},y,(i=c.root)==null?void 0:i.ownerState),classes:x,ref:n,children:o})}))});var xU=aEe;const lEe=t=>!t||!na(t);var d0=lEe;function kJ(t){return tt("MuiBadge",t)}const cEe=nt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]);var nd=cEe;const uEe=["anchorOrigin","className","component","components","componentsProps","overlap","color","invisible","max","badgeContent","showZero","variant"],Q2=10,J2=4,dEe=t=>{const{color:e,anchorOrigin:n,invisible:r,overlap:i,variant:s,classes:o={}}=t,a={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${_e(n.vertical)}${_e(n.horizontal)}`,`anchorOrigin${_e(n.vertical)}${_e(n.horizontal)}${_e(i)}`,`overlap${_e(i)}`,e!=="default"&&`color${_e(e)}`]};return rt(a,kJ,o)},fEe=he("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),hEe=he("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.badge,e[n.variant],e[`anchorOrigin${_e(n.anchorOrigin.vertical)}${_e(n.anchorOrigin.horizontal)}${_e(n.overlap)}`],n.color!=="default"&&e[`color${_e(n.color)}`],n.invisible&&e.invisible]}})(({theme:t,ownerState:e})=>A({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:Q2*2,lineHeight:1,padding:"0 6px",height:Q2*2,borderRadius:Q2,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen})},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.variant==="dot"&&{borderRadius:J2,height:J2*2,minWidth:J2*2,padding:0},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular"&&{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular"&&{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular"&&{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}},e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}},e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular"&&{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${nd.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}},e.invisible&&{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})})),pEe=N.exports.forwardRef(function(e,n){var r,i,s,o;const a=it({props:e,name:"MuiBadge"}),{anchorOrigin:l={vertical:"top",horizontal:"right"},className:c,component:u="span",components:d={},componentsProps:f={},overlap:p="rectangular",color:g="default",invisible:v=!1,max:y,badgeContent:x,showZero:w=!1,variant:b="standard"}=a,T=ke(a,uEe),E=ZY({anchorOrigin:l,color:g,overlap:p,variant:b});let P=v;v===!1&&(x===0&&!w||x==null&&b!=="dot")&&(P=!0);const{color:L=g,overlap:R=p,anchorOrigin:F=l,variant:O=b}=P?E:a,G=A({},a,{anchorOrigin:F,invisible:P,color:L,overlap:R,variant:O}),Z=dEe(G);let V;return O!=="dot"&&(V=x&&Number(x)>y?`${y}+`:x),K(lwe,A({invisible:v,badgeContent:V,showZero:w,max:y},T,{components:A({Root:fEe,Badge:hEe},d),className:Ie(c,Z.root,(r=f.root)==null?void 0:r.className),componentsProps:{root:A({},f.root,d0(d.Root)&&{as:u,ownerState:A({},(i=f.root)==null?void 0:i.ownerState,{anchorOrigin:F,color:L,overlap:R,variant:O})}),badge:A({},f.badge,{className:Ie(Z.badge,(s=f.badge)==null?void 0:s.className)},d0(d.Badge)&&{ownerState:A({},(o=f.badge)==null?void 0:o.ownerState,{anchorOrigin:F,color:L,overlap:R,variant:O})})},ref:n}))});var mEe=pEe;function LJ(t){return tt("MuiBottomNavigation",t)}const gEe=nt("MuiBottomNavigation",["root"]);var vEe=gEe;const yEe=["children","className","component","onChange","showLabels","value"],_Ee=t=>{const{classes:e}=t;return rt({root:["root"]},LJ,e)},xEe=he("div",{name:"MuiBottomNavigation",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",height:56,backgroundColor:(t.vars||t).palette.background.paper})),wEe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiBottomNavigation"}),{children:i,className:s,component:o="div",onChange:a,showLabels:l=!1,value:c}=r,u=ke(r,yEe),d=A({},r,{component:o,showLabels:l}),f=_Ee(d);return K(xEe,A({as:o,className:Ie(f.root,s),ref:n,ownerState:d},u,{children:N.exports.Children.map(i,(p,g)=>{if(!N.exports.isValidElement(p))return null;const v=p.props.value===void 0?g:p.props.value;return N.exports.cloneElement(p,{selected:v===c,showLabel:p.props.showLabel!==void 0?p.props.showLabel:l,value:v,onChange:a})})}))});var bEe=wEe;function DJ(t){return tt("MuiBottomNavigationAction",t)}const SEe=nt("MuiBottomNavigationAction",["root","iconOnly","selected","label"]);var wU=SEe;const CEe=["className","icon","label","onChange","onClick","selected","showLabel","value"],TEe=t=>{const{classes:e,showLabel:n,selected:r}=t;return rt({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},DJ,e)},EEe=he(Ti,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.showLabel&&!n.selected&&e.iconOnly]}})(({theme:t,ownerState:e})=>A({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1"},!e.showLabel&&!e.selected&&{paddingTop:14},!e.showLabel&&!e.selected&&!e.label&&{paddingTop:0},{[`&.${wU.selected}`]:{color:(t.vars||t).palette.primary.main}})),IEe=he("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t,ownerState:e})=>A({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!e.showLabel&&!e.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${wU.selected}`]:{fontSize:t.typography.pxToRem(14)}})),MEe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiBottomNavigationAction"}),{className:i,icon:s,label:o,onChange:a,onClick:l,value:c}=r,u=ke(r,CEe),d=r,f=TEe(d),p=g=>{a&&a(g,c),l&&l(g)};return Tt(EEe,A({ref:n,className:Ie(f.root,i),focusRipple:!0,onClick:p,ownerState:d},u,{children:[s,K(IEe,{className:f.label,ownerState:d,children:o})]}))});var AEe=MEe;const REe=cg(),PEe=Mxe({defaultTheme:REe,defaultClassName:"MuiBox-root",generateClassName:rU.generate});var kEe=PEe,LEe=fr(K("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");const DEe=he(Ti)(({theme:t})=>A({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},t.palette.mode==="light"?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":A({},t.palette.mode==="light"?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":A({boxShadow:t.shadows[0]},t.palette.mode==="light"?{backgroundColor:Q1(t.palette.grey[200],.12)}:{backgroundColor:Q1(t.palette.grey[600],.12)})})),NEe=he(LEe)({width:24,height:16});function OEe(t){const e=t;return K("li",{children:K(DEe,A({focusRipple:!0},t,{ownerState:e,children:K(NEe,{ownerState:e})}))})}function NJ(t){return tt("MuiBreadcrumbs",t)}const FEe=nt("MuiBreadcrumbs",["root","ol","li","separator"]);var OJ=FEe;const BEe=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],$Ee=t=>{const{classes:e}=t;return rt({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},NJ,e)},UEe=he(Ls,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(t,e)=>[{[`& .${OJ.li}`]:e.li},e.root]})({}),zEe=he("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(t,e)=>e.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),VEe=he("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(t,e)=>e.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function WEe(t,e,n,r){return t.reduce((i,s,o)=>(o<t.length-1?i=i.concat(s,K(VEe,{"aria-hidden":!0,className:e,ownerState:r,children:n},`separator-${o}`)):i.push(s),i),[])}const HEe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiBreadcrumbs"}),{children:i,className:s,component:o="nav",expandText:a="Show path",itemsAfterCollapse:l=1,itemsBeforeCollapse:c=1,maxItems:u=8,separator:d="/"}=r,f=ke(r,BEe),[p,g]=N.exports.useState(!1),v=A({},r,{component:o,expanded:p,expandText:a,itemsAfterCollapse:l,itemsBeforeCollapse:c,maxItems:u,separator:d}),y=$Ee(v),x=N.exports.useRef(null),w=T=>{const E=()=>{g(!0);const P=x.current.querySelector("a[href],button,[tabindex]");P&&P.focus()};return c+l>=T.length?T:[...T.slice(0,c),K(OEe,{"aria-label":a,onClick:E},"ellipsis"),...T.slice(T.length-l,T.length)]},b=N.exports.Children.toArray(i).filter(T=>N.exports.isValidElement(T)).map((T,E)=>K("li",{className:y.li,children:T},`child-${E}`));return K(UEe,A({ref:n,component:o,color:"text.secondary",className:Ie(y.root,s),ownerState:v},f,{children:K(zEe,{className:y.ol,ref:x,ownerState:v,children:WEe(p||u&&b.length<=u?b:w(b),y.separator,d,v)})}))});var GEe=HEe;function FJ(t){return tt("MuiButton",t)}const jEe=nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var Db=jEe;const qEe=N.exports.createContext({});var BJ=qEe;const KEe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],XEe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${_e(e)}`,`size${_e(i)}`,`${s}Size${_e(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${_e(i)}`],endIcon:["endIcon",`iconSize${_e(i)}`]},l=rt(a,FJ,o);return A({},o,l)},$J=t=>A({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),YEe=he(Ti,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${_e(n.color)}`],e[`size${_e(n.size)}`],e[`${n.variant}Size${_e(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return A({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":A({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Xt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Xt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Xt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":A({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Db.focusVisible}`]:A({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Db.disabled}`]:A({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${(t.vars||t).palette.action.disabled}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Xt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Db.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Db.disabled}`]:{boxShadow:"none"}}),QEe=he("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${_e(n.size)}`]]}})(({ownerState:t})=>A({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},$J(t))),JEe=he("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${_e(n.size)}`]]}})(({ownerState:t})=>A({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},$J(t))),ZEe=N.exports.forwardRef(function(e,n){const r=N.exports.useContext(BJ),i=tQ(r,e),s=it({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:v=!1,size:y="medium",startIcon:x,type:w,variant:b="text"}=s,T=ke(s,KEe),E=A({},s,{color:a,component:l,disabled:u,disableElevation:d,disableFocusRipple:f,fullWidth:v,size:y,type:w,variant:b}),P=XEe(E),L=x&&K(QEe,{className:P.startIcon,ownerState:E,children:x}),R=p&&K(JEe,{className:P.endIcon,ownerState:E,children:p});return Tt(YEe,A({ownerState:E,className:Ie(c,r.className),component:l,disabled:u,focusRipple:!f,focusVisibleClassName:Ie(P.focusVisible,g),ref:n,type:w},T,{classes:P,children:[L,o,R]}))});var AM=ZEe;function UJ(t){return tt("MuiButtonGroup",t)}const eIe=nt("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary"]);var ld=eIe;const tIe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],nIe=(t,e)=>{const{ownerState:n}=t;return[{[`& .${ld.grouped}`]:e.grouped},{[`& .${ld.grouped}`]:e[`grouped${_e(n.orientation)}`]},{[`& .${ld.grouped}`]:e[`grouped${_e(n.variant)}`]},{[`& .${ld.grouped}`]:e[`grouped${_e(n.variant)}${_e(n.orientation)}`]},{[`& .${ld.grouped}`]:e[`grouped${_e(n.variant)}${_e(n.color)}`]},e.root,e[n.variant],n.disableElevation===!0&&e.disableElevation,n.fullWidth&&e.fullWidth,n.orientation==="vertical"&&e.vertical]},rIe=t=>{const{classes:e,color:n,disabled:r,disableElevation:i,fullWidth:s,orientation:o,variant:a}=t,l={root:["root",a,o==="vertical"&&"vertical",s&&"fullWidth",i&&"disableElevation"],grouped:["grouped",`grouped${_e(o)}`,`grouped${_e(a)}`,`grouped${_e(a)}${_e(o)}`,`grouped${_e(a)}${_e(n)}`,r&&"disabled"]};return rt(l,UJ,e)},iIe=he("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:nIe})(({theme:t,ownerState:e})=>A({display:"inline-flex",borderRadius:t.shape.borderRadius},e.variant==="contained"&&{boxShadow:t.shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{[`& .${ld.grouped}`]:A({minWidth:40,"&:not(:first-of-type)":A({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1}),"&:not(:last-of-type)":A({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`},e.variant==="text"&&e.color!=="inherit"&&{borderColor:Xt(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:`1px solid ${t.palette.grey[400]}`,[`&.${ld.disabled}`]:{borderRight:`1px solid ${t.palette.action.disabled}`}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:`1px solid ${t.palette.grey[400]}`,[`&.${ld.disabled}`]:{borderBottom:`1px solid ${t.palette.action.disabled}`}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:t.palette[e.color].dark},{"&:hover":A({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),"&:hover":A({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"})})),sIe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiButtonGroup"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:f=!1,orientation:p="horizontal",size:g="medium",variant:v="outlined"}=r,y=ke(r,tIe),x=A({},r,{color:o,component:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,orientation:p,size:g,variant:v}),w=rIe(x),b=N.exports.useMemo(()=>({className:w.grouped,color:o,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:f,size:g,variant:v}),[o,l,c,u,d,f,g,v,w.grouped]);return K(iIe,A({as:a,role:"group",className:Ie(w.root,s),ref:n,ownerState:x},y,{children:K(BJ.Provider,{value:b,children:i})}))});var oIe=sIe;function zJ(t){return tt("MuiCard",t)}const aIe=nt("MuiCard",["root"]);var lIe=aIe;const cIe=["className","raised"],uIe=t=>{const{classes:e}=t;return rt({root:["root"]},zJ,e)},dIe=he(zo,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),fIe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=r,o=ke(r,cIe),a=A({},r,{raised:s}),l=uIe(a);return K(dIe,A({className:Ie(l.root,i),elevation:s?8:void 0,ref:n,ownerState:a},o))});var hIe=fIe;function VJ(t){return tt("MuiCardActionArea",t)}const pIe=nt("MuiCardActionArea",["root","focusVisible","focusHighlight"]);var RM=pIe;const mIe=["children","className","focusVisibleClassName"],gIe=t=>{const{classes:e}=t;return rt({root:["root"],focusHighlight:["focusHighlight"]},VJ,e)},vIe=he(Ti,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",textAlign:"inherit",width:"100%",[`&:hover .${RM.focusHighlight}`]:{opacity:t.palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${RM.focusVisible} .${RM.focusHighlight}`]:{opacity:t.palette.action.focusOpacity}})),yIe=he("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(t,e)=>e.focusHighlight})(({theme:t})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})})),_Ie=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCardActionArea"}),{children:i,className:s,focusVisibleClassName:o}=r,a=ke(r,mIe),l=r,c=gIe(l);return Tt(vIe,A({className:Ie(c.root,s),focusVisibleClassName:Ie(o,c.focusVisible),ref:n,ownerState:l},a,{children:[i,K(yIe,{className:c.focusHighlight,ownerState:l})]}))});var xIe=_Ie;function WJ(t){return tt("MuiCardActions",t)}const wIe=nt("MuiCardActions",["root","spacing"]);var bIe=wIe;const SIe=["disableSpacing","className"],CIe=t=>{const{classes:e,disableSpacing:n}=t;return rt({root:["root",!n&&"spacing"]},WJ,e)},TIe=he("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>A({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),EIe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:s}=r,o=ke(r,SIe),a=A({},r,{disableSpacing:i}),l=CIe(a);return K(TIe,A({className:Ie(l.root,s),ownerState:a,ref:n},o))});var IIe=EIe;function HJ(t){return tt("MuiCardContent",t)}const MIe=nt("MuiCardContent",["root"]);var AIe=MIe;const RIe=["className","component"],PIe=t=>{const{classes:e}=t;return rt({root:["root"]},HJ,e)},kIe=he("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),LIe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=r,o=ke(r,RIe),a=A({},r,{component:s}),l=PIe(a);return K(kIe,A({as:s,className:Ie(l.root,i),ownerState:a,ref:n},o))});var DIe=LIe;function GJ(t){return tt("MuiCardHeader",t)}const NIe=nt("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var nF=NIe;const OIe=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],FIe=t=>{const{classes:e}=t;return rt({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},GJ,e)},BIe=he("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>A({[`& .${nF.title}`]:e.title,[`& .${nF.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),$Ie=he("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),UIe=he("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),zIe=he("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),VIe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCardHeader"}),{action:i,avatar:s,className:o,component:a="div",disableTypography:l=!1,subheader:c,subheaderTypographyProps:u,title:d,titleTypographyProps:f}=r,p=ke(r,OIe),g=A({},r,{component:a,disableTypography:l}),v=FIe(g);let y=d;y!=null&&y.type!==Ls&&!l&&(y=K(Ls,A({variant:s?"body2":"h5",className:v.title,component:"span",display:"block"},f,{children:y})));let x=c;return x!=null&&x.type!==Ls&&!l&&(x=K(Ls,A({variant:s?"body2":"body1",className:v.subheader,color:"text.secondary",component:"span",display:"block"},u,{children:x}))),Tt(BIe,A({className:Ie(v.root,o),as:a,ref:n,ownerState:g},p,{children:[s&&K($Ie,{className:v.avatar,ownerState:g,children:s}),Tt(zIe,{className:v.content,ownerState:g,children:[y,x]}),i&&K(UIe,{className:v.action,ownerState:g,children:i})]}))});var WIe=VIe;function jJ(t){return tt("MuiCardMedia",t)}const HIe=nt("MuiCardMedia",["root","media","img"]);var GIe=HIe;const jIe=["children","className","component","image","src","style"],qIe=t=>{const{classes:e,isMediaComponent:n,isImageComponent:r}=t;return rt({root:["root",n&&"media",r&&"img"]},jJ,e)},KIe=he("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{isMediaComponent:r,isImageComponent:i}=n;return[e.root,r&&e.media,i&&e.img]}})(({ownerState:t})=>A({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})),XIe=["video","audio","picture","iframe","img"],YIe=["picture","img"],QIe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:a,src:l,style:c}=r,u=ke(r,jIe),d=XIe.indexOf(o)!==-1,f=!d&&a?A({backgroundImage:`url("${a}")`},c):c,p=A({},r,{component:o,isMediaComponent:d,isImageComponent:YIe.indexOf(o)!==-1}),g=qIe(p);return K(KIe,A({className:Ie(g.root,s),as:o,role:!d&&a?"img":void 0,ref:n,style:f,ownerState:p,src:d?a||l:void 0},u,{children:i}))});var JIe=QIe;function ZIe(t){return tt("PrivateSwitchBase",t)}nt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const eMe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],tMe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,s={root:["root",n&&"checked",r&&"disabled",i&&`edge${_e(i)}`],input:["input"]};return rt(s,ZIe,e)},nMe=he(Ti)(({ownerState:t})=>A({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),rMe=he("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),iMe=N.exports.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:s,className:o,defaultChecked:a,disabled:l,disableFocusRipple:c=!1,edge:u=!1,icon:d,id:f,inputProps:p,inputRef:g,name:v,onBlur:y,onChange:x,onFocus:w,readOnly:b,required:T,tabIndex:E,type:P,value:L}=e,R=ke(e,eMe),[F,O]=Po({controlled:i,default:Boolean(a),name:"SwitchBase",state:"checked"}),G=kl(),Z=H=>{w&&w(H),G&&G.onFocus&&G.onFocus(H)},V=H=>{y&&y(H),G&&G.onBlur&&G.onBlur(H)},U=H=>{if(H.nativeEvent.defaultPrevented)return;const q=H.target.checked;O(q),x&&x(H,q)};let j=l;G&&typeof j=="undefined"&&(j=G.disabled);const W=P==="checkbox"||P==="radio",X=A({},e,{checked:F,disabled:j,disableFocusRipple:c,edge:u}),B=tMe(X);return Tt(nMe,A({component:"span",className:Ie(B.root,o),centerRipple:!0,focusRipple:!c,disabled:j,tabIndex:null,role:void 0,onFocus:Z,onBlur:V,ownerState:X,ref:n},R,{children:[K(rMe,A({autoFocus:r,checked:i,defaultChecked:a,className:B.input,disabled:j,id:W&&f,name:v,onChange:U,readOnly:b,ref:g,required:T,ownerState:X,tabIndex:E,type:P},P==="checkbox"&&L===void 0?{}:{value:L},p)),F?s:d]}))});var bU=iMe,sMe=fr(K("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),oMe=fr(K("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),aMe=fr(K("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function qJ(t){return tt("MuiCheckbox",t)}const lMe=nt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);var PM=lMe;const cMe=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],uMe=t=>{const{classes:e,indeterminate:n,color:r}=t,i={root:["root",n&&"indeterminate",`color${_e(r)}`]},s=rt(i,qJ,e);return A({},e,s)},dMe=he(bU,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,n.color!=="default"&&e[`color${_e(n.color)}`]]}})(({theme:t,ownerState:e})=>A({color:t.palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:Xt(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${PM.checked}, &.${PM.indeterminate}`]:{color:t.palette[e.color].main},[`&.${PM.disabled}`]:{color:t.palette.action.disabled}})),fMe=K(oMe,{}),hMe=K(sMe,{}),pMe=K(aMe,{}),mMe=N.exports.forwardRef(function(e,n){var r,i;const s=it({props:e,name:"MuiCheckbox"}),{checkedIcon:o=fMe,color:a="primary",icon:l=hMe,indeterminate:c=!1,indeterminateIcon:u=pMe,inputProps:d,size:f="medium"}=s,p=ke(s,cMe),g=c?u:l,v=c?u:o,y=A({},s,{color:a,indeterminate:c,size:f}),x=uMe(y);return K(dMe,A({type:"checkbox",inputProps:A({"data-indeterminate":c},d),icon:N.exports.cloneElement(g,{fontSize:(r=g.props.fontSize)!=null?r:f}),checkedIcon:N.exports.cloneElement(v,{fontSize:(i=v.props.fontSize)!=null?i:f}),ownerState:y,ref:n},p,{classes:x}))});var KJ=mMe;function XJ(t){return tt("MuiCircularProgress",t)}const gMe=nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var vMe=gMe;const yMe=["className","color","disableShrink","size","style","thickness","value","variant"];let uk=t=>t,wH,bH,SH,CH;const Rf=44,_Me=Ec(wH||(wH=uk`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),xMe=Ec(bH||(bH=uk`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),wMe=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${_e(r)}`],svg:["svg"],circle:["circle",`circle${_e(n)}`,i&&"circleDisableShrink"]};return rt(s,XJ,e)},bMe=he("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${_e(n.color)}`]]}})(({ownerState:t,theme:e})=>A({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Pd(SH||(SH=uk`
      animation: ${0} 1.4s linear infinite;
    `),_Me)),SMe=he("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),CMe=he("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${_e(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>A({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Pd(CH||(CH=uk`
      animation: ${0} 1.4s ease-in-out infinite;
    `),xMe)),TMe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:c=3.6,value:u=0,variant:d="indeterminate"}=r,f=ke(r,yMe),p=A({},r,{color:s,disableShrink:o,size:a,thickness:c,value:u,variant:d}),g=wMe(p),v={},y={},x={};if(d==="determinate"){const w=2*Math.PI*((Rf-c)/2);v.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(u),v.strokeDashoffset=`${((100-u)/100*w).toFixed(3)}px`,y.transform="rotate(-90deg)"}return K(bMe,A({className:Ie(g.root,i),style:A({width:a,height:a},y,l),ownerState:p,ref:n,role:"progressbar"},x,f,{children:K(SMe,{className:g.svg,ownerState:p,viewBox:`${Rf/2} ${Rf/2} ${Rf} ${Rf}`,children:K(CMe,{className:g.circle,style:v,ownerState:p,cx:Rf,cy:Rf,r:(Rf-c)/2,fill:"none",strokeWidth:c})})}))});var EMe=TMe;function YJ(t){return tt("MuiContainer",t)}const IMe=nt("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var MMe=IMe;const AMe=["className","component","disableGutters","fixed","maxWidth"],RMe=t=>{const{classes:e,fixed:n,disableGutters:r,maxWidth:i}=t,s={root:["root",i&&`maxWidth${_e(String(i))}`,n&&"fixed",r&&"disableGutters"]};return rt(s,YJ,e)},PMe=he("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${_e(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}})(({theme:t,ownerState:e})=>A({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}),({theme:t,ownerState:e})=>e.fixed&&Object.keys(t.breakpoints.values).reduce((n,r)=>{const i=t.breakpoints.values[r];return i!==0&&(n[t.breakpoints.up(r)]={maxWidth:`${i}${t.breakpoints.unit}`}),n},{}),({theme:t,ownerState:e})=>A({},e.maxWidth==="xs"&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},e.maxWidth&&e.maxWidth!=="xs"&&{[t.breakpoints.up(e.maxWidth)]:{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`}})),kMe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiContainer"}),{className:i,component:s="div",disableGutters:o=!1,fixed:a=!1,maxWidth:l="lg"}=r,c=ke(r,AMe),u=A({},r,{component:s,disableGutters:o,fixed:a,maxWidth:l}),d=RMe(u);return K(PMe,A({as:s,ownerState:u,className:Ie(d.root,i),ref:n},c))});var LMe=kMe;const QJ=(t,e)=>A({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&{colorScheme:t.palette.mode}),JJ=t=>A({color:t.palette.text.primary},t.typography.body1,{backgroundColor:t.palette.background.default,"@media print":{backgroundColor:t.palette.common.white}}),DMe=(t,e=!1)=>{var n,r;let i={html:QJ(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:A({margin:0},JJ(t),{"&::backdrop":{backgroundColor:t.palette.background.default}})};const s=(n=t.components)==null||(r=n.MuiCssBaseline)==null?void 0:r.styleOverrides;return s&&(i=[i,s]),i};function NMe(t){const e=it({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return Tt(N.exports.Fragment,{children:[K(gU,{styles:i=>DMe(i,r)}),n]})}const OMe={track:"#2b2b2b",thumb:"#6b6b6b",active:"#959595"};function FMe(t=OMe){return{scrollbarColor:`${t.thumb} ${t.track}`,"&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:t.track},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:t.thumb,minHeight:24,border:`3px solid ${t.track}`},"&::-webkit-scrollbar-thumb:focus, & *::-webkit-scrollbar-thumb:focus":{backgroundColor:t.active},"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active":{backgroundColor:t.active},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:t.active},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:t.track}}}const BMe=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],$Me=zQ,UMe=t=>t.classes,zMe=he("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>A({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),VMe=he(xU,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),WMe=N.exports.forwardRef(function(e,n){var r;const i=it({name:"MuiModal",props:e}),{BackdropComponent:s=VMe,closeAfterTransition:o=!1,children:a,components:l={},componentsProps:c={},disableAutoFocus:u=!1,disableEnforceFocus:d=!1,disableEscapeKeyDown:f=!1,disablePortal:p=!1,disableRestoreFocus:g=!1,disableScrollLock:v=!1,hideBackdrop:y=!1,keepMounted:x=!1}=i,w=ke(i,BMe),[b,T]=N.exports.useState(!0),E={closeAfterTransition:o,disableAutoFocus:u,disableEnforceFocus:d,disableEscapeKeyDown:f,disablePortal:p,disableRestoreFocus:g,disableScrollLock:v,hideBackdrop:y,keepMounted:x},P=A({},i,E,{exited:b}),L=UMe(P);return K(Vbe,A({components:A({Root:zMe},l),componentsProps:{root:A({},c.root,(!l.Root||!na(l.Root))&&{ownerState:A({},(r=c.root)==null?void 0:r.ownerState)})},BackdropComponent:s,onTransitionEnter:()=>T(!1),onTransitionExited:()=>T(!0),ref:n},w,{classes:L},E,{children:a}))});var dk=WMe;function ZJ(t){return tt("MuiDialog",t)}const HMe=nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var kM=HMe;const GMe=N.exports.createContext({});var eZ=GMe;const jMe=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],qMe=he(xU,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),KMe=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${_e(n)}`],paper:["paper",`paperScroll${_e(n)}`,`paperWidth${_e(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return rt(o,ZJ,e)},XMe=he(dk,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),YMe=he("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${_e(n.scroll)}`]]}})(({ownerState:t})=>A({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),QMe=he(zo,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${_e(n.scroll)}`],e[`paperWidth${_e(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>A({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`${t.breakpoints.values.xs}${t.breakpoints.unit}`,[`&.${kM.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${kM.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${kM.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),JMe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialog"}),i=Br(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:v="sm",onBackdropClick:y,onClose:x,open:w,PaperComponent:b=zo,PaperProps:T={},scroll:E="paper",TransitionComponent:P=_U,transitionDuration:L=s,TransitionProps:R}=r,F=ke(r,jMe),O=A({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:g,maxWidth:v,scroll:E}),G=KMe(O),Z=N.exports.useRef(),V=X=>{Z.current=X.target===X.currentTarget},U=X=>{!Z.current||(Z.current=null,y&&y(X),x&&x(X,"backdropClick"))},j=bc(a),W=N.exports.useMemo(()=>({titleId:j}),[j]);return K(XMe,A({className:Ie(G.root,d),BackdropProps:A({transitionDuration:L,as:l},c),closeAfterTransition:!0,BackdropComponent:qMe,disableEscapeKeyDown:f,onClose:x,open:w,ref:n,onClick:U,ownerState:O},F,{children:K(P,A({appear:!0,in:w,timeout:L,role:"presentation"},R,{children:K(YMe,{className:Ie(G.container),onMouseDown:V,ownerState:O,children:K(QMe,A({as:b,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":j},T,{className:Ie(G.paper,T.className),ownerState:O,children:K(eZ.Provider,{value:W,children:u})}))})}))}))});var ZMe=JMe;function tZ(t){return tt("MuiDialogActions",t)}const eAe=nt("MuiDialogActions",["root","spacing"]);var tAe=eAe;const nAe=["className","disableSpacing"],rAe=t=>{const{classes:e,disableSpacing:n}=t;return rt({root:["root",!n&&"spacing"]},tZ,e)},iAe=he("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>A({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),sAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=ke(r,nAe),a=A({},r,{disableSpacing:s}),l=rAe(a);return K(iAe,A({className:Ie(l.root,i),ownerState:a,ref:n},o))});var oAe=sAe;function nZ(t){return tt("MuiDialogContent",t)}const aAe=nt("MuiDialogContent",["root","dividers"]);var lAe=aAe;function rZ(t){return tt("MuiDialogTitle",t)}const cAe=nt("MuiDialogTitle",["root"]);var iZ=cAe;const uAe=["className","dividers"],dAe=t=>{const{classes:e,dividers:n}=t;return rt({root:["root",n&&"dividers"]},nZ,e)},fAe=he("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>A({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${t.palette.divider}`,borderBottom:`1px solid ${t.palette.divider}`}:{[`.${iZ.root} + &`]:{paddingTop:0}})),hAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=ke(r,uAe),a=A({},r,{dividers:s}),l=dAe(a);return K(fAe,A({className:Ie(l.root,i),ownerState:a,ref:n},o))});var pAe=hAe;function sZ(t){return tt("MuiDialogContentText",t)}const mAe=nt("MuiDialogContentText",["root"]);var gAe=mAe;const vAe=["children"],yAe=t=>{const{classes:e}=t,r=rt({root:["root"]},sZ,e);return A({},e,r)},_Ae=he(Ls,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialogContentText"}),i=ke(r,vAe),s=yAe(i);return K(_Ae,A({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i},r,{classes:s}))});var wAe=xAe;const bAe=["className","id"],SAe=t=>{const{classes:e}=t;return rt({root:["root"]},rZ,e)},CAe=he(Ls,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),TAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=ke(r,bAe),a=r,l=SAe(a),{titleId:c=s}=N.exports.useContext(eZ);return K(CAe,A({component:"h2",className:Ie(l.root,i),ownerState:a,ref:n,variant:"h6",id:c},o))});var EAe=TAe;function oZ(t){return tt("MuiDivider",t)}const IAe=nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var rF=IAe;const MAe=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],AAe=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return rt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},oZ,r)},RAe=he("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>A({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:t.palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:Xt(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:t,ownerState:e})=>A({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${t.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:t,ownerState:e})=>A({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${t.palette.divider}`,transform:"translateX(0%)"}}),({ownerState:t})=>A({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),PAe=he("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>A({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),kAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:u="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:f="center",variant:p="fullWidth"}=r,g=ke(r,MAe),v=A({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:u,role:d,textAlign:f,variant:p}),y=AAe(v);return K(RAe,A({as:a,className:Ie(y.root,o),role:d,ref:n,ownerState:v},g,{children:s?K(PAe,{className:y.wrapper,ownerState:v,children:s}):null}))});var LAe=kAe;const DAe=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function NAe(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Os(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function OAe(t){return typeof t=="function"?t():t}function JE(t,e,n){const r=OAe(n),i=NAe(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const FAe=N.exports.forwardRef(function(e,n){const r=Br(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:f,onEnter:p,onEntered:g,onEntering:v,onExit:y,onExited:x,onExiting:w,style:b,timeout:T=s,TransitionComponent:E=kC}=e,P=ke(e,DAe),L=N.exports.useRef(null),R=pn(l.ref,L),F=pn(R,n),O=H=>q=>{H&&(q===void 0?H(L.current):H(L.current,q))},G=O((H,q)=>{JE(u,H,c),nk(H),p&&p(H,q)}),Z=O((H,q)=>{const ee=Sc({timeout:T,style:b,easing:d},{mode:"enter"});H.style.webkitTransition=r.transitions.create("-webkit-transform",A({},ee)),H.style.transition=r.transitions.create("transform",A({},ee)),H.style.webkitTransform="none",H.style.transform="none",v&&v(H,q)}),V=O(g),U=O(w),j=O(H=>{const q=Sc({timeout:T,style:b,easing:d},{mode:"exit"});H.style.webkitTransition=r.transitions.create("-webkit-transform",q),H.style.transition=r.transitions.create("transform",q),JE(u,H,c),y&&y(H)}),W=O(H=>{H.style.webkitTransition="",H.style.transition="",x&&x(H)}),X=H=>{o&&o(L.current,H)},B=N.exports.useCallback(()=>{L.current&&JE(u,L.current,c)},[u,c]);return N.exports.useEffect(()=>{if(f||u==="down"||u==="right")return;const H=Lh(()=>{L.current&&JE(u,L.current,c)}),q=Os(L.current);return q.addEventListener("resize",H),()=>{H.clear(),q.removeEventListener("resize",H)}},[u,f,c]),N.exports.useEffect(()=>{f||B()},[f,B]),K(E,A({nodeRef:L,onEnter:G,onEntered:V,onEntering:Z,onExit:j,onExited:W,onExiting:U,addEndListener:X,appear:a,in:f,timeout:T},P,{children:(H,q)=>N.exports.cloneElement(l,A({ref:F,style:A({visibility:H==="exited"&&!f?"hidden":void 0},b,l.props.style)},q))}))});var aZ=FAe;function lZ(t){return tt("MuiDrawer",t)}const BAe=nt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var $Ae=BAe;const UAe=["BackdropProps"],zAe=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],cZ=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},VAe=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${_e(n)}`,r!=="temporary"&&`paperAnchorDocked${_e(n)}`]};return rt(i,lZ,e)},WAe=he(dk,{name:"MuiDrawer",slot:"Root",overridesResolver:cZ})(({theme:t})=>({zIndex:t.zIndex.drawer})),TH=he("div",{shouldForwardProp:Uo,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:cZ})({flex:"0 0 auto"}),HAe=he(zo,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${_e(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${_e(n.anchor)}`]]}})(({theme:t,ownerState:e})=>A({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:t.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${t.palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${t.palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${t.palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${t.palette.divider}`})),uZ={left:"right",right:"left",top:"down",bottom:"up"};function f0(t){return["left","right"].indexOf(t)!==-1}function Nb(t,e){return t.direction==="rtl"&&f0(e)?uZ[e]:e}const GAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiDrawer"}),i=Br(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:a,children:l,className:c,elevation:u=16,hideBackdrop:d=!1,ModalProps:{BackdropProps:f}={},onClose:p,open:g=!1,PaperProps:v={},SlideProps:y,TransitionComponent:x=aZ,transitionDuration:w=s,variant:b="temporary"}=r,T=ke(r.ModalProps,UAe),E=ke(r,zAe),P=N.exports.useRef(!1);N.exports.useEffect(()=>{P.current=!0},[]);const L=Nb(i,o),F=A({},r,{anchor:o,elevation:u,open:g,variant:b},E),O=VAe(F),G=K(HAe,A({elevation:b==="temporary"?u:0,square:!0},v,{className:Ie(O.paper,v.className),ownerState:F,children:l}));if(b==="permanent")return K(TH,A({className:Ie(O.root,O.docked,c),ownerState:F,ref:n},E,{children:G}));const Z=K(x,A({in:g,direction:uZ[L],timeout:w,appear:P.current},y,{children:G}));return b==="persistent"?K(TH,A({className:Ie(O.root,O.docked,c),ownerState:F,ref:n},E,{children:Z})):K(WAe,A({BackdropProps:A({},a,f,{transitionDuration:w}),className:Ie(O.root,O.modal,c),open:g,ownerState:F,onClose:p,hideBackdrop:d,ref:n},E,T,{children:Z}))});var dZ=GAe;function fZ(t){return tt("MuiFab",t)}const jAe=nt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var iF=jAe;const qAe=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],KAe=t=>{const{color:e,variant:n,classes:r,size:i}=t,s={root:["root",n,`size${_e(i)}`,e==="inherit"?"colorInherit":e]};return rt(s,fZ,r)},XAe=he(Ti,{name:"MuiFab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${_e(n.size)}`],n.color==="inherit"&&e.colorInherit,e[_e(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>A({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:t.zIndex.fab,boxShadow:t.shadows[6],"&:active":{boxShadow:t.shadows[12]},color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],"&:hover":{backgroundColor:t.palette.grey.A100,"@media (hover: none)":{backgroundColor:t.palette.grey[300]},textDecoration:"none"},[`&.${iF.focusVisible}`]:{boxShadow:t.shadows[6]},[`&.${iF.disabled}`]:{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"}),({theme:t,ownerState:e})=>A({},e.color!=="inherit"&&e.color!=="default"&&t.palette[e.color]!=null&&{color:t.palette[e.color].contrastText,backgroundColor:t.palette[e.color].main,"&:hover":{backgroundColor:t.palette[e.color].dark,"@media (hover: none)":{backgroundColor:t.palette[e.color].main}}})),YAe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFab"}),{children:i,className:s,color:o="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:u,size:d="large",variant:f="circular"}=r,p=ke(r,qAe),g=A({},r,{color:o,component:a,disabled:l,disableFocusRipple:c,size:d,variant:f}),v=KAe(g);return K(XAe,A({className:Ie(v.root,s),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:Ie(v.focusVisible,u),ownerState:g,ref:n},p,{children:i}))});var SU=YAe;const QAe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],JAe=t=>{const{classes:e,disableUnderline:n}=t,i=rt({root:["root",!n&&"underline"],input:["input"]},CJ,e);return A({},e,i)},ZAe=he(lk,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...ok(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return A({position:"relative",backgroundColor:s,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:s}},[`&.${oc.focused}`]:{backgroundColor:s},[`&.${oc.disabled}`]:{backgroundColor:r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=t.palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oc.error}:after`]:{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oc.disabled}):before`]:{borderBottom:`1px solid ${t.palette.text.primary}`},[`&.${oc.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&A({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),eRe=he(ck,{name:"MuiFilledInput",slot:"Input",overridesResolver:ak})(({theme:t,ownerState:e})=>A({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),hZ=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFilledInput"}),{components:i={},componentsProps:s,fullWidth:o=!1,inputComponent:a="input",multiline:l=!1,type:c="text"}=r,u=ke(r,QAe),d=A({},r,{fullWidth:o,inputComponent:a,multiline:l,type:c}),f=JAe(r),p={root:{ownerState:d},input:{ownerState:d}},g=s?ao(s,p):p;return K(DC,A({components:A({Root:ZAe,Input:eRe},i),componentsProps:g,fullWidth:o,inputComponent:a,multiline:l,ref:n,type:c},u,{classes:f}))});hZ.muiName="Input";var CU=hZ;function pZ(t){return tt("MuiFormControl",t)}const tRe=nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var nRe=tRe;const rRe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],iRe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${_e(n)}`,r&&"fullWidth"]};return rt(i,pZ,e)},sRe=he("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>A({},e.root,e[`margin${_e(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>A({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),oRe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:g=!1,size:v="medium",variant:y="outlined"}=r,x=ke(r,rRe),w=A({},r,{color:o,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:g,size:v,variant:y}),b=iRe(w),[T,E]=N.exports.useState(()=>{let j=!1;return i&&N.exports.Children.forEach(i,W=>{if(!bd(W,["Input","Select"]))return;const X=bd(W,["Select"])?W.props.input:W;X&&fTe(X.props)&&(j=!0)}),j}),[P,L]=N.exports.useState(()=>{let j=!1;return i&&N.exports.Children.forEach(i,W=>{!bd(W,["Input","Select"])||vU(W.props,!0)&&(j=!0)}),j}),[R,F]=N.exports.useState(!1);l&&R&&F(!1);const O=u!==void 0&&!l?u:R;let G;const Z=N.exports.useCallback(()=>{L(!0)},[]),V=N.exports.useCallback(()=>{L(!1)},[]),U={adornedStart:T,setAdornedStart:E,color:o,disabled:l,error:c,filled:P,focused:O,fullWidth:d,hiddenLabel:f,size:v,onBlur:()=>{F(!1)},onEmpty:V,onFilled:Z,onFocus:()=>{F(!0)},registerEffect:G,required:g,variant:y};return K(sk.Provider,{value:U,children:K(sRe,A({as:a,ownerState:w,className:Ie(b.root,s),ref:n},x,{children:i}))})});var mZ=oRe;function gZ(t){return tt("MuiFormControlLabel",t)}const aRe=nt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var Ob=aRe;const lRe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],cRe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i}=t,s={root:["root",n&&"disabled",`labelPlacement${_e(r)}`,i&&"error"],label:["label",n&&"disabled"]};return rt(s,gZ,e)},uRe=he("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ob.label}`]:e.label},e.root,e[`labelPlacement${_e(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>A({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ob.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Ob.label}`]:{[`&.${Ob.disabled}`]:{color:t.palette.text.disabled}}})),dRe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormControlLabel"}),{className:i,componentsProps:s={},control:o,disabled:a,disableTypography:l,label:c,labelPlacement:u="end"}=r,d=ke(r,lRe),f=kl();let p=a;typeof p=="undefined"&&typeof o.props.disabled!="undefined"&&(p=o.props.disabled),typeof p=="undefined"&&f&&(p=f.disabled);const g={disabled:p};["checked","name","onChange","value","inputRef"].forEach(b=>{typeof o.props[b]=="undefined"&&typeof r[b]!="undefined"&&(g[b]=r[b])});const v=Xd({props:r,muiFormControl:f,states:["error"]}),y=A({},r,{disabled:p,labelPlacement:u,error:v.error}),x=cRe(y);let w=c;return w!=null&&w.type!==Ls&&!l&&(w=K(Ls,A({component:"span",className:x.label},s.typography,{children:w}))),Tt(uRe,A({className:Ie(x.root,i),ownerState:y,ref:n},d,{children:[N.exports.cloneElement(o,g),w]}))});var vZ=dRe;function yZ(t){return tt("MuiFormGroup",t)}const fRe=nt("MuiFormGroup",["root","row","error"]);var hRe=fRe;const pRe=["className","row"],mRe=t=>{const{classes:e,row:n,error:r}=t;return rt({root:["root",n&&"row",r&&"error"]},yZ,e)},gRe=he("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>A({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),vRe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1}=r,o=ke(r,pRe),a=kl(),l=Xd({props:r,muiFormControl:a,states:["error"]}),c=A({},r,{row:s,error:l.error}),u=mRe(c);return K(gRe,A({className:Ie(u.root,i),ownerState:c,ref:n},o))});var _Z=vRe;function xZ(t){return tt("MuiFormHelperText",t)}const yRe=nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var sF=yRe,EH;const _Re=["children","className","component","disabled","error","filled","focused","margin","required","variant"],xRe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,c={root:["root",i&&"disabled",s&&"error",r&&`size${_e(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return rt(c,xZ,e)},wRe=he("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${_e(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>A({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${sF.disabled}`]:{color:t.palette.text.disabled},[`&.${sF.error}`]:{color:t.palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),bRe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=ke(r,_Re),l=kl(),c=Xd({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),u=A({},r,{component:o,contained:c.variant==="filled"||c.variant==="outlined",variant:c.variant,size:c.size,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=xRe(u);return K(wRe,A({as:o,ownerState:u,className:Ie(d.root,s),ref:n},a,{children:i===" "?EH||(EH=K("span",{className:"notranslate",children:"\u200B"})):i}))});var wZ=bRe;function bZ(t){return tt("MuiFormLabel",t)}const SRe=nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);var P0=SRe;const CRe=["children","className","color","component","disabled","error","filled","focused","required"],TRe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${_e(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return rt(l,bZ,e)},SZ=he("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>A({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>A({color:t.palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${P0.focused}`]:{color:t.palette[e.color].main},[`&.${P0.disabled}`]:{color:t.palette.text.disabled},[`&.${P0.error}`]:{color:t.palette.error.main}})),ERe=he("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${P0.error}`]:{color:t.palette.error.main}})),IRe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=ke(r,CRe),l=kl(),c=Xd({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),u=A({},r,{color:c.color||"primary",component:o,disabled:c.disabled,error:c.error,filled:c.filled,focused:c.focused,required:c.required}),d=TRe(u);return Tt(SZ,A({as:o,ownerState:u,className:Ie(d.root,s),ref:n},a,{children:[i,c.required&&Tt(ERe,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))});var CZ=IRe;const MRe=N.exports.createContext();var IH=MRe;function TZ(t){return tt("MuiGrid",t)}const ARe=[0,1,2,3,4,5,6,7,8,9,10],RRe=["column-reverse","column","row-reverse","row"],PRe=["nowrap","wrap-reverse","wrap"],Qw=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],kRe=nt("MuiGrid",["root","container","item","zeroMinWidth",...ARe.map(t=>`spacing-xs-${t}`),...RRe.map(t=>`direction-xs-${t}`),...PRe.map(t=>`wrap-xs-${t}`),...Qw.map(t=>`grid-xs-${t}`),...Qw.map(t=>`grid-sm-${t}`),...Qw.map(t=>`grid-md-${t}`),...Qw.map(t=>`grid-lg-${t}`),...Qw.map(t=>`grid-xl-${t}`)]);var fk=kRe;const LRe=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function k0(t){const e=parseFloat(t);return`${e}${String(t).replace(String(e),"")||"px"}`}function DRe({theme:t,ownerState:e}){let n;return t.breakpoints.keys.reduce((r,i)=>{let s={};if(e[i]&&(n=e[i]),!n)return r;if(n===!0)s={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(n==="auto")s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const o=zm({values:e.columns,breakpoints:t.breakpoints.values}),a=typeof o=="object"?o[i]:o;if(a==null)return r;const l=`${Math.round(n/a*1e8)/1e6}%`;let c={};if(e.container&&e.item&&e.columnSpacing!==0){const u=t.spacing(e.columnSpacing);if(u!=="0px"){const d=`calc(${l} + ${k0(u)})`;c={flexBasis:d,maxWidth:d}}}s=A({flexBasis:l,flexGrow:0,maxWidth:l},c)}return t.breakpoints.values[i]===0?Object.assign(r,s):r[t.breakpoints.up(i)]=s,r},{})}function NRe({theme:t,ownerState:e}){const n=zm({values:e.direction,breakpoints:t.breakpoints.values});return Wa({theme:t},n,r=>{const i={flexDirection:r};return r.indexOf("column")===0&&(i[`& > .${fk.item}`]={maxWidth:"none"}),i})}function ORe({theme:t,ownerState:e}){const{container:n,rowSpacing:r}=e;let i={};if(n&&r!==0){const s=zm({values:r,breakpoints:t.breakpoints.values});i=Wa({theme:t},s,o=>{const a=t.spacing(o);return a!=="0px"?{marginTop:`-${k0(a)}`,[`& > .${fk.item}`]:{paddingTop:k0(a)}}:{}})}return i}function FRe({theme:t,ownerState:e}){const{container:n,columnSpacing:r}=e;let i={};if(n&&r!==0){const s=zm({values:r,breakpoints:t.breakpoints.values});i=Wa({theme:t},s,o=>{const a=t.spacing(o);return a!=="0px"?{width:`calc(100% + ${k0(a)})`,marginLeft:`-${k0(a)}`,[`& > .${fk.item}`]:{paddingLeft:k0(a)}}:{}})}return i}function EZ(t,e,n={}){if(!e||!t||t<=0)return[];if(typeof t=="string"&&!Number.isNaN(Number(t))||typeof t=="number")return[n[`spacing-xs-${String(t)}`]||`spacing-xs-${String(t)}`];const{xs:r,sm:i,md:s,lg:o,xl:a}=t;return[Number(r)>0&&(n[`spacing-xs-${String(r)}`]||`spacing-xs-${String(r)}`),Number(i)>0&&(n[`spacing-sm-${String(i)}`]||`spacing-sm-${String(i)}`),Number(s)>0&&(n[`spacing-md-${String(s)}`]||`spacing-md-${String(s)}`),Number(o)>0&&(n[`spacing-lg-${String(o)}`]||`spacing-lg-${String(o)}`),Number(a)>0&&(n[`spacing-xl-${String(a)}`]||`spacing-xl-${String(a)}`)]}const BRe=he("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{container:n,direction:r,item:i,lg:s,md:o,sm:a,spacing:l,wrap:c,xl:u,xs:d,zeroMinWidth:f}=t.ownerState;return[e.root,n&&e.container,i&&e.item,f&&e.zeroMinWidth,...EZ(l,n,e),r!=="row"&&e[`direction-xs-${String(r)}`],c!=="wrap"&&e[`wrap-xs-${String(c)}`],d!==!1&&e[`grid-xs-${String(d)}`],a!==!1&&e[`grid-sm-${String(a)}`],o!==!1&&e[`grid-md-${String(o)}`],s!==!1&&e[`grid-lg-${String(s)}`],u!==!1&&e[`grid-xl-${String(u)}`]]}})(({ownerState:t})=>A({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},t.wrap!=="wrap"&&{flexWrap:t.wrap}),NRe,ORe,FRe,DRe),$Re=t=>{const{classes:e,container:n,direction:r,item:i,lg:s,md:o,sm:a,spacing:l,wrap:c,xl:u,xs:d,zeroMinWidth:f}=t,p={root:["root",n&&"container",i&&"item",f&&"zeroMinWidth",...EZ(l,n),r!=="row"&&`direction-xs-${String(r)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,d!==!1&&`grid-xs-${String(d)}`,a!==!1&&`grid-sm-${String(a)}`,o!==!1&&`grid-md-${String(o)}`,s!==!1&&`grid-lg-${String(s)}`,u!==!1&&`grid-xl-${String(u)}`]};return rt(p,TZ,e)},URe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiGrid"}),i=JP(r),{className:s,columns:o,columnSpacing:a,component:l="div",container:c=!1,direction:u="row",item:d=!1,lg:f=!1,md:p=!1,rowSpacing:g,sm:v=!1,spacing:y=0,wrap:x="wrap",xl:w=!1,xs:b=!1,zeroMinWidth:T=!1}=i,E=ke(i,LRe),P=g||y,L=a||y,R=N.exports.useContext(IH),F=c?o||12:R,O=A({},i,{columns:F,container:c,direction:u,item:d,lg:f,md:p,sm:v,rowSpacing:P,columnSpacing:L,wrap:x,xl:w,xs:b,zeroMinWidth:T}),G=$Re(O);return K(IH.Provider,{value:F,children:K(BRe,A({ownerState:O,className:Ie(G.root,s),as:l,ref:n},E))})});var zRe=URe;const VRe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function oF(t){return`scale(${t}, ${t**2})`}const WRe={entering:{opacity:1,transform:oF(1)},entered:{opacity:1,transform:"none"}},Z2=typeof navigator!="undefined"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)[4-9]/i.test(navigator.userAgent),IZ=N.exports.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:f,onExiting:p,style:g,timeout:v="auto",TransitionComponent:y=kC}=e,x=ke(e,VRe),w=N.exports.useRef(),b=N.exports.useRef(),T=Br(),E=N.exports.useRef(null),P=pn(s.ref,n),L=pn(E,P),R=W=>X=>{if(W){const B=E.current;X===void 0?W(B):W(B,X)}},F=R(u),O=R((W,X)=>{nk(W);const{duration:B,delay:H,easing:q}=Sc({style:g,timeout:v,easing:o},{mode:"enter"});let ee;v==="auto"?(ee=T.transitions.getAutoHeightDuration(W.clientHeight),b.current=ee):ee=B,W.style.transition=[T.transitions.create("opacity",{duration:ee,delay:H}),T.transitions.create("transform",{duration:Z2?ee:ee*.666,delay:H,easing:q})].join(","),l&&l(W,X)}),G=R(c),Z=R(p),V=R(W=>{const{duration:X,delay:B,easing:H}=Sc({style:g,timeout:v,easing:o},{mode:"exit"});let q;v==="auto"?(q=T.transitions.getAutoHeightDuration(W.clientHeight),b.current=q):q=X,W.style.transition=[T.transitions.create("opacity",{duration:q,delay:B}),T.transitions.create("transform",{duration:Z2?q:q*.666,delay:Z2?B:B||q*.333,easing:H})].join(","),W.style.opacity=0,W.style.transform=oF(.75),d&&d(W)}),U=R(f),j=W=>{v==="auto"&&(w.current=setTimeout(W,b.current||0)),r&&r(E.current,W)};return N.exports.useEffect(()=>()=>{clearTimeout(w.current)},[]),K(y,A({appear:i,in:a,nodeRef:E,onEnter:O,onEntered:G,onEntering:F,onExit:V,onExited:U,onExiting:Z,addEndListener:j,timeout:v==="auto"?null:v},x,{children:(W,X)=>N.exports.cloneElement(s,A({style:A({opacity:0,transform:oF(.75),visibility:W==="exited"&&!a?"hidden":void 0},WRe[W],g,s.props.style),ref:L},X))}))});IZ.muiSupportAuto=!0;var eS=IZ;function HRe(t,e,n,r,i){const s=typeof window!="undefined"&&typeof window.matchMedia!="undefined",[o,a]=N.exports.useState(()=>i&&s?n(t).matches:r?r(t).matches:e);return Hi(()=>{let l=!0;if(!s)return;const c=n(t),u=()=>{l&&a(c.matches)};return u(),c.addListener(u),()=>{l=!1,c.removeListener(u)}},[t,n,s]),o}const MZ=Ih["useSyncExternalStore"];function GRe(t,e,n,r){const i=N.exports.useCallback(()=>e,[e]),s=N.exports.useMemo(()=>{if(r!==null){const{matches:c}=r(t);return()=>c}return i},[i,t,r]),[o,a]=N.exports.useMemo(()=>{if(n===null)return[i,()=>()=>{}];const c=n(t);return[()=>c.matches,u=>(c.addListener(u),()=>{c.removeListener(u)})]},[i,n,t]);return MZ(a,o,s)}function AZ(t,e={}){const n=Z$(),r=typeof window!="undefined"&&typeof window.matchMedia!="undefined",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a}=eU({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(MZ!==void 0?GRe:HRe)(l,i,s,o,a)}const jRe=["initialWidth","width"],ih=["xs","sm","md","lg","xl"],qRe=(t,e,n=!0)=>n?ih.indexOf(t)<=ih.indexOf(e):ih.indexOf(t)<ih.indexOf(e),KRe=(t,e,n=!1)=>n?ih.indexOf(e)<=ih.indexOf(t):ih.indexOf(e)<ih.indexOf(t),XRe=(t={})=>e=>{const{withTheme:n=!1,noSSR:r=!1,initialWidth:i}=t;function s(o){const a=Br(),l=o.theme||a,c=eU({theme:l,name:"MuiWithWidth",props:o}),{initialWidth:u,width:d}=c,f=ke(c,jRe),[p,g]=N.exports.useState(!1);Hi(()=>{g(!0)},[]);const y=l.breakpoints.keys.slice().reverse().reduce((w,b)=>{const T=AZ(l.breakpoints.up(b));return!w&&T?b:w},null),x=A({width:d||(p||r?y:void 0)||u||i},n?{theme:l}:{},f);return x.width===void 0?null:K(e,A({},x))}return Fye(s,e),s};var YRe=XRe;function RZ(t){const{children:e,only:n,width:r}=t,i=Br();let s=!0;if(n)if(Array.isArray(n))for(let o=0;o<n.length;o+=1){const a=n[o];if(r===a){s=!1;break}}else n&&r===n&&(s=!1);if(s)for(let o=0;o<i.breakpoints.keys.length;o+=1){const a=i.breakpoints.keys[o],l=t[`${a}Up`],c=t[`${a}Down`];if(l&&qRe(a,r)||c&&KRe(a,r)){s=!1;break}}return s?e:null}RZ.propTypes={children:Ni.node,className:Ni.string,implementation:Ni.oneOf(["js","css"]),initialWidth:Ni.oneOf(["xs","sm","md","lg","xl"]),lgDown:Ni.bool,lgUp:Ni.bool,mdDown:Ni.bool,mdUp:Ni.bool,only:Ni.oneOfType([Ni.oneOf(["xs","sm","md","lg","xl"]),Ni.arrayOf(Ni.oneOf(["xs","sm","md","lg","xl"]))]),smDown:Ni.bool,smUp:Ni.bool,width:Ni.string.isRequired,xlDown:Ni.bool,xlUp:Ni.bool,xsDown:Ni.bool,xsUp:Ni.bool};var QRe=YRe()(RZ);function JRe(t){return tt("PrivateHiddenCss",t)}nt("PrivateHiddenCss",["root","xlDown","xlUp","onlyXl","lgDown","lgUp","onlyLg","mdDown","mdUp","onlyMd","smDown","smUp","onlySm","xsDown","xsUp","onlyXs"]);const ZRe=["children","className","only"],ePe=t=>{const{classes:e,breakpoints:n}=t,r={root:["root",...n.map(({breakpoint:i,dir:s})=>s==="only"?`${s}${_e(i)}`:`${i}${_e(s)}`)]};return rt(r,JRe,e)},tPe=he("div",{name:"PrivateHiddenCss",slot:"Root"})(({theme:t,ownerState:e})=>{const n={display:"none"};return A({},e.breakpoints.map(({breakpoint:r,dir:i})=>i==="only"?{[t.breakpoints.only(r)]:n}:i==="up"?{[t.breakpoints.up(r)]:n}:{[t.breakpoints.down(r)]:n}).reduce((r,i)=>(Object.keys(i).forEach(s=>{r[s]=i[s]}),r),{}))});function nPe(t){const{children:e,className:n,only:r}=t,i=ke(t,ZRe),s=Br(),o=[];for(let c=0;c<s.breakpoints.keys.length;c+=1){const u=s.breakpoints.keys[c],d=i[`${u}Up`],f=i[`${u}Down`];d&&o.push({breakpoint:u,dir:"up"}),f&&o.push({breakpoint:u,dir:"down"})}r&&(Array.isArray(r)?r:[r]).forEach(u=>{o.push({breakpoint:u,dir:"only"})});const a=A({},t,{breakpoints:o}),l=ePe(a);return K(tPe,{className:Ie(l.root,n),ownerState:a,children:e})}const rPe=["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"];function iPe(t){const{implementation:e="js",lgDown:n=!1,lgUp:r=!1,mdDown:i=!1,mdUp:s=!1,smDown:o=!1,smUp:a=!1,xlDown:l=!1,xlUp:c=!1,xsDown:u=!1,xsUp:d=!1}=t,f=ke(t,rPe);return e==="js"?K(QRe,A({lgDown:n,lgUp:r,mdDown:i,mdUp:s,smDown:o,smUp:a,xlDown:l,xlUp:c,xsDown:u,xsUp:d},f)):K(nPe,A({lgDown:n,lgUp:r,mdDown:i,mdUp:s,smDown:o,smUp:a,xlDown:l,xlUp:c,xsDown:u,xsUp:d},f))}function PZ(t){return tt("MuiIcon",t)}const sPe=nt("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var oPe=sPe;const aPe=["baseClassName","className","color","component","fontSize"],lPe=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${_e(e)}`,`fontSize${_e(n)}`]};return rt(i,PZ,r)},cPe=he("span",{name:"MuiIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${_e(n.color)}`],e[`fontSize${_e(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(36)}[e.fontSize],color:{primary:t.palette.primary.main,secondary:t.palette.secondary.main,info:t.palette.info.main,success:t.palette.success.main,warning:t.palette.warning.main,action:t.palette.action.active,error:t.palette.error.main,disabled:t.palette.action.disabled,inherit:void 0}[e.color]})),kZ=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiIcon"}),{baseClassName:i="material-icons",className:s,color:o="inherit",component:a="span",fontSize:l="medium"}=r,c=ke(r,aPe),u=A({},r,{baseClassName:i,color:o,component:a,fontSize:l}),d=lPe(u);return K(cPe,A({as:a,className:Ie(i,"notranslate",d.root,s),ownerState:u,"aria-hidden":!0,ref:n},c))});kZ.muiName="Icon";var uPe=kZ;function LZ(t){return tt("MuiImageList",t)}const dPe=nt("MuiImageList",["root","masonry","quilted","standard","woven"]);var fPe=dPe;const hPe=N.exports.createContext({});var DZ=hPe;const pPe=["children","className","cols","component","rowHeight","gap","style","variant"],mPe=t=>{const{classes:e,variant:n}=t;return rt({root:["root",n]},LZ,e)},gPe=he("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant]]}})(({ownerState:t})=>A({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},t.variant==="masonry"&&{display:"block"})),vPe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiImageList"}),{children:i,className:s,cols:o=2,component:a="ul",rowHeight:l="auto",gap:c=4,style:u,variant:d="standard"}=r,f=ke(r,pPe),p=N.exports.useMemo(()=>({rowHeight:l,gap:c,variant:d}),[l,c,d]);N.exports.useEffect(()=>{},[]);const g=A(d==="masonry"?{columnCount:o,columnGap:c}:{gridTemplateColumns:`repeat(${o}, 1fr)`,gap:c},u),v=A({},r,{component:a,gap:c,rowHeight:l,variant:d}),y=mPe(v);return K(gPe,A({as:a,className:Ie(y.root,y[d],s),ref:n,style:g,ownerState:v},f,{children:K(DZ.Provider,{value:p,children:i})}))});var NZ=vPe;function OZ(t){return tt("MuiImageListItem",t)}const yPe=nt("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]);var aF=yPe;const _Pe=["children","className","cols","component","rows","style"],xPe=t=>{const{classes:e,variant:n}=t;return rt({root:["root",n],img:["img"]},OZ,e)},wPe=he("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${aF.img}`]:e.img},e.root,e[n.variant]]}})(({ownerState:t})=>A({display:"inline-block",position:"relative",lineHeight:0},t.variant==="standard"&&{display:"flex",flexDirection:"column"},t.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${aF.img}`]:A({objectFit:"cover",width:"100%",height:"100%"},t.variant==="standard"&&{height:"auto",flexGrow:1})})),bPe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiImageListItem"}),{children:i,className:s,cols:o=1,component:a="li",rows:l=1,style:c}=r,u=ke(r,_Pe),{rowHeight:d="auto",gap:f,variant:p}=N.exports.useContext(DZ);let g="auto";p==="woven"?g=void 0:d!=="auto"&&(g=d*l+f*(l-1));const v=A({},r,{cols:o,component:a,gap:f,rowHeight:d,rows:l,variant:p}),y=xPe(v);return K(wPe,A({as:a,className:Ie(y.root,y[p],s),ref:n,style:A({height:g,gridColumnEnd:p!=="masonry"?`span ${o}`:void 0,gridRowEnd:p!=="masonry"?`span ${l}`:void 0,marginBottom:p==="masonry"?f:void 0},c),ownerState:v},u,{children:N.exports.Children.map(i,x=>N.exports.isValidElement(x)?x.type==="img"||bd(x,["Image"])?N.exports.cloneElement(x,{className:Ie(y.img,x.props.className)}):x:null)}))});var FZ=bPe;function BZ(t){return tt("MuiImageListItemBar",t)}const SPe=nt("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);var CPe=SPe;const TPe=["actionIcon","actionPosition","className","subtitle","title","position"],EPe=t=>{const{classes:e,position:n,actionIcon:r,actionPosition:i}=t,s={root:["root",`position${_e(n)}`],titleWrap:["titleWrap",`titleWrap${_e(n)}`,r&&`titleWrapActionPos${_e(i)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${_e(i)}`]};return rt(s,BZ,e)},IPe=he("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${_e(n.position)}`]]}})(({theme:t,ownerState:e})=>A({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:t.typography.fontFamily},e.position==="bottom"&&{bottom:0},e.position==="top"&&{top:0},e.position==="below"&&{position:"relative",background:"transparent",alignItems:"normal"})),MPe=he("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.titleWrap,e[`titleWrap${_e(n.position)}`],n.actionIcon&&e[`titleWrapActionPos${_e(n.actionPosition)}`]]}})(({theme:t,ownerState:e})=>A({flexGrow:1,padding:"12px 16px",color:t.palette.common.white,overflow:"hidden"},e.position==="below"&&{padding:"6px 0 12px",color:"inherit"},e.actionIcon&&e.actionPosition==="left"&&{paddingLeft:0},e.actionIcon&&e.actionPosition==="right"&&{paddingRight:0})),APe=he("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(t,e)=>e.title})(({theme:t})=>({fontSize:t.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),RPe=he("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(t,e)=>e.subtitle})(({theme:t})=>({fontSize:t.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})),PPe=he("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actionIcon,e[`actionIconActionPos${_e(n.actionPosition)}`]]}})(({ownerState:t})=>A({},t.actionPosition==="left"&&{order:-1})),kPe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiImageListItemBar"}),{actionIcon:i,actionPosition:s="right",className:o,subtitle:a,title:l,position:c="bottom"}=r,u=ke(r,TPe),d=A({},r,{position:c,actionPosition:s}),f=EPe(d);return Tt(IPe,A({ownerState:d,className:Ie(f.root,o),ref:n},u,{children:[Tt(MPe,{ownerState:d,className:f.titleWrap,children:[K(APe,{className:f.title,children:l}),a?K(RPe,{className:f.subtitle,children:a}):null]}),i?K(PPe,{ownerState:d,className:f.actionIcon,children:i}):null]}))});var $Z=kPe;const LPe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],DPe=t=>{const{classes:e,disableUnderline:n}=t,i=rt({root:["root",!n&&"underline"],input:["input"]},bJ,e);return A({},e,i)},NPe=he(lk,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...ok(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return A({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${t.palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${rh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${rh.error}:after`]:{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${rh.disabled}):before`]:{borderBottom:`2px solid ${t.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${rh.disabled}:before`]:{borderBottomStyle:"dotted"}})}),OPe=he(ck,{name:"MuiInput",slot:"Input",overridesResolver:ak})({}),UZ=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiInput"}),{disableUnderline:i,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:c=!1,type:u="text"}=r,d=ke(r,LPe),f=DPe(r),g={root:{ownerState:{disableUnderline:i}}},v=o?ao(o,g):g;return K(DC,A({components:A({Root:NPe,Input:OPe},s),componentsProps:v,fullWidth:a,inputComponent:l,multiline:c,ref:n,type:u},d,{classes:f}))});UZ.muiName="Input";var hk=UZ;function zZ(t){return tt("MuiInputAdornment",t)}const FPe=nt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var lF=FPe,MH;const BPe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],$Pe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${_e(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},UPe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:s,variant:o}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${_e(i)}`,o,r&&"hiddenLabel",s&&`size${_e(s)}`]};return rt(a,zZ,e)},zPe=he("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:$Pe})(({theme:t,ownerState:e})=>A({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},e.variant==="filled"&&{[`&.${lF.positionStart}&:not(.${lF.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),VPe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:u}=r,d=ke(r,BPe),f=kl()||{};let p=u;u&&f.variant,f&&!p&&(p=f.variant);const g=A({},r,{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:a,position:c,variant:p}),v=UPe(g);return K(sk.Provider,{value:null,children:K(zPe,A({as:o,ownerState:g,className:Ie(v.root,s),ref:n},d,{children:typeof i=="string"&&!l?K(Ls,{color:"text.secondary",children:i}):Tt(N.exports.Fragment,{children:[c==="start"?MH||(MH=K("span",{className:"notranslate",children:"\u200B"})):null,i]})}))})});var WPe=VPe;function VZ(t){return tt("MuiInputLabel",t)}const HPe=nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var GPe=HPe;const jPe=["disableAnimation","margin","shrink","variant"],qPe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,c=rt({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},VZ,e);return A({},e,c)},KPe=he(CZ,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${P0.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>A({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&A({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&A({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&A({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),XPe=N.exports.forwardRef(function(e,n){const r=it({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s}=r,o=ke(r,jPe),a=kl();let l=s;typeof l=="undefined"&&a&&(l=a.filled||a.focused||a.adornedStart);const c=Xd({props:r,muiFormControl:a,states:["size","variant","required"]}),u=A({},r,{disableAnimation:i,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required}),d=qPe(u);return K(KPe,A({"data-shrink":l,ownerState:u,ref:n},o,{classes:d}))});var WZ=XPe;function HZ(t){return tt("MuiLinearProgress",t)}const YPe=nt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var QPe=YPe;const JPe=["className","color","value","valueBuffer","variant"];let rx=t=>t,AH,RH,PH,kH,LH,DH;const cF=4,ZPe=Ec(AH||(AH=rx`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),eke=Ec(RH||(RH=rx`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),tke=Ec(PH||(PH=rx`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),nke=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${_e(r)}`,n],dashed:["dashed",`dashedColor${_e(r)}`],bar1:["bar",`barColor${_e(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${_e(r)}`,n==="buffer"&&`color${_e(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return rt(i,HZ,e)},TU=(t,e)=>e==="inherit"?"currentColor":t.palette.mode==="light"?Ld(t.palette[e].main,.62):kd(t.palette[e].main,.5),rke=he("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${_e(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>A({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:TU(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),ike=he("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${_e(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=TU(e,t.color);return A({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Pd(kH||(kH=rx`
    animation: ${0} 3s infinite linear;
  `),tke)),ske=he("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${_e(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>A({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":e.palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${cF}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${cF}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Pd(LH||(LH=rx`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),ZPe)),oke=he("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${_e(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>A({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":e.palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:TU(e,t.color),transition:`transform .${cF}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Pd(DH||(DH=rx`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),eke)),ake=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,c=ke(r,JPe),u=A({},r,{color:s,variant:l}),d=nke(u),f=Br(),p={},g={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let v=o-100;f.direction==="rtl"&&(v=-v),g.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;f.direction==="rtl"&&(v=-v),g.bar2.transform=`translateX(${v}%)`}return Tt(rke,A({className:Ie(d.root,i),ownerState:u,role:"progressbar"},p,{ref:n},c,{children:[l==="buffer"?K(ike,{className:d.dashed,ownerState:u}):null,K(ske,{className:d.bar1,ownerState:u,style:g.bar1}),l==="determinate"?null:K(oke,{className:d.bar2,ownerState:u,style:g.bar2})]}))});var GZ=ake;function jZ(t){return tt("MuiLink",t)}const lke=nt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var qZ=lke;const cke=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],KZ={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},uke=t=>KZ[t]||t,dke=t=>{const{classes:e,component:n,focusVisible:r,underline:i}=t,s={root:["root",`underline${_e(i)}`,n==="button"&&"button",r&&"focusVisible"]};return rt(s,jZ,e)},fke=he(Ls,{name:"MuiLink",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`underline${_e(n.underline)}`],n.component==="button"&&e.button]}})(({theme:t,ownerState:e})=>{const n=YP(t,`palette.${uke(e.color)}`)||e.color;return A({},e.underline==="none"&&{textDecoration:"none"},e.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},e.underline==="always"&&{textDecoration:"underline",textDecorationColor:n!=="inherit"?Xt(n,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},e.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${qZ.focusVisible}`]:{outline:"auto"}})}),hke=N.exports.forwardRef(function(e,n){const r=Br(),i=it({props:e,name:"MuiLink"}),{className:s,color:o="primary",component:a="a",onBlur:l,onFocus:c,TypographyClasses:u,underline:d="always",variant:f="inherit",sx:p}=i,g=ke(i,cke),v=typeof p=="function"?p(r).color:p==null?void 0:p.color,{isFocusVisibleRef:y,onBlur:x,onFocus:w,ref:b}=Gg(),[T,E]=N.exports.useState(!1),P=pn(n,b),L=G=>{x(G),y.current===!1&&E(!1),l&&l(G)},R=G=>{w(G),y.current===!0&&E(!0),c&&c(G)},F=A({},i,{color:(typeof v=="function"?v(r):v)||o,component:a,focusVisible:T,underline:d,variant:f}),O=dke(F);return K(fke,A({color:o,className:Ie(O.root,s),classes:u,component:a,onBlur:L,onFocus:R,ref:P,ownerState:F,variant:f,sx:[...e.color?[{color:KZ[o]||o}]:[],...Array.isArray(p)?p:[p]]},g))});var pke=hke;const mke=N.exports.createContext({});var _l=mke;function XZ(t){return tt("MuiList",t)}const gke=nt("MuiList",["root","padding","dense","subheader"]);var vke=gke;const yke=["children","className","component","dense","disablePadding","subheader"],_ke=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return rt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},XZ,e)},xke=he("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>A({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),wke=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=ke(r,yke),d=N.exports.useMemo(()=>({dense:a}),[a]),f=A({},r,{component:o,dense:a,disablePadding:l}),p=_ke(f);return K(_l.Provider,{value:d,children:Tt(xke,A({as:o,className:Ie(p.root,s),ref:n,ownerState:f},u,{children:[c,i]}))})});var YZ=wke;function QZ(t){return tt("MuiListItem",t)}const bke=nt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var vm=bke;function JZ(t){return tt("MuiListItemButton",t)}const Ske=nt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);var ym=Ske;const Cke=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected"],Tke=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},Eke=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:s,divider:o,selected:a}=t,c=rt({root:["root",r&&"dense",!s&&"gutters",o&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},JZ,n);return A({},n,c)},Ike=he(Ti,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Tke})(({theme:t,ownerState:e})=>A({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ym.selected}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ym.focusVisible}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ym.selected}:hover`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ym.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${ym.disabled}`]:{opacity:t.palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${t.palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Mke=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:o="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:f=!1}=r,p=ke(r,Cke),g=N.exports.useContext(_l),v={dense:l||g.dense||!1,alignItems:i,disableGutters:c},y=N.exports.useRef(null);Hi(()=>{s&&y.current&&y.current.focus()},[s]);const x=A({},r,{alignItems:i,dense:v.dense,disableGutters:c,divider:u,selected:f}),w=Eke(x),b=pn(y,n);return K(_l.Provider,{value:v,children:K(Ike,A({ref:b,component:o,focusVisibleClassName:Ie(w.focusVisible,d),ownerState:x},p,{classes:w,children:a}))})});var Ake=Mke;function ZZ(t){return tt("MuiListItemSecondaryAction",t)}const Rke=nt("MuiListItemSecondaryAction",["root","disableGutters"]);var Pke=Rke;const kke=["className"],Lke=t=>{const{disableGutters:e,classes:n}=t;return rt({root:["root",e&&"disableGutters"]},ZZ,n)},Dke=he("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>A({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),eee=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=ke(r,kke),o=N.exports.useContext(_l),a=A({},r,{disableGutters:o.disableGutters}),l=Lke(a);return K(Dke,A({className:Ie(l.root,i),ownerState:a,ref:n},s))});eee.muiName="ListItemSecondaryAction";var tee=eee;const Nke=["className"],Oke=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],Fke=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},Bke=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:c,selected:u}=t;return rt({root:["root",i&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",u&&"selected"],container:["container"]},QZ,r)},$ke=he("div",{name:"MuiListItem",slot:"Root",overridesResolver:Fke})(({theme:t,ownerState:e})=>A({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&A({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${ym.root}`]:{paddingRight:48}},{[`&.${vm.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${vm.selected}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${vm.focusVisible}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${vm.disabled}`]:{opacity:t.palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${t.palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vm.selected}:hover`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),Uke=he("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),zke=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:c,components:u={},componentsProps:d={},ContainerComponent:f="li",ContainerProps:{className:p}={},dense:g=!1,disabled:v=!1,disableGutters:y=!1,disablePadding:x=!1,divider:w=!1,focusVisibleClassName:b,secondaryAction:T,selected:E=!1}=r,P=ke(r.ContainerProps,Nke),L=ke(r,Oke),R=N.exports.useContext(_l),F={dense:g||R.dense||!1,alignItems:i,disableGutters:y},O=N.exports.useRef(null);Hi(()=>{s&&O.current&&O.current.focus()},[s]);const G=N.exports.Children.toArray(a),Z=G.length&&bd(G[G.length-1],["ListItemSecondaryAction"]),V=A({},r,{alignItems:i,autoFocus:s,button:o,dense:F.dense,disabled:v,disableGutters:y,disablePadding:x,divider:w,hasSecondaryAction:Z,selected:E}),U=Bke(V),j=pn(O,n),W=u.Root||$ke,X=d.root||{},B=A({className:Ie(U.root,X.className,l),disabled:v},L);let H=c||"li";return o&&(B.component=c||"div",B.focusVisibleClassName=Ie(vm.focusVisible,b),H=Ti),Z?(H=!B.component&&!c?"div":H,f==="li"&&(H==="li"?H="div":B.component==="li"&&(B.component="div")),K(_l.Provider,{value:F,children:Tt(Uke,A({as:f,className:Ie(U.container,p),ref:j,ownerState:V},P,{children:[K(W,A({},X,!na(W)&&{as:H,ownerState:A({},V,X.ownerState)},B,{children:G})),G.pop()]}))})):K(_l.Provider,{value:F,children:Tt(W,A({},X,{as:H,ref:j,ownerState:V},!na(W)&&{ownerState:A({},V,X.ownerState)},B,{children:[G,T&&K(tee,{children:T})]}))})});var Vke=zke;function nee(t){return tt("MuiListItemAvatar",t)}const Wke=nt("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Hke=Wke;const Gke=["className"],jke=t=>{const{alignItems:e,classes:n}=t;return rt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},nee,n)},qke=he("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>A({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),Kke=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListItemAvatar"}),{className:i}=r,s=ke(r,Gke),o=N.exports.useContext(_l),a=A({},r,{alignItems:o.alignItems}),l=jke(a);return K(qke,A({className:Ie(l.root,i),ownerState:a,ref:n},s))});var Xke=Kke;function ree(t){return tt("MuiListItemIcon",t)}const Yke=nt("MuiListItemIcon",["root","alignItemsFlexStart"]);var uF=Yke;const Qke=["className"],Jke=t=>{const{alignItems:e,classes:n}=t;return rt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},ree,n)},Zke=he("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:t,ownerState:e})=>A({minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),eLe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListItemIcon"}),{className:i}=r,s=ke(r,Qke),o=N.exports.useContext(_l),a=A({},r,{alignItems:o.alignItems}),l=Jke(a);return K(Zke,A({className:Ie(l.root,i),ownerState:a,ref:n},s))});var tLe=eLe;function iee(t){return tt("MuiListItemText",t)}const nLe=nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var tS=nLe;const rLe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],iLe=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return rt({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},iee,e)},sLe=he("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${tS.primary}`]:e.primary},{[`& .${tS.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>A({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),oLe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,f=ke(r,rLe),{dense:p}=N.exports.useContext(_l);let g=l!=null?l:i,v=u;const y=A({},r,{disableTypography:o,inset:a,primary:!!g,secondary:!!v,dense:p}),x=iLe(y);return g!=null&&g.type!==Ls&&!o&&(g=K(Ls,A({variant:p?"body2":"body1",className:x.primary,component:"span",display:"block"},c,{children:g}))),v!=null&&v.type!==Ls&&!o&&(v=K(Ls,A({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},d,{children:v}))),Tt(sLe,A({className:Ie(x.root,s),ownerState:y,ref:n},f,{children:[g,v]}))});var aLe=oLe;const lLe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function eD(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function NH(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function see(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Jw(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!see(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const cLe=N.exports.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,f=ke(e,lLe),p=N.exports.useRef(null),g=N.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Hi(()=>{i&&p.current.focus()},[i]),N.exports.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(b,T)=>{const E=!p.current.style.width;if(b.clientHeight<p.current.clientHeight&&E){const P=`${QY(pr(b))}px`;p.current.style[T.direction==="rtl"?"paddingLeft":"paddingRight"]=P,p.current.style.width=`calc(100% + ${P})`}return p.current}}),[]);const v=b=>{const T=p.current,E=b.key,P=pr(T).activeElement;if(E==="ArrowDown")b.preventDefault(),Jw(T,P,c,l,eD);else if(E==="ArrowUp")b.preventDefault(),Jw(T,P,c,l,NH);else if(E==="Home")b.preventDefault(),Jw(T,null,c,l,eD);else if(E==="End")b.preventDefault(),Jw(T,null,c,l,NH);else if(E.length===1){const L=g.current,R=E.toLowerCase(),F=performance.now();L.keys.length>0&&(F-L.lastTime>500?(L.keys=[],L.repeating=!0,L.previousKeyMatched=!0):L.repeating&&R!==L.keys[0]&&(L.repeating=!1)),L.lastTime=F,L.keys.push(R);const O=P&&!L.repeating&&see(P,L);L.previousKeyMatched&&(O||Jw(T,P,!1,l,eD,L))?b.preventDefault():L.previousKeyMatched=!1}u&&u(b)},y=pn(p,n);let x=-1;N.exports.Children.forEach(o,(b,T)=>{!N.exports.isValidElement(b)||b.props.disabled||(d==="selectedMenu"&&b.props.selected||x===-1)&&(x=T)});const w=N.exports.Children.map(o,(b,T)=>{if(T===x){const E={};return s&&(E.autoFocus=!0),b.props.tabIndex===void 0&&d==="selectedMenu"&&(E.tabIndex=0),N.exports.cloneElement(b,E)}return b});return K(YZ,A({role:"menu",ref:y,className:a,onKeyDown:v,tabIndex:i?0:-1},f,{children:w}))});var oee=cLe;function aee(t){return tt("MuiPopover",t)}const uLe=nt("MuiPopover",["root","paper"]);var dLe=uLe;const fLe=["onEntering"],hLe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function OH(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function FH(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function BH(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function tD(t){return typeof t=="function"?t():t}const pLe=t=>{const{classes:e}=t;return rt({root:["root"],paper:["paper"]},aee,e)},mLe=he(dk,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gLe=he(zo,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),vLe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:f=8,marginThreshold:p=16,open:g,PaperProps:v={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:x=eS,transitionDuration:w="auto",TransitionProps:{onEntering:b}={}}=r,T=ke(r.TransitionProps,fLe),E=ke(r,hLe),P=N.exports.useRef(),L=pn(P,v.ref),R=A({},r,{anchorOrigin:o,anchorReference:l,elevation:f,marginThreshold:p,PaperProps:v,transformOrigin:y,TransitionComponent:x,transitionDuration:w,TransitionProps:T}),F=pLe(R),O=N.exports.useCallback(()=>{if(l==="anchorPosition")return a;const X=tD(s),H=(X&&X.nodeType===1?X:pr(P.current).body).getBoundingClientRect();return{top:H.top+OH(H,o.vertical),left:H.left+FH(H,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),G=N.exports.useCallback(X=>({vertical:OH(X,y.vertical),horizontal:FH(X,y.horizontal)}),[y.horizontal,y.vertical]),Z=N.exports.useCallback(X=>{const B={width:X.offsetWidth,height:X.offsetHeight},H=G(B);if(l==="none")return{top:null,left:null,transformOrigin:BH(H)};const q=O();let ee=q.top-H.vertical,J=q.left-H.horizontal;const de=ee+B.height,ye=J+B.width,Ce=Os(tD(s)),oe=Ce.innerHeight-p,He=Ce.innerWidth-p;if(ee<p){const Ae=ee-p;ee-=Ae,H.vertical+=Ae}else if(de>oe){const Ae=de-oe;ee-=Ae,H.vertical+=Ae}if(J<p){const Ae=J-p;J-=Ae,H.horizontal+=Ae}else if(ye>He){const Ae=ye-He;J-=Ae,H.horizontal+=Ae}return{top:`${Math.round(ee)}px`,left:`${Math.round(J)}px`,transformOrigin:BH(H)}},[s,l,O,G,p]),V=N.exports.useCallback(()=>{const X=P.current;if(!X)return;const B=Z(X);B.top!==null&&(X.style.top=B.top),B.left!==null&&(X.style.left=B.left),X.style.transformOrigin=B.transformOrigin},[Z]),U=(X,B)=>{b&&b(X,B),V()};N.exports.useEffect(()=>{g&&V()}),N.exports.useImperativeHandle(i,()=>g?{updatePosition:()=>{V()}}:null,[g,V]),N.exports.useEffect(()=>{if(!g)return;const X=Lh(()=>{V()}),B=Os(s);return B.addEventListener("resize",X),()=>{X.clear(),B.removeEventListener("resize",X)}},[s,g,V]);let j=w;w==="auto"&&!x.muiSupportAuto&&(j=void 0);const W=d||(s?pr(tD(s)).body:void 0);return K(mLe,A({BackdropProps:{invisible:!0},className:Ie(F.root,u),container:W,open:g,ref:n,ownerState:R},E,{children:K(x,A({appear:!0,in:g,onEntering:U,timeout:j},T,{children:K(gLe,A({elevation:f},v,{ref:L,className:Ie(F.paper,v.className),children:c}))}))}))});var lee=vLe;function cee(t){return tt("MuiMenu",t)}const yLe=nt("MuiMenu",["root","paper","list"]);var _Le=yLe;const xLe=["onEntering"],wLe=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],bLe={vertical:"top",horizontal:"right"},SLe={vertical:"top",horizontal:"left"},CLe=t=>{const{classes:e}=t;return rt({root:["root"],paper:["paper"],list:["list"]},cee,e)},TLe=he(lee,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ELe=he(zo,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ILe=he(oee,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),MLe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:c,PaperProps:u={},PopoverClasses:d,transitionDuration:f="auto",TransitionProps:{onEntering:p}={},variant:g="selectedMenu"}=r,v=ke(r.TransitionProps,xLe),y=ke(r,wLe),x=Br(),w=x.direction==="rtl",b=A({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:p,PaperProps:u,transitionDuration:f,TransitionProps:v,variant:g}),T=CLe(b),E=i&&!o&&c,P=N.exports.useRef(null),L=(O,G)=>{P.current&&P.current.adjustStyleForScrollbar(O,x),p&&p(O,G)},R=O=>{O.key==="Tab"&&(O.preventDefault(),l&&l(O,"tabKeyDown"))};let F=-1;return N.exports.Children.map(s,(O,G)=>{!N.exports.isValidElement(O)||O.props.disabled||(g==="selectedMenu"&&O.props.selected||F===-1)&&(F=G)}),K(TLe,A({classes:d,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?bLe:SLe,PaperProps:A({component:ELe},u,{classes:A({},u.classes,{root:T.paper})}),className:T.root,open:c,ref:n,transitionDuration:f,TransitionProps:A({onEntering:L},v),ownerState:b},y,{children:K(ILe,A({onKeyDown:R,actions:P,autoFocus:i&&(F===-1||o),autoFocusItem:E,variant:g},a,{className:Ie(T.list,a.className),children:s}))}))});var uee=MLe;function dee(t){return tt("MuiMenuItem",t)}const ALe=nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var Hy=ALe;const RLe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex"],PLe=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},kLe=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:s,classes:o}=t,l=rt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},dee,o);return A({},o,l)},LLe=he(Ti,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:PLe})(({theme:t,ownerState:e})=>A({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${t.palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Hy.selected}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Hy.focusVisible}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Hy.selected}:hover`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Hy.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${Hy.disabled}`]:{opacity:t.palette.action.disabledOpacity},[`& + .${rF.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${rF.inset}`]:{marginLeft:52},[`& .${tS.root}`]:{marginTop:0,marginBottom:0},[`& .${tS.inset}`]:{paddingLeft:36},[`& .${uF.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&A({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${uF.root} svg`]:{fontSize:"1.25rem"}}))),DLe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d}=r,f=ke(r,RLe),p=N.exports.useContext(_l),g={dense:o||p.dense||!1,disableGutters:l},v=N.exports.useRef(null);Hi(()=>{i&&v.current&&v.current.focus()},[i]);const y=A({},r,{dense:g.dense,divider:a,disableGutters:l}),x=kLe(r),w=pn(v,n);let b;return r.disabled||(b=d!==void 0?d:-1),K(_l.Provider,{value:g,children:K(LLe,A({ref:w,role:u,tabIndex:b,component:s,focusVisibleClassName:Ie(x.focusVisible,c)},f,{ownerState:y,classes:x}))})});var fee=DLe;function hee(t){return tt("MuiMobileStepper",t)}const NLe=nt("MuiMobileStepper",["root","positionBottom","positionTop","positionStatic","dots","dot","dotActive","progress"]);var OLe=NLe;const FLe=["activeStep","backButton","className","LinearProgressProps","nextButton","position","steps","variant"],BLe=t=>{const{classes:e,position:n}=t,r={root:["root",`position${_e(n)}`],dots:["dots"],dot:["dot"],dotActive:["dotActive"],progress:["progress"]};return rt(r,hee,e)},$Le=he(zo,{name:"MuiMobileStepper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${_e(n.position)}`]]}})(({theme:t,ownerState:e})=>A({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",background:t.palette.background.default,padding:8},e.position==="bottom"&&{position:"fixed",bottom:0,left:0,right:0,zIndex:t.zIndex.mobileStepper},e.position==="top"&&{position:"fixed",top:0,left:0,right:0,zIndex:t.zIndex.mobileStepper})),ULe=he("div",{name:"MuiMobileStepper",slot:"Dots",overridesResolver:(t,e)=>e.dots})(({ownerState:t})=>A({},t.variant==="dots"&&{display:"flex",flexDirection:"row"})),zLe=he("div",{name:"MuiMobileStepper",slot:"Dot",shouldForwardProp:t=>PC(t)&&t!=="dotActive",overridesResolver:(t,e)=>{const{dotActive:n}=t;return[e.dot,n&&e.dotActive]}})(({theme:t,ownerState:e,dotActive:n})=>A({},e.variant==="dots"&&A({transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),backgroundColor:t.palette.action.disabled,borderRadius:"50%",width:8,height:8,margin:"0 2px"},n&&{backgroundColor:t.palette.primary.main}))),VLe=he(GZ,{name:"MuiMobileStepper",slot:"Progress",overridesResolver:(t,e)=>e.progress})(({ownerState:t})=>A({},t.variant==="progress"&&{width:"50%"})),WLe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiMobileStepper"}),{activeStep:i=0,backButton:s,className:o,LinearProgressProps:a,nextButton:l,position:c="bottom",steps:u,variant:d="dots"}=r,f=ke(r,FLe),p=A({},r,{activeStep:i,position:c,variant:d}),g=BLe(p);return Tt($Le,A({square:!0,elevation:0,className:Ie(g.root,o),ref:n,ownerState:p},f,{children:[s,d==="text"&&Tt(N.exports.Fragment,{children:[i+1," / ",u]}),d==="dots"&&K(ULe,{ownerState:p,className:g.dots,children:[...new Array(u)].map((v,y)=>K(zLe,{className:Ie(g.dot,y===i&&g.dotActive),ownerState:p,dotActive:y===i},y))}),d==="progress"&&K(VLe,A({ownerState:p,className:g.progress,variant:"determinate",value:Math.ceil(i/(u-1)*100)},a)),l]}))});var HLe=WLe;function EU(t){return tt("MuiNativeSelect",t)}const GLe=nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);var pk=GLe;const jLe=["className","disabled","IconComponent","inputRef","variant"],qLe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${_e(n)}`,s&&"iconOpen",r&&"disabled"]};return rt(o,EU,e)},pee=({ownerState:t,theme:e})=>A({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${pk.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:e.shape.borderRadius,"&:focus":{borderRadius:e.shape.borderRadius},"&&&":{paddingRight:32}}),KLe=he("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Uo,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],{[`&.${pk.multiple}`]:e.multiple}]}})(pee),mee=({ownerState:t,theme:e})=>A({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:e.palette.action.active,[`&.${pk.disabled}`]:{color:e.palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),XLe=he("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${_e(n.variant)}`],n.open&&e.iconOpen]}})(mee),YLe=N.exports.forwardRef(function(e,n){const{className:r,disabled:i,IconComponent:s,inputRef:o,variant:a="standard"}=e,l=ke(e,jLe),c=A({},e,{disabled:i,variant:a}),u=qLe(c);return Tt(N.exports.Fragment,{children:[K(KLe,A({ownerState:c,className:Ie(u.select,r),disabled:i,ref:o||n},l)),e.multiple?null:K(XLe,{as:s,ownerState:c,className:u.icon})]})});var gee=YLe;const QLe=["className","children","classes","IconComponent","input","inputProps","variant"],JLe=["root"],ZLe=t=>{const{classes:e}=t;return rt({root:["root"]},EU,e)},e2e=K(hk,{}),vee=N.exports.forwardRef(function(e,n){const r=it({name:"MuiNativeSelect",props:e}),{className:i,children:s,classes:o={},IconComponent:a=yU,input:l=e2e,inputProps:c}=r,u=ke(r,QLe),d=kl(),f=Xd({props:r,muiFormControl:d,states:["variant"]}),p=A({},r,{classes:o}),g=ZLe(p),v=ke(o,JLe);return N.exports.cloneElement(l,A({inputComponent:gee,inputProps:A({children:s,classes:v,IconComponent:a,variant:f.variant,type:void 0},c,l?l.props.inputProps:{}),ref:n},u,{className:Ie(g.root,l.props.className,i)}))});vee.muiName="Select";var t2e=vee,$H;const n2e=["children","classes","className","label","notched"],r2e=he("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),i2e=he("legend")(({ownerState:t,theme:e})=>A({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&A({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function s2e(t){const{className:e,label:n,notched:r}=t,i=ke(t,n2e),s=n!=null&&n!=="",o=A({},t,{notched:r,withLabel:s});return K(r2e,A({"aria-hidden":!0,className:e,ownerState:o},i,{children:K(i2e,{ownerState:o,children:s?K("span",{children:n}):$H||($H=K("span",{className:"notranslate",children:"\u200B"}))})}))}const o2e=["components","fullWidth","inputComponent","label","multiline","notched","type"],a2e=t=>{const{classes:e}=t,r=rt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},SJ,e);return A({},e,r)},l2e=he(lk,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:ok})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return A({position:"relative",borderRadius:t.shape.borderRadius,[`&:hover .${rc.notchedOutline}`]:{borderColor:t.palette.text.primary},"@media (hover: none)":{[`&:hover .${rc.notchedOutline}`]:{borderColor:n}},[`&.${rc.focused} .${rc.notchedOutline}`]:{borderColor:t.palette[e.color].main,borderWidth:2},[`&.${rc.error} .${rc.notchedOutline}`]:{borderColor:t.palette.error.main},[`&.${rc.disabled} .${rc.notchedOutline}`]:{borderColor:t.palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&A({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),c2e=he(s2e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>({borderColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"})),u2e=he(ck,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ak})(({theme:t,ownerState:e})=>A({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),yee=N.exports.forwardRef(function(e,n){var r;const i=it({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:c=!1,notched:u,type:d="text"}=i,f=ke(i,o2e),p=a2e(i),g=kl(),v=Xd({props:i,muiFormControl:g,states:["required"]});return K(DC,A({components:A({Root:l2e,Input:u2e},s),renderSuffix:y=>K(c2e,{className:p.notchedOutline,label:l!=null&&l!==""&&v.required?r||(r=Tt(N.exports.Fragment,{children:[l,"\xA0","*"]})):l,notched:typeof u!="undefined"?u:Boolean(y.startAdornment||y.filled||y.focused)}),fullWidth:o,inputComponent:a,multiline:c,ref:n,type:d},f,{classes:A({},p,{notchedOutline:null})}))});yee.muiName="Input";var IU=yee;function _ee(t){return tt("MuiPagination",t)}const d2e=nt("MuiPagination",["root","ul","outlined","text"]);var f2e=d2e;const h2e=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function xee(t={}){const{boundaryCount:e=1,componentName:n="usePagination",count:r=1,defaultPage:i=1,disabled:s=!1,hideNextButton:o=!1,hidePrevButton:a=!1,onChange:l,page:c,showFirstButton:u=!1,showLastButton:d=!1,siblingCount:f=1}=t,p=ke(t,h2e),[g,v]=Po({controlled:c,default:i,name:n,state:"page"}),y=(F,O)=>{c||v(O),l&&l(F,O)},x=(F,O)=>{const G=O-F+1;return Array.from({length:G},(Z,V)=>F+V)},w=x(1,Math.min(e,r)),b=x(Math.max(r-e+1,e+1),r),T=Math.max(Math.min(g-f,r-e-f*2-1),e+2),E=Math.min(Math.max(g+f,e+f*2+2),b.length>0?b[0]-2:r-1),P=[...u?["first"]:[],...a?[]:["previous"],...w,...T>e+2?["start-ellipsis"]:e+1<r-e?[e+1]:[],...x(T,E),...E<r-e-1?["end-ellipsis"]:r-e>e?[r-e]:[],...b,...o?[]:["next"],...d?["last"]:[]],L=F=>{switch(F){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return r;default:return null}},R=P.map(F=>typeof F=="number"?{onClick:O=>{y(O,F)},type:"page",page:F,selected:F===g,disabled:s,"aria-current":F===g?"true":void 0}:{onClick:O=>{y(O,L(F))},type:F,page:L(F),selected:!1,disabled:s||F.indexOf("ellipsis")===-1&&(F==="next"||F==="last"?g>=r:g<=1)});return A({items:R},p)}function wee(t){return tt("MuiPaginationItem",t)}const p2e=nt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon"]);var Ea=p2e,i1=fr(K("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),s1=fr(K("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),nD=fr(K("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),rD=fr(K("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const m2e=["className","color","component","components","disabled","page","selected","shape","size","type","variant"],bee=(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${_e(n.size)}`],n.variant==="text"&&e[`text${_e(n.color)}`],n.variant==="outlined"&&e[`outlined${_e(n.color)}`],n.shape==="rounded"&&e.rounded,n.type==="page"&&e.page,(n.type==="start-ellipsis"||n.type==="end-ellipsis")&&e.ellipsis,(n.type==="previous"||n.type==="next")&&e.previousNext,(n.type==="first"||n.type==="last")&&e.firstLast]},g2e=t=>{const{classes:e,color:n,disabled:r,selected:i,size:s,shape:o,type:a,variant:l}=t,c={root:["root",`size${_e(s)}`,l,o,n!=="standard"&&`${l}${_e(n)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]};return rt(c,wee,e)},v2e=he("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:bee})(({theme:t,ownerState:e})=>A({},t.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:t.palette.text.primary,height:"auto",[`&.${Ea.disabled}`]:{opacity:t.palette.action.disabledOpacity}},e.size==="small"&&{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},e.size==="large"&&{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)})),y2e=he(Ti,{name:"MuiPaginationItem",slot:"Root",overridesResolver:bee})(({theme:t,ownerState:e})=>A({},t.typography.body2,{borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:t.palette.text.primary,[`&.${Ea.focusVisible}`]:{backgroundColor:t.palette.action.focus},[`&.${Ea.disabled}`]:{opacity:t.palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ea.selected}`]:{backgroundColor:t.palette.action.selected,"&:hover":{backgroundColor:Xt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.palette.action.selected}},[`&.${Ea.focusVisible}`]:{backgroundColor:Xt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},[`&.${Ea.disabled}`]:{opacity:1,color:t.palette.action.disabled,backgroundColor:t.palette.action.selected}}},e.size==="small"&&{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"},e.size==="large"&&{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)},e.shape==="rounded"&&{borderRadius:t.shape.borderRadius}),({theme:t,ownerState:e})=>A({},e.variant==="text"&&{[`&.${Ea.selected}`]:A({},e.color!=="standard"&&{color:t.palette[e.color].contrastText,backgroundColor:t.palette[e.color].main,"&:hover":{backgroundColor:t.palette[e.color].dark,"@media (hover: none)":{backgroundColor:t.palette[e.color].main}},[`&.${Ea.focusVisible}`]:{backgroundColor:t.palette[e.color].dark}},{[`&.${Ea.disabled}`]:{color:t.palette.action.disabled}})},e.variant==="outlined"&&{border:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Ea.selected}`]:A({},e.color!=="standard"&&{color:t.palette[e.color].main,border:`1px solid ${Xt(t.palette[e.color].main,.5)}`,backgroundColor:Xt(t.palette[e.color].main,t.palette.action.activatedOpacity),"&:hover":{backgroundColor:Xt(t.palette[e.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ea.focusVisible}`]:{backgroundColor:Xt(t.palette[e.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity)}},{[`&.${Ea.disabled}`]:{borderColor:t.palette.action.disabledBackground,color:t.palette.action.disabled}})})),_2e=he("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(t,e)=>e.icon})(({theme:t,ownerState:e})=>A({fontSize:t.typography.pxToRem(20),margin:"0 -8px"},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(22)})),x2e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiPaginationItem"}),{className:i,color:s="standard",component:o,components:a={first:i1,last:s1,next:rD,previous:nD},disabled:l=!1,page:c,selected:u=!1,shape:d="circular",size:f="medium",type:p="page",variant:g="text"}=r,v=ke(r,m2e),y=A({},r,{color:s,disabled:l,selected:u,shape:d,size:f,type:p,variant:g}),x=Br(),w=g2e(y),T=(x.direction==="rtl"?{previous:a.next||rD,next:a.previous||nD,last:a.first||i1,first:a.last||s1}:{previous:a.previous||nD,next:a.next||rD,first:a.first||i1,last:a.last||s1})[p];return p==="start-ellipsis"||p==="end-ellipsis"?K(v2e,{ref:n,ownerState:y,className:Ie(w.root,i),children:"\u2026"}):Tt(y2e,A({ref:n,ownerState:y,component:o,disabled:l,className:Ie(w.root,i)},v,{children:[p==="page"&&c,T?K(_2e,{as:T,ownerState:y,className:w.icon}):null]}))});var See=x2e;const w2e=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],b2e=t=>{const{classes:e,variant:n}=t;return rt({root:["root",n],ul:["ul"]},_ee,e)},S2e=he("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant]]}})({}),C2e=he("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(t,e)=>e.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function T2e(t,e,n){return t==="page"?`${n?"":"Go to "}page ${e}`:`Go to ${t} page`}const E2e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiPagination"}),{boundaryCount:i=1,className:s,color:o="standard",count:a=1,defaultPage:l=1,disabled:c=!1,getItemAriaLabel:u=T2e,hideNextButton:d=!1,hidePrevButton:f=!1,renderItem:p=R=>K(See,A({},R)),shape:g="circular",showFirstButton:v=!1,showLastButton:y=!1,siblingCount:x=1,size:w="medium",variant:b="text"}=r,T=ke(r,w2e),{items:E}=xee(A({},r,{componentName:"Pagination"})),P=A({},r,{boundaryCount:i,color:o,count:a,defaultPage:l,disabled:c,getItemAriaLabel:u,hideNextButton:d,hidePrevButton:f,renderItem:p,shape:g,showFirstButton:v,showLastButton:y,siblingCount:x,size:w,variant:b}),L=b2e(P);return K(S2e,A({"aria-label":"pagination navigation",className:Ie(L.root,s),ownerState:P,ref:n},T,{children:K(C2e,{className:L.ul,ownerState:P,children:E.map((R,F)=>K("li",{children:p(A({},R,{color:o,"aria-label":u(R.type,R.page,R.selected),shape:g,size:w,variant:b}))},F))})}))});var I2e=E2e,M2e=fr(K("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),A2e=fr(K("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");const R2e=he("span")({position:"relative",display:"flex"}),P2e=he(M2e)({transform:"scale(1)"}),k2e=he(A2e)(({theme:t,ownerState:e})=>A({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},e.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})}));function Cee(t){const{checked:e=!1,classes:n={},fontSize:r}=t,i=A({},t,{checked:e});return Tt(R2e,{className:n.root,ownerState:i,children:[K(P2e,{fontSize:r,className:n.background,ownerState:i}),K(k2e,{fontSize:r,className:n.dot,ownerState:i})]})}const L2e=N.exports.createContext(void 0);var Tee=L2e;function Eee(){return N.exports.useContext(Tee)}function Iee(t){return tt("MuiRadio",t)}const D2e=nt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]);var dF=D2e;const N2e=["checked","checkedIcon","color","icon","name","onChange","size"],O2e=t=>{const{classes:e,color:n}=t,r={root:["root",`color${_e(n)}`]};return A({},e,rt(r,Iee,e))},F2e=he(bU,{shouldForwardProp:t=>Uo(t)||t==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${_e(n.color)}`]]}})(({theme:t,ownerState:e})=>A({color:t.palette.text.secondary,"&:hover":{backgroundColor:Xt(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${dF.checked}`]:{color:t.palette[e.color].main}},{[`&.${dF.disabled}`]:{color:t.palette.action.disabled}}));function B2e(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}const UH=K(Cee,{checked:!0}),zH=K(Cee,{}),$2e=N.exports.forwardRef(function(e,n){var r,i;const s=it({props:e,name:"MuiRadio"}),{checked:o,checkedIcon:a=UH,color:l="primary",icon:c=zH,name:u,onChange:d,size:f="medium"}=s,p=ke(s,N2e),g=A({},s,{color:l,size:f}),v=O2e(g),y=Eee();let x=o;const w=Y1(d,y&&y.onChange);let b=u;return y&&(typeof x=="undefined"&&(x=B2e(y.value,s.value)),typeof b=="undefined"&&(b=y.name)),K(F2e,A({type:"radio",icon:N.exports.cloneElement(c,{fontSize:(r=zH.props.fontSize)!=null?r:f}),checkedIcon:N.exports.cloneElement(a,{fontSize:(i=UH.props.fontSize)!=null?i:f}),ownerState:g,classes:v,name:b,checked:x,onChange:w,ref:n},p))});var U2e=$2e;const z2e=["actions","children","defaultValue","name","onChange","value"],V2e=N.exports.forwardRef(function(e,n){const{actions:r,children:i,defaultValue:s,name:o,onChange:a,value:l}=e,c=ke(e,z2e),u=N.exports.useRef(null),[d,f]=Po({controlled:l,default:s,name:"RadioGroup"});N.exports.useImperativeHandle(r,()=>({focus:()=>{let y=u.current.querySelector("input:not(:disabled):checked");y||(y=u.current.querySelector("input:not(:disabled)")),y&&y.focus()}}),[]);const p=pn(n,u),g=y=>{f(y.target.value),a&&a(y,y.target.value)},v=bc(o);return K(Tee.Provider,{value:{name:v,onChange:g,value:d},children:K(_Z,A({role:"radiogroup",ref:p},c,{children:i}))})});var W2e=V2e,H2e=fr(K("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),G2e=fr(K("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function Mee(t){return tt("MuiRating",t)}const j2e=nt("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);var Gy=j2e;const q2e=["value"],K2e=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function X2e(t,e,n){return t<e?e:t>n?n:t}function Y2e(t){const e=t.toString().split(".")[1];return e?e.length:0}function iD(t,e){if(t==null)return t;const n=Math.round(t/e)*e;return Number(n.toFixed(Y2e(e)))}const Q2e=t=>{const{classes:e,size:n,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=t,a={root:["root",`size${_e(n)}`,i&&"disabled",o&&"focusVisible",r&&"readyOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return rt(a,Mee,e)},J2e=he("span",{name:"MuiRating",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Gy.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${_e(n.size)}`],n.readOnly&&e.readOnly]}})(({theme:t,ownerState:e})=>A({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent",[`&.${Gy.disabled}`]:{opacity:t.palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Gy.focusVisible} .${Gy.iconActive}`]:{outline:"1px solid #999"},[`& .${Gy.visuallyHidden}`]:eQ},e.size==="small"&&{fontSize:t.typography.pxToRem(18)},e.size==="large"&&{fontSize:t.typography.pxToRem(30)},e.readOnly&&{pointerEvents:"none"})),Aee=he("label",{name:"MuiRating",slot:"Label",overridesResolver:(t,e)=>e.label})(({ownerState:t})=>A({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})),Z2e=he("span",{name:"MuiRating",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.iconEmpty&&e.iconEmpty,n.iconFilled&&e.iconFilled,n.iconHover&&e.iconHover,n.iconFocus&&e.iconFocus,n.iconActive&&e.iconActive]}})(({theme:t,ownerState:e})=>A({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},e.iconActive&&{transform:"scale(1.2)"},e.iconEmpty&&{color:t.palette.action.disabled})),eDe=he("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:t=>PC(t)&&t!=="iconActive",overridesResolver:(t,e)=>{const{iconActive:n}=t;return[e.decimal,n&&e.iconActive]}})(({iconActive:t})=>A({position:"relative"},t&&{transform:"scale(1.2)"}));function tDe(t){const e=ke(t,q2e);return K("span",A({},e))}function VH(t){const{classes:e,disabled:n,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:a,icon:l,IconContainerComponent:c,isActive:u,itemValue:d,labelProps:f,name:p,onBlur:g,onChange:v,onClick:y,onFocus:x,readOnly:w,ownerState:b,ratingValue:T,ratingValueRounded:E}=t,P=o?d===T:d<=T,L=d<=a,R=d<=i,F=d===E,O=bc(),G=K(Z2e,{as:c,value:d,className:Ie(e.icon,P?e.iconFilled:e.iconEmpty,L&&e.iconHover,R&&e.iconFocus,u&&e.iconActive),ownerState:A({},b,{iconEmpty:!P,iconFilled:P,iconHover:L,iconFocus:R,iconActive:u}),children:r&&!P?r:l});return w?K("span",A({},f,{children:G})):Tt(N.exports.Fragment,{children:[Tt(Aee,A({ownerState:A({},b,{emptyValueFocused:void 0}),htmlFor:O},f,{children:[G,K("span",{className:e.visuallyHidden,children:s(d)})]})),K("input",{className:e.visuallyHidden,onFocus:x,onBlur:g,onChange:v,onClick:y,disabled:n,value:d,id:O,type:"radio",name:p,checked:F})]})}const nDe=K(H2e,{fontSize:"inherit"}),rDe=K(G2e,{fontSize:"inherit"});function iDe(t){return`${t} Star${t!==1?"s":""}`}const sDe=N.exports.forwardRef(function(e,n){const r=it({name:"MuiRating",props:e}),{className:i,defaultValue:s=null,disabled:o=!1,emptyIcon:a=rDe,emptyLabelText:l="Empty",getLabelText:c=iDe,highlightSelectedOnly:u=!1,icon:d=nDe,IconContainerComponent:f=tDe,max:p=5,name:g,onChange:v,onChangeActive:y,onMouseLeave:x,onMouseMove:w,precision:b=1,readOnly:T=!1,size:E="medium",value:P}=r,L=ke(r,K2e),R=bc(g),[F,O]=Po({controlled:P,default:s,name:"Rating"}),G=iD(F,b),Z=Br(),[{hover:V,focus:U},j]=N.exports.useState({hover:-1,focus:-1});let W=G;V!==-1&&(W=V),U!==-1&&(W=U);const{isFocusVisibleRef:X,onBlur:B,onFocus:H,ref:q}=Gg(),[ee,J]=N.exports.useState(!1),de=N.exports.useRef(),ye=pn(q,de),Ce=pn(ye,n),oe=ze=>{w&&w(ze);const st=de.current,{right:vt,left:mt}=st.getBoundingClientRect(),{width:St}=st.firstChild.getBoundingClientRect();let It;Z.direction==="rtl"?It=(vt-ze.clientX)/(St*p):It=(ze.clientX-mt)/(St*p);let te=iD(p*It+b/2,b);te=X2e(te,b,p),j(Q=>Q.hover===te&&Q.focus===te?Q:{hover:te,focus:te}),J(!1),y&&V!==te&&y(ze,te)},He=ze=>{x&&x(ze);const st=-1;j({hover:st,focus:st}),y&&V!==st&&y(ze,st)},Ae=ze=>{let st=ze.target.value===""?null:parseFloat(ze.target.value);V!==-1&&(st=V),O(st),v&&v(ze,st)},Ne=ze=>{ze.clientX===0&&ze.clientY===0||(j({hover:-1,focus:-1}),O(null),v&&parseFloat(ze.target.value)===G&&v(ze,null))},Se=ze=>{H(ze),X.current===!0&&J(!0);const st=parseFloat(ze.target.value);j(vt=>({hover:vt.hover,focus:st}))},Ze=ze=>{if(V!==-1)return;B(ze),X.current===!1&&J(!1);const st=-1;j(vt=>({hover:vt.hover,focus:st}))},[we,ve]=N.exports.useState(!1),Ue=A({},r,{defaultValue:s,disabled:o,emptyIcon:a,emptyLabelText:l,emptyValueFocused:we,focusVisible:ee,getLabelText:c,icon:d,IconContainerComponent:f,max:p,precision:b,readOnly:T,size:E}),Qe=Q2e(Ue);return Tt(J2e,A({ref:Ce,onMouseMove:oe,onMouseLeave:He,className:Ie(Qe.root,i),ownerState:Ue,role:T?"img":null,"aria-label":T?c(W):null},L,{children:[Array.from(new Array(p)).map((ze,st)=>{const vt=st+1,mt={classes:Qe,disabled:o,emptyIcon:a,focus:U,getLabelText:c,highlightSelectedOnly:u,hover:V,icon:d,IconContainerComponent:f,name:R,onBlur:Ze,onChange:Ae,onClick:Ne,onFocus:Se,ratingValue:W,ratingValueRounded:G,readOnly:T,ownerState:Ue},St=vt===Math.ceil(W)&&(V!==-1||U!==-1);if(b<1){const It=Array.from(new Array(1/b));return K(eDe,{className:Ie(Qe.decimal,St&&Qe.iconActive),ownerState:Ue,iconActive:St,children:It.map((te,Q)=>{const ue=iD(vt-1+(Q+1)*b,b);return K(VH,A({},mt,{isActive:!1,itemValue:ue,labelProps:{style:It.length-1===Q?{}:{width:ue===W?`${(Q+1)*b*100}%`:"0%",overflow:"hidden",position:"absolute"}}}),ue)})},vt)}return K(VH,A({},mt,{isActive:St,itemValue:vt}),vt)}),!T&&!o&&Tt(Aee,{className:Ie(Qe.label,Qe.labelEmptyValue),ownerState:Ue,children:[K("input",{className:Qe.visuallyHidden,value:"",id:`${R}-empty`,type:"radio",name:R,checked:G==null,onFocus:()=>ve(!0),onBlur:()=>ve(!1),onChange:Ae}),K("span",{className:Qe.visuallyHidden,children:l})]})]}))});var oDe=sDe;function Ree(t){return tt("MuiScopedCssBaseline",t)}const aDe=nt("MuiScopedCssBaseline",["root"]);var lDe=aDe;const cDe=["className","component","enableColorScheme"],uDe=t=>{const{classes:e}=t;return rt({root:["root"]},Ree,e)},dDe=he("div",{name:"MuiScopedCssBaseline",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>A({},QJ(t,e.enableColorScheme),JJ(t),{"& *, & *::before, & *::after":{boxSizing:"inherit"},"& strong, & b":{fontWeight:t.typography.fontWeightBold}})),fDe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiScopedCssBaseline"}),{className:i,component:s="div"}=r,o=ke(r,cDe),a=A({},r,{component:s}),l=uDe(a);return K(dDe,A({as:s,className:Ie(l.root,i),ref:n,ownerState:a},o))});var hDe=fDe;function Pee(t){return tt("MuiSelect",t)}const pDe=nt("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]);var Fb=pDe,WH;const mDe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],gDe=he("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Fb.select}`]:e.select},{[`&.${Fb.select}`]:e[n.variant]},{[`&.${Fb.multiple}`]:e.multiple}]}})(pee,{[`&.${Fb.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),vDe=he("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${_e(n.variant)}`],n.open&&e.iconOpen]}})(mee),yDe=he("input",{shouldForwardProp:t=>PC(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function HH(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function _De(t){return t==null||typeof t=="string"&&!t.trim()}const xDe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${_e(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return rt(o,Pee,e)},wDe=N.exports.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:f,IconComponent:p,inputRef:g,labelId:v,MenuProps:y={},multiple:x,name:w,onBlur:b,onChange:T,onClose:E,onFocus:P,onOpen:L,open:R,readOnly:F,renderValue:O,SelectDisplayProps:G={},tabIndex:Z,value:V,variant:U="standard"}=e,j=ke(e,mDe),[W,X]=Po({controlled:V,default:u,name:"Select"}),[B,H]=Po({controlled:R,default:c,name:"Select"}),q=N.exports.useRef(null),ee=N.exports.useRef(null),[J,de]=N.exports.useState(null),{current:ye}=N.exports.useRef(R!=null),[Ce,oe]=N.exports.useState(),He=pn(n,g),Ae=N.exports.useCallback(xe=>{ee.current=xe,xe&&de(xe)},[]);N.exports.useImperativeHandle(He,()=>({focus:()=>{ee.current.focus()},node:q.current,value:W}),[W]),N.exports.useEffect(()=>{c&&B&&J&&!ye&&(oe(o?null:J.clientWidth),ee.current.focus())},[J,o]),N.exports.useEffect(()=>{s&&ee.current.focus()},[s]),N.exports.useEffect(()=>{if(!v)return;const xe=pr(ee.current).getElementById(v);if(xe){const me=()=>{getSelection().isCollapsed&&ee.current.focus()};return xe.addEventListener("click",me),()=>{xe.removeEventListener("click",me)}}},[v]);const Ne=(xe,me)=>{xe?L&&L(me):E&&E(me),ye||(oe(o?null:J.clientWidth),H(xe))},Se=xe=>{xe.button===0&&(xe.preventDefault(),ee.current.focus(),Ne(!0,xe))},Ze=xe=>{Ne(!1,xe)},we=N.exports.Children.toArray(a),ve=xe=>{const me=we.map(Oe=>Oe.props.value).indexOf(xe.target.value);if(me===-1)return;const Ee=we[me];X(Ee.props.value),T&&T(xe,Ee)},Ue=xe=>me=>{let Ee;if(!!me.currentTarget.hasAttribute("tabindex")){if(x){Ee=Array.isArray(W)?W.slice():[];const Oe=W.indexOf(xe.props.value);Oe===-1?Ee.push(xe.props.value):Ee.splice(Oe,1)}else Ee=xe.props.value;if(xe.props.onClick&&xe.props.onClick(me),W!==Ee&&(X(Ee),T)){const Oe=me.nativeEvent||me,qe=new Oe.constructor(Oe.type,Oe);Object.defineProperty(qe,"target",{writable:!0,value:{value:Ee,name:w}}),T(qe,xe)}x||Ne(!1,me)}},Qe=xe=>{F||[" ","ArrowUp","ArrowDown","Enter"].indexOf(xe.key)!==-1&&(xe.preventDefault(),Ne(!0,xe))},ze=J!==null&&B,st=xe=>{!ze&&b&&(Object.defineProperty(xe,"target",{writable:!0,value:{value:W,name:w}}),b(xe))};delete j["aria-invalid"];let vt,mt;const St=[];let It=!1;(vU({value:W})||f)&&(O?vt=O(W):It=!0);const te=we.map((xe,me,Ee)=>{if(!N.exports.isValidElement(xe))return null;let Oe;if(x){if(!Array.isArray(W))throw new Error(Tl(2));Oe=W.some(le=>HH(le,xe.props.value)),Oe&&It&&St.push(xe.props.children)}else Oe=HH(W,xe.props.value),Oe&&It&&(mt=xe.props.children);if(xe.props.value===void 0)return N.exports.cloneElement(xe,{"aria-readonly":!0,role:"option"});const qe=()=>{if(W)return Oe;const le=Ee.find(at=>at.props.value!==void 0&&at.props.disabled!==!0);return xe===le?!0:Oe};return N.exports.cloneElement(xe,{"aria-selected":Oe?"true":"false",onClick:Ue(xe),onKeyUp:le=>{le.key===" "&&le.preventDefault(),xe.props.onKeyUp&&xe.props.onKeyUp(le)},role:"option",selected:Ee[0].props.value===void 0||Ee[0].props.disabled===!0?qe():Oe,value:void 0,"data-value":xe.props.value})});It&&(x?St.length===0?vt=null:vt=St.reduce((xe,me,Ee)=>(xe.push(me),Ee<St.length-1&&xe.push(", "),xe),[]):vt=mt);let Q=Ce;!o&&ye&&J&&(Q=J.clientWidth);let ue;typeof Z!="undefined"?ue=Z:ue=d?null:0;const Re=G.id||(w?`mui-component-select-${w}`:void 0),Le=A({},e,{variant:U,value:W,open:ze}),Pe=xDe(Le);return Tt(N.exports.Fragment,{children:[K(gDe,A({ref:Ae,tabIndex:ue,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":ze?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[v,Re].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:Qe,onMouseDown:d||F?null:Se,onBlur:st,onFocus:P},G,{ownerState:Le,className:Ie(Pe.select,l,G.className),id:Re,children:_De(vt)?WH||(WH=K("span",{className:"notranslate",children:"\u200B"})):vt})),K(yDe,A({value:Array.isArray(W)?W.join(","):W,name:w,ref:q,"aria-hidden":!0,onChange:ve,tabIndex:-1,disabled:d,className:Pe.nativeInput,autoFocus:s,ownerState:Le},j)),K(vDe,{as:p,className:Pe.icon,ownerState:Le}),K(uee,A({id:`menu-${w||""}`,anchorEl:J,open:ze,onClose:Ze,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:A({"aria-labelledby":v,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:A({},y.PaperProps,{style:A({minWidth:Q},y.PaperProps!=null?y.PaperProps.style:null)}),children:te}))]})});var bDe=wDe,GH,jH;const SDe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],CDe=t=>{const{classes:e}=t;return e},MU={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Uo(t)&&t!=="variant",slot:"Root"},TDe=he(hk,MU)(""),EDe=he(IU,MU)(""),IDe=he(CU,MU)(""),kee=N.exports.forwardRef(function(e,n){const r=it({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=yU,id:d,input:f,inputProps:p,label:g,labelId:v,MenuProps:y,multiple:x=!1,native:w=!1,onClose:b,onOpen:T,open:E,renderValue:P,SelectDisplayProps:L,variant:R="outlined"}=r,F=ke(r,SDe),O=w?gee:bDe,G=kl(),V=Xd({props:r,muiFormControl:G,states:["variant"]}).variant||R,U=f||{standard:GH||(GH=K(TDe,{})),outlined:K(EDe,{label:g}),filled:jH||(jH=K(IDe,{}))}[V],j=A({},r,{variant:V,classes:o}),W=CDe(j),X=pn(n,U.ref);return N.exports.cloneElement(U,A({inputComponent:O,inputProps:A({children:s,IconComponent:u,variant:V,type:void 0,multiple:x},w?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:v,MenuProps:y,onClose:b,onOpen:T,open:E,renderValue:P,SelectDisplayProps:A({id:d},L)},p,{classes:p?ao(W,p.classes):W},f?f.props.inputProps:{})},x&&w&&V==="outlined"?{notched:!0}:{},{ref:X,className:Ie(U.props.className,a),variant:V},F))});kee.muiName="Select";var AU=kee;function Lee(t){return tt("MuiSkeleton",t)}const MDe=nt("MuiSkeleton",["root","text","rectangular","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var ADe=MDe;const RDe=["animation","className","component","height","style","variant","width"];let GA=t=>t,qH,KH,XH,YH;const PDe=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:s,height:o}=t;return rt({root:["root",n,r,i&&"withChildren",i&&!s&&"fitContent",i&&!o&&"heightAuto"]},Lee,e)},kDe=Ec(qH||(qH=GA`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),LDe=Ec(KH||(KH=GA`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),DDe=he("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=hU(t.shape.borderRadius)||"px",r=id(t.shape.borderRadius);return A({display:"block",backgroundColor:Xt(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&Pd(XH||(XH=GA`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),kDe),({ownerState:t,theme:e})=>t.animation==="wave"&&Pd(YH||(YH=GA`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(90deg, transparent, ${0}, transparent);
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),LDe,e.palette.action.hover)),NDe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:s,component:o="span",height:a,style:l,variant:c="text",width:u}=r,d=ke(r,RDe),f=A({},r,{animation:i,component:o,variant:c,hasChildren:Boolean(d.children)}),p=PDe(f);return K(DDe,A({as:o,ref:n,className:Ie(p.root,s),ownerState:f},d,{style:A({width:u,height:a},l)}))});var ODe=NDe;const FDe=["component","components","componentsProps","color","size"],hd=A({},MM,nt("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),Dee=he("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,r=n.marksProp===!0&&n.step!==null?[...Array(Math.floor((n.max-n.min)/n.step)+1)].map((s,o)=>({value:n.min+n.step*o})):n.marksProp||[],i=r.length>0&&r.some(s=>s.label);return[e.root,e[`color${_e(n.color)}`],n.size!=="medium"&&e[`size${_e(n.size)}`],i&&e.marked,n.orientation==="vertical"&&e.vertical,n.track==="inverted"&&e.trackInverted,n.track===!1&&e.trackFalse]}})(({theme:t,ownerState:e})=>A({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:t.palette[e.color].main,WebkitTapHighlightColor:"transparent"},e.orientation==="horizontal"&&A({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},e.size==="small"&&{height:2},e.marked&&{marginBottom:20}),e.orientation==="vertical"&&A({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},e.size==="small"&&{width:2},e.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${hd.disabled}`]:{pointerEvents:"none",cursor:"default",color:t.palette.grey[400]},[`&.${hd.dragging}`]:{[`& .${hd.thumb}, & .${hd.track}`]:{transition:"none"}}})),Nee=he("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})(({ownerState:t})=>A({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},t.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},t.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},t.track==="inverted"&&{opacity:1})),Oee=he("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?Ld(t.palette[e.color].main,.62):kd(t.palette[e.color].main,.5);return A({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{border:"none"},e.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},e.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},e.track===!1&&{display:"none"},e.track==="inverted"&&{backgroundColor:n,borderColor:n})}),Fee=he("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.thumb,e[`thumbColor${_e(n.color)}`],n.size!=="medium"&&e[`thumbSize${_e(n.size)}`]]}})(({theme:t,ownerState:e})=>A({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest})},e.size==="small"&&{width:12,height:12},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":A({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:t.shadows[2]},e.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${hd.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${Xt(t.palette[e.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${hd.active}`]:{boxShadow:`0px 0px 0px 14px ${Xt(t.palette[e.color].main,.16)}`},[`&.${hd.disabled}`]:{"&:hover":{boxShadow:"none"}}})),Bee=he(WQ,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t,ownerState:e})=>A({[`&.${hd.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),top:-10,transformOrigin:"bottom center",transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:t.palette.grey[600],borderRadius:2,color:t.palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},e.size==="small"&&{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"},{"&:before":{position:"absolute",content:'""',width:8,height:8,bottom:0,left:"50%",transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit"}})),$ee=he("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>PC(t)&&t!=="markActive",overridesResolver:(t,e)=>e.mark})(({theme:t,ownerState:e,markActive:n})=>A({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},e.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},e.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},n&&{backgroundColor:t.palette.background.paper,opacity:.8})),Uee=he("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>PC(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t,ownerState:e,markLabelActive:n})=>A({},t.typography.body2,{color:t.palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},e.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},e.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},n&&{color:t.palette.text.primary})),BDe=t=>{const{color:e,size:n,classes:r={}}=t;return A({},r,{root:Ie(r.root,Pb(`color${_e(e)}`),r[`color${_e(e)}`],n&&[Pb(`size${_e(n)}`),r[`size${_e(n)}`]]),thumb:Ie(r.thumb,Pb(`thumbColor${_e(e)}`),r[`thumbColor${_e(e)}`],n&&[Pb(`thumbSize${_e(n)}`),r[`thumbSize${_e(n)}`]])})},$De=N.exports.forwardRef(function(e,n){var r,i,s,o;const a=it({props:e,name:"MuiSlider"}),c=Br().direction==="rtl",{component:u="span",components:d={},componentsProps:f={},color:p="primary",size:g="medium"}=a,v=ke(a,FDe),y=A({},a,{color:p,size:g}),x=BDe(y);return K(n1e,A({},v,{isRtl:c,components:A({Root:Dee,Rail:Nee,Track:Oee,Thumb:Fee,ValueLabel:Bee,Mark:$ee,MarkLabel:Uee},d),componentsProps:A({},f,{root:A({},f.root,d0(d.Root)&&{as:u,ownerState:A({},(r=f.root)==null?void 0:r.ownerState,{color:p,size:g})}),thumb:A({},f.thumb,d0(d.Thumb)&&{ownerState:A({},(i=f.thumb)==null?void 0:i.ownerState,{color:p,size:g})}),track:A({},f.track,d0(d.Track)&&{ownerState:A({},(s=f.track)==null?void 0:s.ownerState,{color:p,size:g})}),valueLabel:A({},f.valueLabel,d0(d.ValueLabel)&&{ownerState:A({},(o=f.valueLabel)==null?void 0:o.ownerState,{color:p,size:g})})}),classes:x,ref:n}))});var UDe=$De;function zee(t){return tt("MuiSnackbarContent",t)}const zDe=nt("MuiSnackbarContent",["root","message","action"]);var VDe=zDe;const WDe=["action","className","message","role"],HDe=t=>{const{classes:e}=t;return rt({root:["root"],action:["action"],message:["message"]},zee,e)},GDe=he(zo,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=Q1(t.palette.background.default,e);return A({},t.typography.body2,{color:t.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),jDe=he("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),qDe=he("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),KDe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=ke(r,WDe),c=r,u=HDe(c);return Tt(GDe,A({role:a,square:!0,elevation:6,className:Ie(u.root,s),ownerState:c,ref:n},l,{children:[K(jDe,{className:u.message,ownerState:c,children:o}),i?K(qDe,{className:u.action,ownerState:c,children:i}):null]}))});var Vee=KDe;function Wee(t){return tt("MuiSnackbar",t)}const XDe=nt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var YDe=XDe;const QDe=["onEnter","onExited"],JDe=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],ZDe=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${_e(n.vertical)}${_e(n.horizontal)}`]};return rt(r,Wee,e)},eNe=he("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${_e(n.anchorOrigin.vertical)}${_e(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n=A({},!e.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},e.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return A({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:A({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&A({},!e.isRtl&&{left:24,right:"auto"},e.isRtl&&{right:24,left:"auto"}),e.anchorOrigin.horizontal==="right"&&A({},!e.isRtl&&{right:24,left:"auto"},e.isRtl&&{left:24,right:"auto"}))})}),tNe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSnackbar"}),i=Br(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:f,ContentProps:p,disableWindowBlurListener:g=!1,message:v,onBlur:y,onClose:x,onFocus:w,onMouseEnter:b,onMouseLeave:T,open:E,resumeHideDuration:P,TransitionComponent:L=eS,transitionDuration:R=s,TransitionProps:{onEnter:F,onExited:O}={}}=r,G=ke(r.TransitionProps,QDe),Z=ke(r,JDe),V=i.direction==="rtl",U=A({},r,{anchorOrigin:{vertical:a,horizontal:l},isRtl:V}),j=ZDe(U),W=N.exports.useRef(),[X,B]=N.exports.useState(!0),H=Ar((...Se)=>{x&&x(...Se)}),q=Ar(Se=>{!x||Se==null||(clearTimeout(W.current),W.current=setTimeout(()=>{H(null,"timeout")},Se))});N.exports.useEffect(()=>(E&&q(c),()=>{clearTimeout(W.current)}),[E,c,q]);const ee=()=>{clearTimeout(W.current)},J=N.exports.useCallback(()=>{c!=null&&q(P!=null?P:c*.5)},[c,P,q]),de=Se=>{w&&w(Se),ee()},ye=Se=>{b&&b(Se),ee()},Ce=Se=>{y&&y(Se),J()},oe=Se=>{T&&T(Se),J()},He=Se=>{x&&x(Se,"clickaway")},Ae=Se=>{B(!0),O&&O(Se)},Ne=(Se,Ze)=>{B(!1),F&&F(Se,Ze)};return N.exports.useEffect(()=>{if(!g&&E)return window.addEventListener("focus",J),window.addEventListener("blur",ee),()=>{window.removeEventListener("focus",J),window.removeEventListener("blur",ee)}},[g,J,E]),N.exports.useEffect(()=>{if(!E)return;function Se(Ze){Ze.defaultPrevented||(Ze.key==="Escape"||Ze.key==="Esc")&&x&&x(Ze,"escapeKeyDown")}return document.addEventListener("keydown",Se),()=>{document.removeEventListener("keydown",Se)}},[X,E,x]),!E&&X?null:K(RQ,A({onClickAway:He},f,{children:K(eNe,A({className:Ie(j.root,d),onBlur:Ce,onFocus:de,onMouseEnter:ye,onMouseLeave:oe,ownerState:U,ref:n,role:"presentation"},Z,{children:K(L,A({appear:!0,in:E,timeout:R,direction:a==="top"?"down":"up",onEnter:Ne,onExited:Ae},G,{children:u||K(Vee,A({message:v,action:o},p))}))}))}))});var nNe=tNe;const rNe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],iNe={entering:{transform:"none"},entered:{transform:"none"}},sNe=N.exports.forwardRef(function(e,n){const r=Br(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:g,onExiting:v,style:y,timeout:x=i,TransitionComponent:w=kC}=e,b=ke(e,rNe),T=N.exports.useRef(null),E=pn(a.ref,n),P=pn(T,E),L=j=>W=>{if(j){const X=T.current;W===void 0?j(X):j(X,W)}},R=L(f),F=L((j,W)=>{nk(j);const X=Sc({style:y,timeout:x,easing:l},{mode:"enter"});j.style.webkitTransition=r.transitions.create("transform",X),j.style.transition=r.transitions.create("transform",X),u&&u(j,W)}),O=L(d),G=L(v),Z=L(j=>{const W=Sc({style:y,timeout:x,easing:l},{mode:"exit"});j.style.webkitTransition=r.transitions.create("transform",W),j.style.transition=r.transitions.create("transform",W),p&&p(j)}),V=L(g);return K(w,A({appear:o,in:c,nodeRef:T,onEnter:F,onEntered:O,onEntering:R,onExit:Z,onExited:V,onExiting:G,addEndListener:j=>{s&&s(T.current,j)},timeout:x},b,{children:(j,W)=>N.exports.cloneElement(a,A({style:A({transform:"scale(0)",visibility:j==="exited"&&!c?"hidden":void 0},iNe[j],y,a.props.style),ref:P},W))}))});var Hee=sNe;function Gee(t){return tt("MuiSpeedDial",t)}const oNe=nt("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]);var Bb=oNe;const aNe=["ref"],lNe=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],cNe=["ref"],uNe=t=>{const{classes:e,open:n,direction:r}=t,i={root:["root",`direction${_e(r)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return rt(i,Gee,e)};function Zw(t){if(t==="up"||t==="down")return"vertical";if(t==="right"||t==="left")return"horizontal"}function dNe(t,e,n){return t<e?e:t>n?n:t}const Pf=32,ZE=16,fNe=he("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`direction${_e(n.direction)}`]]}})(({theme:t,ownerState:e})=>A({zIndex:t.zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},e.direction==="up"&&{flexDirection:"column-reverse",[`& .${Bb.actions}`]:{flexDirection:"column-reverse",marginBottom:-Pf,paddingBottom:ZE+Pf}},e.direction==="down"&&{flexDirection:"column",[`& .${Bb.actions}`]:{flexDirection:"column",marginTop:-Pf,paddingTop:ZE+Pf}},e.direction==="left"&&{flexDirection:"row-reverse",[`& .${Bb.actions}`]:{flexDirection:"row-reverse",marginRight:-Pf,paddingRight:ZE+Pf}},e.direction==="right"&&{flexDirection:"row",[`& .${Bb.actions}`]:{flexDirection:"row",marginLeft:-Pf,paddingLeft:ZE+Pf}})),hNe=he(SU,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(t,e)=>e.fab})(()=>({pointerEvents:"auto"})),pNe=he("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.actions,!n.open&&e.actionsClosed]}})(({ownerState:t})=>A({display:"flex",pointerEvents:"auto"},!t.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),mNe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSpeedDial"}),i=Br(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{ariaLabel:o,FabProps:{ref:a}={},children:l,className:c,direction:u="up",hidden:d=!1,icon:f,onBlur:p,onClose:g,onFocus:v,onKeyDown:y,onMouseEnter:x,onMouseLeave:w,onOpen:b,open:T,TransitionComponent:E=Hee,transitionDuration:P=s,TransitionProps:L}=r,R=ke(r.FabProps,aNe),F=ke(r,lNe),[O,G]=Po({controlled:T,default:!1,name:"SpeedDial",state:"open"}),Z=A({},r,{open:O,direction:u}),V=uNe(Z),U=N.exports.useRef();N.exports.useEffect(()=>()=>{clearTimeout(U.current)},[]);const j=N.exports.useRef(0),W=N.exports.useRef(),X=N.exports.useRef([]);X.current=[X.current[0]];const B=N.exports.useCallback(Ae=>{X.current[0]=Ae},[]),H=pn(a,B),q=(Ae,Ne)=>Se=>{X.current[Ae+1]=Se,Ne&&Ne(Se)},ee=Ae=>{y&&y(Ae);const Ne=Ae.key.replace("Arrow","").toLowerCase(),{current:Se=Ne}=W;if(Ae.key==="Escape"){G(!1),X.current[0].focus(),g&&g(Ae,"escapeKeyDown");return}if(Zw(Ne)===Zw(Se)&&Zw(Ne)!==void 0){Ae.preventDefault();const Ze=Ne===Se?1:-1,we=dNe(j.current+Ze,0,X.current.length-1);X.current[we].focus(),j.current=we,W.current=Se}};N.exports.useEffect(()=>{O||(j.current=0,W.current=void 0)},[O]);const J=Ae=>{Ae.type==="mouseleave"&&w&&w(Ae),Ae.type==="blur"&&p&&p(Ae),clearTimeout(U.current),Ae.type==="blur"?U.current=setTimeout(()=>{G(!1),g&&g(Ae,"blur")}):(G(!1),g&&g(Ae,"mouseLeave"))},de=Ae=>{R.onClick&&R.onClick(Ae),clearTimeout(U.current),O?(G(!1),g&&g(Ae,"toggle")):(G(!0),b&&b(Ae,"toggle"))},ye=Ae=>{Ae.type==="mouseenter"&&x&&x(Ae),Ae.type==="focus"&&v&&v(Ae),clearTimeout(U.current),O||(U.current=setTimeout(()=>{G(!0),b&&b(Ae,{focus:"focus",mouseenter:"mouseEnter"}[Ae.type])}))},Ce=o.replace(/^[^a-z]+|[^\w:.-]+/gi,""),oe=N.exports.Children.toArray(l).filter(Ae=>N.exports.isValidElement(Ae)),He=oe.map((Ae,Ne)=>{const Se=Ae.props,{FabProps:{ref:Ze}={},tooltipPlacement:we}=Se,ve=ke(Se.FabProps,cNe),Ue=we||(Zw(u)==="vertical"?"left":"top");return N.exports.cloneElement(Ae,{FabProps:A({},ve,{ref:q(Ne,Ze)}),delay:30*(O?Ne:oe.length-Ne),open:O,tooltipPlacement:Ue,id:`${Ce}-action-${Ne}`})});return Tt(fNe,A({className:Ie(V.root,c),ref:n,role:"presentation",onKeyDown:ee,onBlur:J,onFocus:ye,onMouseEnter:ye,onMouseLeave:J,ownerState:Z},F,{children:[K(E,A({in:!d,timeout:P,unmountOnExit:!0},L,{children:K(hNe,A({color:"primary","aria-label":o,"aria-haspopup":"true","aria-expanded":O,"aria-controls":`${Ce}-actions`},R,{onClick:de,className:Ie(V.fab,R.className),ref:H,ownerState:Z,children:N.exports.isValidElement(f)&&bd(f,["SpeedDialIcon"])?N.exports.cloneElement(f,{open:O}):f}))})),K(pNe,{id:`${Ce}-actions`,role:"menu","aria-orientation":Zw(u),className:Ie(V.actions,!O&&V.actionsClosed),ownerState:Z,children:He})]}))});var gNe=mNe;function jee(t){return tt("MuiTooltip",t)}const vNe=nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);var pd=vNe;const yNe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function _Ne(t){return Math.round(t*1e5)/1e5}const xNe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${_e(s.split("-")[0])}`],arrow:["arrow"]};return rt(o,jee,e)},wNe=he(LC,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>A({zIndex:t.zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${pd.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${pd.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${pd.arrow}`]:A({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${pd.arrow}`]:A({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),bNe=he("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${_e(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>A({backgroundColor:Xt(t.palette.grey[700],.92),borderRadius:t.shape.borderRadius,color:t.palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${_Ne(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${pd.popper}[data-popper-placement*="left"] &`]:A({transformOrigin:"right center"},e.isRtl?A({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):A({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${pd.popper}[data-popper-placement*="right"] &`]:A({transformOrigin:"left center"},e.isRtl?A({marginRight:"14px"},e.touch&&{marginRight:"24px"}):A({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${pd.popper}[data-popper-placement*="top"] &`]:A({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${pd.popper}[data-popper-placement*="bottom"] &`]:A({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),SNe=he("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:Xt(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let eI=!1,sD=null;function tI(t,e){return n=>{e&&e(n),t(n)}}const CNe=N.exports.forwardRef(function(e,n){var r,i,s,o,a,l;const c=it({props:e,name:"MuiTooltip"}),{arrow:u=!1,children:d,components:f={},componentsProps:p={},describeChild:g=!1,disableFocusListener:v=!1,disableHoverListener:y=!1,disableInteractive:x=!1,disableTouchListener:w=!1,enterDelay:b=100,enterNextDelay:T=0,enterTouchDelay:E=700,followCursor:P=!1,id:L,leaveDelay:R=0,leaveTouchDelay:F=1500,onClose:O,onOpen:G,open:Z,placement:V="bottom",PopperComponent:U,PopperProps:j={},title:W,TransitionComponent:X=eS,TransitionProps:B}=c,H=ke(c,yNe),q=Br(),ee=q.direction==="rtl",[J,de]=N.exports.useState(),[ye,Ce]=N.exports.useState(null),oe=N.exports.useRef(!1),He=x||P,Ae=N.exports.useRef(),Ne=N.exports.useRef(),Se=N.exports.useRef(),Ze=N.exports.useRef(),[we,ve]=Po({controlled:Z,default:!1,name:"Tooltip",state:"open"});let Ue=we;const Qe=bc(L),ze=N.exports.useRef(),st=N.exports.useCallback(()=>{ze.current!==void 0&&(document.body.style.WebkitUserSelect=ze.current,ze.current=void 0),clearTimeout(Ze.current)},[]);N.exports.useEffect(()=>()=>{clearTimeout(Ae.current),clearTimeout(Ne.current),clearTimeout(Se.current),st()},[st]);const vt=Te=>{clearTimeout(sD),eI=!0,ve(!0),G&&!Ue&&G(Te)},mt=Ar(Te=>{clearTimeout(sD),sD=setTimeout(()=>{eI=!1},800+R),ve(!1),O&&Ue&&O(Te),clearTimeout(Ae.current),Ae.current=setTimeout(()=>{oe.current=!1},q.transitions.duration.shortest)}),St=Te=>{oe.current&&Te.type!=="touchstart"||(J&&J.removeAttribute("title"),clearTimeout(Ne.current),clearTimeout(Se.current),b||eI&&T?Ne.current=setTimeout(()=>{vt(Te)},eI?T:b):vt(Te))},It=Te=>{clearTimeout(Ne.current),clearTimeout(Se.current),Se.current=setTimeout(()=>{mt(Te)},R)},{isFocusVisibleRef:te,onBlur:Q,onFocus:ue,ref:Re}=Gg(),[,Le]=N.exports.useState(!1),Pe=Te=>{Q(Te),te.current===!1&&(Le(!1),It(Te))},xe=Te=>{J||de(Te.currentTarget),ue(Te),te.current===!0&&(Le(!0),St(Te))},me=Te=>{oe.current=!0;const Fe=d.props;Fe.onTouchStart&&Fe.onTouchStart(Te)},Ee=St,Oe=It,qe=Te=>{me(Te),clearTimeout(Se.current),clearTimeout(Ae.current),st(),ze.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ze.current=setTimeout(()=>{document.body.style.WebkitUserSelect=ze.current,St(Te)},E)},le=Te=>{d.props.onTouchEnd&&d.props.onTouchEnd(Te),st(),clearTimeout(Se.current),Se.current=setTimeout(()=>{mt(Te)},F)};N.exports.useEffect(()=>{if(!Ue)return;function Te(Fe){(Fe.key==="Escape"||Fe.key==="Esc")&&mt(Fe)}return document.addEventListener("keydown",Te),()=>{document.removeEventListener("keydown",Te)}},[mt,Ue]);const at=pn(de,n),et=pn(Re,at),Vt=pn(d.ref,et);W===""&&(Ue=!1);const Et=N.exports.useRef({x:0,y:0}),Lt=N.exports.useRef(),lt=Te=>{const Fe=d.props;Fe.onMouseMove&&Fe.onMouseMove(Te),Et.current={x:Te.clientX,y:Te.clientY},Lt.current&&Lt.current.update()},Ft={},mn=typeof W=="string";g?(Ft.title=!Ue&&mn&&!y?W:null,Ft["aria-describedby"]=Ue?Qe:null):(Ft["aria-label"]=mn?W:null,Ft["aria-labelledby"]=Ue&&!mn?Qe:null);const en=A({},Ft,H,d.props,{className:Ie(H.className,d.props.className),onTouchStart:me,ref:Vt},P?{onMouseMove:lt}:{}),jn={};w||(en.onTouchStart=qe,en.onTouchEnd=le),y||(en.onMouseOver=tI(Ee,en.onMouseOver),en.onMouseLeave=tI(Oe,en.onMouseLeave),He||(jn.onMouseOver=Ee,jn.onMouseLeave=Oe)),v||(en.onFocus=tI(xe,en.onFocus),en.onBlur=tI(Pe,en.onBlur),He||(jn.onFocus=xe,jn.onBlur=Pe));const jr=N.exports.useMemo(()=>{var Te;let Fe=[{name:"arrow",enabled:Boolean(ye),options:{element:ye,padding:4}}];return(Te=j.popperOptions)!=null&&Te.modifiers&&(Fe=Fe.concat(j.popperOptions.modifiers)),A({},j.popperOptions,{modifiers:Fe})},[ye,j]),Ii=A({},c,{isRtl:ee,arrow:u,disableInteractive:He,placement:V,PopperComponentProp:U,touch:oe.current}),xn=xNe(Ii),cr=(r=f.Popper)!=null?r:wNe,Yi=(i=(s=f.Transition)!=null?s:X)!=null?i:eS,Ss=(o=f.Tooltip)!=null?o:bNe,Nl=(a=f.Arrow)!=null?a:SNe,Pc=Yo(cr,A({},j,p.popper),Ii),Du=Yo(Yi,A({},B,p.transition),Ii),Ka=Yo(Ss,A({},p.tooltip),Ii),ie=Yo(Nl,A({},p.arrow),Ii);return Tt(N.exports.Fragment,{children:[N.exports.cloneElement(d,en),K(cr,A({as:U!=null?U:LC,placement:V,anchorEl:P?{getBoundingClientRect:()=>({top:Et.current.y,left:Et.current.x,right:Et.current.x,bottom:Et.current.y,width:0,height:0})}:J,popperRef:Lt,open:J?Ue:!1,id:Qe,transition:!0},jn,Pc,{className:Ie(xn.popper,j==null?void 0:j.className,(l=p.popper)==null?void 0:l.className),popperOptions:jr,children:({TransitionProps:Te})=>{var Fe,ce;return K(Yi,A({timeout:q.transitions.duration.shorter},Te,Du,{children:Tt(Ss,A({},Ka,{className:Ie(xn.tooltip,(Fe=p.tooltip)==null?void 0:Fe.className),children:[W,u?K(Nl,A({},ie,{className:Ie(xn.arrow,(ce=p.arrow)==null?void 0:ce.className),ref:Ce})):null]}))}))}}))]})});var qee=CNe;function Kee(t){return tt("MuiSpeedDialAction",t)}const TNe=nt("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]);var Xee=TNe;const ENe=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],INe=t=>{const{open:e,tooltipPlacement:n,classes:r}=t,i={fab:["fab",!e&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${_e(n)}`,!e&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return rt(i,Kee,r)},MNe=he(SU,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.fab,!n.open&&e.fabClosed]}})(({theme:t,ownerState:e})=>A({margin:8,color:t.palette.text.secondary,backgroundColor:t.palette.background.paper,"&:hover":{backgroundColor:Q1(t.palette.background.paper,.15)},transition:`${t.transitions.create("transform",{duration:t.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!e.open&&{opacity:0,transform:"scale(0)"})),ANe=he("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.staticTooltip,!n.open&&e.staticTooltipClosed,e[`tooltipPlacement${_e(n.tooltipPlacement)}`]]}})(({theme:t,ownerState:e})=>({position:"relative",display:"flex",alignItems:"center",[`& .${Xee.staticTooltipLabel}`]:A({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.shorter}),opacity:1},!e.open&&{opacity:0,transform:"scale(0.5)"},e.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},e.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),RNe=he("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(t,e)=>e.staticTooltipLabel})(({theme:t})=>A({position:"absolute"},t.typography.body1,{backgroundColor:t.palette.background.paper,borderRadius:t.shape.borderRadius,boxShadow:t.shadows[1],color:t.palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),PNe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSpeedDialAction"}),{className:i,delay:s=0,FabProps:o={},icon:a,id:l,open:c,TooltipClasses:u,tooltipOpen:d=!1,tooltipPlacement:f="left",tooltipTitle:p}=r,g=ke(r,ENe),v=A({},r,{tooltipPlacement:f}),y=INe(v),[x,w]=N.exports.useState(d),b=()=>{w(!1)},T=()=>{w(!0)},E={transitionDelay:`${s}ms`},P=K(MNe,A({size:"small",className:Ie(y.fab,i),tabIndex:-1,role:"menuitem",ownerState:v},o,{style:A({},E,o.style),children:a}));return d?Tt(ANe,A({id:l,ref:n,className:y.staticTooltip,ownerState:v},g,{children:[K(RNe,{style:E,id:`${l}-label`,className:y.staticTooltipLabel,ownerState:v,children:p}),N.exports.cloneElement(P,{"aria-labelledby":`${l}-label`})]})):(!c&&x&&w(!1),K(qee,A({id:l,ref:n,title:p,placement:f,onClose:b,onOpen:T,open:c&&x,classes:u},g,{children:P})))});var kNe=PNe,LNe=fr(K("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function Yee(t){return tt("MuiSpeedDialIcon",t)}const DNe=nt("MuiSpeedDialIcon",["root","icon","iconOpen","iconWithOpenIconOpen","openIcon","openIconOpen"]);var Gf=DNe;const NNe=["className","icon","open","openIcon"],ONe=t=>{const{classes:e,open:n,openIcon:r}=t;return rt({root:["root"],icon:["icon",n&&"iconOpen",r&&n&&"iconWithOpenIconOpen"],openIcon:["openIcon",n&&"openIconOpen"]},Yee,e)},FNe=he("span",{name:"MuiSpeedDialIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Gf.icon}`]:e.icon},{[`& .${Gf.icon}`]:n.open&&e.iconOpen},{[`& .${Gf.icon}`]:n.open&&n.openIcon&&e.iconWithOpenIconOpen},{[`& .${Gf.openIcon}`]:e.openIcon},{[`& .${Gf.openIcon}`]:n.open&&e.openIconOpen},e.root]}})(({theme:t,ownerState:e})=>({height:24,[`& .${Gf.icon}`]:A({transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},e.open&&A({transform:"rotate(45deg)"},e.openIcon&&{opacity:0})),[`& .${Gf.openIcon}`]:A({position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},e.open&&{transform:"rotate(0deg)",opacity:1})})),Qee=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSpeedDialIcon"}),{className:i,icon:s,openIcon:o}=r,a=ke(r,NNe),l=r,c=ONe(l);function u(d,f){return N.exports.isValidElement(d)?N.exports.cloneElement(d,{className:f}):d}return Tt(FNe,A({className:Ie(c.root,i),ref:n,ownerState:l},a,{children:[o?u(o,c.openIcon):null,s?u(s,c.icon):K(LNe,{className:c.icon})]}))});Qee.muiName="SpeedDialIcon";var BNe=Qee;const $Ne=["component","direction","spacing","divider","children"];function UNe(t,e){const n=N.exports.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(N.exports.cloneElement(e,{key:`separator-${s}`})),r),[])}const zNe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],VNe=({ownerState:t,theme:e})=>{let n=A({display:"flex"},Wa({theme:e},zm({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=j$(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((t.spacing[c]!=null||t.direction[c]!=null)&&(l[c]=!0),l),{}),s=zm({values:t.direction,base:i}),o=zm({values:t.spacing,base:i});n=ao(n,Wa({theme:e},o,(l,c)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${zNe(c?s[c]:t.direction)}`]:nx(r,l)}})))}return n},WNe=he("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>[e.root]})(VNe),HNe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStack"}),i=JP(r),{component:s="div",direction:o="column",spacing:a=0,divider:l,children:c}=i,u=ke(i,$Ne);return K(WNe,A({as:s,ownerState:{direction:o,spacing:a},ref:n},u,{children:l?UNe(c,l):c}))});var GNe=HNe;const jNe=N.exports.createContext({});var ix=jNe;const Jee=N.exports.createContext({});function qNe(){return N.exports.useContext(Jee)}var sx=Jee;function Zee(t){return tt("MuiStep",t)}const KNe=nt("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);var XNe=KNe;const YNe=["active","children","className","completed","disabled","expanded","index","last"],QNe=t=>{const{classes:e,orientation:n,alternativeLabel:r,completed:i}=t;return rt({root:["root",n,r&&"alternativeLabel",i&&"completed"]},Zee,e)},JNe=he("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>A({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),ZNe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStep"}),{active:i,children:s,className:o,completed:a,disabled:l,expanded:c=!1,index:u,last:d}=r,f=ke(r,YNe),{activeStep:p,connector:g,alternativeLabel:v,orientation:y,nonLinear:x}=N.exports.useContext(ix);let[w=!1,b=!1,T=!1]=[i,a,l];p===u?w=i!==void 0?i:!0:!x&&p>u?b=a!==void 0?a:!0:!x&&p<u&&(T=l!==void 0?l:!0);const E=N.exports.useMemo(()=>({index:u,last:d,expanded:c,icon:u+1,active:w,completed:b,disabled:T}),[u,d,c,w,b,T]),P=A({},r,{active:w,orientation:y,alternativeLabel:v,completed:b,disabled:T,expanded:c}),L=QNe(P),R=Tt(JNe,A({className:Ie(L.root,o),ref:n,ownerState:P},f,{children:[g&&v&&u!==0?g:null,s]}));return K(sx.Provider,{value:E,children:g&&!v&&u!==0?Tt(N.exports.Fragment,{children:[g,R]}):R})});var eOe=ZNe,tOe=fr(K("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),nOe=fr(K("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function ete(t){return tt("MuiStepIcon",t)}const rOe=nt("MuiStepIcon",["root","active","completed","error","text"]);var LM=rOe,QH;const iOe=["active","className","completed","error","icon"],sOe=t=>{const{classes:e,active:n,completed:r,error:i}=t;return rt({root:["root",n&&"active",r&&"completed",i&&"error"],text:["text"]},ete,e)},oD=he(WA,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:t.palette.text.disabled,[`&.${LM.completed}`]:{color:t.palette.primary.main},[`&.${LM.active}`]:{color:t.palette.primary.main},[`&.${LM.error}`]:{color:t.palette.error.main}})),oOe=he("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,e)=>e.text})(({theme:t})=>({fill:t.palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),aOe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStepIcon"}),{active:i=!1,className:s,completed:o=!1,error:a=!1,icon:l}=r,c=ke(r,iOe),u=A({},r,{active:i,completed:o,error:a}),d=sOe(u);if(typeof l=="number"||typeof l=="string"){const f=Ie(s,d.root);return a?K(oD,A({as:nOe,className:f,ref:n,ownerState:u},c)):o?K(oD,A({as:tOe,className:f,ref:n,ownerState:u},c)):Tt(oD,A({className:f,ref:n,ownerState:u},c,{children:[QH||(QH=K("circle",{cx:"12",cy:"12",r:"12"})),K(oOe,{className:d.text,x:"12",y:"16",textAnchor:"middle",ownerState:u,children:l})]}))}return l});var tte=aOe;function nte(t){return tt("MuiStepLabel",t)}const lOe=nt("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]);var sh=lOe;const cOe=["children","className","componentsProps","error","icon","optional","StepIconComponent","StepIconProps"],uOe=t=>{const{classes:e,orientation:n,active:r,completed:i,error:s,disabled:o,alternativeLabel:a}=t;return rt({root:["root",n,s&&"error",o&&"disabled",a&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",s&&"error",o&&"disabled",a&&"alternativeLabel"],iconContainer:["iconContainer",a&&"alternativeLabel"],labelContainer:["labelContainer"]},nte,e)},dOe=he("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation]]}})(({ownerState:t})=>A({display:"flex",alignItems:"center",[`&.${sh.alternativeLabel}`]:{flexDirection:"column"},[`&.${sh.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),fOe=he("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t})=>A({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${sh.active}`]:{color:t.palette.text.primary,fontWeight:500},[`&.${sh.completed}`]:{color:t.palette.text.primary,fontWeight:500},[`&.${sh.alternativeLabel}`]:{textAlign:"center",marginTop:16},[`&.${sh.error}`]:{color:t.palette.error.main}})),hOe=he("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,e)=>e.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${sh.alternativeLabel}`]:{paddingRight:0}})),pOe=he("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>({width:"100%",color:t.palette.text.secondary})),rte=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStepLabel"}),{children:i,className:s,componentsProps:o={},error:a=!1,icon:l,optional:c,StepIconComponent:u,StepIconProps:d}=r,f=ke(r,cOe),{alternativeLabel:p,orientation:g}=N.exports.useContext(ix),{active:v,disabled:y,completed:x,icon:w}=N.exports.useContext(sx),b=l||w;let T=u;b&&!T&&(T=tte);const E=A({},r,{active:v,alternativeLabel:p,completed:x,disabled:y,error:a,orientation:g}),P=uOe(E);return Tt(dOe,A({className:Ie(P.root,s),ref:n,ownerState:E},f,{children:[b||T?K(hOe,{className:P.iconContainer,ownerState:E,children:K(T,A({completed:x,active:v,error:a,icon:b},d))}):null,Tt(pOe,{className:P.labelContainer,ownerState:E,children:[i?K(fOe,A({className:P.label,ownerState:E},o.label,{children:i})):null,c]})]}))});rte.muiName="StepLabel";var ite=rte;function ste(t){return tt("MuiStepButton",t)}const mOe=nt("MuiStepButton",["root","horizontal","vertical","touchRipple"]);var fF=mOe;const gOe=["children","className","icon","optional"],vOe=t=>{const{classes:e,orientation:n}=t;return rt({root:["root",n],touchRipple:["touchRipple"]},ste,e)},yOe=he(Ti,{name:"MuiStepButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${fF.touchRipple}`]:e.touchRipple},e.root,e[n.orientation]]}})(({ownerState:t})=>A({width:"100%",padding:"24px 16px",margin:"-24px -16px",boxSizing:"content-box"},t.orientation==="vertical"&&{justifyContent:"flex-start",padding:"8px",margin:"-8px"},{[`& .${fF.touchRipple}`]:{color:"rgba(0, 0, 0, 0.3)"}})),_Oe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStepButton"}),{children:i,className:s,icon:o,optional:a}=r,l=ke(r,gOe),{disabled:c}=N.exports.useContext(sx),{orientation:u}=N.exports.useContext(ix),d=A({},r,{orientation:u}),f=vOe(d),p={icon:o,optional:a},g=bd(i,["StepLabel"])?N.exports.cloneElement(i,p):K(ite,A({},p,{children:i}));return K(yOe,A({focusRipple:!0,disabled:c,TouchRippleProps:{className:f.touchRipple},className:Ie(f.root,s),ref:n,ownerState:d},l,{children:g}))});var xOe=_Oe;function ote(t){return tt("MuiStepConnector",t)}const wOe=nt("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);var bOe=wOe;const SOe=["className"],COe=t=>{const{classes:e,orientation:n,alternativeLabel:r,active:i,completed:s,disabled:o}=t,a={root:["root",n,r&&"alternativeLabel",i&&"active",s&&"completed",o&&"disabled"],line:["line",`line${_e(n)}`]};return rt(a,ote,e)},TOe=he("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel,n.completed&&e.completed]}})(({ownerState:t})=>A({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:8+4,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),EOe=he("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.line,e[`line${_e(n.orientation)}`]]}})(({ownerState:t,theme:e})=>A({display:"block",borderColor:e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})),IOe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStepConnector"}),{className:i}=r,s=ke(r,SOe),{alternativeLabel:o,orientation:a="horizontal"}=N.exports.useContext(ix),{active:l,disabled:c,completed:u}=N.exports.useContext(sx),d=A({},r,{alternativeLabel:o,orientation:a,active:l,completed:u,disabled:c}),f=COe(d);return K(TOe,A({className:Ie(f.root,i),ref:n,ownerState:d},s,{children:K(EOe,{className:f.line,ownerState:d})}))});var ate=IOe;function lte(t){return tt("MuiStepContent",t)}const MOe=nt("MuiStepContent",["root","last","transition"]);var AOe=MOe;const ROe=["children","className","TransitionComponent","transitionDuration","TransitionProps"],POe=t=>{const{classes:e,last:n}=t;return rt({root:["root",n&&"last"],transition:["transition"]},lte,e)},kOe=he("div",{name:"MuiStepContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.last&&e.last]}})(({ownerState:t,theme:e})=>A({marginLeft:12,paddingLeft:8+12,paddingRight:8,borderLeft:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[600]}`},t.last&&{borderLeft:"none"})),LOe=he(rk,{name:"MuiStepContent",slot:"Transition",overridesResolver:(t,e)=>e.transition})({}),DOe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStepContent"}),{children:i,className:s,TransitionComponent:o=rk,transitionDuration:a="auto",TransitionProps:l}=r,c=ke(r,ROe);N.exports.useContext(ix);const{active:u,last:d,expanded:f}=N.exports.useContext(sx),p=A({},r,{last:d}),g=POe(p);let v=a;return a==="auto"&&!o.muiSupportAuto&&(v=void 0),K(kOe,A({className:Ie(g.root,s),ref:n,ownerState:p},c,{children:K(LOe,A({as:o,in:u||f,className:g.transition,ownerState:p,timeout:v,unmountOnExit:!0},l,{children:i}))}))});var NOe=DOe;function cte(t){return tt("MuiStepper",t)}const OOe=nt("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);var FOe=OOe;const BOe=["activeStep","alternativeLabel","children","className","connector","nonLinear","orientation"],$Oe=t=>{const{orientation:e,alternativeLabel:n,classes:r}=t;return rt({root:["root",e,n&&"alternativeLabel"]},cte,r)},UOe=he("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.alternativeLabel&&e.alternativeLabel]}})(({ownerState:t})=>A({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),zOe=K(ate,{}),VOe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:s=!1,children:o,className:a,connector:l=zOe,nonLinear:c=!1,orientation:u="horizontal"}=r,d=ke(r,BOe),f=A({},r,{alternativeLabel:s,orientation:u}),p=$Oe(f),g=N.exports.Children.toArray(o).filter(Boolean),v=g.map((x,w)=>N.exports.cloneElement(x,A({index:w,last:w+1===g.length},x.props))),y=N.exports.useMemo(()=>({activeStep:i,alternativeLabel:s,connector:l,nonLinear:c,orientation:u}),[i,s,l,c,u]);return K(ix.Provider,{value:y,children:K(UOe,A({ownerState:f,className:Ie(p.root,a),ref:n},d,{children:v}))})});var WOe=VOe;const HOe=["anchor","classes","className","width","style"],GOe=he("div")(({theme:t,ownerState:e})=>A({position:"fixed",top:0,left:0,bottom:0,zIndex:t.zIndex.drawer-1},e.anchor==="left"&&{right:"auto"},e.anchor==="right"&&{left:"auto",right:0},e.anchor==="top"&&{bottom:"auto",right:0},e.anchor==="bottom"&&{top:"auto",bottom:0,right:0})),jOe=N.exports.forwardRef(function(e,n){const{anchor:r,classes:i={},className:s,width:o,style:a}=e,l=ke(e,HOe),c=e;return K(GOe,A({className:Ie("PrivateSwipeArea-root",i.root,i[`anchor${_e(r)}`],s),ref:n,style:A({[f0(r)?"width":"height"]:o},a),ownerState:c},l))});var qOe=jOe;const KOe=["BackdropProps"],XOe=["anchor","disableBackdropTransition","disableDiscovery","disableSwipeToOpen","hideBackdrop","hysteresis","minFlingVelocity","ModalProps","onClose","onOpen","open","PaperProps","SwipeAreaProps","swipeAreaWidth","transitionDuration","variant"],nI=3,aD=20;let Xu=null;function lD(t,e,n){return t==="right"?n.body.offsetWidth-e[0].pageX:e[0].pageX}function cD(t,e,n){return t==="bottom"?n.innerHeight-e[0].clientY:e[0].clientY}function eb(t,e){return t?e.clientWidth:e.clientHeight}function JH(t,e,n,r){return Math.min(Math.max(n?e-t:r+e-t,0),r)}function YOe(t,e){const n=[];for(;t&&t!==e.parentElement;){const r=Os(e).getComputedStyle(t);r.getPropertyValue("position")==="absolute"||r.getPropertyValue("overflow-x")==="hidden"||(t.clientWidth>0&&t.scrollWidth>t.clientWidth||t.clientHeight>0&&t.scrollHeight>t.clientHeight)&&n.push(t),t=t.parentElement}return n}function QOe({domTreeShapes:t,start:e,current:n,anchor:r}){const i={scrollPosition:{x:"scrollLeft",y:"scrollTop"},scrollLength:{x:"scrollWidth",y:"scrollHeight"},clientLength:{x:"clientWidth",y:"clientHeight"}};return t.some(s=>{let o=n>=e;(r==="top"||r==="left")&&(o=!o);const a=r==="left"||r==="right"?"x":"y",l=Math.round(s[i.scrollPosition[a]]),c=l>0,u=l+s[i.clientLength[a]]<s[i.scrollLength[a]];return!!(o&&u||!o&&c)})}const JOe=typeof navigator!="undefined"&&/iPad|iPhone|iPod/.test(navigator.userAgent),ZOe=N.exports.forwardRef(function(e,n){const r=wQ({name:"MuiSwipeableDrawer",props:e}),i=Br(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",disableBackdropTransition:a=!1,disableDiscovery:l=!1,disableSwipeToOpen:c=JOe,hideBackdrop:u,hysteresis:d=.52,minFlingVelocity:f=450,ModalProps:{BackdropProps:p}={},onClose:g,onOpen:v,open:y,PaperProps:x={},SwipeAreaProps:w,swipeAreaWidth:b=20,transitionDuration:T=s,variant:E="temporary"}=r,P=ke(r.ModalProps,KOe),L=ke(r,XOe),[R,F]=N.exports.useState(!1),O=N.exports.useRef({isSwiping:null}),G=N.exports.useRef(),Z=N.exports.useRef(),V=N.exports.useRef(),U=N.exports.useRef(!1),j=N.exports.useRef();Hi(()=>{j.current=null},[y]);const W=N.exports.useCallback((q,ee={})=>{const{mode:J=null,changeTransition:de=!0}=ee,ye=Nb(i,o),Ce=["right","bottom"].indexOf(ye)!==-1?1:-1,oe=f0(o),He=oe?`translate(${Ce*q}px, 0)`:`translate(0, ${Ce*q}px)`,Ae=V.current.style;Ae.webkitTransform=He,Ae.transform=He;let Ne="";if(J&&(Ne=i.transitions.create("all",Sc({easing:void 0,style:void 0,timeout:T},{mode:J}))),de&&(Ae.webkitTransition=Ne,Ae.transition=Ne),!a&&!u){const Se=Z.current.style;Se.opacity=1-q/eb(oe,V.current),de&&(Se.webkitTransition=Ne,Se.transition=Ne)}},[o,a,u,i,T]),X=Ar(q=>{if(!U.current)return;if(Xu=null,U.current=!1,F(!1),!O.current.isSwiping){O.current.isSwiping=null;return}O.current.isSwiping=null;const ee=Nb(i,o),J=f0(o);let de;J?de=lD(ee,q.changedTouches,pr(q.currentTarget)):de=cD(ee,q.changedTouches,Os(q.currentTarget));const ye=J?O.current.startX:O.current.startY,Ce=eb(J,V.current),oe=JH(de,ye,y,Ce),He=oe/Ce;if(Math.abs(O.current.velocity)>f&&(j.current=Math.abs((Ce-oe)/O.current.velocity)*1e3),y){O.current.velocity>f||He>d?g():W(0,{mode:"exit"});return}O.current.velocity<-f||1-He>d?v():W(eb(J,V.current),{mode:"enter"})}),B=Ar(q=>{if(!V.current||!U.current||Xu!==null&&Xu!==O.current)return;const ee=Nb(i,o),J=f0(o),de=lD(ee,q.touches,pr(q.currentTarget)),ye=cD(ee,q.touches,Os(q.currentTarget));if(y&&V.current.contains(q.target)&&Xu===null){const Ne=YOe(q.target,V.current);if(QOe({domTreeShapes:Ne,start:J?O.current.startX:O.current.startY,current:J?de:ye,anchor:o})){Xu=!0;return}Xu=O.current}if(O.current.isSwiping==null){const Ne=Math.abs(de-O.current.startX),Se=Math.abs(ye-O.current.startY),Ze=J?Ne>Se&&Ne>nI:Se>Ne&&Se>nI;if(Ze&&q.cancelable&&q.preventDefault(),Ze===!0||(J?Se>nI:Ne>nI)){if(O.current.isSwiping=Ze,!Ze){X(q);return}O.current.startX=de,O.current.startY=ye,!l&&!y&&(J?O.current.startX-=aD:O.current.startY-=aD)}}if(!O.current.isSwiping)return;const Ce=eb(J,V.current);let oe=J?O.current.startX:O.current.startY;y&&!O.current.paperHit&&(oe=Math.min(oe,Ce));const He=JH(J?de:ye,oe,y,Ce);if(y)if(O.current.paperHit)He===0&&(O.current.startX=de,O.current.startY=ye);else if(J?de<Ce:ye<Ce)O.current.paperHit=!0,O.current.startX=de,O.current.startY=ye;else return;O.current.lastTranslate===null&&(O.current.lastTranslate=He,O.current.lastTime=performance.now()+1);const Ae=(He-O.current.lastTranslate)/(performance.now()-O.current.lastTime)*1e3;O.current.velocity=O.current.velocity*.4+Ae*.6,O.current.lastTranslate=He,O.current.lastTime=performance.now(),q.cancelable&&q.preventDefault(),W(He)}),H=Ar(q=>{if(q.defaultPrevented||q.defaultMuiPrevented||y&&(u||!Z.current.contains(q.target))&&!V.current.contains(q.target))return;const ee=Nb(i,o),J=f0(o),de=lD(ee,q.touches,pr(q.currentTarget)),ye=cD(ee,q.touches,Os(q.currentTarget));if(!y){if(c||q.target!==G.current)return;if(J){if(de>b)return}else if(ye>b)return}q.defaultMuiPrevented=!0,Xu=null,O.current.startX=de,O.current.startY=ye,F(!0),!y&&V.current&&W(eb(J,V.current)+(l?15:-aD),{changeTransition:!1}),O.current.velocity=0,O.current.lastTime=null,O.current.lastTranslate=null,O.current.paperHit=!1,U.current=!0});return N.exports.useEffect(()=>{if(E==="temporary"){const q=pr(V.current);return q.addEventListener("touchstart",H),q.addEventListener("touchmove",B,{passive:!y}),q.addEventListener("touchend",X),()=>{q.removeEventListener("touchstart",H),q.removeEventListener("touchmove",B,{passive:!y}),q.removeEventListener("touchend",X)}}},[E,y,H,B,X]),N.exports.useEffect(()=>()=>{Xu===O.current&&(Xu=null)},[]),N.exports.useEffect(()=>{y||F(!1)},[y]),Tt(N.exports.Fragment,{children:[K(dZ,A({open:E==="temporary"&&R?!0:y,variant:E,ModalProps:A({BackdropProps:A({},p,{ref:Z})},P),hideBackdrop:u,PaperProps:A({},x,{style:A({pointerEvents:E==="temporary"&&!y?"none":""},x.style),ref:V}),anchor:o,transitionDuration:j.current||T,onClose:g,ref:n},L)),!c&&E==="temporary"&&K(VQ,{children:K(qOe,A({anchor:o,ref:G,width:b},w))})]})});var eFe=ZOe;function ute(t){return tt("MuiSwitch",t)}const tFe=nt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]);var no=tFe;const nFe=["className","color","edge","size","sx"],rFe=t=>{const{classes:e,edge:n,size:r,color:i,checked:s,disabled:o}=t,a={root:["root",n&&`edge${_e(n)}`,`size${_e(r)}`],switchBase:["switchBase",`color${_e(i)}`,s&&"checked",o&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=rt(a,ute,e);return A({},e,l)},iFe=he("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.edge&&e[`edge${_e(n.edge)}`],e[`size${_e(n.size)}`]]}})(({ownerState:t})=>A({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},t.edge==="start"&&{marginLeft:-8},t.edge==="end"&&{marginRight:-8},t.size==="small"&&{width:40,height:24,padding:7,[`& .${no.thumb}`]:{width:16,height:16},[`& .${no.switchBase}`]:{padding:4,[`&.${no.checked}`]:{transform:"translateX(16px)"}}})),sFe=he(bU,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.switchBase,{[`& .${no.input}`]:e.input},n.color!=="default"&&e[`color${_e(n.color)}`]]}})(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300],transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${no.checked}`]:{transform:"translateX(20px)"},[`&.${no.disabled}`]:{color:t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]},[`&.${no.checked} + .${no.track}`]:{opacity:.5},[`&.${no.disabled} + .${no.track}`]:{opacity:t.palette.mode==="light"?.12:.2},[`& .${no.input}`]:{left:"-100%",width:"300%"}}),({theme:t,ownerState:e})=>A({"&:hover":{backgroundColor:Xt(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${no.checked}`]:{color:t.palette[e.color].main,"&:hover":{backgroundColor:Xt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${no.disabled}`]:{color:t.palette.mode==="light"?Ld(t.palette[e.color].main,.62):kd(t.palette[e.color].main,.55)}},[`&.${no.checked} + .${no.track}`]:{backgroundColor:t.palette[e.color].main}})),oFe=he("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.palette.mode==="light"?t.palette.common.black:t.palette.common.white,opacity:t.palette.mode==="light"?.38:.3})),aFe=he("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({boxShadow:t.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),lFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:o=!1,size:a="medium",sx:l}=r,c=ke(r,nFe),u=A({},r,{color:s,edge:o,size:a}),d=rFe(u),f=K(aFe,{className:d.thumb,ownerState:u});return Tt(iFe,{className:Ie(d.root,i),sx:l,ownerState:u,children:[K(sFe,A({type:"checkbox",icon:f,checkedIcon:f,ref:n,ownerState:u},c,{classes:A({},d,{root:d.switchBase})})),K(oFe,{className:d.track,ownerState:u})]})});var cFe=lFe;function dte(t){return tt("MuiTab",t)}const uFe=nt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]);var jf=uFe;const dFe=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],fFe=t=>{const{classes:e,textColor:n,fullWidth:r,wrapped:i,icon:s,label:o,selected:a,disabled:l}=t,c={root:["root",s&&o&&"labelIcon",`textColor${_e(n)}`,r&&"fullWidth",i&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return rt(c,dte,e)},hFe=he(Ti,{name:"MuiTab",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.label&&n.icon&&e.labelIcon,e[`textColor${_e(n.textColor)}`],n.fullWidth&&e.fullWidth,n.wrapped&&e.wrapped]}})(({theme:t,ownerState:e})=>A({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},e.label&&{flexDirection:e.iconPosition==="top"||e.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},e.icon&&e.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${jf.iconWrapper}`]:A({},e.iconPosition==="top"&&{marginBottom:6},e.iconPosition==="bottom"&&{marginTop:6},e.iconPosition==="start"&&{marginRight:t.spacing(1)},e.iconPosition==="end"&&{marginLeft:t.spacing(1)})},e.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${jf.selected}`]:{opacity:1},[`&.${jf.disabled}`]:{opacity:t.palette.action.disabledOpacity}},e.textColor==="primary"&&{color:t.palette.text.secondary,[`&.${jf.selected}`]:{color:t.palette.primary.main},[`&.${jf.disabled}`]:{color:t.palette.text.disabled}},e.textColor==="secondary"&&{color:t.palette.text.secondary,[`&.${jf.selected}`]:{color:t.palette.secondary.main},[`&.${jf.disabled}`]:{color:t.palette.text.disabled}},e.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},e.wrapped&&{fontSize:t.typography.pxToRem(12)})),pFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:o=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:u,label:d,onChange:f,onClick:p,onFocus:g,selected:v,selectionFollowsFocus:y,textColor:x="inherit",value:w,wrapped:b=!1}=r,T=ke(r,dFe),E=A({},r,{disabled:s,disableFocusRipple:o,selected:v,icon:!!l,iconPosition:c,label:!!d,fullWidth:a,textColor:x,wrapped:b}),P=fFe(E),L=l&&d&&N.exports.isValidElement(l)?N.exports.cloneElement(l,{className:Ie(P.iconWrapper,l.props.className)}):l,R=O=>{!v&&f&&f(O,w),p&&p(O)},F=O=>{y&&!v&&f&&f(O,w),g&&g(O)};return Tt(hFe,A({focusRipple:!o,className:Ie(P.root,i),ref:n,role:"tab","aria-selected":v,disabled:s,onClick:R,onFocus:F,ownerState:E,tabIndex:v?0:-1},T,{children:[c==="top"||c==="start"?Tt(N.exports.Fragment,{children:[L,d]}):Tt(N.exports.Fragment,{children:[d,L]}),u]}))});var mFe=pFe;const gFe=N.exports.createContext();var fte=gFe;function hte(t){return tt("MuiTable",t)}const vFe=nt("MuiTable",["root","stickyHeader"]);var yFe=vFe;const _Fe=["className","component","padding","size","stickyHeader"],xFe=t=>{const{classes:e,stickyHeader:n}=t;return rt({root:["root",n&&"stickyHeader"]},hte,e)},wFe=he("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>A({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":A({},t.typography.body2,{padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},e.stickyHeader&&{borderCollapse:"separate"})),ZH="table",bFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTable"}),{className:i,component:s=ZH,padding:o="normal",size:a="medium",stickyHeader:l=!1}=r,c=ke(r,_Fe),u=A({},r,{component:s,padding:o,size:a,stickyHeader:l}),d=xFe(u),f=N.exports.useMemo(()=>({padding:o,size:a,stickyHeader:l}),[o,a,l]);return K(fte.Provider,{value:f,children:K(wFe,A({as:s,role:s===ZH?null:"table",ref:n,className:Ie(d.root,i),ownerState:u},c))})});var SFe=bFe;const CFe=N.exports.createContext();var NC=CFe;function pte(t){return tt("MuiTableBody",t)}const TFe=nt("MuiTableBody",["root"]);var EFe=TFe;const IFe=["className","component"],MFe=t=>{const{classes:e}=t;return rt({root:["root"]},pte,e)},AFe=he("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-row-group"}),RFe={variant:"body"},eG="tbody",PFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableBody"}),{className:i,component:s=eG}=r,o=ke(r,IFe),a=A({},r,{component:s}),l=MFe(a);return K(NC.Provider,{value:RFe,children:K(AFe,A({className:Ie(l.root,i),as:s,ref:n,role:s===eG?null:"rowgroup",ownerState:a},o))})});var kFe=PFe;function mte(t){return tt("MuiTableCell",t)}const LFe=nt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]);var gte=LFe;const DFe=["align","className","component","padding","scope","size","sortDirection","variant"],NFe=t=>{const{classes:e,variant:n,align:r,padding:i,size:s,stickyHeader:o}=t,a={root:["root",n,o&&"stickyHeader",r!=="inherit"&&`align${_e(r)}`,i!=="normal"&&`padding${_e(i)}`,`size${_e(s)}`]};return rt(a,mte,e)},OFe=he("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${_e(n.size)}`],n.padding!=="normal"&&e[`padding${_e(n.padding)}`],n.align!=="inherit"&&e[`align${_e(n.align)}`],n.stickyHeader&&e.stickyHeader]}})(({theme:t,ownerState:e})=>A({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:`1px solid
    ${t.palette.mode==="light"?Ld(Xt(t.palette.divider,1),.88):kd(Xt(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},e.variant==="head"&&{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},e.variant==="body"&&{color:t.palette.text.primary},e.variant==="footer"&&{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},e.size==="small"&&{padding:"6px 16px",[`&.${gte.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},e.padding==="checkbox"&&{width:48,padding:"0 0 0 4px"},e.padding==="none"&&{padding:0},e.align==="left"&&{textAlign:"left"},e.align==="center"&&{textAlign:"center"},e.align==="right"&&{textAlign:"right",flexDirection:"row-reverse"},e.align==="justify"&&{textAlign:"justify"},e.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:t.palette.background.default})),FFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:o,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,f=ke(r,DFe),p=N.exports.useContext(fte),g=N.exports.useContext(NC),v=g&&g.variant==="head";let y;o?y=o:y=v?"th":"td";let x=l;!x&&v&&(x="col");const w=d||g&&g.variant,b=A({},r,{align:i,component:y,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:w==="head"&&p&&p.stickyHeader,variant:w}),T=NFe(b);let E=null;return u&&(E=u==="asc"?"ascending":"descending"),K(OFe,A({as:y,ref:n,className:Ie(T.root,s),"aria-sort":E,scope:x,ownerState:b},f))});var jA=FFe;function vte(t){return tt("MuiTableContainer",t)}const BFe=nt("MuiTableContainer",["root"]);var $Fe=BFe;const UFe=["className","component"],zFe=t=>{const{classes:e}=t;return rt({root:["root"]},vte,e)},VFe=he("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(t,e)=>e.root})({width:"100%",overflowX:"auto"}),WFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableContainer"}),{className:i,component:s="div"}=r,o=ke(r,UFe),a=A({},r,{component:s}),l=zFe(a);return K(VFe,A({ref:n,as:s,className:Ie(l.root,i),ownerState:a},o))});var HFe=WFe;function yte(t){return tt("MuiTableFooter",t)}const GFe=nt("MuiTableFooter",["root"]);var jFe=GFe;const qFe=["className","component"],KFe=t=>{const{classes:e}=t;return rt({root:["root"]},yte,e)},XFe=he("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-footer-group"}),YFe={variant:"footer"},tG="tfoot",QFe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableFooter"}),{className:i,component:s=tG}=r,o=ke(r,qFe),a=A({},r,{component:s}),l=KFe(a);return K(NC.Provider,{value:YFe,children:K(XFe,A({as:s,className:Ie(l.root,i),ref:n,role:s===tG?null:"rowgroup",ownerState:a},o))})});var JFe=QFe;function _te(t){return tt("MuiTableHead",t)}const ZFe=nt("MuiTableHead",["root"]);var e3e=ZFe;const t3e=["className","component"],n3e=t=>{const{classes:e}=t;return rt({root:["root"]},_te,e)},r3e=he("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"table-header-group"}),i3e={variant:"head"},nG="thead",s3e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableHead"}),{className:i,component:s=nG}=r,o=ke(r,t3e),a=A({},r,{component:s}),l=n3e(a);return K(NC.Provider,{value:i3e,children:K(r3e,A({as:s,className:Ie(l.root,i),ref:n,role:s===nG?null:"rowgroup",ownerState:a},o))})});var o3e=s3e;function xte(t){return tt("MuiToolbar",t)}const a3e=nt("MuiToolbar",["root","gutters","regular","dense"]);var l3e=a3e;const c3e=["className","component","disableGutters","variant"],u3e=t=>{const{classes:e,disableGutters:n,variant:r}=t;return rt({root:["root",!n&&"gutters",r]},xte,e)},d3e=he("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>A({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),f3e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=ke(r,c3e),c=A({},r,{component:s,disableGutters:o,variant:a}),u=u3e(c);return K(d3e,A({as:s,className:Ie(u.root,i),ref:n,ownerState:c},l))});var wte=f3e,hF=fr(K("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),pF=fr(K("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),rG,iG,sG,oG,aG,lG,cG,uG;const h3e=["backIconButtonProps","count","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton"],p3e=N.exports.forwardRef(function(e,n){const{backIconButtonProps:r,count:i,getItemAriaLabel:s,nextIconButtonProps:o,onPageChange:a,page:l,rowsPerPage:c,showFirstButton:u,showLastButton:d}=e,f=ke(e,h3e),p=Br(),g=w=>{a(w,0)},v=w=>{a(w,l-1)},y=w=>{a(w,l+1)},x=w=>{a(w,Math.max(0,Math.ceil(i/c)-1))};return Tt("div",A({ref:n},f,{children:[u&&K(fc,{onClick:g,disabled:l===0,"aria-label":s("first",l),title:s("first",l),children:p.direction==="rtl"?rG||(rG=K(s1,{})):iG||(iG=K(i1,{}))}),K(fc,A({onClick:v,disabled:l===0,color:"inherit","aria-label":s("previous",l),title:s("previous",l)},r,{children:p.direction==="rtl"?sG||(sG=K(pF,{})):oG||(oG=K(hF,{}))})),K(fc,A({onClick:y,disabled:i!==-1?l>=Math.ceil(i/c)-1:!1,color:"inherit","aria-label":s("next",l),title:s("next",l)},o,{children:p.direction==="rtl"?aG||(aG=K(hF,{})):lG||(lG=K(pF,{}))})),d&&K(fc,{onClick:x,disabled:l>=Math.ceil(i/c)-1,"aria-label":s("last",l),title:s("last",l),children:p.direction==="rtl"?cG||(cG=K(i1,{})):uG||(uG=K(s1,{}))})]}))});var m3e=p3e;function bte(t){return tt("MuiTablePagination",t)}const g3e=nt("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var L0=g3e,dG;const v3e=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton"],y3e=he(jA,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({overflow:"auto",color:t.palette.text.primary,fontSize:t.typography.pxToRem(14),"&:last-child":{padding:0}})),_3e=he(wte,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>A({[`& .${L0.actions}`]:e.actions},e.toolbar)})(({theme:t})=>({minHeight:52,paddingRight:2,[`${t.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[t.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${L0.actions}`]:{flexShrink:0,marginLeft:20}})),x3e=he("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})({flex:"1 1 100%"}),w3e=he("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,e)=>e.selectLabel})(({theme:t})=>A({},t.typography.body2,{flexShrink:0})),b3e=he(AU,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>A({[`& .${L0.selectIcon}`]:e.selectIcon,[`& .${L0.select}`]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${L0.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),S3e=he(fee,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,e)=>e.menuItem})({}),C3e=he("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,e)=>e.displayedRows})(({theme:t})=>A({},t.typography.body2,{flexShrink:0}));function T3e({from:t,to:e,count:n}){return`${t}\u2013${e} of ${n!==-1?n:`more than ${e}`}`}function E3e(t){return`Go to ${t} page`}const I3e=t=>{const{classes:e}=t;return rt({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},bte,e)},M3e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTablePagination"}),{ActionsComponent:i=m3e,backIconButtonProps:s,className:o,colSpan:a,component:l=jA,count:c,getItemAriaLabel:u=E3e,labelDisplayedRows:d=T3e,labelRowsPerPage:f="Rows per page:",nextIconButtonProps:p,onPageChange:g,onRowsPerPageChange:v,page:y,rowsPerPage:x,rowsPerPageOptions:w=[10,25,50,100],SelectProps:b={},showFirstButton:T=!1,showLastButton:E=!1}=r,P=ke(r,v3e),L=r,R=I3e(L),F=b.native?"option":S3e;let O;(l===jA||l==="td")&&(O=a||1e3);const G=bc(b.id),Z=bc(b.labelId),V=()=>c===-1?(y+1)*x:x===-1?c:Math.min(c,(y+1)*x);return K(y3e,A({colSpan:O,ref:n,as:l,ownerState:L,className:Ie(R.root,o)},P,{children:Tt(_3e,{className:R.toolbar,children:[K(x3e,{className:R.spacer}),w.length>1&&K(w3e,{className:R.selectLabel,id:Z,children:f}),w.length>1&&K(b3e,A({variant:"standard",input:dG||(dG=K(DC,{})),value:x,onChange:v,id:G,labelId:Z},b,{classes:A({},b.classes,{root:Ie(R.input,R.selectRoot,(b.classes||{}).root),select:Ie(R.select,(b.classes||{}).select),icon:Ie(R.selectIcon,(b.classes||{}).icon)}),children:w.map(U=>N.exports.createElement(F,A({},!na(F)&&{ownerState:L},{className:R.menuItem,key:U.label?U.label:U,value:U.value?U.value:U}),U.label?U.label:U))})),K(C3e,{className:R.displayedRows,children:d({from:c===0?0:y*x+1,to:V(),count:c===-1?-1:c,page:y})}),K(i,{className:R.actions,backIconButtonProps:s,count:c,nextIconButtonProps:p,onPageChange:g,page:y,rowsPerPage:x,showFirstButton:T,showLastButton:E,getItemAriaLabel:u})]})}))});var A3e=M3e;function Ste(t){return tt("MuiTableRow",t)}const R3e=nt("MuiTableRow",["root","selected","hover","head","footer"]);var mF=R3e;const P3e=["className","component","hover","selected"],k3e=t=>{const{classes:e,selected:n,hover:r,head:i,footer:s}=t;return rt({root:["root",n&&"selected",r&&"hover",i&&"head",s&&"footer"]},Ste,e)},L3e=he("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.head&&e.head,n.footer&&e.footer]}})(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${mF.hover}:hover`]:{backgroundColor:t.palette.action.hover},[`&.${mF.selected}`]:{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:Xt(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}})),fG="tr",D3e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableRow"}),{className:i,component:s=fG,hover:o=!1,selected:a=!1}=r,l=ke(r,P3e),c=N.exports.useContext(NC),u=A({},r,{component:s,hover:o,selected:a,head:c&&c.variant==="head",footer:c&&c.variant==="footer"}),d=k3e(u);return K(L3e,A({as:s,ref:n,className:Ie(d.root,i),role:s===fG?null:"row",ownerState:u},l))});var N3e=D3e,O3e=fr(K("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");function Cte(t){return tt("MuiTableSortLabel",t)}const F3e=nt("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]);var DM=F3e;const B3e=["active","children","className","direction","hideSortIcon","IconComponent"],$3e=t=>{const{classes:e,direction:n,active:r}=t,i={root:["root",r&&"active"],icon:["icon",`iconDirection${_e(n)}`]};return rt(i,Cte,e)},U3e=he(Ti,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.active&&e.active]}})(({theme:t})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:t.palette.text.secondary},"&:hover":{color:t.palette.text.secondary,[`& .${DM.icon}`]:{opacity:.5}},[`&.${DM.active}`]:{color:t.palette.text.primary,[`& .${DM.icon}`]:{opacity:1,color:t.palette.text.secondary}}})),z3e=he("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,e[`iconDirection${_e(n.direction)}`]]}})(({theme:t,ownerState:e})=>A({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},e.direction==="desc"&&{transform:"rotate(0deg)"},e.direction==="asc"&&{transform:"rotate(180deg)"})),V3e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTableSortLabel"}),{active:i=!1,children:s,className:o,direction:a="asc",hideSortIcon:l=!1,IconComponent:c=O3e}=r,u=ke(r,B3e),d=A({},r,{active:i,direction:a,hideSortIcon:l,IconComponent:c}),f=$3e(d);return Tt(U3e,A({className:Ie(f.root,o),component:"span",disableRipple:!0,ownerState:d,ref:n},u,{children:[s,l&&!i?null:K(z3e,{as:c,className:Ie(f.icon),ownerState:d})]}))});var W3e=V3e;function H3e(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}function G3e(t,e,n,r={},i=()=>{}){const{ease:s=H3e,duration:o=300}=r;let a=null;const l=e[t];let c=!1;const u=()=>{c=!0},d=f=>{if(c){i(new Error("Animation cancelled"));return}a===null&&(a=f);const p=Math.min(1,(f-a)/o);if(e[t]=s(p)*(n-l)+l,p>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(d)};return l===n?(i(new Error("Element already at target position")),u):(requestAnimationFrame(d),u)}const j3e=["onChange"],q3e={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function K3e(t){const{onChange:e}=t,n=ke(t,j3e),r=N.exports.useRef(),i=N.exports.useRef(null),s=()=>{r.current=i.current.offsetHeight-i.current.clientHeight};return N.exports.useEffect(()=>{const o=Lh(()=>{const l=r.current;s(),l!==r.current&&e(r.current)}),a=Os(i.current);return a.addEventListener("resize",o),()=>{o.clear(),a.removeEventListener("resize",o)}},[e]),N.exports.useEffect(()=>{s(),e(r.current)},[e]),K("div",A({style:q3e,ref:i},n))}function Tte(t){return tt("MuiTabScrollButton",t)}const X3e=nt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]);var Ete=X3e,hG,pG;const Y3e=["className","direction","orientation","disabled"],Q3e=t=>{const{classes:e,orientation:n,disabled:r}=t;return rt({root:["root",n,r&&"disabled"]},Tte,e)},J3e=he(Ti,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.orientation&&e[n.orientation]]}})(({ownerState:t})=>A({width:40,flexShrink:0,opacity:.8,[`&.${Ete.disabled}`]:{opacity:0}},t.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})),Z3e=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTabScrollButton"}),{className:i,direction:s}=r,o=ke(r,Y3e),l=Br().direction==="rtl",c=A({isRtl:l},r),u=Q3e(c);return K(J3e,A({component:"div",className:Ie(u.root,i),ref:n,role:null,ownerState:c,tabIndex:null},o,{children:s==="left"?hG||(hG=K(hF,{fontSize:"small"})):pG||(pG=K(pF,{fontSize:"small"}))}))});var Ite=Z3e;function Mte(t){return tt("MuiTabs",t)}const eBe=nt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var NM=eBe;const tBe=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],mG=(t,e)=>t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t.firstChild,gG=(t,e)=>t===e?t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t.lastChild,rI=(t,e,n)=>{let r=!1,i=n(t,e);for(;i;){if(i===t.firstChild){if(r)return;r=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=n(t,i);else{i.focus();return}}},nBe=t=>{const{vertical:e,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:s,centered:o,scrollButtonsHideMobile:a,classes:l}=t;return rt({root:["root",e&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],flexContainer:["flexContainer",e&&"flexContainerVertical",o&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},Mte,l)},rBe=he("div",{name:"MuiTabs",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${NM.scrollButtons}`]:e.scrollButtons},{[`& .${NM.scrollButtons}`]:n.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,n.vertical&&e.vertical]}})(({ownerState:t,theme:e})=>A({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${NM.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}})),iBe=he("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.scroller,n.fixed&&e.fixed,n.hideScrollbar&&e.hideScrollbar,n.scrollableX&&e.scrollableX,n.scrollableY&&e.scrollableY]}})(({ownerState:t})=>A({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),sBe=he("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.flexContainer,n.vertical&&e.flexContainerVertical,n.centered&&e.centered]}})(({ownerState:t})=>A({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})),oBe=he("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(t,e)=>e.indicator})(({ownerState:t,theme:e})=>A({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},t.indicatorColor==="primary"&&{backgroundColor:e.palette.primary.main},t.indicatorColor==="secondary"&&{backgroundColor:e.palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})),aBe=he(K3e,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),vG={},lBe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTabs"}),i=Br(),s=i.direction==="rtl",{"aria-label":o,"aria-labelledby":a,action:l,centered:c=!1,children:u,className:d,component:f="div",allowScrollButtonsMobile:p=!1,indicatorColor:g="primary",onChange:v,orientation:y="horizontal",ScrollButtonComponent:x=Ite,scrollButtons:w="auto",selectionFollowsFocus:b,TabIndicatorProps:T={},TabScrollButtonProps:E={},textColor:P="primary",value:L,variant:R="standard",visibleScrollbar:F=!1}=r,O=ke(r,tBe),G=R==="scrollable",Z=y==="vertical",V=Z?"scrollTop":"scrollLeft",U=Z?"top":"left",j=Z?"bottom":"right",W=Z?"clientHeight":"clientWidth",X=Z?"height":"width",B=A({},r,{component:f,allowScrollButtonsMobile:p,indicatorColor:g,orientation:y,vertical:Z,scrollButtons:w,textColor:P,variant:R,visibleScrollbar:F,fixed:!G,hideScrollbar:G&&!F,scrollableX:G&&!Z,scrollableY:G&&Z,centered:c&&!G,scrollButtonsHideMobile:!p}),H=nBe(B),[q,ee]=N.exports.useState(!1),[J,de]=N.exports.useState(vG),[ye,Ce]=N.exports.useState({start:!1,end:!1}),[oe,He]=N.exports.useState({overflow:"hidden",scrollbarWidth:0}),Ae=new Map,Ne=N.exports.useRef(null),Se=N.exports.useRef(null),Ze=()=>{const xe=Ne.current;let me;if(xe){const Oe=xe.getBoundingClientRect();me={clientWidth:xe.clientWidth,scrollLeft:xe.scrollLeft,scrollTop:xe.scrollTop,scrollLeftNormalized:EW(xe,i.direction),scrollWidth:xe.scrollWidth,top:Oe.top,bottom:Oe.bottom,left:Oe.left,right:Oe.right}}let Ee;if(xe&&L!==!1){const Oe=Se.current.children;if(Oe.length>0){const qe=Oe[Ae.get(L)];Ee=qe?qe.getBoundingClientRect():null}}return{tabsMeta:me,tabMeta:Ee}},we=Ar(()=>{const{tabsMeta:xe,tabMeta:me}=Ze();let Ee=0,Oe;if(Z)Oe="top",me&&xe&&(Ee=me.top-xe.top+xe.scrollTop);else if(Oe=s?"right":"left",me&&xe){const le=s?xe.scrollLeftNormalized+xe.clientWidth-xe.scrollWidth:xe.scrollLeft;Ee=(s?-1:1)*(me[Oe]-xe[Oe]+le)}const qe={[Oe]:Ee,[X]:me?me[X]:0};if(isNaN(J[Oe])||isNaN(J[X]))de(qe);else{const le=Math.abs(J[Oe]-qe[Oe]),at=Math.abs(J[X]-qe[X]);(le>=1||at>=1)&&de(qe)}}),ve=(xe,{animation:me=!0}={})=>{me?G3e(V,Ne.current,xe,{duration:i.transitions.duration.standard}):Ne.current[V]=xe},Ue=xe=>{let me=Ne.current[V];Z?me+=xe:(me+=xe*(s?-1:1),me*=s&&JY()==="reverse"?-1:1),ve(me)},Qe=()=>{const xe=Ne.current[W];let me=0;const Ee=Array.from(Se.current.children);for(let Oe=0;Oe<Ee.length;Oe+=1){const qe=Ee[Oe];if(me+qe[W]>xe)break;me+=qe[W]}return me},ze=()=>{Ue(-1*Qe())},st=()=>{Ue(Qe())},vt=N.exports.useCallback(xe=>{He({overflow:null,scrollbarWidth:xe})},[]),mt=()=>{const xe={};xe.scrollbarSizeListener=G?K(aBe,{onChange:vt,className:Ie(H.scrollableX,H.hideScrollbar)}):null;const me=ye.start||ye.end,Ee=G&&(w==="auto"&&me||w===!0);return xe.scrollButtonStart=Ee?K(x,A({orientation:y,direction:s?"right":"left",onClick:ze,disabled:!ye.start},E,{className:Ie(H.scrollButtons,E.className)})):null,xe.scrollButtonEnd=Ee?K(x,A({orientation:y,direction:s?"left":"right",onClick:st,disabled:!ye.end},E,{className:Ie(H.scrollButtons,E.className)})):null,xe},St=Ar(xe=>{const{tabsMeta:me,tabMeta:Ee}=Ze();if(!(!Ee||!me)){if(Ee[U]<me[U]){const Oe=me[V]+(Ee[U]-me[U]);ve(Oe,{animation:xe})}else if(Ee[j]>me[j]){const Oe=me[V]+(Ee[j]-me[j]);ve(Oe,{animation:xe})}}}),It=Ar(()=>{if(G&&w!==!1){const{scrollTop:xe,scrollHeight:me,clientHeight:Ee,scrollWidth:Oe,clientWidth:qe}=Ne.current;let le,at;if(Z)le=xe>1,at=xe<me-Ee-1;else{const et=EW(Ne.current,i.direction);le=s?et<Oe-qe-1:et>1,at=s?et>1:et<Oe-qe-1}(le!==ye.start||at!==ye.end)&&Ce({start:le,end:at})}});N.exports.useEffect(()=>{const xe=Lh(()=>{we(),It()}),me=Os(Ne.current);me.addEventListener("resize",xe);let Ee;return typeof ResizeObserver!="undefined"&&(Ee=new ResizeObserver(xe),Array.from(Se.current.children).forEach(Oe=>{Ee.observe(Oe)})),()=>{xe.clear(),me.removeEventListener("resize",xe),Ee&&Ee.disconnect()}},[we,It]);const te=N.exports.useMemo(()=>Lh(()=>{It()}),[It]);N.exports.useEffect(()=>()=>{te.clear()},[te]),N.exports.useEffect(()=>{ee(!0)},[]),N.exports.useEffect(()=>{we(),It()}),N.exports.useEffect(()=>{St(vG!==J)},[St,J]),N.exports.useImperativeHandle(l,()=>({updateIndicator:we,updateScrollButtons:It}),[we,It]);const Q=K(oBe,A({},T,{className:Ie(H.indicator,T.className),ownerState:B,style:A({},J,T.style)}));let ue=0;const Re=N.exports.Children.map(u,xe=>{if(!N.exports.isValidElement(xe))return null;const me=xe.props.value===void 0?ue:xe.props.value;Ae.set(me,ue);const Ee=me===L;return ue+=1,N.exports.cloneElement(xe,A({fullWidth:R==="fullWidth",indicator:Ee&&!q&&Q,selected:Ee,selectionFollowsFocus:b,onChange:v,textColor:P,value:me},ue===1&&L===!1&&!xe.props.tabIndex?{tabIndex:0}:{}))}),Le=xe=>{const me=Se.current,Ee=pr(me).activeElement;if(Ee.getAttribute("role")!=="tab")return;let qe=y==="horizontal"?"ArrowLeft":"ArrowUp",le=y==="horizontal"?"ArrowRight":"ArrowDown";switch(y==="horizontal"&&s&&(qe="ArrowRight",le="ArrowLeft"),xe.key){case qe:xe.preventDefault(),rI(me,Ee,gG);break;case le:xe.preventDefault(),rI(me,Ee,mG);break;case"Home":xe.preventDefault(),rI(me,null,mG);break;case"End":xe.preventDefault(),rI(me,null,gG);break}},Pe=mt();return Tt(rBe,A({className:Ie(H.root,d),ownerState:B,ref:n,as:f},O,{children:[Pe.scrollButtonStart,Pe.scrollbarSizeListener,Tt(iBe,{className:H.scroller,ownerState:B,style:{overflow:oe.overflow,[Z?`margin${s?"Left":"Right"}`:"marginBottom"]:F?void 0:-oe.scrollbarWidth},ref:Ne,onScroll:te,children:[K(sBe,{"aria-label":o,"aria-labelledby":a,"aria-orientation":y==="vertical"?"vertical":null,className:H.flexContainer,ownerState:B,onKeyDown:Le,ref:Se,role:"tablist",children:Re}),q&&Q]}),Pe.scrollButtonEnd]}))});var cBe=lBe;function Ate(t){return tt("MuiTextField",t)}const uBe=nt("MuiTextField",["root"]);var dBe=uBe;const fBe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],hBe={standard:hk,filled:CU,outlined:IU},pBe=t=>{const{classes:e}=t;return rt({root:["root"]},Ate,e)},mBe=he(mZ,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gBe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:c,disabled:u=!1,error:d=!1,FormHelperTextProps:f,fullWidth:p=!1,helperText:g,id:v,InputLabelProps:y,inputProps:x,InputProps:w,inputRef:b,label:T,maxRows:E,minRows:P,multiline:L=!1,name:R,onBlur:F,onChange:O,onFocus:G,placeholder:Z,required:V=!1,rows:U,select:j=!1,SelectProps:W,type:X,value:B,variant:H="outlined"}=r,q=ke(r,fBe),ee=A({},r,{autoFocus:s,color:l,disabled:u,error:d,fullWidth:p,multiline:L,required:V,select:j,variant:H}),J=pBe(ee),de={};H==="outlined"&&(y&&typeof y.shrink!="undefined"&&(de.notched=y.shrink),de.label=T),j&&((!W||!W.native)&&(de.id=void 0),de["aria-describedby"]=void 0);const ye=bc(v),Ce=g&&ye?`${ye}-helper-text`:void 0,oe=T&&ye?`${ye}-label`:void 0,He=hBe[H],Ae=K(He,A({"aria-describedby":Ce,autoComplete:i,autoFocus:s,defaultValue:c,fullWidth:p,multiline:L,name:R,rows:U,maxRows:E,minRows:P,type:X,value:B,id:ye,inputRef:b,onBlur:F,onChange:O,onFocus:G,placeholder:Z,inputProps:x},de,w));return Tt(mBe,A({className:Ie(J.root,a),disabled:u,error:d,fullWidth:p,ref:n,required:V,color:l,variant:H,ownerState:ee},q,{children:[T!=null&&T!==""&&K(WZ,A({htmlFor:ye,id:oe},y,{children:T})),j?K(AU,A({"aria-describedby":Ce,id:ye,labelId:oe,value:B,input:Ae},W,{children:o})):Ae,g&&K(wZ,A({id:Ce},f,{children:g}))]}))});var vBe=gBe;function Rte(t){return tt("MuiToggleButton",t)}const yBe=nt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]);var gF=yBe;const _Be=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],xBe=t=>{const{classes:e,fullWidth:n,selected:r,disabled:i,size:s,color:o}=t,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${_e(s)}`,o]};return rt(a,Rte,e)},wBe=he(Ti,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`size${_e(n.size)}`]]}})(({theme:t,ownerState:e})=>{const n=e.color==="standard"?t.palette.text.primary:t.palette[e.color].main;return A({},t.typography.button,{borderRadius:t.shape.borderRadius,padding:11,border:`1px solid ${t.palette.divider}`,color:t.palette.action.active},e.fullWidth&&{width:"100%"},{[`&.${gF.disabled}`]:{color:t.palette.action.disabled,border:`1px solid ${t.palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:Xt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${gF.selected}`]:{color:n,backgroundColor:Xt(n,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:Xt(n,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:Xt(n,t.palette.action.selectedOpacity)}}}},e.size==="small"&&{padding:7,fontSize:t.typography.pxToRem(13)},e.size==="large"&&{padding:15,fontSize:t.typography.pxToRem(15)})}),bBe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiToggleButton"}),{children:i,className:s,color:o="standard",disabled:a=!1,disableFocusRipple:l=!1,fullWidth:c=!1,onChange:u,onClick:d,selected:f,size:p="medium",value:g}=r,v=ke(r,_Be),y=A({},r,{color:o,disabled:a,disableFocusRipple:l,fullWidth:c,size:p}),x=xBe(y),w=b=>{d&&(d(b,g),b.defaultPrevented)||u&&u(b,g)};return K(wBe,A({className:Ie(x.root,s),disabled:a,focusRipple:!l,ref:n,onClick:w,onChange:u,value:g,ownerState:y,"aria-pressed":f},v,{children:i}))});var SBe=bBe;function CBe(t,e){return e===void 0||t===void 0?!1:Array.isArray(e)?e.indexOf(t)>=0:t===e}function Pte(t){return tt("MuiToggleButtonGroup",t)}const TBe=nt("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]);var Gc=TBe;const EBe=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],IBe=t=>{const{classes:e,orientation:n,fullWidth:r,disabled:i}=t,s={root:["root",n==="vertical"&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${_e(n)}`,i&&"disabled"]};return rt(s,Pte,e)},MBe=he("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Gc.grouped}`]:e.grouped},{[`& .${Gc.grouped}`]:e[`grouped${_e(n.orientation)}`]},e.root,n.orientation==="vertical"&&e.vertical,n.fullWidth&&e.fullWidth]}})(({ownerState:t,theme:e})=>A({display:"inline-flex",borderRadius:e.shape.borderRadius},t.orientation==="vertical"&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${Gc.grouped}`]:A({},t.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${Gc.selected} + .${Gc.grouped}.${Gc.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${Gc.selected} + .${Gc.grouped}.${Gc.selected}`]:{borderTop:0,marginTop:0}})})),ABe=N.exports.forwardRef(function(e,n){const r=it({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:s,color:o="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:f="medium",value:p}=r,g=ke(r,EBe),v=A({},r,{disabled:a,fullWidth:c,orientation:d,size:f}),y=IBe(v),x=(b,T)=>{if(!u)return;const E=p&&p.indexOf(T);let P;p&&E>=0?(P=p.slice(),P.splice(E,1)):P=p?p.concat(T):[T],u(b,P)},w=(b,T)=>{!u||u(b,p===T?null:T)};return K(MBe,A({role:"group",className:Ie(y.root,s),ref:n,ownerState:v},g,{children:N.exports.Children.map(i,b=>N.exports.isValidElement(b)?N.exports.cloneElement(b,{className:Ie(y.grouped,b.props.className),onChange:l?w:x,selected:b.props.selected===void 0?CBe(b.props.value,p):b.props.selected,size:b.props.size||f,fullWidth:c,color:b.props.color||o,disabled:b.props.disabled||a}):null)}))});var RBe=ABe;const PBe=["getTrigger","target"];function kBe(t,e){const{disableHysteresis:n=!1,threshold:r=100,target:i}=e,s=t.current;return i&&(t.current=i.pageYOffset!==void 0?i.pageYOffset:i.scrollTop),!n&&s!==void 0&&t.current<s?!1:t.current>r}const LBe=typeof window!="undefined"?window:null;function DBe(t={}){const{getTrigger:e=kBe,target:n=LBe}=t,r=ke(t,PBe),i=N.exports.useRef(),[s,o]=N.exports.useState(()=>e(i,r));return N.exports.useEffect(()=>{const a=()=>{o(e(i,A({target:n},r)))};return a(),n.addEventListener("scroll",a),()=>{n.removeEventListener("scroll",a)}},[n,e,JSON.stringify(r)]),s}/** @license MUI v5.6.4
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NBe=Object.freeze(Object.defineProperty({__proto__:null,colors:Kve,Accordion:TSe,AccordionActions:kSe,AccordionDetails:$Se,AccordionSummary:uCe,Alert:ICe,AlertTitle:VCe,AppBar:XCe,Autocomplete:OTe,Avatar:MJ,AvatarGroup:JTe,Backdrop:xU,Badge:mEe,BottomNavigation:bEe,BottomNavigationAction:AEe,Box:kEe,Breadcrumbs:GEe,Button:AM,ButtonBase:Ti,ButtonGroup:oIe,Card:hIe,CardActionArea:xIe,CardActions:IIe,CardContent:DIe,CardHeader:WIe,CardMedia:JIe,Checkbox:KJ,Chip:xJ,CircularProgress:EMe,ClickAwayListener:RQ,Collapse:rk,Container:LMe,CssBaseline:NMe,darkScrollbar:FMe,Dialog:ZMe,DialogActions:oAe,DialogContent:pAe,DialogContentText:wAe,DialogTitle:EAe,Divider:LAe,Drawer:dZ,Fab:SU,Fade:_U,FilledInput:CU,FormControl:mZ,FormControlLabel:vZ,FormGroup:_Z,FormHelperText:wZ,FormLabel:CZ,Grid:zRe,Grow:eS,Hidden:iPe,Icon:uPe,IconButton:fc,ImageList:NZ,ImageListItem:FZ,ImageListItemBar:$Z,Input:hk,InputAdornment:WPe,InputBase:DC,InputLabel:WZ,LinearProgress:GZ,Link:pke,List:YZ,ListItem:Vke,ListItemAvatar:Xke,ListItemButton:Ake,ListItemIcon:tLe,ListItemSecondaryAction:tee,ListItemText:aLe,ListSubheader:yJ,Menu:uee,MenuItem:fee,MenuList:oee,MobileStepper:HLe,Modal:dk,NativeSelect:t2e,NoSsr:VQ,OutlinedInput:IU,Pagination:I2e,PaginationItem:See,Paper:zo,Popover:lee,Popper:LC,Portal:dU,Radio:U2e,RadioGroup:W2e,Rating:oDe,ScopedCssBaseline:hDe,Select:AU,Skeleton:ODe,Slide:aZ,Slider:UDe,Snackbar:nNe,SnackbarContent:Vee,SpeedDial:gNe,SpeedDialAction:kNe,SpeedDialIcon:BNe,Stack:GNe,Step:eOe,StepButton:xOe,StepConnector:ate,StepContent:NOe,StepIcon:tte,StepLabel:ite,Stepper:WOe,SvgIcon:WA,SwipeableDrawer:eFe,Switch:cFe,Tab:mFe,Table:SFe,TableBody:kFe,TableCell:jA,TableContainer:HFe,TableFooter:JFe,TableHead:o3e,TablePagination:A3e,TableRow:N3e,TableSortLabel:W3e,Tabs:cBe,TabScrollButton:Ite,TextField:vBe,TextareaAutosize:GQ,ToggleButton:SBe,ToggleButtonGroup:RBe,Toolbar:wte,Tooltip:qee,Typography:Ls,useMediaQuery:AZ,usePagination:xee,useScrollTrigger:DBe,Zoom:Hee,useAutocomplete:AQ,GlobalStyles:gU,StyledEngineProvider:h0e,unstable_composeClasses:rt,generateUtilityClass:tt,generateUtilityClasses:nt,adaptV4Theme:Jxe,hexToRgb:bQ,rgbToHex:$xe,hslToRgb:SQ,decomposeColor:gu,recomposeColor:MC,getContrastRatio:CQ,getLuminance:UA,emphasize:Q1,alpha:Xt,darken:kd,lighten:Ld,css:Pd,keyframes:Ec,experimental_sx:pxe,createTheme:cg,createMuiTheme:I1e,unstable_createMuiStrictModeTheme:M1e,createStyles:A1e,unstable_getUnit:hU,unstable_toUnitless:id,responsiveFontSizes:D1e,duration:fU,easing:KQ,useTheme:Br,useThemeProps:it,styled:he,experimentalStyled:he,ThemeProvider:TQ,makeStyles:F1e,withStyles:B1e,withTheme:$1e,experimental_extendTheme:XQ,useColorScheme:G1e,getInitColorSchemeScript:j1e,Experimental_CssVarsProvider:H1e,capitalize:_e,createChainedFunction:Y1,createSvgIcon:fr,debounce:Lh,deprecatedPropType:KY,isMuiElement:bd,ownerDocument:pr,ownerWindow:Os,requirePropFactory:XY,setRef:lg,unstable_useEnhancedEffect:Hi,unstable_useId:bc,unsupportedProp:YY,useControlled:Po,useEventCallback:Ar,useForkRef:pn,useIsFocusVisible:Gg,unstable_ClassNameGenerator:JQ,accordionClasses:Lb,getAccordionUtilityClass:iJ,accordionActionsClasses:ISe,getAccordionActionsUtilityClass:sJ,accordionDetailsClasses:DSe,getAccordionDetailsUtilityClass:oJ,accordionSummaryClasses:Im,getAccordionSummaryUtilityClass:cJ,alertClasses:tF,getAlertUtilityClass:uJ,alertTitleClasses:FCe,getAlertTitleUtilityClass:mJ,appBarClasses:HCe,getAppBarUtilityClass:gJ,createFilterOptions:MQ,autocompleteClasses:kn,getAutocompleteUtilityClass:TJ,avatarClasses:IJ,getAvatarUtilityClass:EJ,avatarGroupClasses:RJ,getAvatarGroupUtilityClass:AJ,backdropClasses:rEe,getBackdropUtilityClass:PJ,badgeClasses:nd,getBadgeUtilityClass:kJ,bottomNavigationClasses:vEe,getBottomNavigationUtilityClass:LJ,bottomNavigationActionClasses:wU,getBottomNavigationActionUtilityClass:DJ,breadcrumbsClasses:OJ,getBreadcrumbsUtilityClass:NJ,buttonClasses:Db,getButtonUtilityClass:FJ,buttonBaseClasses:lJ,touchRippleClasses:Ma,getButtonBaseUtilityClass:aJ,getTouchRippleUtilityClass:zSe,buttonGroupClasses:ld,getButtonGroupUtilityClass:UJ,cardClasses:lIe,getCardUtilityClass:zJ,cardActionAreaClasses:RM,getCardActionAreaUtilityClass:VJ,cardActionsClasses:bIe,getCardActionsUtilityClass:WJ,cardContentClasses:AIe,getCardContentUtilityClass:HJ,cardHeaderClasses:nF,getCardHeaderUtilityClass:GJ,cardMediaClasses:GIe,getCardMediaUtilityClass:jJ,checkboxClasses:PM,getCheckboxUtilityClass:qJ,chipClasses:zn,getChipUtilityClass:_J,circularProgressClasses:vMe,getCircularProgressUtilityClass:XJ,collapseClasses:aSe,getCollapseUtilityClass:eJ,containerClasses:MMe,getContainerUtilityClass:YJ,dialogClasses:kM,getDialogUtilityClass:ZJ,dialogActionsClasses:tAe,getDialogActionsUtilityClass:tZ,dialogContentClasses:lAe,getDialogContentUtilityClass:nZ,dialogContentTextClasses:gAe,getDialogContentTextUtilityClass:sZ,dialogTitleClasses:iZ,getDialogTitleUtilityClass:rZ,dividerClasses:rF,getDividerUtilityClass:oZ,drawerClasses:$Ae,getDrawerUtilityClass:lZ,fabClasses:iF,getFabUtilityClass:fZ,filledInputClasses:oc,getFilledInputUtilityClass:CJ,useFormControl:kl,formControlClasses:nRe,getFormControlUtilityClasses:pZ,formControlLabelClasses:Ob,getFormControlLabelUtilityClasses:gZ,formGroupClasses:hRe,getFormGroupUtilityClass:yZ,formHelperTextClasses:sF,getFormHelperTextUtilityClasses:xZ,formLabelClasses:P0,FormLabelRoot:SZ,getFormLabelUtilityClasses:bZ,gridClasses:fk,getGridUtilityClass:TZ,iconClasses:oPe,getIconUtilityClass:PZ,iconButtonClasses:fJ,getIconButtonUtilityClass:dJ,imageListClasses:fPe,getImageListUtilityClass:LZ,imageListItemClasses:aF,getImageListItemUtilityClass:OZ,imageListItemBarClasses:CPe,getImageListItemBarUtilityClass:BZ,inputClasses:rh,getInputUtilityClass:bJ,inputAdornmentClasses:lF,getInputAdornmentUtilityClass:zZ,inputBaseClasses:hc,getInputBaseUtilityClass:wJ,inputLabelClasses:GPe,getInputLabelUtilityClasses:VZ,linearProgressClasses:QPe,getLinearProgressUtilityClass:HZ,linkClasses:qZ,getLinkUtilityClass:jZ,listClasses:vke,getListUtilityClass:XZ,listItemClasses:vm,getListItemUtilityClass:QZ,listItemAvatarClasses:Hke,getListItemAvatarUtilityClass:nee,listItemButtonClasses:ym,getListItemButtonUtilityClass:JZ,listItemIconClasses:uF,getListItemIconUtilityClass:ree,listItemSecondaryActionClasses:Pke,getListItemSecondaryActionClassesUtilityClass:ZZ,listItemTextClasses:tS,getListItemTextUtilityClass:iee,listSubheaderClasses:ZCe,getListSubheaderUtilityClass:vJ,menuClasses:_Le,getMenuUtilityClass:cee,menuItemClasses:Hy,getMenuItemUtilityClass:dee,mobileStepperClasses:OLe,getMobileStepperUtilityClass:hee,ModalManager:$Q,modalUnstyledClasses:zQ,getModalUtilityClass:UQ,modalClasses:$Me,nativeSelectClasses:pk,getNativeSelectUtilityClasses:EU,outlinedInputClasses:rc,getOutlinedInputUtilityClass:SJ,paginationClasses:f2e,getPaginationUtilityClass:_ee,paginationItemClasses:Ea,getPaginationItemUtilityClass:wee,paperClasses:pSe,getPaperUtilityClass:nJ,popoverClasses:dLe,getPopoverUtilityClass:aee,radioClasses:dF,getRadioUtilityClass:Iee,useRadioGroup:Eee,ratingClasses:Gy,getRatingUtilityClass:Mee,scopedCssBaselineClasses:lDe,getScopedCssBaselineUtilityClass:Ree,selectClasses:Fb,getSelectUtilityClasses:Pee,skeletonClasses:ADe,getSkeletonUtilityClass:Lee,sliderClasses:hd,SliderRoot:Dee,SliderRail:Nee,SliderTrack:Oee,SliderThumb:Fee,SliderValueLabel:Bee,SliderMark:$ee,SliderMarkLabel:Uee,snackbarClasses:YDe,getSnackbarUtilityClass:Wee,snackbarContentClasses:VDe,getSnackbarContentUtilityClass:zee,speedDialClasses:Bb,getSpeedDialUtilityClass:Gee,speedDialActionClasses:Xee,getSpeedDialActionUtilityClass:Kee,speedDialIconClasses:Gf,getSpeedDialIconUtilityClass:Yee,stepClasses:XNe,StepContext:sx,getStepUtilityClass:Zee,useStepContext:qNe,stepButtonClasses:fF,getStepButtonUtilityClass:ste,stepConnectorClasses:bOe,getStepConnectorUtilityClass:ote,stepContentClasses:AOe,getStepContentUtilityClass:lte,stepIconClasses:LM,getStepIconUtilityClass:ete,stepLabelClasses:sh,getStepLabelUtilityClass:nte,stepperClasses:FOe,getStepperUtilityClass:cte,svgIconClasses:K1e,getSvgIconUtilityClass:YQ,switchClasses:no,getSwitchUtilityClass:ute,tabClasses:jf,getTabUtilityClass:dte,tableClasses:yFe,getTableUtilityClass:hte,tableBodyClasses:EFe,getTableBodyUtilityClass:pte,tableCellClasses:gte,getTableCellUtilityClass:mte,tableContainerClasses:$Fe,getTableContainerUtilityClass:vte,tableFooterClasses:jFe,getTableFooterUtilityClass:yte,tableHeadClasses:e3e,getTableHeadUtilityClass:_te,tablePaginationClasses:L0,getTablePaginationUtilityClass:bte,tableRowClasses:mF,getTableRowUtilityClass:Ste,tableSortLabelClasses:DM,getTableSortLabelUtilityClass:Cte,tabsClasses:NM,getTabsUtilityClass:Mte,tabScrollButtonClasses:Ete,getTabScrollButtonUtilityClass:Tte,textFieldClasses:dBe,getTextFieldUtilityClass:Ate,toggleButtonClasses:gF,getToggleButtonUtilityClass:Rte,toggleButtonGroupClasses:Gc,getToggleButtonGroupUtilityClass:Pte,toolbarClasses:l3e,getToolbarUtilityClass:xte,tooltipClasses:pd,getTooltipUtilityClass:jee,typographyClasses:ACe,getTypographyUtilityClass:pJ},Symbol.toStringTag,{value:"Module"})),RU={},jg={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(jg);var qg={},OBe=lP(J1e);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=OBe})(qg);var Kg=lP(d0e),FBe=jg.exports;Object.defineProperty(RU,"__esModule",{value:!0});var kte=RU.default=void 0,BBe=FBe(qg),$Be=Kg,UBe=(0,BBe.default)((0,$Be.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");kte=RU.default=UBe;var PU={},zBe=jg.exports;Object.defineProperty(PU,"__esModule",{value:!0});var kU=PU.default=void 0,VBe=zBe(qg),WBe=Kg,HBe=(0,VBe.default)((0,WBe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");kU=PU.default=HBe;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mk="141",GBe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},jBe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Lte=0,vF=1,Dte=2,qBe=3,KBe=0,LU=1,DU=2,h0=3,ug=0,Ba=1,dg=2,Nte=1,XBe=2,Sd=0,Wm=1,yF=2,_F=3,xF=4,Ote=5,_m=100,Fte=101,Bte=102,wF=103,bF=104,$te=200,Ute=201,zte=202,Vte=203,NU=204,OU=205,Wte=206,Hte=207,Gte=208,jte=209,qte=210,Kte=0,Xte=1,Yte=2,qA=3,Qte=4,Jte=5,Zte=6,ene=7,OC=0,tne=1,nne=2,yc=0,rne=1,ine=2,sne=3,FU=4,one=5,gk=300,Dh=301,Nh=302,a_=303,nS=304,ox=306,fg=1e3,ks=1001,rS=1002,wi=1003,KA=1004,YBe=1004,XA=1005,QBe=1005,ui=1006,BU=1007,JBe=1007,Xg=1008,ZBe=1008,Oh=1009,ane=1010,lne=1011,$U=1012,cne=1013,oh=1014,md=1015,l_=1016,une=1017,dne=1018,Hm=1020,fne=1021,hne=1022,Pa=1023,pne=1024,mne=1025,yh=1026,hg=1027,gne=1028,vne=1029,yne=1030,_ne=1031,xne=1033,OM=33776,FM=33777,BM=33778,$M=33779,SF=35840,CF=35841,TF=35842,EF=35843,wne=36196,IF=37492,MF=37496,AF=37808,RF=37809,PF=37810,kF=37811,LF=37812,DF=37813,NF=37814,OF=37815,FF=37816,BF=37817,$F=37818,UF=37819,zF=37820,VF=37821,WF=36492,bne=2200,Sne=2201,Cne=2202,iS=2300,sS=2301,UM=2302,Mm=2400,Am=2401,oS=2402,vk=2500,UU=2501,e$e=0,t$e=1,n$e=2,Nd=3e3,nr=3001,Tne=3200,Ene=3201,Yg=0,Ine=1,r$e="",Kc="srgb",ah="srgb-linear",i$e=0,zM=7680,s$e=7681,o$e=7682,a$e=7683,l$e=34055,c$e=34056,u$e=5386,d$e=512,f$e=513,h$e=514,p$e=515,m$e=516,g$e=517,v$e=518,Mne=519,YA=35044,y$e=35048,_$e=35040,x$e=35045,w$e=35049,b$e=35041,S$e=35046,C$e=35050,T$e=35042,E$e="100",HF="300 es",QA=1035;class sp{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Is=[];for(let t=0;t<256;t++)Is[t]=(t<16?"0":"")+t.toString(16);let yG=1234567;const Gm=Math.PI/180,aS=180/Math.PI;function $a(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Is[t&255]+Is[t>>8&255]+Is[t>>16&255]+Is[t>>24&255]+"-"+Is[e&255]+Is[e>>8&255]+"-"+Is[e>>16&15|64]+Is[e>>24&255]+"-"+Is[n&63|128]+Is[n>>8&255]+"-"+Is[n>>16&255]+Is[n>>24&255]+Is[r&255]+Is[r>>8&255]+Is[r>>16&255]+Is[r>>24&255]).toLowerCase()}function di(t,e,n){return Math.max(e,Math.min(n,t))}function zU(t,e){return(t%e+e)%e}function I$e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function M$e(t,e,n){return t!==e?(n-t)/(e-t):0}function o1(t,e,n){return(1-n)*t+n*e}function A$e(t,e,n,r){return o1(t,e,1-Math.exp(-n*r))}function R$e(t,e=1){return e-Math.abs(zU(t,e*2)-e)}function P$e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function k$e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function L$e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function D$e(t,e){return t+Math.random()*(e-t)}function N$e(t){return t*(.5-Math.random())}function O$e(t){t!==void 0&&(yG=t);let e=yG+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function F$e(t){return t*Gm}function B$e(t){return t*aS}function GF(t){return(t&t-1)===0&&t!==0}function Ane(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function JA(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function $$e(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),d=s((e-r)/2),f=o((e-r)/2),p=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*p,a*c);break;case"YXY":t.set(l*p,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function U$e(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function z$e(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var cc=Object.freeze({__proto__:null,DEG2RAD:Gm,RAD2DEG:aS,generateUUID:$a,clamp:di,euclideanModulo:zU,mapLinear:I$e,inverseLerp:M$e,lerp:o1,damp:A$e,pingpong:R$e,smoothstep:P$e,smootherstep:k$e,randInt:L$e,randFloat:D$e,randFloatSpread:N$e,seededRandom:O$e,degToRad:F$e,radToDeg:B$e,isPowerOfTwo:GF,ceilPowerOfTwo:Ane,floorPowerOfTwo:JA,setQuaternionFromProperEuler:$$e,normalize:z$e,denormalize:U$e});class ut{constructor(e=0,n=0){this.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ka{constructor(){this.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],p=r[5],g=r[8],v=i[0],y=i[3],x=i[6],w=i[1],b=i[4],T=i[7],E=i[2],P=i[5],L=i[8];return s[0]=o*v+a*w+l*E,s[3]=o*y+a*b+l*P,s[6]=o*x+a*T+l*L,s[1]=c*v+u*w+d*E,s[4]=c*y+u*b+d*P,s[7]=c*x+u*T+d*L,s[2]=f*v+p*w+g*E,s[5]=f*y+p*b+g*P,s[8]=f*x+p*T+g*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,f=a*l-u*s,p=c*s-o*l,g=n*d+r*f+i*p;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=d*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=f*v,e[4]=(u*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=p*v,e[7]=(r*l-c*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=n,r[4]*=n,r[7]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7];return i[0]=n*s+r*l,i[3]=n*o+r*c,i[6]=n*a+r*u,i[1]=-r*s+n*l,i[4]=-r*o+n*c,i[7]=-r*a+n*u,this}translate(e,n){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}function Rne(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}const V$e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function p0(t,e){return new V$e[t](e)}function lS(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function jm(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function VM(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const uD={[Kc]:{[ah]:jm},[ah]:{[Kc]:VM}},sl={legacyMode:!0,get workingColorSpace(){return ah},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(uD[e]&&uD[e][n]!==void 0){const r=uD[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},Pne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Oi={r:0,g:0,b:0},Yl={h:0,s:0,l:0},iI={h:0,s:0,l:0};function dD(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function sI(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class Pt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Kc){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,sl.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ah){return this.r=e,this.g=n,this.b=r,sl.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ah){if(e=zU(e,1),n=di(n,0,1),r=di(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=dD(o,s,e+1/3),this.g=dD(o,s,e),this.b=dD(o,s,e-1/3)}return sl.toWorkingColorSpace(this,i),this}setStyle(e,n=Kc){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,sl.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,sl.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,c=parseInt(s[2],10)/100,u=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,c,u,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,sl.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,sl.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=Kc){const r=Pne[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=jm(e.r),this.g=jm(e.g),this.b=jm(e.b),this}copyLinearToSRGB(e){return this.r=VM(e.r),this.g=VM(e.g),this.b=VM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Kc){return sl.fromWorkingColorSpace(sI(this,Oi),e),di(Oi.r*255,0,255)<<16^di(Oi.g*255,0,255)<<8^di(Oi.b*255,0,255)<<0}getHexString(e=Kc){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ah){sl.fromWorkingColorSpace(sI(this,Oi),n);const r=Oi.r,i=Oi.g,s=Oi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=ah){return sl.fromWorkingColorSpace(sI(this,Oi),n),e.r=Oi.r,e.g=Oi.g,e.b=Oi.b,e}getStyle(e=Kc){return sl.fromWorkingColorSpace(sI(this,Oi),e),e!==Kc?`color(${e} ${Oi.r} ${Oi.g} ${Oi.b})`:`rgb(${Oi.r*255|0},${Oi.g*255|0},${Oi.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(Yl),Yl.h+=e,Yl.s+=n,Yl.l+=r,this.setHSL(Yl.h,Yl.s,Yl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Yl),e.getHSL(iI);const r=o1(Yl.h,iI.h,n),i=o1(Yl.s,iI.s,n),s=o1(Yl.l,iI.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Pt.NAMES=Pne;let gy;class VU{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{gy===void 0&&(gy=lS("canvas")),gy.width=e.width,gy.height=e.height;const r=gy.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=gy}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const n=lS("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=jm(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(jm(n[r]/255)*255):n[r]=jm(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Rm{constructor(e=null){this.isSource=!0,this.uuid=$a(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(fD(i[o].image)):s.push(fD(i[o]))}else s=fD(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function fD(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?VU.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let W$e=0;class ni extends sp{constructor(e=ni.DEFAULT_IMAGE,n=ni.DEFAULT_MAPPING,r=ks,i=ks,s=ui,o=Xg,a=Pa,l=Oh,c=1,u=Nd){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:W$e++}),this.uuid=$a(),this.name="",this.source=new Rm(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ut(0,0),this.repeat=new ut(1,1),this.center=new ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ka,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==gk)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fg:e.x=e.x-Math.floor(e.x);break;case ks:e.x=e.x<0?0:1;break;case rS:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fg:e.y=e.y-Math.floor(e.y);break;case ks:e.y=e.y<0?0:1;break;case rS:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}ni.DEFAULT_IMAGE=null;ni.DEFAULT_MAPPING=gk;class Xn{constructor(e=0,n=0,r=0,i=1){this.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],p=l[5],g=l[9],v=l[2],y=l[6],x=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-v)<.01&&Math.abs(g-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+v)<.1&&Math.abs(g+y)<.1&&Math.abs(c+p+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(c+1)/2,T=(p+1)/2,E=(x+1)/2,P=(u+f)/4,L=(d+v)/4,R=(g+y)/4;return b>T&&b>E?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=P/r,s=L/r):T>E?T<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(T),r=P/i,s=R/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=L/s,i=R/s),this.set(r,i,s,n),this}let w=Math.sqrt((y-g)*(y-g)+(d-v)*(d-v)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(y-g)/w,this.y=(d-v)/w,this.z=(f-u)/w,this.w=Math.acos((c+p+x-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ua extends sp{constructor(e,n,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Xn(0,0,e,n),this.scissorTest=!1,this.viewport=new Xn(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new ni(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ui,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Rm(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class FC extends ni{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=wi,this.minFilter=wi,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class H$e extends Ua{constructor(e,n,r){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new FC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class yk extends ni{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=wi,this.minFilter=wi,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class G$e extends Ua{constructor(e,n,r){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new yk(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class j$e extends Ua{constructor(e,n,r,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class cs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerp(e,n,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,n,i)}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=s[o+0],p=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=p,e[n+2]=g,e[n+3]=v;return}if(d!==v||l!==f||c!==p||u!==g){let y=1-a;const x=l*f+c*p+u*g+d*v,w=x>=0?1:-1,b=1-x*x;if(b>Number.EPSILON){const E=Math.sqrt(b),P=Math.atan2(E,x*w);y=Math.sin(y*P)/E,a=Math.sin(a*P)/E}const T=a*w;if(l=l*y+f*T,c=c*y+p*T,u=u*y+g*T,d=d*y+v*T,y===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=E,c*=E,u*=E,d*=E}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[o],f=s[o+1],p=s[o+2],g=s[o+3];return e[n]=a*g+u*d+l*p-c*f,e[n+1]=l*g+u*f+c*d-a*p,e[n+2]=c*g+u*p+a*f-l*d,e[n+3]=u*g-a*d-l*f-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(s/2),f=l(r/2),p=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d-f*p*g;break;case"YXZ":this._x=f*u*d+c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d+f*p*g;break;case"ZXY":this._x=f*u*d-c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d-f*p*g;break;case"ZYX":this._x=f*u*d-c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d+f*p*g;break;case"YZX":this._x=f*u*d+c*p*g,this._y=c*p*d+f*u*g,this._z=c*u*g-f*p*d,this._w=c*u*d-f*p*g;break;case"XZY":this._x=f*u*d-c*p*g,this._y=c*p*d-f*u*g,this._z=c*u*g+f*p*d,this._w=c*u*d+f*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-i)*p}else if(r>a&&r>d){const p=2*Math.sqrt(1+r-a-d);this._w=(u-l)/p,this._x=.25*p,this._y=(i+o)/p,this._z=(s+c)/p}else if(a>d){const p=2*Math.sqrt(1+a-r-d);this._w=(s-c)/p,this._x=(i+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+d-r-a);this._w=(o-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(di(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-n;return this._w=p*o+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ne{constructor(e=0,n=0,r=0){this.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_G.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(_G.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,d=l*i+s*r-o*n,f=-s*n-o*r-a*i;return this.x=c*l+f*-s+u*-a-d*-o,this.y=u*l+f*-o+d*-s-c*-a,this.z=d*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return hD.copy(this).projectOnVector(e),this.sub(hD)}reflect(e){return this.sub(hD.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(di(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const hD=new ne,_G=new cs;class Qg{constructor(e=new ne(1/0,1/0,1/0),n=new ne(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<n&&(n=u),d<r&&(r=d),f<i&&(i=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<n&&(n=u),d<r&&(r=d),f<i&&(i=f),u>s&&(s=u),d>o&&(o=d),f>a&&(a=f)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=qp.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)qp.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(qp)}else r.boundingBox===null&&r.computeBoundingBox(),pD.copy(r.boundingBox),pD.applyMatrix4(e.matrixWorld),this.union(pD);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qp),qp.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(tb),oI.subVectors(this.max,tb),vy.subVectors(e.a,tb),yy.subVectors(e.b,tb),_y.subVectors(e.c,tb),kf.subVectors(yy,vy),Lf.subVectors(_y,yy),Kp.subVectors(vy,_y);let n=[0,-kf.z,kf.y,0,-Lf.z,Lf.y,0,-Kp.z,Kp.y,kf.z,0,-kf.x,Lf.z,0,-Lf.x,Kp.z,0,-Kp.x,-kf.y,kf.x,0,-Lf.y,Lf.x,0,-Kp.y,Kp.x,0];return!mD(n,vy,yy,_y,oI)||(n=[1,0,0,0,1,0,0,0,1],!mD(n,vy,yy,_y,oI))?!1:(aI.crossVectors(kf,Lf),n=[aI.x,aI.y,aI.z],mD(n,vy,yy,_y,oI))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return qp.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(qp).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Yu=[new ne,new ne,new ne,new ne,new ne,new ne,new ne,new ne],qp=new ne,pD=new Qg,vy=new ne,yy=new ne,_y=new ne,kf=new ne,Lf=new ne,Kp=new ne,tb=new ne,oI=new ne,aI=new ne,Xp=new ne;function mD(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Xp.fromArray(t,s);const a=i.x*Math.abs(Xp.x)+i.y*Math.abs(Xp.y)+i.z*Math.abs(Xp.z),l=e.dot(Xp),c=n.dot(Xp),u=r.dot(Xp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const q$e=new Qg,xG=new ne,lI=new ne,gD=new ne;class Jg{constructor(e=new ne,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):q$e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){gD.subVectors(e,this.center);const n=gD.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.add(gD.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?lI.set(0,0,1).multiplyScalar(e.radius):lI.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(xG.copy(e.center).add(lI)),this.expandByPoint(xG.copy(e.center).sub(lI)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Qu=new ne,vD=new ne,cI=new ne,Df=new ne,yD=new ne,uI=new ne,_D=new ne;class BC{constructor(e=new ne,n=new ne(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Qu)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Qu.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Qu.copy(this.direction).multiplyScalar(n).add(this.origin),Qu.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){vD.copy(e).add(n).multiplyScalar(.5),cI.copy(n).sub(e).normalize(),Df.copy(this.origin).sub(vD);const s=e.distanceTo(n)*.5,o=-this.direction.dot(cI),a=Df.dot(this.direction),l=-Df.dot(cI),c=Df.lengthSq(),u=Math.abs(1-o*o);let d,f,p,g;if(u>0)if(d=o*l-a,f=o*a-l,g=s*u,d>=0)if(f>=-g)if(f<=g){const v=1/u;d*=v,f*=v,p=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+c;else f<=-g?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),p=-d*d+f*(f+2*l)+c):f<=g?(d=0,f=Math.min(Math.max(-s,-l),s),p=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),p=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),p=-d*d+f*(f+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(cI).multiplyScalar(f).add(vD),p}intersectSphere(e,n){Qu.subVectors(e.center,this.origin);const r=Qu.dot(this.direction),i=Qu.dot(Qu)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Qu)!==null}intersectTriangle(e,n,r,i,s){yD.subVectors(n,e),uI.subVectors(r,e),_D.crossVectors(yD,uI);let o=this.direction.dot(_D),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Df.subVectors(this.origin,e);const l=a*this.direction.dot(uI.crossVectors(Df,uI));if(l<0)return null;const c=a*this.direction.dot(yD.cross(Df));if(c<0||l+c>o)return null;const u=-a*Df.dot(_D);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class jt{constructor(){this.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,s,o,a,l,c,u,d,f,p,g,v,y){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=d,x[14]=f,x[3]=p,x[7]=g,x[11]=v,x[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new jt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/xy.setFromMatrixColumn(e,0).length(),s=1/xy.setFromMatrixColumn(e,1).length(),o=1/xy.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=o*u,p=o*d,g=a*u,v=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=p+g*c,n[5]=f-v*c,n[9]=-a*l,n[2]=v-f*c,n[6]=g+p*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,p=l*d,g=c*u,v=c*d;n[0]=f+v*a,n[4]=g*a-p,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=p*a-g,n[6]=v+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,p=l*d,g=c*u,v=c*d;n[0]=f-v*a,n[4]=-o*d,n[8]=g+p*a,n[1]=p+g*a,n[5]=o*u,n[9]=v-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,p=o*d,g=a*u,v=a*d;n[0]=l*u,n[4]=g*c-p,n[8]=f*c+v,n[1]=l*d,n[5]=v*c+f,n[9]=p*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,p=o*c,g=a*l,v=a*c;n[0]=l*u,n[4]=v-f*d,n[8]=g*d+p,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=p*d+g,n[10]=f-v*d}else if(e.order==="XZY"){const f=o*l,p=o*c,g=a*l,v=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+v,n[5]=o*u,n[9]=p*d-g,n[2]=g*d-p,n[6]=a*u,n[10]=v*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(K$e,e,X$e)}lookAt(e,n,r){const i=this.elements;return Sa.subVectors(e,n),Sa.lengthSq()===0&&(Sa.z=1),Sa.normalize(),Nf.crossVectors(r,Sa),Nf.lengthSq()===0&&(Math.abs(r.z)===1?Sa.x+=1e-4:Sa.z+=1e-4,Sa.normalize(),Nf.crossVectors(r,Sa)),Nf.normalize(),dI.crossVectors(Sa,Nf),i[0]=Nf.x,i[4]=dI.x,i[8]=Sa.x,i[1]=Nf.y,i[5]=dI.y,i[9]=Sa.y,i[2]=Nf.z,i[6]=dI.z,i[10]=Sa.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],p=r[13],g=r[2],v=r[6],y=r[10],x=r[14],w=r[3],b=r[7],T=r[11],E=r[15],P=i[0],L=i[4],R=i[8],F=i[12],O=i[1],G=i[5],Z=i[9],V=i[13],U=i[2],j=i[6],W=i[10],X=i[14],B=i[3],H=i[7],q=i[11],ee=i[15];return s[0]=o*P+a*O+l*U+c*B,s[4]=o*L+a*G+l*j+c*H,s[8]=o*R+a*Z+l*W+c*q,s[12]=o*F+a*V+l*X+c*ee,s[1]=u*P+d*O+f*U+p*B,s[5]=u*L+d*G+f*j+p*H,s[9]=u*R+d*Z+f*W+p*q,s[13]=u*F+d*V+f*X+p*ee,s[2]=g*P+v*O+y*U+x*B,s[6]=g*L+v*G+y*j+x*H,s[10]=g*R+v*Z+y*W+x*q,s[14]=g*F+v*V+y*X+x*ee,s[3]=w*P+b*O+T*U+E*B,s[7]=w*L+b*G+T*j+E*H,s[11]=w*R+b*Z+T*W+E*q,s[15]=w*F+b*V+T*X+E*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],p=e[14],g=e[3],v=e[7],y=e[11],x=e[15];return g*(+s*l*d-i*c*d-s*a*f+r*c*f+i*a*p-r*l*p)+v*(+n*l*p-n*c*f+s*o*f-i*o*p+i*c*u-s*l*u)+y*(+n*c*d-n*a*p-s*o*d+r*o*p+s*a*u-r*c*u)+x*(-i*a*u-n*l*d+n*a*f+i*o*d-r*o*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],p=e[11],g=e[12],v=e[13],y=e[14],x=e[15],w=d*y*c-v*f*c+v*l*p-a*y*p-d*l*x+a*f*x,b=g*f*c-u*y*c-g*l*p+o*y*p+u*l*x-o*f*x,T=u*v*c-g*d*c+g*a*p-o*v*p-u*a*x+o*d*x,E=g*d*l-u*v*l-g*a*f+o*v*f+u*a*y-o*d*y,P=n*w+r*b+i*T+s*E;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/P;return e[0]=w*L,e[1]=(v*f*s-d*y*s-v*i*p+r*y*p+d*i*x-r*f*x)*L,e[2]=(a*y*s-v*l*s+v*i*c-r*y*c-a*i*x+r*l*x)*L,e[3]=(d*l*s-a*f*s-d*i*c+r*f*c+a*i*p-r*l*p)*L,e[4]=b*L,e[5]=(u*y*s-g*f*s+g*i*p-n*y*p-u*i*x+n*f*x)*L,e[6]=(g*l*s-o*y*s-g*i*c+n*y*c+o*i*x-n*l*x)*L,e[7]=(o*f*s-u*l*s+u*i*c-n*f*c-o*i*p+n*l*p)*L,e[8]=T*L,e[9]=(g*d*s-u*v*s-g*r*p+n*v*p+u*r*x-n*d*x)*L,e[10]=(o*v*s-g*a*s+g*r*c-n*v*c-o*r*x+n*a*x)*L,e[11]=(u*a*s-o*d*s-u*r*c+n*d*c+o*r*p-n*a*p)*L,e[12]=E*L,e[13]=(u*v*i-g*d*i+g*r*f-n*v*f-u*r*y+n*d*y)*L,e[14]=(g*a*i-o*v*i-g*r*l+n*v*l+o*r*y-n*a*y)*L,e[15]=(o*d*i-u*a*i+u*r*l-n*d*l-o*r*f+n*a*f)*L,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,f=s*c,p=s*u,g=s*d,v=o*u,y=o*d,x=a*d,w=l*c,b=l*u,T=l*d,E=r.x,P=r.y,L=r.z;return i[0]=(1-(v+x))*E,i[1]=(p+T)*E,i[2]=(g-b)*E,i[3]=0,i[4]=(p-T)*P,i[5]=(1-(f+x))*P,i[6]=(y+w)*P,i[7]=0,i[8]=(g+b)*L,i[9]=(y-w)*L,i[10]=(1-(f+v))*L,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=xy.set(i[0],i[1],i[2]).length();const o=xy.set(i[4],i[5],i[6]).length(),a=xy.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ql.copy(this);const c=1/s,u=1/o,d=1/a;return Ql.elements[0]*=c,Ql.elements[1]*=c,Ql.elements[2]*=c,Ql.elements[4]*=u,Ql.elements[5]*=u,Ql.elements[6]*=u,Ql.elements[8]*=d,Ql.elements[9]*=d,Ql.elements[10]*=d,n.setFromRotationMatrix(Ql),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(n-e),c=2*s/(r-i),u=(n+e)/(n-e),d=(r+i)/(r-i),f=-(o+s)/(o-s),p=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),c=1/(r-i),u=1/(o-s),d=(n+e)*l,f=(r+i)*c,p=(o+s)*u;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const xy=new ne,Ql=new jt,K$e=new ne(0,0,0),X$e=new ne(1,1,1),Nf=new ne,dI=new ne,Sa=new ne,wG=new jt,bG=new cs;class pc{constructor(e=0,n=0,r=0,i=pc.DefaultOrder){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(di(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-di(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(di(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-di(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(di(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-di(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return wG.makeRotationFromQuaternion(e),this.setFromRotationMatrix(wG,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return bG.setFromEuler(this),this.setFromQuaternion(bG,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}pc.DefaultOrder="XYZ";pc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class qm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Y$e=0;const SG=new ne,wy=new cs,Ju=new jt,fI=new ne,nb=new ne,Q$e=new ne,J$e=new cs,CG=new ne(1,0,0),TG=new ne(0,1,0),EG=new ne(0,0,1),Z$e={type:"added"},IG={type:"removed"};class Wn extends sp{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Y$e++}),this.uuid=$a(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wn.DefaultUp.clone();const e=new ne,n=new pc,r=new cs,i=new ne(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new jt},normalMatrix:{value:new ka}}),this.matrix=new jt,this.matrixWorld=new jt,this.matrixAutoUpdate=Wn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new qm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return wy.setFromAxisAngle(e,n),this.quaternion.multiply(wy),this}rotateOnWorldAxis(e,n){return wy.setFromAxisAngle(e,n),this.quaternion.premultiply(wy),this}rotateX(e){return this.rotateOnAxis(CG,e)}rotateY(e){return this.rotateOnAxis(TG,e)}rotateZ(e){return this.rotateOnAxis(EG,e)}translateOnAxis(e,n){return SG.copy(e).applyQuaternion(this.quaternion),this.position.add(SG.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(CG,e)}translateY(e){return this.translateOnAxis(TG,e)}translateZ(e){return this.translateOnAxis(EG,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Ju.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?fI.copy(e):fI.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),nb.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ju.lookAt(nb,fI,this.up):Ju.lookAt(fI,nb,this.up),this.quaternion.setFromRotationMatrix(Ju),i&&(Ju.extractRotation(i.matrixWorld),wy.setFromRotationMatrix(Ju),this.quaternion.premultiply(wy.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Z$e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(IG)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(IG)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ju.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ju.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ju),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nb,e,Q$e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nb,J$e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),f=o(e.skeletons),p=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Wn.DefaultUp=new ne(0,1,0);Wn.DefaultMatrixAutoUpdate=!0;const Jl=new ne,Zu=new ne,xD=new ne,ed=new ne,by=new ne,Sy=new ne,MG=new ne,wD=new ne,bD=new ne,SD=new ne;class cl{constructor(e=new ne,n=new ne,r=new ne){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Jl.subVectors(e,n),i.cross(Jl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Jl.subVectors(i,n),Zu.subVectors(r,n),xD.subVectors(e,n);const o=Jl.dot(Jl),a=Jl.dot(Zu),l=Jl.dot(xD),c=Zu.dot(Zu),u=Zu.dot(xD),d=o*c-a*a;if(d===0)return s.set(-2,-1,-1);const f=1/d,p=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-p-g,g,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ed),ed.x>=0&&ed.y>=0&&ed.x+ed.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,ed),l.set(0,0),l.addScaledVector(s,ed.x),l.addScaledVector(o,ed.y),l.addScaledVector(a,ed.z),l}static isFrontFacing(e,n,r,i){return Jl.subVectors(r,n),Zu.subVectors(e,n),Jl.cross(Zu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jl.subVectors(this.c,this.b),Zu.subVectors(this.a,this.b),Jl.cross(Zu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return cl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return cl.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return cl.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return cl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return cl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;by.subVectors(i,r),Sy.subVectors(s,r),wD.subVectors(e,r);const l=by.dot(wD),c=Sy.dot(wD);if(l<=0&&c<=0)return n.copy(r);bD.subVectors(e,i);const u=by.dot(bD),d=Sy.dot(bD);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(by,o);SD.subVectors(e,s);const p=by.dot(SD),g=Sy.dot(SD);if(g>=0&&p<=g)return n.copy(s);const v=p*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(r).addScaledVector(Sy,a);const y=u*g-p*d;if(y<=0&&d-u>=0&&p-g>=0)return MG.subVectors(s,i),a=(d-u)/(d-u+(p-g)),n.copy(i).addScaledVector(MG,a);const x=1/(y+v+f);return o=v*x,a=f*x,n.copy(r).addScaledVector(by,o).addScaledVector(Sy,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let eUe=0;class ji extends sp{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eUe++}),this.uuid=$a(),this.name="",this.type="Material",this.blending=Wm,this.side=ug,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=NU,this.blendDst=OU,this.blendEquation=_m,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qA,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Mne,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zM,this.stencilZFail=zM,this.stencilZPass=zM,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===Nte;continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Wm&&(r.blending=this.blending),this.side!==ug&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}get vertexTangents(){return console.warn("THREE."+this.type+": .vertexTangents has been removed."),!1}set vertexTangents(e){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}ji.fromType=function(){return null};class op extends ji{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=OC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const vi=new ne,hI=new ut;class mr{constructor(e,n,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r===!0,this.usage=YA,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Pt),n[r++]=o.r,n[r++]=o.g,n[r++]=o.b}return this}copyVector2sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new ut),n[r++]=o.x,n[r++]=o.y}return this}copyVector3sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new ne),n[r++]=o.x,n[r++]=o.y,n[r++]=o.z}return this}copyVector4sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Xn),n[r++]=o.x,n[r++]=o.y,n[r++]=o.z,n[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)hI.fromBufferAttribute(this,n),hI.applyMatrix3(e),this.setXY(n,hI.x,hI.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyMatrix3(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyMatrix4(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.applyNormalMatrix(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)vi.fromBufferAttribute(this,n),vi.transformDirection(e),this.setXYZ(n,vi.x,vi.y,vi.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==YA&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class tUe extends mr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class nUe extends mr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class rUe extends mr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class iUe extends mr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class _k extends mr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class sUe extends mr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class WU extends mr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class oUe extends mr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}}class Ot extends mr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class aUe extends mr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let lUe=0;const il=new jt,CD=new Wn,Cy=new ne,Ca=new Qg,rb=new Qg,ts=new ne;class dn extends sp{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:lUe++}),this.uuid=$a(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Rne(e)?WU:_k)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ka().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return il.makeRotationFromQuaternion(e),this.applyMatrix4(il),this}rotateX(e){return il.makeRotationX(e),this.applyMatrix4(il),this}rotateY(e){return il.makeRotationY(e),this.applyMatrix4(il),this}rotateZ(e){return il.makeRotationZ(e),this.applyMatrix4(il),this}translate(e,n,r){return il.makeTranslation(e,n,r),this.applyMatrix4(il),this}scale(e,n,r){return il.makeScale(e,n,r),this.applyMatrix4(il),this}lookAt(e){return CD.lookAt(e),CD.updateMatrix(),this.applyMatrix4(CD.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cy).negate(),this.translate(Cy.x,Cy.y,Cy.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ot(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qg);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new ne(-1/0,-1/0,-1/0),new ne(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ca.setFromBufferAttribute(s),this.morphTargetsRelative?(ts.addVectors(this.boundingBox.min,Ca.min),this.boundingBox.expandByPoint(ts),ts.addVectors(this.boundingBox.max,Ca.max),this.boundingBox.expandByPoint(ts)):(this.boundingBox.expandByPoint(Ca.min),this.boundingBox.expandByPoint(Ca.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Jg);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new ne,1/0);return}if(e){const r=this.boundingSphere.center;if(Ca.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];rb.setFromBufferAttribute(a),this.morphTargetsRelative?(ts.addVectors(Ca.min,rb.min),Ca.expandByPoint(ts),ts.addVectors(Ca.max,rb.max),Ca.expandByPoint(ts)):(Ca.expandByPoint(rb.min),Ca.expandByPoint(rb.max))}Ca.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ts.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ts));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)ts.fromBufferAttribute(a,c),l&&(Cy.fromBufferAttribute(e,c),ts.add(Cy)),i=Math.max(i,r.distanceToSquared(ts))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new mr(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let O=0;O<a;O++)c[O]=new ne,u[O]=new ne;const d=new ne,f=new ne,p=new ne,g=new ut,v=new ut,y=new ut,x=new ne,w=new ne;function b(O,G,Z){d.fromArray(i,O*3),f.fromArray(i,G*3),p.fromArray(i,Z*3),g.fromArray(o,O*2),v.fromArray(o,G*2),y.fromArray(o,Z*2),f.sub(d),p.sub(d),v.sub(g),y.sub(g);const V=1/(v.x*y.y-y.x*v.y);!isFinite(V)||(x.copy(f).multiplyScalar(y.y).addScaledVector(p,-v.y).multiplyScalar(V),w.copy(p).multiplyScalar(v.x).addScaledVector(f,-y.x).multiplyScalar(V),c[O].add(x),c[G].add(x),c[Z].add(x),u[O].add(w),u[G].add(w),u[Z].add(w))}let T=this.groups;T.length===0&&(T=[{start:0,count:r.length}]);for(let O=0,G=T.length;O<G;++O){const Z=T[O],V=Z.start,U=Z.count;for(let j=V,W=V+U;j<W;j+=3)b(r[j+0],r[j+1],r[j+2])}const E=new ne,P=new ne,L=new ne,R=new ne;function F(O){L.fromArray(s,O*3),R.copy(L);const G=c[O];E.copy(G),E.sub(L.multiplyScalar(L.dot(G))).normalize(),P.crossVectors(R,G);const V=P.dot(u[O])<0?-1:1;l[O*4]=E.x,l[O*4+1]=E.y,l[O*4+2]=E.z,l[O*4+3]=V}for(let O=0,G=T.length;O<G;++O){const Z=T[O],V=Z.start,U=Z.count;for(let j=V,W=V+U;j<W;j+=3)F(r[j+0]),F(r[j+1]),F(r[j+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new mr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,p=r.count;f<p;f++)r.setXYZ(f,0,0,0);const i=new ne,s=new ne,o=new ne,a=new ne,l=new ne,c=new ne,u=new ne,d=new ne;if(e)for(let f=0,p=e.count;f<p;f+=3){const g=e.getX(f+0),v=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,y),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,p=n.count;f<p;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,s),d.subVectors(i,s),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,c=a.itemSize*n,u=Math.min(l.length,o.length-c);for(let d=0,f=c;d<u;d++,f++)o[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ts.fromBufferAttribute(e,n),ts.normalize(),e.setXYZ(n,ts.x,ts.y,ts.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let p=0,g=0;for(let v=0,y=l.length;v<y;v++){a.isInterleavedBufferAttribute?p=l[v]*a.data.stride+a.offset:p=l[v]*u;for(let x=0;x<u;x++)f[g++]=c[p++]}return new mr(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new dn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],p=e(f,r);l.push(p)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,p=d.length;f<p;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const AG=new jt,Ty=new BC,TD=new Jg,Of=new ne,Ff=new ne,Bf=new ne,ED=new ne,ID=new ne,MD=new ne,pI=new ne,mI=new ne,gI=new ne,vI=new ut,yI=new ut,_I=new ut,AD=new ne,xI=new ne;class us extends Wn{constructor(e=new dn,n=new op){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),TD.copy(r.boundingSphere),TD.applyMatrix4(s),e.ray.intersectsSphere(TD)===!1)||(AG.copy(s).invert(),Ty.copy(e.ray).applyMatrix4(AG),r.boundingBox!==null&&Ty.intersectsBox(r.boundingBox)===!1))return;let o;const a=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,f=r.attributes.uv2,p=r.groups,g=r.drawRange;if(a!==null)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],w=i[x.materialIndex],b=Math.max(x.start,g.start),T=Math.min(a.count,Math.min(x.start+x.count,g.start+g.count));for(let E=b,P=T;E<P;E+=3){const L=a.getX(E),R=a.getX(E+1),F=a.getX(E+2);o=wI(this,w,e,Ty,l,c,u,d,f,L,R,F),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=x.materialIndex,n.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let x=v,w=y;x<w;x+=3){const b=a.getX(x),T=a.getX(x+1),E=a.getX(x+2);o=wI(this,i,e,Ty,l,c,u,d,f,b,T,E),o&&(o.faceIndex=Math.floor(x/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let v=0,y=p.length;v<y;v++){const x=p[v],w=i[x.materialIndex],b=Math.max(x.start,g.start),T=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let E=b,P=T;E<P;E+=3){const L=E,R=E+1,F=E+2;o=wI(this,w,e,Ty,l,c,u,d,f,L,R,F),o&&(o.faceIndex=Math.floor(E/3),o.face.materialIndex=x.materialIndex,n.push(o))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let x=v,w=y;x<w;x+=3){const b=x,T=x+1,E=x+2;o=wI(this,i,e,Ty,l,c,u,d,f,b,T,E),o&&(o.faceIndex=Math.floor(x/3),n.push(o))}}}}function cUe(t,e,n,r,i,s,o,a){let l;if(e.side===Ba?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==dg,a),l===null)return null;xI.copy(a),xI.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(xI);return c<n.near||c>n.far?null:{distance:c,point:xI.clone(),object:t}}function wI(t,e,n,r,i,s,o,a,l,c,u,d){Of.fromBufferAttribute(i,c),Ff.fromBufferAttribute(i,u),Bf.fromBufferAttribute(i,d);const f=t.morphTargetInfluences;if(s&&f){pI.set(0,0,0),mI.set(0,0,0),gI.set(0,0,0);for(let g=0,v=s.length;g<v;g++){const y=f[g],x=s[g];y!==0&&(ED.fromBufferAttribute(x,c),ID.fromBufferAttribute(x,u),MD.fromBufferAttribute(x,d),o?(pI.addScaledVector(ED,y),mI.addScaledVector(ID,y),gI.addScaledVector(MD,y)):(pI.addScaledVector(ED.sub(Of),y),mI.addScaledVector(ID.sub(Ff),y),gI.addScaledVector(MD.sub(Bf),y)))}Of.add(pI),Ff.add(mI),Bf.add(gI)}t.isSkinnedMesh&&(t.boneTransform(c,Of),t.boneTransform(u,Ff),t.boneTransform(d,Bf));const p=cUe(t,e,n,r,Of,Ff,Bf,AD);if(p){a&&(vI.fromBufferAttribute(a,c),yI.fromBufferAttribute(a,u),_I.fromBufferAttribute(a,d),p.uv=cl.getUV(AD,Of,Ff,Bf,vI,yI,_I,new ut)),l&&(vI.fromBufferAttribute(l,c),yI.fromBufferAttribute(l,u),_I.fromBufferAttribute(l,d),p.uv2=cl.getUV(AD,Of,Ff,Bf,vI,yI,_I,new ut));const g={a:c,b:u,c:d,normal:new ne,materialIndex:0};cl.getNormal(Of,Ff,Bf,g.normal),p.face=g}return p}class Od extends dn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,p=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(u,3)),this.setAttribute("uv",new Ot(d,2));function g(v,y,x,w,b,T,E,P,L,R,F){const O=T/L,G=E/R,Z=T/2,V=E/2,U=P/2,j=L+1,W=R+1;let X=0,B=0;const H=new ne;for(let q=0;q<W;q++){const ee=q*G-V;for(let J=0;J<j;J++){const de=J*O-Z;H[v]=de*w,H[y]=ee*b,H[x]=U,c.push(H.x,H.y,H.z),H[v]=0,H[y]=0,H[x]=P>0?1:-1,u.push(H.x,H.y,H.z),d.push(J/L),d.push(1-q/R),X+=1}}for(let q=0;q<R;q++)for(let ee=0;ee<L;ee++){const J=f+ee+j*q,de=f+ee+j*(q+1),ye=f+(ee+1)+j*(q+1),Ce=f+(ee+1)+j*q;l.push(J,de,Ce),l.push(de,ye,Ce),B+=6}a.addGroup(p,B,F),p+=B,f+=X}}static fromJSON(e){return new Od(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function c_(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function to(t){const e={};for(let n=0;n<t.length;n++){const r=c_(t[n]);for(const i in r)e[i]=r[i]}return e}const kne={clone:c_,merge:to};var uUe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,dUe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class yu extends ji{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=uUe,this.fragmentShader=dUe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=c_(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class $C extends Wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new jt,this.projectionMatrix=new jt,this.projectionMatrixInverse=new jt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class $i extends $C{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=aS*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Gm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return aS*2*Math.atan(Math.tan(Gm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Gm*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ey=90,Iy=1;class Lne extends Wn{constructor(e,n,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new $i(Ey,Iy,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ne(1,0,0)),this.add(i);const s=new $i(Ey,Iy,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ne(-1,0,0)),this.add(s);const o=new $i(Ey,Iy,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ne(0,1,0)),this.add(o);const a=new $i(Ey,Iy,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ne(0,-1,0)),this.add(a);const l=new $i(Ey,Iy,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ne(0,0,1)),this.add(l);const c=new $i(Ey,Iy,e,n);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new ne(0,0,-1)),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=yc,e.xr.enabled=!1;const p=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=p,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class UC extends ni{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Dh,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Dne extends Ua{constructor(e,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new UC(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ui}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Od(5,5,5),s=new yu({name:"CubemapFromEquirect",uniforms:c_(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ba,blending:Sd});s.uniforms.tEquirect.value=n;const o=new us(i,s),a=n.minFilter;return n.minFilter===Xg&&(n.minFilter=ui),new Lne(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const RD=new ne,fUe=new ne,hUe=new ka;class Xf{constructor(e=new ne(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=RD.subVectors(r,n).cross(fUe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(RD),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||hUe.getNormalMatrix(e),i=this.coplanarPoint(RD).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const My=new Jg,bI=new ne;class xk{constructor(e=new Xf,n=new Xf,r=new Xf,i=new Xf,s=new Xf,o=new Xf){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],c=r[5],u=r[6],d=r[7],f=r[8],p=r[9],g=r[10],v=r[11],y=r[12],x=r[13],w=r[14],b=r[15];return n[0].setComponents(a-i,d-l,v-f,b-y).normalize(),n[1].setComponents(a+i,d+l,v+f,b+y).normalize(),n[2].setComponents(a+s,d+c,v+p,b+x).normalize(),n[3].setComponents(a-s,d-c,v-p,b-x).normalize(),n[4].setComponents(a-o,d-u,v-g,b-w).normalize(),n[5].setComponents(a+o,d+u,v+g,b+w).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),My.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(My)}intersectsSprite(e){return My.center.set(0,0,0),My.radius=.7071067811865476,My.applyMatrix4(e.matrixWorld),this.intersectsSphere(My)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(bI.x=i.normal.x>0?e.max.x:e.min.x,bI.y=i.normal.y>0?e.max.y:e.min.y,bI.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(bI)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Nne(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function pUe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,p=t.createBuffer();t.bindBuffer(u,p),t.bufferData(u,d,f),c.onUploadCallback();let g;if(d instanceof Float32Array)g=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)g=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=5123;else if(d instanceof Int16Array)g=5122;else if(d instanceof Uint32Array)g=5125;else if(d instanceof Int32Array)g=5124;else if(d instanceof Int8Array)g=5120;else if(d instanceof Uint8Array)g=5121;else if(d instanceof Uint8ClampedArray)g=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:p,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,d){const f=u.array,p=u.updateRange;t.bindBuffer(d,c),p.count===-1?t.bufferSubData(d,0,f):(n?t.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f,p.offset,p.count):t.bufferSubData(d,p.offset*f.BYTES_PER_ELEMENT,f.subarray(p.offset,p.offset+p.count)),p.count=-1)}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(s(d.buffer,c,u),d.version=c.version)}return{get:o,remove:a,update:l}}class pg extends dn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,p=[],g=[],v=[],y=[];for(let x=0;x<u;x++){const w=x*f-o;for(let b=0;b<c;b++){const T=b*d-s;g.push(T,-w,0),v.push(0,0,1),y.push(b/a),y.push(1-x/l)}}for(let x=0;x<l;x++)for(let w=0;w<a;w++){const b=w+c*x,T=w+c*(x+1),E=w+1+c*(x+1),P=w+1+c*x;p.push(b,T,P),p.push(T,E,P)}this.setIndex(p),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(v,3)),this.setAttribute("uv",new Ot(y,2))}static fromJSON(e){return new pg(e.width,e.height,e.widthSegments,e.heightSegments)}}var mUe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,gUe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vUe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,yUe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,_Ue=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,xUe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,wUe="vec3 transformed = vec3( position );",bUe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,SUe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = mix(F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence);
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,CUe=`#ifdef USE_IRIDESCENCE
const mat3 XYZ_TO_REC709 = mat3(
    3.2404542, -0.9692660,  0.0556434,
   -1.5371385,  1.8760108, -0.2040259,
   -0.4985314,  0.0415560,  1.0572252
);
vec3 Fresnel0ToIor( vec3 fresnel0 ) {
   vec3 sqrtF0 = sqrt( fresnel0 );
   return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
}
vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
}
float IorToFresnel0( float transmittedIor, float incidentIor ) {
   return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
}
vec3 evalSensitivity( float OPD, vec3 shift ) {
   float phase = 2.0 * PI * OPD * 1.0e-9;
   vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
   vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
   vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
   vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( -pow2( phase ) * var );
   xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[0] ) * exp( -4.5282e+09 * pow2( phase ) );
   xyz /= 1.0685e-7;
   vec3 srgb = XYZ_TO_REC709 * xyz;
   return srgb;
}
vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
   vec3 I;
   float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
   float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
   float cosTheta2Sq = 1.0 - sinTheta2Sq;
   if ( cosTheta2Sq < 0.0 ) {
       return vec3( 1.0 );
   }
   float cosTheta2 = sqrt( cosTheta2Sq );
   float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
   float R12 = F_Schlick( R0, 1.0, cosTheta1 );
   float R21 = R12;
   float T121 = 1.0 - R12;
   float phi12 = 0.0;
   if ( iridescenceIOR < outsideIOR ) phi12 = PI;
   float phi21 = PI - phi12;
   vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );   vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
   vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
   vec3 phi23 = vec3( 0.0 );
   if ( baseIOR[0] < iridescenceIOR ) phi23[0] = PI;
   if ( baseIOR[1] < iridescenceIOR ) phi23[1] = PI;
   if ( baseIOR[2] < iridescenceIOR ) phi23[2] = PI;
   float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
   vec3 phi = vec3( phi21 ) + phi23;
   vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
   vec3 r123 = sqrt( R123 );
   vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
   vec3 C0 = R12 + Rs;
   I = C0;
   vec3 Cm = Rs - T121;
   for ( int m = 1; m <= 2; ++m ) {
       Cm *= r123;
       vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
       I += Cm * Sm;
   }
   return max( I, vec3( 0.0 ) );
}
#endif`,TUe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,EUe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,IUe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,MUe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,AUe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,RUe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,PUe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,kUe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,LUe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,DUe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,NUe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,OUe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,FUe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,BUe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,$Ue=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,UUe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,zUe="gl_FragColor = linearToOutputTexel( gl_FragColor );",VUe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,WUe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,HUe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,GUe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,jUe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,qUe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,KUe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,XUe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,YUe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,QUe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,JUe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,ZUe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,eze=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tze=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,nze=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,rze=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,ize=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,sze=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,oze=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,aze=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lze=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,cze=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uze=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
float dotNVi = saturate( dot( normal, geometry.viewDir ) );
if ( material.iridescenceThickness == 0.0 ) {
	material.iridescence = 0.0;
} else {
	material.iridescence = saturate( material.iridescence );
}
if ( material.iridescence > 0.0 ) {
	material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
	material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dze=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fze=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,hze=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,pze=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,mze=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,gze=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,vze=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,yze=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,_ze=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,xze=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wze=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,bze=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Sze=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cze=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Tze=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Eze=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Ize=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Mze=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Aze=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rze=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Pze=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,kze=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,Lze=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Dze=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Nze=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Oze=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Fze=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Bze=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,$ze=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Uze=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,zze=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Vze=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Wze=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Hze=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Gze=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,jze=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qze=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Kze=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Xze=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Yze=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Qze=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Jze=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Zze=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,e4e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,t4e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,n4e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,r4e=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,i4e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,s4e=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,o4e=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,a4e=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,l4e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,c4e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,u4e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,d4e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const f4e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,h4e=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,p4e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,m4e=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,g4e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,v4e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,y4e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,_4e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,x4e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,w4e=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,b4e=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,S4e=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,C4e=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,T4e=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,E4e=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,I4e=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,M4e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,A4e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,R4e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,P4e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,k4e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,L4e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D4e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,N4e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,O4e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,F4e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,B4e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,$4e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,U4e=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,z4e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,V4e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,W4e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Tn={alphamap_fragment:mUe,alphamap_pars_fragment:gUe,alphatest_fragment:vUe,alphatest_pars_fragment:yUe,aomap_fragment:_Ue,aomap_pars_fragment:xUe,begin_vertex:wUe,beginnormal_vertex:bUe,bsdfs:SUe,iridescence_fragment:CUe,bumpmap_pars_fragment:TUe,clipping_planes_fragment:EUe,clipping_planes_pars_fragment:IUe,clipping_planes_pars_vertex:MUe,clipping_planes_vertex:AUe,color_fragment:RUe,color_pars_fragment:PUe,color_pars_vertex:kUe,color_vertex:LUe,common:DUe,cube_uv_reflection_fragment:NUe,defaultnormal_vertex:OUe,displacementmap_pars_vertex:FUe,displacementmap_vertex:BUe,emissivemap_fragment:$Ue,emissivemap_pars_fragment:UUe,encodings_fragment:zUe,encodings_pars_fragment:VUe,envmap_fragment:WUe,envmap_common_pars_fragment:HUe,envmap_pars_fragment:GUe,envmap_pars_vertex:jUe,envmap_physical_pars_fragment:rze,envmap_vertex:qUe,fog_vertex:KUe,fog_pars_vertex:XUe,fog_fragment:YUe,fog_pars_fragment:QUe,gradientmap_pars_fragment:JUe,lightmap_fragment:ZUe,lightmap_pars_fragment:eze,lights_lambert_vertex:tze,lights_pars_begin:nze,lights_toon_fragment:ize,lights_toon_pars_fragment:sze,lights_phong_fragment:oze,lights_phong_pars_fragment:aze,lights_physical_fragment:lze,lights_physical_pars_fragment:cze,lights_fragment_begin:uze,lights_fragment_maps:dze,lights_fragment_end:fze,logdepthbuf_fragment:hze,logdepthbuf_pars_fragment:pze,logdepthbuf_pars_vertex:mze,logdepthbuf_vertex:gze,map_fragment:vze,map_pars_fragment:yze,map_particle_fragment:_ze,map_particle_pars_fragment:xze,metalnessmap_fragment:wze,metalnessmap_pars_fragment:bze,morphcolor_vertex:Sze,morphnormal_vertex:Cze,morphtarget_pars_vertex:Tze,morphtarget_vertex:Eze,normal_fragment_begin:Ize,normal_fragment_maps:Mze,normal_pars_fragment:Aze,normal_pars_vertex:Rze,normal_vertex:Pze,normalmap_pars_fragment:kze,clearcoat_normal_fragment_begin:Lze,clearcoat_normal_fragment_maps:Dze,clearcoat_pars_fragment:Nze,iridescence_pars_fragment:Oze,output_fragment:Fze,packing:Bze,premultiplied_alpha_fragment:$ze,project_vertex:Uze,dithering_fragment:zze,dithering_pars_fragment:Vze,roughnessmap_fragment:Wze,roughnessmap_pars_fragment:Hze,shadowmap_pars_fragment:Gze,shadowmap_pars_vertex:jze,shadowmap_vertex:qze,shadowmask_pars_fragment:Kze,skinbase_vertex:Xze,skinning_pars_vertex:Yze,skinning_vertex:Qze,skinnormal_vertex:Jze,specularmap_fragment:Zze,specularmap_pars_fragment:e4e,tonemapping_fragment:t4e,tonemapping_pars_fragment:n4e,transmission_fragment:r4e,transmission_pars_fragment:i4e,uv_pars_fragment:s4e,uv_pars_vertex:o4e,uv_vertex:a4e,uv2_pars_fragment:l4e,uv2_pars_vertex:c4e,uv2_vertex:u4e,worldpos_vertex:d4e,background_vert:f4e,background_frag:h4e,cube_vert:p4e,cube_frag:m4e,depth_vert:g4e,depth_frag:v4e,distanceRGBA_vert:y4e,distanceRGBA_frag:_4e,equirect_vert:x4e,equirect_frag:w4e,linedashed_vert:b4e,linedashed_frag:S4e,meshbasic_vert:C4e,meshbasic_frag:T4e,meshlambert_vert:E4e,meshlambert_frag:I4e,meshmatcap_vert:M4e,meshmatcap_frag:A4e,meshnormal_vert:R4e,meshnormal_frag:P4e,meshphong_vert:k4e,meshphong_frag:L4e,meshphysical_vert:D4e,meshphysical_frag:N4e,meshtoon_vert:O4e,meshtoon_frag:F4e,points_vert:B4e,points_frag:$4e,shadow_vert:U4e,shadow_frag:z4e,sprite_vert:V4e,sprite_frag:W4e},Rt={common:{diffuse:{value:new Pt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ka},uv2Transform:{value:new ka},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ka}},sprite:{diffuse:{value:new Pt(16777215)},opacity:{value:1},center:{value:new ut(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ka}}},ac={basic:{uniforms:to([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.fog]),vertexShader:Tn.meshbasic_vert,fragmentShader:Tn.meshbasic_frag},lambert:{uniforms:to([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)}}]),vertexShader:Tn.meshlambert_vert,fragmentShader:Tn.meshlambert_frag},phong:{uniforms:to([Rt.common,Rt.specularmap,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)},specular:{value:new Pt(1118481)},shininess:{value:30}}]),vertexShader:Tn.meshphong_vert,fragmentShader:Tn.meshphong_frag},standard:{uniforms:to([Rt.common,Rt.envmap,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.roughnessmap,Rt.metalnessmap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Tn.meshphysical_vert,fragmentShader:Tn.meshphysical_frag},toon:{uniforms:to([Rt.common,Rt.aomap,Rt.lightmap,Rt.emissivemap,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.gradientmap,Rt.fog,Rt.lights,{emissive:{value:new Pt(0)}}]),vertexShader:Tn.meshtoon_vert,fragmentShader:Tn.meshtoon_frag},matcap:{uniforms:to([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,Rt.fog,{matcap:{value:null}}]),vertexShader:Tn.meshmatcap_vert,fragmentShader:Tn.meshmatcap_frag},points:{uniforms:to([Rt.points,Rt.fog]),vertexShader:Tn.points_vert,fragmentShader:Tn.points_frag},dashed:{uniforms:to([Rt.common,Rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Tn.linedashed_vert,fragmentShader:Tn.linedashed_frag},depth:{uniforms:to([Rt.common,Rt.displacementmap]),vertexShader:Tn.depth_vert,fragmentShader:Tn.depth_frag},normal:{uniforms:to([Rt.common,Rt.bumpmap,Rt.normalmap,Rt.displacementmap,{opacity:{value:1}}]),vertexShader:Tn.meshnormal_vert,fragmentShader:Tn.meshnormal_frag},sprite:{uniforms:to([Rt.sprite,Rt.fog]),vertexShader:Tn.sprite_vert,fragmentShader:Tn.sprite_frag},background:{uniforms:{uvTransform:{value:new ka},t2D:{value:null}},vertexShader:Tn.background_vert,fragmentShader:Tn.background_frag},cube:{uniforms:to([Rt.envmap,{opacity:{value:1}}]),vertexShader:Tn.cube_vert,fragmentShader:Tn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Tn.equirect_vert,fragmentShader:Tn.equirect_frag},distanceRGBA:{uniforms:to([Rt.common,Rt.displacementmap,{referencePosition:{value:new ne},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Tn.distanceRGBA_vert,fragmentShader:Tn.distanceRGBA_frag},shadow:{uniforms:to([Rt.lights,Rt.fog,{color:{value:new Pt(0)},opacity:{value:1}}]),vertexShader:Tn.shadow_vert,fragmentShader:Tn.shadow_frag}};ac.physical={uniforms:to([ac.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ut(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Pt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Pt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Pt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Tn.meshphysical_vert,fragmentShader:Tn.meshphysical_frag};function H4e(t,e,n,r,i,s){const o=new Pt(0);let a=i===!0?0:1,l,c,u=null,d=0,f=null;function p(v,y){let x=!1,w=y.isScene===!0?y.background:null;w&&w.isTexture&&(w=e.get(w));const b=t.xr,T=b.getSession&&b.getSession();T&&T.environmentBlendMode==="additive"&&(w=null),w===null?g(o,a):w&&w.isColor&&(g(w,1),x=!0),(t.autoClear||x)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===ox)?(c===void 0&&(c=new us(new Od(1,1,1),new yu({name:"BackgroundCubeMaterial",uniforms:c_(ac.cube.uniforms),vertexShader:ac.cube.vertexShader,fragmentShader:ac.cube.fragmentShader,side:Ba,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,P,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=w,c.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,(u!==w||d!==w.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,u=w,d=w.version,f=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null)):w&&w.isTexture&&(l===void 0&&(l=new us(new pg(2,2),new yu({name:"BackgroundMaterial",uniforms:c_(ac.background.uniforms),vertexShader:ac.background.vertexShader,fragmentShader:ac.background.fragmentShader,side:ug,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=w,w.matrixAutoUpdate===!0&&w.updateMatrix(),l.material.uniforms.uvTransform.value.copy(w.matrix),(u!==w||d!==w.version||f!==t.toneMapping)&&(l.material.needsUpdate=!0,u=w,d=w.version,f=t.toneMapping),l.layers.enableAll(),v.unshift(l,l.geometry,l.material,0,0,null))}function g(v,y){n.buffers.color.setClear(v.r,v.g,v.b,y,s)}return{getClearColor:function(){return o},setClearColor:function(v,y=1){o.set(v),a=y,g(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(v){a=v,g(o,a)},render:p}}function G4e(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=y(null);let c=l,u=!1;function d(U,j,W,X,B){let H=!1;if(o){const q=v(X,W,j);c!==q&&(c=q,p(c.object)),H=x(U,X,W,B),H&&w(U,X,W,B)}else{const q=j.wireframe===!0;(c.geometry!==X.id||c.program!==W.id||c.wireframe!==q)&&(c.geometry=X.id,c.program=W.id,c.wireframe=q,H=!0)}B!==null&&n.update(B,34963),(H||u)&&(u=!1,R(U,j,W,X),B!==null&&t.bindBuffer(34963,n.get(B).buffer))}function f(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function p(U){return r.isWebGL2?t.bindVertexArray(U):s.bindVertexArrayOES(U)}function g(U){return r.isWebGL2?t.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function v(U,j,W){const X=W.wireframe===!0;let B=a[U.id];B===void 0&&(B={},a[U.id]=B);let H=B[j.id];H===void 0&&(H={},B[j.id]=H);let q=H[X];return q===void 0&&(q=y(f()),H[X]=q),q}function y(U){const j=[],W=[],X=[];for(let B=0;B<i;B++)j[B]=0,W[B]=0,X[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:W,attributeDivisors:X,object:U,attributes:{},index:null}}function x(U,j,W,X){const B=c.attributes,H=j.attributes;let q=0;const ee=W.getAttributes();for(const J in ee)if(ee[J].location>=0){const ye=B[J];let Ce=H[J];if(Ce===void 0&&(J==="instanceMatrix"&&U.instanceMatrix&&(Ce=U.instanceMatrix),J==="instanceColor"&&U.instanceColor&&(Ce=U.instanceColor)),ye===void 0||ye.attribute!==Ce||Ce&&ye.data!==Ce.data)return!0;q++}return c.attributesNum!==q||c.index!==X}function w(U,j,W,X){const B={},H=j.attributes;let q=0;const ee=W.getAttributes();for(const J in ee)if(ee[J].location>=0){let ye=H[J];ye===void 0&&(J==="instanceMatrix"&&U.instanceMatrix&&(ye=U.instanceMatrix),J==="instanceColor"&&U.instanceColor&&(ye=U.instanceColor));const Ce={};Ce.attribute=ye,ye&&ye.data&&(Ce.data=ye.data),B[J]=Ce,q++}c.attributes=B,c.attributesNum=q,c.index=X}function b(){const U=c.newAttributes;for(let j=0,W=U.length;j<W;j++)U[j]=0}function T(U){E(U,0)}function E(U,j){const W=c.newAttributes,X=c.enabledAttributes,B=c.attributeDivisors;W[U]=1,X[U]===0&&(t.enableVertexAttribArray(U),X[U]=1),B[U]!==j&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,j),B[U]=j)}function P(){const U=c.newAttributes,j=c.enabledAttributes;for(let W=0,X=j.length;W<X;W++)j[W]!==U[W]&&(t.disableVertexAttribArray(W),j[W]=0)}function L(U,j,W,X,B,H){r.isWebGL2===!0&&(W===5124||W===5125)?t.vertexAttribIPointer(U,j,W,B,H):t.vertexAttribPointer(U,j,W,X,B,H)}function R(U,j,W,X){if(r.isWebGL2===!1&&(U.isInstancedMesh||X.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const B=X.attributes,H=W.getAttributes(),q=j.defaultAttributeValues;for(const ee in H){const J=H[ee];if(J.location>=0){let de=B[ee];if(de===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(de=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(de=U.instanceColor)),de!==void 0){const ye=de.normalized,Ce=de.itemSize,oe=n.get(de);if(oe===void 0)continue;const He=oe.buffer,Ae=oe.type,Ne=oe.bytesPerElement;if(de.isInterleavedBufferAttribute){const Se=de.data,Ze=Se.stride,we=de.offset;if(Se.isInstancedInterleavedBuffer){for(let ve=0;ve<J.locationSize;ve++)E(J.location+ve,Se.meshPerAttribute);U.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Se.meshPerAttribute*Se.count)}else for(let ve=0;ve<J.locationSize;ve++)T(J.location+ve);t.bindBuffer(34962,He);for(let ve=0;ve<J.locationSize;ve++)L(J.location+ve,Ce/J.locationSize,Ae,ye,Ze*Ne,(we+Ce/J.locationSize*ve)*Ne)}else{if(de.isInstancedBufferAttribute){for(let Se=0;Se<J.locationSize;Se++)E(J.location+Se,de.meshPerAttribute);U.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Se=0;Se<J.locationSize;Se++)T(J.location+Se);t.bindBuffer(34962,He);for(let Se=0;Se<J.locationSize;Se++)L(J.location+Se,Ce/J.locationSize,Ae,ye,Ce*Ne,Ce/J.locationSize*Se*Ne)}}else if(q!==void 0){const ye=q[ee];if(ye!==void 0)switch(ye.length){case 2:t.vertexAttrib2fv(J.location,ye);break;case 3:t.vertexAttrib3fv(J.location,ye);break;case 4:t.vertexAttrib4fv(J.location,ye);break;default:t.vertexAttrib1fv(J.location,ye)}}}}P()}function F(){Z();for(const U in a){const j=a[U];for(const W in j){const X=j[W];for(const B in X)g(X[B].object),delete X[B];delete j[W]}delete a[U]}}function O(U){if(a[U.id]===void 0)return;const j=a[U.id];for(const W in j){const X=j[W];for(const B in X)g(X[B].object),delete X[B];delete j[W]}delete a[U.id]}function G(U){for(const j in a){const W=a[j];if(W[U.id]===void 0)continue;const X=W[U.id];for(const B in X)g(X[B].object),delete X[B];delete W[U.id]}}function Z(){V(),u=!0,c!==l&&(c=l,p(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:Z,resetDefaultState:V,dispose:F,releaseStatesOfGeometry:O,releaseStatesOfProgram:G,initAttributes:b,enableAttribute:T,disableUnusedAttributes:P}}function j4e(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,d){if(d===0)return;let f,p;if(i)f=t,p="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[p](s,c,u,d),n.update(u,s,d)}this.setMode=o,this.render=a,this.renderInstances=l}function q4e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(L){if(L==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,d=t.getParameter(34930),f=t.getParameter(35660),p=t.getParameter(3379),g=t.getParameter(34076),v=t.getParameter(34921),y=t.getParameter(36347),x=t.getParameter(36348),w=t.getParameter(36349),b=f>0,T=o||e.has("OES_texture_float"),E=b&&T,P=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:p,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:y,maxVaryings:x,maxFragmentUniforms:w,vertexTextures:b,floatFragmentTextures:T,floatVertexTextures:E,maxSamples:P}}function K4e(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Xf,a=new ka,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,p){const g=d.length!==0||f||r!==0||i;return i=f,n=u(d,p,0),r=d.length,g},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(d,f,p){const g=d.clippingPlanes,v=d.clipIntersection,y=d.clipShadows,x=t.get(d);if(!i||g===null||g.length===0||s&&!y)s?u(null):c();else{const w=s?0:r,b=w*4;let T=x.clippingState||null;l.value=T,T=u(g,f,b,p);for(let E=0;E!==b;++E)T[E]=n[E];x.clippingState=T,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,p,g){const v=d!==null?d.length:0;let y=null;if(v!==0){if(y=l.value,g!==!0||y===null){const x=p+v*4,w=f.matrixWorldInverse;a.getNormalMatrix(w),(y===null||y.length<x)&&(y=new Float32Array(x));for(let b=0,T=p;b!==v;++b,T+=4)o.copy(d[b]).applyMatrix4(w,a),o.normal.toArray(y,T),y[T+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,y}}function X4e(t){let e=new WeakMap;function n(o,a){return a===a_?o.mapping=Dh:a===nS&&(o.mapping=Nh),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===a_||a===nS)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Dne(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class ax extends $C{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const m0=4,RG=[.125,.215,.35,.446,.526,.582],xm=20,PD=new ax,PG=new Pt;let kD=null;const hm=(1+Math.sqrt(5))/2,Ay=1/hm,kG=[new ne(1,1,1),new ne(-1,1,1),new ne(1,1,-1),new ne(-1,1,-1),new ne(0,hm,Ay),new ne(0,hm,-Ay),new ne(Ay,0,hm),new ne(-Ay,0,hm),new ne(hm,Ay,0),new ne(-hm,Ay,0)];class jF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){kD=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=NG(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=DG(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(kD),e.scissorTest=!1,SI(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Dh||e.mapping===Nh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),kD=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ui,minFilter:ui,generateMipmaps:!1,type:l_,format:Pa,encoding:Nd,depthBuffer:!1},i=LG(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=LG(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Y4e(s)),this._blurMaterial=Q4e(s,e,n)}return i}_compileMaterial(e){const n=new us(this._lodPlanes[0],e);this._renderer.compile(n,PD)}_sceneToCubeUV(e,n,r,i){const a=new $i(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(PG),u.toneMapping=yc,u.autoClear=!1;const p=new op({name:"PMREM.Background",side:Ba,depthWrite:!1,depthTest:!1}),g=new us(new Od,p);let v=!1;const y=e.background;y?y.isColor&&(p.color.copy(y),e.background=null,v=!0):(p.color.copy(PG),v=!0);for(let x=0;x<6;x++){const w=x%3;w===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):w===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const b=this._cubeSize;SI(i,w*b,x>2?b:0,b,b),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Dh||e.mapping===Nh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=NG()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=DG());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new us(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;SI(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,PD)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=kG[(i-1)%kG.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new us(this._lodPlanes[i],c),f=c.uniforms,p=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*xm-1),v=s/g,y=isFinite(s)?1+Math.floor(u*v):xm;y>xm&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${xm}`);const x=[];let w=0;for(let L=0;L<xm;++L){const R=L/v,F=Math.exp(-R*R/2);x.push(F),L===0?w+=F:L<y&&(w+=2*F)}for(let L=0;L<x.length;L++)x[L]=x[L]/w;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=x,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:b}=this;f.dTheta.value=g,f.mipInt.value=b-r;const T=this._sizeLods[i],E=3*T*(i>b-m0?i-b+m0:0),P=4*(this._cubeSize-T);SI(n,E,P,3*T,2*T),l.setRenderTarget(n),l.render(d,PD)}}function Y4e(t){const e=[],n=[],r=[];let i=t;const s=t-m0+1+RG.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-m0?l=RG[o-t+m0-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,g=6,v=3,y=2,x=1,w=new Float32Array(v*g*p),b=new Float32Array(y*g*p),T=new Float32Array(x*g*p);for(let P=0;P<p;P++){const L=P%3*2/3-1,R=P>2?0:-1,F=[L,R,0,L+2/3,R,0,L+2/3,R+1,0,L,R,0,L+2/3,R+1,0,L,R+1,0];w.set(F,v*g*P),b.set(f,y*g*P);const O=[P,P,P,P,P,P];T.set(O,x*g*P)}const E=new dn;E.setAttribute("position",new mr(w,v)),E.setAttribute("uv",new mr(b,y)),E.setAttribute("faceIndex",new mr(T,x)),e.push(E),i>m0&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function LG(t,e,n){const r=new Ua(t,e,n);return r.texture.mapping=ox,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function SI(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Q4e(t,e,n){const r=new Float32Array(xm),i=new ne(0,1,0);return new yu({name:"SphericalGaussianBlur",defines:{n:xm,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:HU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Sd,depthTest:!1,depthWrite:!1})}function DG(){return new yu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:HU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Sd,depthTest:!1,depthWrite:!1})}function NG(){return new yu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:HU(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Sd,depthTest:!1,depthWrite:!1})}function HU(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function J4e(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===a_||l===nS,u=l===Dh||l===Nh;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let d=e.get(a);return n===null&&(n=new jF(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),e.set(a,d),d.texture}else{if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&i(d)){n===null&&(n=new jF(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Z4e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function eVe(t,e,n,r){const i={},s=new WeakMap;function o(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);f.removeEventListener("dispose",o),delete i[f.id];const p=s.get(f);p&&(e.remove(p),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const g in f)e.update(f[g],34962);const p=d.morphAttributes;for(const g in p){const v=p[g];for(let y=0,x=v.length;y<x;y++)e.update(v[y],34962)}}function c(d){const f=[],p=d.index,g=d.attributes.position;let v=0;if(p!==null){const w=p.array;v=p.version;for(let b=0,T=w.length;b<T;b+=3){const E=w[b+0],P=w[b+1],L=w[b+2];f.push(E,P,P,L,L,E)}}else{const w=g.array;v=g.version;for(let b=0,T=w.length/3-1;b<T;b+=3){const E=b+0,P=b+1,L=b+2;f.push(E,P,P,L,L,E)}}const y=new(Rne(f)?WU:_k)(f,1);y.version=v;const x=s.get(d);x&&e.remove(x),s.set(d,y)}function u(d){const f=s.get(d);if(f){const p=d.index;p!==null&&f.version<p.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function tVe(t,e,n,r){const i=r.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,p){t.drawElements(s,p,a,f*l),n.update(p,s,1)}function d(f,p,g){if(g===0)return;let v,y;if(i)v=t,y="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,p,a,f*l,g),n.update(p,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=d}function nVe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function rVe(t,e){return t[0]-e[0]}function iVe(t,e){return Math.abs(e[1])-Math.abs(t[1])}function LD(t,e){let n=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(n)}function sVe(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Xn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,d,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=v!==void 0?v.length:0;let x=s.get(u);if(x===void 0||x.count!==y){let W=function(){U.dispose(),s.delete(u),u.removeEventListener("dispose",W)};var g=W;x!==void 0&&x.texture.dispose();const T=u.morphAttributes.position!==void 0,E=u.morphAttributes.normal!==void 0,P=u.morphAttributes.color!==void 0,L=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],F=u.morphAttributes.color||[];let O=0;T===!0&&(O=1),E===!0&&(O=2),P===!0&&(O=3);let G=u.attributes.position.count*O,Z=1;G>e.maxTextureSize&&(Z=Math.ceil(G/e.maxTextureSize),G=e.maxTextureSize);const V=new Float32Array(G*Z*4*y),U=new FC(V,G,Z,y);U.type=md,U.needsUpdate=!0;const j=O*4;for(let X=0;X<y;X++){const B=L[X],H=R[X],q=F[X],ee=G*Z*4*X;for(let J=0;J<B.count;J++){const de=J*j;T===!0&&(o.fromBufferAttribute(B,J),B.normalized===!0&&LD(o,B),V[ee+de+0]=o.x,V[ee+de+1]=o.y,V[ee+de+2]=o.z,V[ee+de+3]=0),E===!0&&(o.fromBufferAttribute(H,J),H.normalized===!0&&LD(o,H),V[ee+de+4]=o.x,V[ee+de+5]=o.y,V[ee+de+6]=o.z,V[ee+de+7]=0),P===!0&&(o.fromBufferAttribute(q,J),q.normalized===!0&&LD(o,q),V[ee+de+8]=o.x,V[ee+de+9]=o.y,V[ee+de+10]=o.z,V[ee+de+11]=q.itemSize===4?o.w:1)}}x={count:y,texture:U,size:new ut(G,Z)},s.set(u,x),u.addEventListener("dispose",W)}let w=0;for(let T=0;T<p.length;T++)w+=p[T];const b=u.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",b),f.getUniforms().setValue(t,"morphTargetInfluences",p),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const v=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==v){y=[];for(let E=0;E<v;E++)y[E]=[E,0];r[u.id]=y}for(let E=0;E<v;E++){const P=y[E];P[0]=E,P[1]=p[E]}y.sort(iVe);for(let E=0;E<8;E++)E<v&&y[E][1]?(a[E][0]=y[E][0],a[E][1]=y[E][1]):(a[E][0]=Number.MAX_SAFE_INTEGER,a[E][1]=0);a.sort(rVe);const x=u.morphAttributes.position,w=u.morphAttributes.normal;let b=0;for(let E=0;E<8;E++){const P=a[E],L=P[0],R=P[1];L!==Number.MAX_SAFE_INTEGER&&R?(x&&u.getAttribute("morphTarget"+E)!==x[L]&&u.setAttribute("morphTarget"+E,x[L]),w&&u.getAttribute("morphNormal"+E)!==w[L]&&u.setAttribute("morphNormal"+E,w[L]),i[E]=R,b+=R):(x&&u.hasAttribute("morphTarget"+E)===!0&&u.deleteAttribute("morphTarget"+E),w&&u.hasAttribute("morphNormal"+E)===!0&&u.deleteAttribute("morphNormal"+E),i[E]=0)}const T=u.morphTargetsRelative?1:1-b;f.getUniforms().setValue(t,"morphTargetBaseInfluence",T),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function oVe(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const One=new ni,Fne=new FC,Bne=new yk,$ne=new UC,OG=[],FG=[],BG=new Float32Array(16),$G=new Float32Array(9),UG=new Float32Array(4);function lx(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=OG[i];if(s===void 0&&(s=new Float32Array(i),OG[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function No(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Oo(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function wk(t,e){let n=FG[e];n===void 0&&(n=new Int32Array(e),FG[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function aVe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function lVe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(No(n,e))return;t.uniform2fv(this.addr,e),Oo(n,e)}}function cVe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(No(n,e))return;t.uniform3fv(this.addr,e),Oo(n,e)}}function uVe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(No(n,e))return;t.uniform4fv(this.addr,e),Oo(n,e)}}function dVe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(No(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Oo(n,e)}else{if(No(n,r))return;UG.set(r),t.uniformMatrix2fv(this.addr,!1,UG),Oo(n,r)}}function fVe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(No(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Oo(n,e)}else{if(No(n,r))return;$G.set(r),t.uniformMatrix3fv(this.addr,!1,$G),Oo(n,r)}}function hVe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(No(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Oo(n,e)}else{if(No(n,r))return;BG.set(r),t.uniformMatrix4fv(this.addr,!1,BG),Oo(n,r)}}function pVe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function mVe(t,e){const n=this.cache;No(n,e)||(t.uniform2iv(this.addr,e),Oo(n,e))}function gVe(t,e){const n=this.cache;No(n,e)||(t.uniform3iv(this.addr,e),Oo(n,e))}function vVe(t,e){const n=this.cache;No(n,e)||(t.uniform4iv(this.addr,e),Oo(n,e))}function yVe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function _Ve(t,e){const n=this.cache;No(n,e)||(t.uniform2uiv(this.addr,e),Oo(n,e))}function xVe(t,e){const n=this.cache;No(n,e)||(t.uniform3uiv(this.addr,e),Oo(n,e))}function wVe(t,e){const n=this.cache;No(n,e)||(t.uniform4uiv(this.addr,e),Oo(n,e))}function bVe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||One,i)}function SVe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Bne,i)}function CVe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||$ne,i)}function TVe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Fne,i)}function EVe(t){switch(t){case 5126:return aVe;case 35664:return lVe;case 35665:return cVe;case 35666:return uVe;case 35674:return dVe;case 35675:return fVe;case 35676:return hVe;case 5124:case 35670:return pVe;case 35667:case 35671:return mVe;case 35668:case 35672:return gVe;case 35669:case 35673:return vVe;case 5125:return yVe;case 36294:return _Ve;case 36295:return xVe;case 36296:return wVe;case 35678:case 36198:case 36298:case 36306:case 35682:return bVe;case 35679:case 36299:case 36307:return SVe;case 35680:case 36300:case 36308:case 36293:return CVe;case 36289:case 36303:case 36311:case 36292:return TVe}}function IVe(t,e){t.uniform1fv(this.addr,e)}function MVe(t,e){const n=lx(e,this.size,2);t.uniform2fv(this.addr,n)}function AVe(t,e){const n=lx(e,this.size,3);t.uniform3fv(this.addr,n)}function RVe(t,e){const n=lx(e,this.size,4);t.uniform4fv(this.addr,n)}function PVe(t,e){const n=lx(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function kVe(t,e){const n=lx(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function LVe(t,e){const n=lx(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function DVe(t,e){t.uniform1iv(this.addr,e)}function NVe(t,e){t.uniform2iv(this.addr,e)}function OVe(t,e){t.uniform3iv(this.addr,e)}function FVe(t,e){t.uniform4iv(this.addr,e)}function BVe(t,e){t.uniform1uiv(this.addr,e)}function $Ve(t,e){t.uniform2uiv(this.addr,e)}function UVe(t,e){t.uniform3uiv(this.addr,e)}function zVe(t,e){t.uniform4uiv(this.addr,e)}function VVe(t,e,n){const r=e.length,i=wk(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTexture2D(e[s]||One,i[s])}function WVe(t,e,n){const r=e.length,i=wk(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTexture3D(e[s]||Bne,i[s])}function HVe(t,e,n){const r=e.length,i=wk(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTextureCube(e[s]||$ne,i[s])}function GVe(t,e,n){const r=e.length,i=wk(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||Fne,i[s])}function jVe(t){switch(t){case 5126:return IVe;case 35664:return MVe;case 35665:return AVe;case 35666:return RVe;case 35674:return PVe;case 35675:return kVe;case 35676:return LVe;case 5124:case 35670:return DVe;case 35667:case 35671:return NVe;case 35668:case 35672:return OVe;case 35669:case 35673:return FVe;case 5125:return BVe;case 36294:return $Ve;case 36295:return UVe;case 36296:return zVe;case 35678:case 36198:case 36298:case 36306:case 35682:return VVe;case 35679:case 36299:case 36307:return WVe;case 35680:case 36300:case 36308:case 36293:return HVe;case 36289:case 36303:case 36311:case 36292:return GVe}}class qVe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=EVe(n.type)}}class KVe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=jVe(n.type)}}class XVe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const DD=/(\w+)(\])?(\[|\.)?/g;function zG(t,e){t.seq.push(e),t.map[e.id]=e}function YVe(t,e,n){const r=t.name,i=r.length;for(DD.lastIndex=0;;){const s=DD.exec(r),o=DD.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){zG(n,c===void 0?new qVe(a,t,e):new KVe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new XVe(a),zG(n,d)),n=d}}}class WM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,35718);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);YVe(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function VG(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let QVe=0;function JVe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function ZVe(t){switch(t){case Nd:return["Linear","( value )"];case nr:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function WG(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+JVe(t.getShaderSource(e),o)}else return i}function e5e(t,e){const n=ZVe(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function t5e(t,e){let n;switch(e){case rne:n="Linear";break;case ine:n="Reinhard";break;case sne:n="OptimizedCineon";break;case FU:n="ACESFilmic";break;case one:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function n5e(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($b).join(`
`)}function r5e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function i5e(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function $b(t){return t!==""}function HG(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function GG(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const s5e=/^[ \t]*#include +<([\w\d./]+)>/gm;function qF(t){return t.replace(s5e,o5e)}function o5e(t,e){const n=Tn[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return qF(n)}const a5e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,l5e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jG(t){return t.replace(l5e,Une).replace(a5e,c5e)}function c5e(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Une(t,e,n,r)}function Une(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function qG(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function u5e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===LU?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===DU?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===h0&&(e="SHADOWMAP_TYPE_VSM"),e}function d5e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Dh:case Nh:e="ENVMAP_TYPE_CUBE";break;case ox:e="ENVMAP_TYPE_CUBE_UV";break}return e}function f5e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Nh:e="ENVMAP_MODE_REFRACTION";break}return e}function h5e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case OC:e="ENVMAP_BLENDING_MULTIPLY";break;case tne:e="ENVMAP_BLENDING_MIX";break;case nne:e="ENVMAP_BLENDING_ADD";break}return e}function p5e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function m5e(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=u5e(n),c=d5e(n),u=f5e(n),d=h5e(n),f=p5e(n),p=n.isWebGL2?"":n5e(n),g=r5e(s),v=i.createProgram();let y,x,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=[g].filter($b).join(`
`),y.length>0&&(y+=`
`),x=[p,g].filter($b).join(`
`),x.length>0&&(x+=`
`)):(y=[qG(n),"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter($b).join(`
`),x=[p,qG(n),"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==yc?"#define TONE_MAPPING":"",n.toneMapping!==yc?Tn.tonemapping_pars_fragment:"",n.toneMapping!==yc?t5e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Tn.encodings_pars_fragment,e5e("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter($b).join(`
`)),o=qF(o),o=HG(o,n),o=GG(o,n),a=qF(a),a=HG(a,n),a=GG(a,n),o=jG(o),a=jG(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,y=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,x=["#define varying in",n.glslVersion===HF?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===HF?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const b=w+y+o,T=w+x+a,E=VG(i,35633,b),P=VG(i,35632,T);if(i.attachShader(v,E),i.attachShader(v,P),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const F=i.getProgramInfoLog(v).trim(),O=i.getShaderInfoLog(E).trim(),G=i.getShaderInfoLog(P).trim();let Z=!0,V=!0;if(i.getProgramParameter(v,35714)===!1){Z=!1;const U=WG(i,E,"vertex"),j=WG(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,35715)+`

Program Info Log: `+F+`
`+U+`
`+j)}else F!==""?console.warn("THREE.WebGLProgram: Program Info Log:",F):(O===""||G==="")&&(V=!1);V&&(this.diagnostics={runnable:Z,programLog:F,vertexShader:{log:O,prefix:y},fragmentShader:{log:G,prefix:x}})}i.deleteShader(E),i.deleteShader(P);let L;this.getUniforms=function(){return L===void 0&&(L=new WM(i,v)),L};let R;return this.getAttributes=function(){return R===void 0&&(R=i5e(i,v)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=QVe++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=P,this}let g5e=0;class v5e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const r=new y5e(e);n.set(e,r)}return n.get(e)}}class y5e{constructor(e){this.id=g5e++,this.code=e,this.usedTimes=0}}function _5e(t,e,n,r,i,s,o){const a=new qm,l=new v5e,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let p=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(R,F,O,G,Z){const V=G.fog,U=Z.geometry,j=R.isMeshStandardMaterial?G.environment:null,W=(R.isMeshStandardMaterial?n:e).get(R.envMap||j),X=!!W&&W.mapping===ox?W.image.height:null,B=g[R.type];R.precision!==null&&(p=i.getMaxPrecision(R.precision),p!==R.precision&&console.warn("THREE.WebGLProgram.getParameters:",R.precision,"not supported, using",p,"instead."));const H=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,q=H!==void 0?H.length:0;let ee=0;U.morphAttributes.position!==void 0&&(ee=1),U.morphAttributes.normal!==void 0&&(ee=2),U.morphAttributes.color!==void 0&&(ee=3);let J,de,ye,Ce;if(B){const Ze=ac[B];J=Ze.vertexShader,de=Ze.fragmentShader}else J=R.vertexShader,de=R.fragmentShader,l.update(R),ye=l.getVertexShaderID(R),Ce=l.getFragmentShaderID(R);const oe=t.getRenderTarget(),He=R.alphaTest>0,Ae=R.clearcoat>0,Ne=R.iridescence>0;return{isWebGL2:u,shaderID:B,shaderName:R.type,vertexShader:J,fragmentShader:de,defines:R.defines,customVertexShaderID:ye,customFragmentShaderID:Ce,isRawShaderMaterial:R.isRawShaderMaterial===!0,glslVersion:R.glslVersion,precision:p,instancing:Z.isInstancedMesh===!0,instancingColor:Z.isInstancedMesh===!0&&Z.instanceColor!==null,supportsVertexTextures:f,outputEncoding:oe===null?t.outputEncoding:oe.isXRRenderTarget===!0?oe.texture.encoding:Nd,map:!!R.map,matcap:!!R.matcap,envMap:!!W,envMapMode:W&&W.mapping,envMapCubeUVHeight:X,lightMap:!!R.lightMap,aoMap:!!R.aoMap,emissiveMap:!!R.emissiveMap,bumpMap:!!R.bumpMap,normalMap:!!R.normalMap,objectSpaceNormalMap:R.normalMapType===Ine,tangentSpaceNormalMap:R.normalMapType===Yg,decodeVideoTexture:!!R.map&&R.map.isVideoTexture===!0&&R.map.encoding===nr,clearcoat:Ae,clearcoatMap:Ae&&!!R.clearcoatMap,clearcoatRoughnessMap:Ae&&!!R.clearcoatRoughnessMap,clearcoatNormalMap:Ae&&!!R.clearcoatNormalMap,iridescence:Ne,iridescenceMap:Ne&&!!R.iridescenceMap,iridescenceThicknessMap:Ne&&!!R.iridescenceThicknessMap,displacementMap:!!R.displacementMap,roughnessMap:!!R.roughnessMap,metalnessMap:!!R.metalnessMap,specularMap:!!R.specularMap,specularIntensityMap:!!R.specularIntensityMap,specularColorMap:!!R.specularColorMap,opaque:R.transparent===!1&&R.blending===Wm,alphaMap:!!R.alphaMap,alphaTest:He,gradientMap:!!R.gradientMap,sheen:R.sheen>0,sheenColorMap:!!R.sheenColorMap,sheenRoughnessMap:!!R.sheenRoughnessMap,transmission:R.transmission>0,transmissionMap:!!R.transmissionMap,thicknessMap:!!R.thicknessMap,combine:R.combine,vertexTangents:!!R.normalMap&&!!U.attributes.tangent,vertexColors:R.vertexColors,vertexAlphas:R.vertexColors===!0&&!!U.attributes.color&&U.attributes.color.itemSize===4,vertexUvs:!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatMap||!!R.clearcoatRoughnessMap||!!R.clearcoatNormalMap||!!R.iridescenceMap||!!R.iridescenceThicknessMap||!!R.displacementMap||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||!!R.sheenColorMap||!!R.sheenRoughnessMap,uvsVertexOnly:!(!!R.map||!!R.bumpMap||!!R.normalMap||!!R.specularMap||!!R.alphaMap||!!R.emissiveMap||!!R.roughnessMap||!!R.metalnessMap||!!R.clearcoatNormalMap||!!R.iridescenceMap||!!R.iridescenceThicknessMap||R.transmission>0||!!R.transmissionMap||!!R.thicknessMap||!!R.specularIntensityMap||!!R.specularColorMap||R.sheen>0||!!R.sheenColorMap||!!R.sheenRoughnessMap)&&!!R.displacementMap,fog:!!V,useFog:R.fog===!0,fogExp2:V&&V.isFogExp2,flatShading:!!R.flatShading,sizeAttenuation:R.sizeAttenuation,logarithmicDepthBuffer:d,skinning:Z.isSkinnedMesh===!0,morphTargets:U.morphAttributes.position!==void 0,morphNormals:U.morphAttributes.normal!==void 0,morphColors:U.morphAttributes.color!==void 0,morphTargetsCount:q,morphTextureStride:ee,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:R.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:R.toneMapped?t.toneMapping:yc,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:R.premultipliedAlpha,doubleSided:R.side===dg,flipSided:R.side===Ba,useDepthPacking:!!R.depthPacking,depthPacking:R.depthPacking||0,index0AttributeName:R.index0AttributeName,extensionDerivatives:R.extensions&&R.extensions.derivatives,extensionFragDepth:R.extensions&&R.extensions.fragDepth,extensionDrawBuffers:R.extensions&&R.extensions.drawBuffers,extensionShaderTextureLOD:R.extensions&&R.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:R.customProgramCacheKey()}}function y(R){const F=[];if(R.shaderID?F.push(R.shaderID):(F.push(R.customVertexShaderID),F.push(R.customFragmentShaderID)),R.defines!==void 0)for(const O in R.defines)F.push(O),F.push(R.defines[O]);return R.isRawShaderMaterial===!1&&(x(F,R),w(F,R),F.push(t.outputEncoding)),F.push(R.customProgramCacheKey),F.join()}function x(R,F){R.push(F.precision),R.push(F.outputEncoding),R.push(F.envMapMode),R.push(F.envMapCubeUVHeight),R.push(F.combine),R.push(F.vertexUvs),R.push(F.fogExp2),R.push(F.sizeAttenuation),R.push(F.morphTargetsCount),R.push(F.morphAttributeCount),R.push(F.numDirLights),R.push(F.numPointLights),R.push(F.numSpotLights),R.push(F.numHemiLights),R.push(F.numRectAreaLights),R.push(F.numDirLightShadows),R.push(F.numPointLightShadows),R.push(F.numSpotLightShadows),R.push(F.shadowMapType),R.push(F.toneMapping),R.push(F.numClippingPlanes),R.push(F.numClipIntersection),R.push(F.depthPacking)}function w(R,F){a.disableAll(),F.isWebGL2&&a.enable(0),F.supportsVertexTextures&&a.enable(1),F.instancing&&a.enable(2),F.instancingColor&&a.enable(3),F.map&&a.enable(4),F.matcap&&a.enable(5),F.envMap&&a.enable(6),F.lightMap&&a.enable(7),F.aoMap&&a.enable(8),F.emissiveMap&&a.enable(9),F.bumpMap&&a.enable(10),F.normalMap&&a.enable(11),F.objectSpaceNormalMap&&a.enable(12),F.tangentSpaceNormalMap&&a.enable(13),F.clearcoat&&a.enable(14),F.clearcoatMap&&a.enable(15),F.clearcoatRoughnessMap&&a.enable(16),F.clearcoatNormalMap&&a.enable(17),F.iridescence&&a.enable(18),F.iridescenceMap&&a.enable(19),F.iridescenceThicknessMap&&a.enable(20),F.displacementMap&&a.enable(21),F.specularMap&&a.enable(22),F.roughnessMap&&a.enable(23),F.metalnessMap&&a.enable(24),F.gradientMap&&a.enable(25),F.alphaMap&&a.enable(26),F.alphaTest&&a.enable(27),F.vertexColors&&a.enable(28),F.vertexAlphas&&a.enable(29),F.vertexUvs&&a.enable(30),F.vertexTangents&&a.enable(31),F.uvsVertexOnly&&a.enable(32),F.fog&&a.enable(33),R.push(a.mask),a.disableAll(),F.useFog&&a.enable(0),F.flatShading&&a.enable(1),F.logarithmicDepthBuffer&&a.enable(2),F.skinning&&a.enable(3),F.morphTargets&&a.enable(4),F.morphNormals&&a.enable(5),F.morphColors&&a.enable(6),F.premultipliedAlpha&&a.enable(7),F.shadowMapEnabled&&a.enable(8),F.physicallyCorrectLights&&a.enable(9),F.doubleSided&&a.enable(10),F.flipSided&&a.enable(11),F.useDepthPacking&&a.enable(12),F.dithering&&a.enable(13),F.specularIntensityMap&&a.enable(14),F.specularColorMap&&a.enable(15),F.transmission&&a.enable(16),F.transmissionMap&&a.enable(17),F.thicknessMap&&a.enable(18),F.sheen&&a.enable(19),F.sheenColorMap&&a.enable(20),F.sheenRoughnessMap&&a.enable(21),F.decodeVideoTexture&&a.enable(22),F.opaque&&a.enable(23),R.push(a.mask)}function b(R){const F=g[R.type];let O;if(F){const G=ac[F];O=kne.clone(G.uniforms)}else O=R.uniforms;return O}function T(R,F){let O;for(let G=0,Z=c.length;G<Z;G++){const V=c[G];if(V.cacheKey===F){O=V,++O.usedTimes;break}}return O===void 0&&(O=new m5e(t,F,R,s),c.push(O)),O}function E(R){if(--R.usedTimes===0){const F=c.indexOf(R);c[F]=c[c.length-1],c.pop(),R.destroy()}}function P(R){l.remove(R)}function L(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:b,acquireProgram:T,releaseProgram:E,releaseShaderCache:P,programs:c,dispose:L}}function x5e(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function w5e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function KG(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function XG(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,f,p,g,v,y){let x=t[e];return x===void 0?(x={id:d.id,object:d,geometry:f,material:p,groupOrder:g,renderOrder:d.renderOrder,z:v,group:y},t[e]=x):(x.id=d.id,x.object=d,x.geometry=f,x.material=p,x.groupOrder=g,x.renderOrder=d.renderOrder,x.z=v,x.group=y),e++,x}function a(d,f,p,g,v,y){const x=o(d,f,p,g,v,y);p.transmission>0?r.push(x):p.transparent===!0?i.push(x):n.push(x)}function l(d,f,p,g,v,y){const x=o(d,f,p,g,v,y);p.transmission>0?r.unshift(x):p.transparent===!0?i.unshift(x):n.unshift(x)}function c(d,f){n.length>1&&n.sort(d||w5e),r.length>1&&r.sort(f||KG),i.length>1&&i.sort(f||KG)}function u(){for(let d=e,f=t.length;d<f;d++){const p=t[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function b5e(){let t=new WeakMap;function e(r,i){let s;return t.has(r)===!1?(s=new XG,t.set(r,[s])):i>=t.get(r).length?(s=new XG,t.get(r).push(s)):s=t.get(r)[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function S5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ne,color:new Pt};break;case"SpotLight":n={position:new ne,direction:new ne,color:new Pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ne,color:new Pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ne,skyColor:new Pt,groundColor:new Pt};break;case"RectAreaLight":n={color:new Pt,position:new ne,halfWidth:new ne,halfHeight:new ne};break}return t[e.id]=n,n}}}function C5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ut,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let T5e=0;function E5e(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function I5e(t,e){const n=new S5e,r=C5e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new ne);const s=new ne,o=new jt,a=new jt;function l(u,d){let f=0,p=0,g=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let v=0,y=0,x=0,w=0,b=0,T=0,E=0,P=0;u.sort(E5e);const L=d!==!0?Math.PI:1;for(let F=0,O=u.length;F<O;F++){const G=u[F],Z=G.color,V=G.intensity,U=G.distance,j=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)f+=Z.r*V*L,p+=Z.g*V*L,g+=Z.b*V*L;else if(G.isLightProbe)for(let W=0;W<9;W++)i.probe[W].addScaledVector(G.sh.coefficients[W],V);else if(G.isDirectionalLight){const W=n.get(G);if(W.color.copy(G.color).multiplyScalar(G.intensity*L),G.castShadow){const X=G.shadow,B=r.get(G);B.shadowBias=X.bias,B.shadowNormalBias=X.normalBias,B.shadowRadius=X.radius,B.shadowMapSize=X.mapSize,i.directionalShadow[v]=B,i.directionalShadowMap[v]=j,i.directionalShadowMatrix[v]=G.shadow.matrix,T++}i.directional[v]=W,v++}else if(G.isSpotLight){const W=n.get(G);if(W.position.setFromMatrixPosition(G.matrixWorld),W.color.copy(Z).multiplyScalar(V*L),W.distance=U,W.coneCos=Math.cos(G.angle),W.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),W.decay=G.decay,G.castShadow){const X=G.shadow,B=r.get(G);B.shadowBias=X.bias,B.shadowNormalBias=X.normalBias,B.shadowRadius=X.radius,B.shadowMapSize=X.mapSize,i.spotShadow[x]=B,i.spotShadowMap[x]=j,i.spotShadowMatrix[x]=G.shadow.matrix,P++}i.spot[x]=W,x++}else if(G.isRectAreaLight){const W=n.get(G);W.color.copy(Z).multiplyScalar(V),W.halfWidth.set(G.width*.5,0,0),W.halfHeight.set(0,G.height*.5,0),i.rectArea[w]=W,w++}else if(G.isPointLight){const W=n.get(G);if(W.color.copy(G.color).multiplyScalar(G.intensity*L),W.distance=G.distance,W.decay=G.decay,G.castShadow){const X=G.shadow,B=r.get(G);B.shadowBias=X.bias,B.shadowNormalBias=X.normalBias,B.shadowRadius=X.radius,B.shadowMapSize=X.mapSize,B.shadowCameraNear=X.camera.near,B.shadowCameraFar=X.camera.far,i.pointShadow[y]=B,i.pointShadowMap[y]=j,i.pointShadowMatrix[y]=G.shadow.matrix,E++}i.point[y]=W,y++}else if(G.isHemisphereLight){const W=n.get(G);W.skyColor.copy(G.color).multiplyScalar(V*L),W.groundColor.copy(G.groundColor).multiplyScalar(V*L),i.hemi[b]=W,b++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Rt.LTC_FLOAT_1,i.rectAreaLTC2=Rt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Rt.LTC_HALF_1,i.rectAreaLTC2=Rt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=p,i.ambient[2]=g;const R=i.hash;(R.directionalLength!==v||R.pointLength!==y||R.spotLength!==x||R.rectAreaLength!==w||R.hemiLength!==b||R.numDirectionalShadows!==T||R.numPointShadows!==E||R.numSpotShadows!==P)&&(i.directional.length=v,i.spot.length=x,i.rectArea.length=w,i.point.length=y,i.hemi.length=b,i.directionalShadow.length=T,i.directionalShadowMap.length=T,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=T,i.pointShadowMatrix.length=E,i.spotShadowMatrix.length=P,R.directionalLength=v,R.pointLength=y,R.spotLength=x,R.rectAreaLength=w,R.hemiLength=b,R.numDirectionalShadows=T,R.numPointShadows=E,R.numSpotShadows=P,i.version=T5e++)}function c(u,d){let f=0,p=0,g=0,v=0,y=0;const x=d.matrixWorldInverse;for(let w=0,b=u.length;w<b;w++){const T=u[w];if(T.isDirectionalLight){const E=i.directional[f];E.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(x),f++}else if(T.isSpotLight){const E=i.spot[g];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(x),E.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(x),g++}else if(T.isRectAreaLight){const E=i.rectArea[v];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(x),a.identity(),o.copy(T.matrixWorld),o.premultiply(x),a.extractRotation(o),E.halfWidth.set(T.width*.5,0,0),E.halfHeight.set(0,T.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(T.isPointLight){const E=i.point[p];E.position.setFromMatrixPosition(T.matrixWorld),E.position.applyMatrix4(x),p++}else if(T.isHemisphereLight){const E=i.hemi[y];E.direction.setFromMatrixPosition(T.matrixWorld),E.direction.transformDirection(x),y++}}}return{setup:l,setupView:c,state:i}}function YG(t,e){const n=new I5e(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(d){r.push(d)}function a(d){i.push(d)}function l(d){n.setup(r,d)}function c(d){n.setupView(r,d)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function M5e(t,e){let n=new WeakMap;function r(s,o=0){let a;return n.has(s)===!1?(a=new YG(t,e),n.set(s,[a])):o>=n.get(s).length?(a=new YG(t,e),n.get(s).push(a)):a=n.get(s)[o],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class GU extends ji{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Tne,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class jU extends ji{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new ne,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const A5e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,R5e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function P5e(t,e,n){let r=new xk;const i=new ut,s=new ut,o=new Xn,a=new GU({depthPacking:Ene}),l=new jU,c={},u=n.maxTextureSize,d={0:Ba,1:ug,2:dg},f=new yu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ut},radius:{value:4}},vertexShader:A5e,fragmentShader:R5e}),p=f.clone();p.defines.HORIZONTAL_PASS=1;const g=new dn;g.setAttribute("position",new mr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new us(g,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=LU,this.render=function(T,E,P){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||T.length===0)return;const L=t.getRenderTarget(),R=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),O=t.state;O.setBlending(Sd),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);for(let G=0,Z=T.length;G<Z;G++){const V=T[G],U=V.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);const j=U.getFrameExtents();if(i.multiply(j),s.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/j.x),i.x=s.x*j.x,U.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/j.y),i.y=s.y*j.y,U.mapSize.y=s.y)),U.map===null&&!U.isPointLightShadow&&this.type===h0&&(U.map=new Ua(i.x,i.y),U.map.texture.name=V.name+".shadowMap",U.mapPass=new Ua(i.x,i.y),U.camera.updateProjectionMatrix()),U.map===null){const X={minFilter:wi,magFilter:wi,format:Pa};U.map=new Ua(i.x,i.y,X),U.map.texture.name=V.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const W=U.getViewportCount();for(let X=0;X<W;X++){const B=U.getViewport(X);o.set(s.x*B.x,s.y*B.y,s.x*B.z,s.y*B.w),O.viewport(o),U.updateMatrices(V,X),r=U.getFrustum(),b(E,P,U.camera,V,this.type)}!U.isPointLightShadow&&this.type===h0&&x(U,P),U.needsUpdate=!1}y.needsUpdate=!1,t.setRenderTarget(L,R,F)};function x(T,E){const P=e.update(v);f.defines.VSM_SAMPLES!==T.blurSamples&&(f.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),f.uniforms.shadow_pass.value=T.map.texture,f.uniforms.resolution.value=T.mapSize,f.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(E,null,P,f,v,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(E,null,P,p,v,null)}function w(T,E,P,L,R,F){let O=null;const G=P.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(G!==void 0?O=G:O=P.isPointLight===!0?l:a,t.localClippingEnabled&&E.clipShadows===!0&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0){const Z=O.uuid,V=E.uuid;let U=c[Z];U===void 0&&(U={},c[Z]=U);let j=U[V];j===void 0&&(j=O.clone(),U[V]=j),O=j}return O.visible=E.visible,O.wireframe=E.wireframe,F===h0?O.side=E.shadowSide!==null?E.shadowSide:E.side:O.side=E.shadowSide!==null?E.shadowSide:d[E.side],O.alphaMap=E.alphaMap,O.alphaTest=E.alphaTest,O.clipShadows=E.clipShadows,O.clippingPlanes=E.clippingPlanes,O.clipIntersection=E.clipIntersection,O.displacementMap=E.displacementMap,O.displacementScale=E.displacementScale,O.displacementBias=E.displacementBias,O.wireframeLinewidth=E.wireframeLinewidth,O.linewidth=E.linewidth,P.isPointLight===!0&&O.isMeshDistanceMaterial===!0&&(O.referencePosition.setFromMatrixPosition(P.matrixWorld),O.nearDistance=L,O.farDistance=R),O}function b(T,E,P,L,R){if(T.visible===!1)return;if(T.layers.test(E.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&R===h0)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,T.matrixWorld);const G=e.update(T),Z=T.material;if(Array.isArray(Z)){const V=G.groups;for(let U=0,j=V.length;U<j;U++){const W=V[U],X=Z[W.materialIndex];if(X&&X.visible){const B=w(T,X,L,P.near,P.far,R);t.renderBufferDirect(P,null,G,B,T,W)}}}else if(Z.visible){const V=w(T,Z,L,P.near,P.far,R);t.renderBufferDirect(P,null,G,V,T,null)}}const O=T.children;for(let G=0,Z=O.length;G<Z;G++)b(O[G],E,P,L,R)}}function k5e(t,e,n){const r=n.isWebGL2;function i(){let le=!1;const at=new Xn;let et=null;const Vt=new Xn(0,0,0,0);return{setMask:function(Et){et!==Et&&!le&&(t.colorMask(Et,Et,Et,Et),et=Et)},setLocked:function(Et){le=Et},setClear:function(Et,Lt,lt,Ft,mn){mn===!0&&(Et*=Ft,Lt*=Ft,lt*=Ft),at.set(Et,Lt,lt,Ft),Vt.equals(at)===!1&&(t.clearColor(Et,Lt,lt,Ft),Vt.copy(at))},reset:function(){le=!1,et=null,Vt.set(-1,0,0,0)}}}function s(){let le=!1,at=null,et=null,Vt=null;return{setTest:function(Et){Et?Ce(2929):oe(2929)},setMask:function(Et){at!==Et&&!le&&(t.depthMask(Et),at=Et)},setFunc:function(Et){if(et!==Et){if(Et)switch(Et){case Kte:t.depthFunc(512);break;case Xte:t.depthFunc(519);break;case Yte:t.depthFunc(513);break;case qA:t.depthFunc(515);break;case Qte:t.depthFunc(514);break;case Jte:t.depthFunc(518);break;case Zte:t.depthFunc(516);break;case ene:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);et=Et}},setLocked:function(Et){le=Et},setClear:function(Et){Vt!==Et&&(t.clearDepth(Et),Vt=Et)},reset:function(){le=!1,at=null,et=null,Vt=null}}}function o(){let le=!1,at=null,et=null,Vt=null,Et=null,Lt=null,lt=null,Ft=null,mn=null;return{setTest:function(en){le||(en?Ce(2960):oe(2960))},setMask:function(en){at!==en&&!le&&(t.stencilMask(en),at=en)},setFunc:function(en,jn,jr){(et!==en||Vt!==jn||Et!==jr)&&(t.stencilFunc(en,jn,jr),et=en,Vt=jn,Et=jr)},setOp:function(en,jn,jr){(Lt!==en||lt!==jn||Ft!==jr)&&(t.stencilOp(en,jn,jr),Lt=en,lt=jn,Ft=jr)},setLocked:function(en){le=en},setClear:function(en){mn!==en&&(t.clearStencil(en),mn=en)},reset:function(){le=!1,at=null,et=null,Vt=null,Et=null,Lt=null,lt=null,Ft=null,mn=null}}}const a=new i,l=new s,c=new o;let u={},d={},f=new WeakMap,p=[],g=null,v=!1,y=null,x=null,w=null,b=null,T=null,E=null,P=null,L=!1,R=null,F=null,O=null,G=null,Z=null;const V=t.getParameter(35661);let U=!1,j=0;const W=t.getParameter(7938);W.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(W)[1]),U=j>=1):W.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),U=j>=2);let X=null,B={};const H=t.getParameter(3088),q=t.getParameter(2978),ee=new Xn().fromArray(H),J=new Xn().fromArray(q);function de(le,at,et){const Vt=new Uint8Array(4),Et=t.createTexture();t.bindTexture(le,Et),t.texParameteri(le,10241,9728),t.texParameteri(le,10240,9728);for(let Lt=0;Lt<et;Lt++)t.texImage2D(at+Lt,0,6408,1,1,0,6408,5121,Vt);return Et}const ye={};ye[3553]=de(3553,3553,1),ye[34067]=de(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ce(2929),l.setFunc(qA),Ue(!1),Qe(vF),Ce(2884),we(Sd);function Ce(le){u[le]!==!0&&(t.enable(le),u[le]=!0)}function oe(le){u[le]!==!1&&(t.disable(le),u[le]=!1)}function He(le,at){return d[le]!==at?(t.bindFramebuffer(le,at),d[le]=at,r&&(le===36009&&(d[36160]=at),le===36160&&(d[36009]=at)),!0):!1}function Ae(le,at){let et=p,Vt=!1;if(le)if(et=f.get(at),et===void 0&&(et=[],f.set(at,et)),le.isWebGLMultipleRenderTargets){const Et=le.texture;if(et.length!==Et.length||et[0]!==36064){for(let Lt=0,lt=Et.length;Lt<lt;Lt++)et[Lt]=36064+Lt;et.length=Et.length,Vt=!0}}else et[0]!==36064&&(et[0]=36064,Vt=!0);else et[0]!==1029&&(et[0]=1029,Vt=!0);Vt&&(n.isWebGL2?t.drawBuffers(et):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(et))}function Ne(le){return g!==le?(t.useProgram(le),g=le,!0):!1}const Se={[_m]:32774,[Fte]:32778,[Bte]:32779};if(r)Se[wF]=32775,Se[bF]=32776;else{const le=e.get("EXT_blend_minmax");le!==null&&(Se[wF]=le.MIN_EXT,Se[bF]=le.MAX_EXT)}const Ze={[$te]:0,[Ute]:1,[zte]:768,[NU]:770,[qte]:776,[Gte]:774,[Wte]:772,[Vte]:769,[OU]:771,[jte]:775,[Hte]:773};function we(le,at,et,Vt,Et,Lt,lt,Ft){if(le===Sd){v===!0&&(oe(3042),v=!1);return}if(v===!1&&(Ce(3042),v=!0),le!==Ote){if(le!==y||Ft!==L){if((x!==_m||T!==_m)&&(t.blendEquation(32774),x=_m,T=_m),Ft)switch(le){case Wm:t.blendFuncSeparate(1,771,1,771);break;case yF:t.blendFunc(1,1);break;case _F:t.blendFuncSeparate(0,769,0,1);break;case xF:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case Wm:t.blendFuncSeparate(770,771,1,771);break;case yF:t.blendFunc(770,1);break;case _F:t.blendFuncSeparate(0,769,0,1);break;case xF:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}w=null,b=null,E=null,P=null,y=le,L=Ft}return}Et=Et||at,Lt=Lt||et,lt=lt||Vt,(at!==x||Et!==T)&&(t.blendEquationSeparate(Se[at],Se[Et]),x=at,T=Et),(et!==w||Vt!==b||Lt!==E||lt!==P)&&(t.blendFuncSeparate(Ze[et],Ze[Vt],Ze[Lt],Ze[lt]),w=et,b=Vt,E=Lt,P=lt),y=le,L=null}function ve(le,at){le.side===dg?oe(2884):Ce(2884);let et=le.side===Ba;at&&(et=!et),Ue(et),le.blending===Wm&&le.transparent===!1?we(Sd):we(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),l.setFunc(le.depthFunc),l.setTest(le.depthTest),l.setMask(le.depthWrite),a.setMask(le.colorWrite);const Vt=le.stencilWrite;c.setTest(Vt),Vt&&(c.setMask(le.stencilWriteMask),c.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),c.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),st(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?Ce(32926):oe(32926)}function Ue(le){R!==le&&(le?t.frontFace(2304):t.frontFace(2305),R=le)}function Qe(le){le!==Lte?(Ce(2884),le!==F&&(le===vF?t.cullFace(1029):le===Dte?t.cullFace(1028):t.cullFace(1032))):oe(2884),F=le}function ze(le){le!==O&&(U&&t.lineWidth(le),O=le)}function st(le,at,et){le?(Ce(32823),(G!==at||Z!==et)&&(t.polygonOffset(at,et),G=at,Z=et)):oe(32823)}function vt(le){le?Ce(3089):oe(3089)}function mt(le){le===void 0&&(le=33984+V-1),X!==le&&(t.activeTexture(le),X=le)}function St(le,at){X===null&&mt();let et=B[X];et===void 0&&(et={type:void 0,texture:void 0},B[X]=et),(et.type!==le||et.texture!==at)&&(t.bindTexture(le,at||ye[le]),et.type=le,et.texture=at)}function It(){const le=B[X];le!==void 0&&le.type!==void 0&&(t.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function te(){try{t.compressedTexImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Q(){try{t.texSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ue(){try{t.texSubImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Re(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Le(){try{t.texStorage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Pe(){try{t.texStorage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function xe(){try{t.texImage2D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function me(){try{t.texImage3D.apply(t,arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ee(le){ee.equals(le)===!1&&(t.scissor(le.x,le.y,le.z,le.w),ee.copy(le))}function Oe(le){J.equals(le)===!1&&(t.viewport(le.x,le.y,le.z,le.w),J.copy(le))}function qe(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},X=null,B={},d={},f=new WeakMap,p=[],g=null,v=!1,y=null,x=null,w=null,b=null,T=null,E=null,P=null,L=!1,R=null,F=null,O=null,G=null,Z=null,ee.set(0,0,t.canvas.width,t.canvas.height),J.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ce,disable:oe,bindFramebuffer:He,drawBuffers:Ae,useProgram:Ne,setBlending:we,setMaterial:ve,setFlipSided:Ue,setCullFace:Qe,setLineWidth:ze,setPolygonOffset:st,setScissorTest:vt,activeTexture:mt,bindTexture:St,unbindTexture:It,compressedTexImage2D:te,texImage2D:xe,texImage3D:me,texStorage2D:Le,texStorage3D:Pe,texSubImage2D:Q,texSubImage3D:ue,compressedTexSubImage2D:Re,scissor:Ee,viewport:Oe,reset:qe}}function L5e(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const y=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(te,Q){return x?new OffscreenCanvas(te,Q):lS("canvas")}function b(te,Q,ue,Re){let Le=1;if((te.width>Re||te.height>Re)&&(Le=Re/Math.max(te.width,te.height)),Le<1||Q===!0)if(typeof HTMLImageElement!="undefined"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&te instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&te instanceof ImageBitmap){const Pe=Q?JA:Math.floor,xe=Pe(Le*te.width),me=Pe(Le*te.height);v===void 0&&(v=w(xe,me));const Ee=ue?w(xe,me):v;return Ee.width=xe,Ee.height=me,Ee.getContext("2d").drawImage(te,0,0,xe,me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+te.width+"x"+te.height+") to ("+xe+"x"+me+")."),Ee}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+te.width+"x"+te.height+")."),te;return te}function T(te){return GF(te.width)&&GF(te.height)}function E(te){return a?!1:te.wrapS!==ks||te.wrapT!==ks||te.minFilter!==wi&&te.minFilter!==ui}function P(te,Q){return te.generateMipmaps&&Q&&te.minFilter!==wi&&te.minFilter!==ui}function L(te){t.generateMipmap(te)}function R(te,Q,ue,Re,Le=!1){if(a===!1)return Q;if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let Pe=Q;return Q===6403&&(ue===5126&&(Pe=33326),ue===5131&&(Pe=33325),ue===5121&&(Pe=33321)),Q===33319&&(ue===5126&&(Pe=33328),ue===5131&&(Pe=33327),ue===5121&&(Pe=33323)),Q===6408&&(ue===5126&&(Pe=34836),ue===5131&&(Pe=34842),ue===5121&&(Pe=Re===nr&&Le===!1?35907:32856),ue===32819&&(Pe=32854),ue===32820&&(Pe=32855)),(Pe===33325||Pe===33326||Pe===33327||Pe===33328||Pe===34842||Pe===34836)&&e.get("EXT_color_buffer_float"),Pe}function F(te,Q,ue){return P(te,ue)===!0||te.isFramebufferTexture&&te.minFilter!==wi&&te.minFilter!==ui?Math.log2(Math.max(Q.width,Q.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?Q.mipmaps.length:1}function O(te){return te===wi||te===KA||te===XA?9728:9729}function G(te){const Q=te.target;Q.removeEventListener("dispose",G),V(Q),Q.isVideoTexture&&g.delete(Q)}function Z(te){const Q=te.target;Q.removeEventListener("dispose",Z),j(Q)}function V(te){const Q=r.get(te);if(Q.__webglInit===void 0)return;const ue=te.source,Re=y.get(ue);if(Re){const Le=Re[Q.__cacheKey];Le.usedTimes--,Le.usedTimes===0&&U(te),Object.keys(Re).length===0&&y.delete(ue)}r.remove(te)}function U(te){const Q=r.get(te);t.deleteTexture(Q.__webglTexture);const ue=te.source,Re=y.get(ue);delete Re[Q.__cacheKey],o.memory.textures--}function j(te){const Q=te.texture,ue=r.get(te),Re=r.get(Q);if(Re.__webglTexture!==void 0&&(t.deleteTexture(Re.__webglTexture),o.memory.textures--),te.depthTexture&&te.depthTexture.dispose(),te.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++)t.deleteFramebuffer(ue.__webglFramebuffer[Le]),ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer[Le]);else{if(t.deleteFramebuffer(ue.__webglFramebuffer),ue.__webglDepthbuffer&&t.deleteRenderbuffer(ue.__webglDepthbuffer),ue.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ue.__webglMultisampledFramebuffer),ue.__webglColorRenderbuffer)for(let Le=0;Le<ue.__webglColorRenderbuffer.length;Le++)ue.__webglColorRenderbuffer[Le]&&t.deleteRenderbuffer(ue.__webglColorRenderbuffer[Le]);ue.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ue.__webglDepthRenderbuffer)}if(te.isWebGLMultipleRenderTargets)for(let Le=0,Pe=Q.length;Le<Pe;Le++){const xe=r.get(Q[Le]);xe.__webglTexture&&(t.deleteTexture(xe.__webglTexture),o.memory.textures--),r.remove(Q[Le])}r.remove(Q),r.remove(te)}let W=0;function X(){W=0}function B(){const te=W;return te>=l&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+l),W+=1,te}function H(te){const Q=[];return Q.push(te.wrapS),Q.push(te.wrapT),Q.push(te.magFilter),Q.push(te.minFilter),Q.push(te.anisotropy),Q.push(te.internalFormat),Q.push(te.format),Q.push(te.type),Q.push(te.generateMipmaps),Q.push(te.premultiplyAlpha),Q.push(te.flipY),Q.push(te.unpackAlignment),Q.push(te.encoding),Q.join()}function q(te,Q){const ue=r.get(te);if(te.isVideoTexture&&St(te),te.isRenderTargetTexture===!1&&te.version>0&&ue.__version!==te.version){const Re=te.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ae(ue,te,Q);return}}n.activeTexture(33984+Q),n.bindTexture(3553,ue.__webglTexture)}function ee(te,Q){const ue=r.get(te);if(te.version>0&&ue.__version!==te.version){Ae(ue,te,Q);return}n.activeTexture(33984+Q),n.bindTexture(35866,ue.__webglTexture)}function J(te,Q){const ue=r.get(te);if(te.version>0&&ue.__version!==te.version){Ae(ue,te,Q);return}n.activeTexture(33984+Q),n.bindTexture(32879,ue.__webglTexture)}function de(te,Q){const ue=r.get(te);if(te.version>0&&ue.__version!==te.version){Ne(ue,te,Q);return}n.activeTexture(33984+Q),n.bindTexture(34067,ue.__webglTexture)}const ye={[fg]:10497,[ks]:33071,[rS]:33648},Ce={[wi]:9728,[KA]:9984,[XA]:9986,[ui]:9729,[BU]:9985,[Xg]:9987};function oe(te,Q,ue){if(ue?(t.texParameteri(te,10242,ye[Q.wrapS]),t.texParameteri(te,10243,ye[Q.wrapT]),(te===32879||te===35866)&&t.texParameteri(te,32882,ye[Q.wrapR]),t.texParameteri(te,10240,Ce[Q.magFilter]),t.texParameteri(te,10241,Ce[Q.minFilter])):(t.texParameteri(te,10242,33071),t.texParameteri(te,10243,33071),(te===32879||te===35866)&&t.texParameteri(te,32882,33071),(Q.wrapS!==ks||Q.wrapT!==ks)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(te,10240,O(Q.magFilter)),t.texParameteri(te,10241,O(Q.minFilter)),Q.minFilter!==wi&&Q.minFilter!==ui&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Re=e.get("EXT_texture_filter_anisotropic");if(Q.type===md&&e.has("OES_texture_float_linear")===!1||a===!1&&Q.type===l_&&e.has("OES_texture_half_float_linear")===!1)return;(Q.anisotropy>1||r.get(Q).__currentAnisotropy)&&(t.texParameterf(te,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,i.getMaxAnisotropy())),r.get(Q).__currentAnisotropy=Q.anisotropy)}}function He(te,Q){let ue=!1;te.__webglInit===void 0&&(te.__webglInit=!0,Q.addEventListener("dispose",G));const Re=Q.source;let Le=y.get(Re);Le===void 0&&(Le={},y.set(Re,Le));const Pe=H(Q);if(Pe!==te.__cacheKey){Le[Pe]===void 0&&(Le[Pe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ue=!0),Le[Pe].usedTimes++;const xe=Le[te.__cacheKey];xe!==void 0&&(Le[te.__cacheKey].usedTimes--,xe.usedTimes===0&&U(Q)),te.__cacheKey=Pe,te.__webglTexture=Le[Pe].texture}return ue}function Ae(te,Q,ue){let Re=3553;Q.isDataArrayTexture&&(Re=35866),Q.isData3DTexture&&(Re=32879);const Le=He(te,Q),Pe=Q.source;if(n.activeTexture(33984+ue),n.bindTexture(Re,te.__webglTexture),Pe.version!==Pe.__currentVersion||Le===!0){t.pixelStorei(37440,Q.flipY),t.pixelStorei(37441,Q.premultiplyAlpha),t.pixelStorei(3317,Q.unpackAlignment),t.pixelStorei(37443,0);const xe=E(Q)&&T(Q.image)===!1;let me=b(Q.image,xe,!1,u);me=It(Q,me);const Ee=T(me)||a,Oe=s.convert(Q.format,Q.encoding);let qe=s.convert(Q.type),le=R(Q.internalFormat,Oe,qe,Q.encoding,Q.isVideoTexture);oe(Re,Q,Ee);let at;const et=Q.mipmaps,Vt=a&&Q.isVideoTexture!==!0,Et=Pe.__currentVersion===void 0||Le===!0,Lt=F(Q,me,Ee);if(Q.isDepthTexture)le=6402,a?Q.type===md?le=36012:Q.type===oh?le=33190:Q.type===Hm?le=35056:le=33189:Q.type===md&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Q.format===yh&&le===6402&&Q.type!==$U&&Q.type!==oh&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Q.type=oh,qe=s.convert(Q.type)),Q.format===hg&&le===6402&&(le=34041,Q.type!==Hm&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Q.type=Hm,qe=s.convert(Q.type))),Et&&(Vt?n.texStorage2D(3553,1,le,me.width,me.height):n.texImage2D(3553,0,le,me.width,me.height,0,Oe,qe,null));else if(Q.isDataTexture)if(et.length>0&&Ee){Vt&&Et&&n.texStorage2D(3553,Lt,le,et[0].width,et[0].height);for(let lt=0,Ft=et.length;lt<Ft;lt++)at=et[lt],Vt?n.texSubImage2D(3553,lt,0,0,at.width,at.height,Oe,qe,at.data):n.texImage2D(3553,lt,le,at.width,at.height,0,Oe,qe,at.data);Q.generateMipmaps=!1}else Vt?(Et&&n.texStorage2D(3553,Lt,le,me.width,me.height),n.texSubImage2D(3553,0,0,0,me.width,me.height,Oe,qe,me.data)):n.texImage2D(3553,0,le,me.width,me.height,0,Oe,qe,me.data);else if(Q.isCompressedTexture){Vt&&Et&&n.texStorage2D(3553,Lt,le,et[0].width,et[0].height);for(let lt=0,Ft=et.length;lt<Ft;lt++)at=et[lt],Q.format!==Pa?Oe!==null?Vt?n.compressedTexSubImage2D(3553,lt,0,0,at.width,at.height,Oe,at.data):n.compressedTexImage2D(3553,lt,le,at.width,at.height,0,at.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Vt?n.texSubImage2D(3553,lt,0,0,at.width,at.height,Oe,qe,at.data):n.texImage2D(3553,lt,le,at.width,at.height,0,Oe,qe,at.data)}else if(Q.isDataArrayTexture)Vt?(Et&&n.texStorage3D(35866,Lt,le,me.width,me.height,me.depth),n.texSubImage3D(35866,0,0,0,0,me.width,me.height,me.depth,Oe,qe,me.data)):n.texImage3D(35866,0,le,me.width,me.height,me.depth,0,Oe,qe,me.data);else if(Q.isData3DTexture)Vt?(Et&&n.texStorage3D(32879,Lt,le,me.width,me.height,me.depth),n.texSubImage3D(32879,0,0,0,0,me.width,me.height,me.depth,Oe,qe,me.data)):n.texImage3D(32879,0,le,me.width,me.height,me.depth,0,Oe,qe,me.data);else if(Q.isFramebufferTexture){if(Et)if(Vt)n.texStorage2D(3553,Lt,le,me.width,me.height);else{let lt=me.width,Ft=me.height;for(let mn=0;mn<Lt;mn++)n.texImage2D(3553,mn,le,lt,Ft,0,Oe,qe,null),lt>>=1,Ft>>=1}}else if(et.length>0&&Ee){Vt&&Et&&n.texStorage2D(3553,Lt,le,et[0].width,et[0].height);for(let lt=0,Ft=et.length;lt<Ft;lt++)at=et[lt],Vt?n.texSubImage2D(3553,lt,0,0,Oe,qe,at):n.texImage2D(3553,lt,le,Oe,qe,at);Q.generateMipmaps=!1}else Vt?(Et&&n.texStorage2D(3553,Lt,le,me.width,me.height),n.texSubImage2D(3553,0,0,0,Oe,qe,me)):n.texImage2D(3553,0,le,Oe,qe,me);P(Q,Ee)&&L(Re),Pe.__currentVersion=Pe.version,Q.onUpdate&&Q.onUpdate(Q)}te.__version=Q.version}function Ne(te,Q,ue){if(Q.image.length!==6)return;const Re=He(te,Q),Le=Q.source;if(n.activeTexture(33984+ue),n.bindTexture(34067,te.__webglTexture),Le.version!==Le.__currentVersion||Re===!0){t.pixelStorei(37440,Q.flipY),t.pixelStorei(37441,Q.premultiplyAlpha),t.pixelStorei(3317,Q.unpackAlignment),t.pixelStorei(37443,0);const Pe=Q.isCompressedTexture||Q.image[0].isCompressedTexture,xe=Q.image[0]&&Q.image[0].isDataTexture,me=[];for(let lt=0;lt<6;lt++)!Pe&&!xe?me[lt]=b(Q.image[lt],!1,!0,c):me[lt]=xe?Q.image[lt].image:Q.image[lt],me[lt]=It(Q,me[lt]);const Ee=me[0],Oe=T(Ee)||a,qe=s.convert(Q.format,Q.encoding),le=s.convert(Q.type),at=R(Q.internalFormat,qe,le,Q.encoding),et=a&&Q.isVideoTexture!==!0,Vt=Le.__currentVersion===void 0||Re===!0;let Et=F(Q,Ee,Oe);oe(34067,Q,Oe);let Lt;if(Pe){et&&Vt&&n.texStorage2D(34067,Et,at,Ee.width,Ee.height);for(let lt=0;lt<6;lt++){Lt=me[lt].mipmaps;for(let Ft=0;Ft<Lt.length;Ft++){const mn=Lt[Ft];Q.format!==Pa?qe!==null?et?n.compressedTexSubImage2D(34069+lt,Ft,0,0,mn.width,mn.height,qe,mn.data):n.compressedTexImage2D(34069+lt,Ft,at,mn.width,mn.height,0,mn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):et?n.texSubImage2D(34069+lt,Ft,0,0,mn.width,mn.height,qe,le,mn.data):n.texImage2D(34069+lt,Ft,at,mn.width,mn.height,0,qe,le,mn.data)}}}else{Lt=Q.mipmaps,et&&Vt&&(Lt.length>0&&Et++,n.texStorage2D(34067,Et,at,me[0].width,me[0].height));for(let lt=0;lt<6;lt++)if(xe){et?n.texSubImage2D(34069+lt,0,0,0,me[lt].width,me[lt].height,qe,le,me[lt].data):n.texImage2D(34069+lt,0,at,me[lt].width,me[lt].height,0,qe,le,me[lt].data);for(let Ft=0;Ft<Lt.length;Ft++){const en=Lt[Ft].image[lt].image;et?n.texSubImage2D(34069+lt,Ft+1,0,0,en.width,en.height,qe,le,en.data):n.texImage2D(34069+lt,Ft+1,at,en.width,en.height,0,qe,le,en.data)}}else{et?n.texSubImage2D(34069+lt,0,0,0,qe,le,me[lt]):n.texImage2D(34069+lt,0,at,qe,le,me[lt]);for(let Ft=0;Ft<Lt.length;Ft++){const mn=Lt[Ft];et?n.texSubImage2D(34069+lt,Ft+1,0,0,qe,le,mn.image[lt]):n.texImage2D(34069+lt,Ft+1,at,qe,le,mn.image[lt])}}}P(Q,Oe)&&L(34067),Le.__currentVersion=Le.version,Q.onUpdate&&Q.onUpdate(Q)}te.__version=Q.version}function Se(te,Q,ue,Re,Le){const Pe=s.convert(ue.format,ue.encoding),xe=s.convert(ue.type),me=R(ue.internalFormat,Pe,xe,ue.encoding);r.get(Q).__hasExternalTextures||(Le===32879||Le===35866?n.texImage3D(Le,0,me,Q.width,Q.height,Q.depth,0,Pe,xe,null):n.texImage2D(Le,0,me,Q.width,Q.height,0,Pe,xe,null)),n.bindFramebuffer(36160,te),mt(Q)?f.framebufferTexture2DMultisampleEXT(36160,Re,Le,r.get(ue).__webglTexture,0,vt(Q)):t.framebufferTexture2D(36160,Re,Le,r.get(ue).__webglTexture,0),n.bindFramebuffer(36160,null)}function Ze(te,Q,ue){if(t.bindRenderbuffer(36161,te),Q.depthBuffer&&!Q.stencilBuffer){let Re=33189;if(ue||mt(Q)){const Le=Q.depthTexture;Le&&Le.isDepthTexture&&(Le.type===md?Re=36012:Le.type===oh&&(Re=33190));const Pe=vt(Q);mt(Q)?f.renderbufferStorageMultisampleEXT(36161,Pe,Re,Q.width,Q.height):t.renderbufferStorageMultisample(36161,Pe,Re,Q.width,Q.height)}else t.renderbufferStorage(36161,Re,Q.width,Q.height);t.framebufferRenderbuffer(36160,36096,36161,te)}else if(Q.depthBuffer&&Q.stencilBuffer){const Re=vt(Q);ue&&mt(Q)===!1?t.renderbufferStorageMultisample(36161,Re,35056,Q.width,Q.height):mt(Q)?f.renderbufferStorageMultisampleEXT(36161,Re,35056,Q.width,Q.height):t.renderbufferStorage(36161,34041,Q.width,Q.height),t.framebufferRenderbuffer(36160,33306,36161,te)}else{const Re=Q.isWebGLMultipleRenderTargets===!0?Q.texture:[Q.texture];for(let Le=0;Le<Re.length;Le++){const Pe=Re[Le],xe=s.convert(Pe.format,Pe.encoding),me=s.convert(Pe.type),Ee=R(Pe.internalFormat,xe,me,Pe.encoding),Oe=vt(Q);ue&&mt(Q)===!1?t.renderbufferStorageMultisample(36161,Oe,Ee,Q.width,Q.height):mt(Q)?f.renderbufferStorageMultisampleEXT(36161,Oe,Ee,Q.width,Q.height):t.renderbufferStorage(36161,Ee,Q.width,Q.height)}}t.bindRenderbuffer(36161,null)}function we(te,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,te),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Q.depthTexture).__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),q(Q.depthTexture,0);const Re=r.get(Q.depthTexture).__webglTexture,Le=vt(Q);if(Q.depthTexture.format===yh)mt(Q)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,Re,0,Le):t.framebufferTexture2D(36160,36096,3553,Re,0);else if(Q.depthTexture.format===hg)mt(Q)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,Re,0,Le):t.framebufferTexture2D(36160,33306,3553,Re,0);else throw new Error("Unknown depthTexture format")}function ve(te){const Q=r.get(te),ue=te.isWebGLCubeRenderTarget===!0;if(te.depthTexture&&!Q.__autoAllocateDepthBuffer){if(ue)throw new Error("target.depthTexture not supported in Cube render targets");we(Q.__webglFramebuffer,te)}else if(ue){Q.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)n.bindFramebuffer(36160,Q.__webglFramebuffer[Re]),Q.__webglDepthbuffer[Re]=t.createRenderbuffer(),Ze(Q.__webglDepthbuffer[Re],te,!1)}else n.bindFramebuffer(36160,Q.__webglFramebuffer),Q.__webglDepthbuffer=t.createRenderbuffer(),Ze(Q.__webglDepthbuffer,te,!1);n.bindFramebuffer(36160,null)}function Ue(te,Q,ue){const Re=r.get(te);Q!==void 0&&Se(Re.__webglFramebuffer,te,te.texture,36064,3553),ue!==void 0&&ve(te)}function Qe(te){const Q=te.texture,ue=r.get(te),Re=r.get(Q);te.addEventListener("dispose",Z),te.isWebGLMultipleRenderTargets!==!0&&(Re.__webglTexture===void 0&&(Re.__webglTexture=t.createTexture()),Re.__version=Q.version,o.memory.textures++);const Le=te.isWebGLCubeRenderTarget===!0,Pe=te.isWebGLMultipleRenderTargets===!0,xe=T(te)||a;if(Le){ue.__webglFramebuffer=[];for(let me=0;me<6;me++)ue.__webglFramebuffer[me]=t.createFramebuffer()}else{if(ue.__webglFramebuffer=t.createFramebuffer(),Pe)if(i.drawBuffers){const me=te.texture;for(let Ee=0,Oe=me.length;Ee<Oe;Ee++){const qe=r.get(me[Ee]);qe.__webglTexture===void 0&&(qe.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&te.samples>0&&mt(te)===!1){const me=Pe?Q:[Q];ue.__webglMultisampledFramebuffer=t.createFramebuffer(),ue.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer);for(let Ee=0;Ee<me.length;Ee++){const Oe=me[Ee];ue.__webglColorRenderbuffer[Ee]=t.createRenderbuffer(),t.bindRenderbuffer(36161,ue.__webglColorRenderbuffer[Ee]);const qe=s.convert(Oe.format,Oe.encoding),le=s.convert(Oe.type),at=R(Oe.internalFormat,qe,le,Oe.encoding),et=vt(te);t.renderbufferStorageMultisample(36161,et,at,te.width,te.height),t.framebufferRenderbuffer(36160,36064+Ee,36161,ue.__webglColorRenderbuffer[Ee])}t.bindRenderbuffer(36161,null),te.depthBuffer&&(ue.__webglDepthRenderbuffer=t.createRenderbuffer(),Ze(ue.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(36160,null)}}if(Le){n.bindTexture(34067,Re.__webglTexture),oe(34067,Q,xe);for(let me=0;me<6;me++)Se(ue.__webglFramebuffer[me],te,Q,36064,34069+me);P(Q,xe)&&L(34067),n.unbindTexture()}else if(Pe){const me=te.texture;for(let Ee=0,Oe=me.length;Ee<Oe;Ee++){const qe=me[Ee],le=r.get(qe);n.bindTexture(3553,le.__webglTexture),oe(3553,qe,xe),Se(ue.__webglFramebuffer,te,qe,36064+Ee,3553),P(qe,xe)&&L(3553)}n.unbindTexture()}else{let me=3553;(te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(a?me=te.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(me,Re.__webglTexture),oe(me,Q,xe),Se(ue.__webglFramebuffer,te,Q,36064,me),P(Q,xe)&&L(me),n.unbindTexture()}te.depthBuffer&&ve(te)}function ze(te){const Q=T(te)||a,ue=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let Re=0,Le=ue.length;Re<Le;Re++){const Pe=ue[Re];if(P(Pe,Q)){const xe=te.isWebGLCubeRenderTarget?34067:3553,me=r.get(Pe).__webglTexture;n.bindTexture(xe,me),L(xe),n.unbindTexture()}}}function st(te){if(a&&te.samples>0&&mt(te)===!1){const Q=te.isWebGLMultipleRenderTargets?te.texture:[te.texture],ue=te.width,Re=te.height;let Le=16384;const Pe=[],xe=te.stencilBuffer?33306:36096,me=r.get(te),Ee=te.isWebGLMultipleRenderTargets===!0;if(Ee)for(let Oe=0;Oe<Q.length;Oe++)n.bindFramebuffer(36160,me.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Oe,36161,null),n.bindFramebuffer(36160,me.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Oe,3553,null,0);n.bindFramebuffer(36008,me.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,me.__webglFramebuffer);for(let Oe=0;Oe<Q.length;Oe++){Pe.push(36064+Oe),te.depthBuffer&&Pe.push(xe);const qe=me.__ignoreDepthValues!==void 0?me.__ignoreDepthValues:!1;if(qe===!1&&(te.depthBuffer&&(Le|=256),te.stencilBuffer&&(Le|=1024)),Ee&&t.framebufferRenderbuffer(36008,36064,36161,me.__webglColorRenderbuffer[Oe]),qe===!0&&(t.invalidateFramebuffer(36008,[xe]),t.invalidateFramebuffer(36009,[xe])),Ee){const le=r.get(Q[Oe]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,le,0)}t.blitFramebuffer(0,0,ue,Re,0,0,ue,Re,Le,9728),p&&t.invalidateFramebuffer(36008,Pe)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),Ee)for(let Oe=0;Oe<Q.length;Oe++){n.bindFramebuffer(36160,me.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Oe,36161,me.__webglColorRenderbuffer[Oe]);const qe=r.get(Q[Oe]).__webglTexture;n.bindFramebuffer(36160,me.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Oe,3553,qe,0)}n.bindFramebuffer(36009,me.__webglMultisampledFramebuffer)}}function vt(te){return Math.min(d,te.samples)}function mt(te){const Q=r.get(te);return a&&te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function St(te){const Q=o.render.frame;g.get(te)!==Q&&(g.set(te,Q),te.update())}function It(te,Q){const ue=te.encoding,Re=te.format,Le=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||te.format===QA||ue!==Nd&&(ue===nr?a===!1?e.has("EXT_sRGB")===!0&&Re===Pa?(te.format=QA,te.minFilter=ui,te.generateMipmaps=!1):Q=VU.sRGBToLinear(Q):(Re!==Pa||Le!==Oh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ue)),Q}this.allocateTextureUnit=B,this.resetTextureUnits=X,this.setTexture2D=q,this.setTexture2DArray=ee,this.setTexture3D=J,this.setTextureCube=de,this.rebindTextures=Ue,this.setupRenderTarget=Qe,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=st,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=mt}function zne(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===Oh)return 5121;if(s===une)return 32819;if(s===dne)return 32820;if(s===ane)return 5120;if(s===lne)return 5122;if(s===$U)return 5123;if(s===cne)return 5124;if(s===oh)return 5125;if(s===md)return 5126;if(s===l_)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===fne)return 6406;if(s===Pa)return 6408;if(s===pne)return 6409;if(s===mne)return 6410;if(s===yh)return 6402;if(s===hg)return 34041;if(s===gne)return 6403;if(s===hne)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===QA)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===vne)return 36244;if(s===yne)return 33319;if(s===_ne)return 33320;if(s===xne)return 36249;if(s===OM||s===FM||s===BM||s===$M)if(o===nr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===OM)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===FM)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===BM)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===$M)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===OM)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===FM)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===BM)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===$M)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===SF||s===CF||s===TF||s===EF)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===SF)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===CF)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===TF)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===EF)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===wne)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===IF||s===MF)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===IF)return o===nr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===MF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===AF||s===RF||s===PF||s===kF||s===LF||s===DF||s===NF||s===OF||s===FF||s===BF||s===$F||s===UF||s===zF||s===VF)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===AF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===RF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===PF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===kF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===LF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===DF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===NF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===OF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===FF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===BF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===$F)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===UF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===zF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===VF)return o===nr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===WF)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===WF)return o===nr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===Hm?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class Vne extends $i{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class lh extends Wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const D5e={type:"move"};class ND{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new lh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new lh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ne,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ne),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new lh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ne,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ne),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(a!==null&&(i=n.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(D5e))),c&&e.hand){o=!0;for(const v of e.hand.values()){const y=n.getJointPose(v,r);if(c.joints[v.jointName]===void 0){const w=new lh;w.matrixAutoUpdate=!1,w.visible=!1,c.joints[v.jointName]=w,c.add(w)}const x=c.joints[v.jointName];y!==null&&(x.matrix.fromArray(y.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.jointRadius=y.radius),x.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),p=.02,g=.005;c.inputState.pinching&&f>p+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=p-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}}class Wne extends ni{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:yh,u!==yh&&u!==hg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===yh&&(r=oh),r===void 0&&u===hg&&(r=Hm),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:wi,this.minFilter=l!==void 0?l:wi,this.flipY=!1,this.generateMipmaps=!1}}class N5e extends sp{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,c=null,u=null,d=null,f=null,p=null;const g=n.getContextAttributes();let v=null,y=null;const x=[],w=new Map,b=new $i;b.layers.enable(1),b.viewport=new Xn;const T=new $i;T.layers.enable(2),T.viewport=new Xn;const E=[b,T],P=new Vne;P.layers.enable(1),P.layers.enable(2);let L=null,R=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let q=x[H];return q===void 0&&(q=new ND,x[H]=q),q.getTargetRaySpace()},this.getControllerGrip=function(H){let q=x[H];return q===void 0&&(q=new ND,x[H]=q),q.getGripSpace()},this.getHand=function(H){let q=x[H];return q===void 0&&(q=new ND,x[H]=q),q.getHandSpace()};function F(H){const q=w.get(H.inputSource);q!==void 0&&q.dispatchEvent({type:H.type,data:H.inputSource})}function O(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",O),i.removeEventListener("inputsourceschange",G),w.forEach(function(H,q){H!==void 0&&H.disconnect(q)}),w.clear(),L=null,R=null,e.setRenderTarget(v),f=null,d=null,u=null,i=null,y=null,B.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(H){l=H},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(H){if(i=H,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",O),i.addEventListener("inputsourceschange",G),g.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:i.renderState.layers===void 0?g.antialias:!0,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(i,n,q),i.updateRenderState({baseLayer:f}),y=new Ua(f.framebufferWidth,f.framebufferHeight,{format:Pa,type:Oh,encoding:e.outputEncoding})}else{let q=null,ee=null,J=null;g.depth&&(J=g.stencil?35056:33190,q=g.stencil?hg:yh,ee=g.stencil?Hm:oh);const de={colorFormat:e.outputEncoding===nr?35907:32856,depthFormat:J,scaleFactor:s};u=new XRWebGLBinding(i,n),d=u.createProjectionLayer(de),i.updateRenderState({layers:[d]}),y=new Ua(d.textureWidth,d.textureHeight,{format:Pa,type:Oh,depthTexture:new Wne(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0});const ye=e.properties.get(y);ye.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(1),l=null,o=await i.requestReferenceSpace(a),B.setContext(i),B.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function G(H){const q=i.inputSources;for(let ee=0;ee<q.length;ee++){const J=q[ee].handedness==="right"?1:0;w.set(q[ee],x[J])}for(let ee=0;ee<H.removed.length;ee++){const J=H.removed[ee],de=w.get(J);de&&(de.dispatchEvent({type:"disconnected",data:J}),w.delete(J))}for(let ee=0;ee<H.added.length;ee++){const J=H.added[ee],de=w.get(J);de&&de.dispatchEvent({type:"connected",data:J})}}const Z=new ne,V=new ne;function U(H,q,ee){Z.setFromMatrixPosition(q.matrixWorld),V.setFromMatrixPosition(ee.matrixWorld);const J=Z.distanceTo(V),de=q.projectionMatrix.elements,ye=ee.projectionMatrix.elements,Ce=de[14]/(de[10]-1),oe=de[14]/(de[10]+1),He=(de[9]+1)/de[5],Ae=(de[9]-1)/de[5],Ne=(de[8]-1)/de[0],Se=(ye[8]+1)/ye[0],Ze=Ce*Ne,we=Ce*Se,ve=J/(-Ne+Se),Ue=ve*-Ne;q.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(Ue),H.translateZ(ve),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Qe=Ce+ve,ze=oe+ve,st=Ze-Ue,vt=we+(J-Ue),mt=He*oe/ze*Qe,St=Ae*oe/ze*Qe;H.projectionMatrix.makePerspective(st,vt,mt,St,Qe,ze)}function j(H,q){q===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(q.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(i===null)return;P.near=T.near=b.near=H.near,P.far=T.far=b.far=H.far,(L!==P.near||R!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),L=P.near,R=P.far);const q=H.parent,ee=P.cameras;j(P,q);for(let de=0;de<ee.length;de++)j(ee[de],q);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),H.position.copy(P.position),H.quaternion.copy(P.quaternion),H.scale.copy(P.scale),H.matrix.copy(P.matrix),H.matrixWorld.copy(P.matrixWorld);const J=H.children;for(let de=0,ye=J.length;de<ye;de++)J[de].updateMatrixWorld(!0);ee.length===2?U(P,b,T):P.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(H){d!==null&&(d.fixedFoveation=H),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=H)};let W=null;function X(H,q){if(c=q.getViewerPose(l||o),p=q,c!==null){const J=c.views;f!==null&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let de=!1;J.length!==P.cameras.length&&(P.cameras.length=0,de=!0);for(let ye=0;ye<J.length;ye++){const Ce=J[ye];let oe=null;if(f!==null)oe=f.getViewport(Ce);else{const Ae=u.getViewSubImage(d,Ce);oe=Ae.viewport,ye===0&&(e.setRenderTargetTextures(y,Ae.colorTexture,d.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(y))}let He=E[ye];He===void 0&&(He=new $i,He.layers.enable(ye),He.viewport=new Xn,E[ye]=He),He.matrix.fromArray(Ce.transform.matrix),He.projectionMatrix.fromArray(Ce.projectionMatrix),He.viewport.set(oe.x,oe.y,oe.width,oe.height),ye===0&&P.matrix.copy(He.matrix),de===!0&&P.cameras.push(He)}}const ee=i.inputSources;for(let J=0;J<x.length;J++){const de=ee[J],ye=w.get(de);ye!==void 0&&ye.update(de,q,l||o)}W&&W(H,q),p=null}const B=new Nne;B.setAnimationLoop(X),this.setAnimationLoop=function(H){W=H},this.dispose=function(){}}}function O5e(t,e){function n(v,y){v.fogColor.value.copy(y.color),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function r(v,y,x,w,b){y.isMeshBasicMaterial||y.isMeshLambertMaterial?i(v,y):y.isMeshToonMaterial?(i(v,y),u(v,y)):y.isMeshPhongMaterial?(i(v,y),c(v,y)):y.isMeshStandardMaterial?(i(v,y),d(v,y),y.isMeshPhysicalMaterial&&f(v,y,b)):y.isMeshMatcapMaterial?(i(v,y),p(v,y)):y.isMeshDepthMaterial?i(v,y):y.isMeshDistanceMaterial?(i(v,y),g(v,y)):y.isMeshNormalMaterial?i(v,y):y.isLineBasicMaterial?(s(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?a(v,y,x,w):y.isSpriteMaterial?l(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function i(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.bumpMap&&(v.bumpMap.value=y.bumpMap,v.bumpScale.value=y.bumpScale,y.side===Ba&&(v.bumpScale.value*=-1)),y.displacementMap&&(v.displacementMap.value=y.displacementMap,v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap),y.normalMap&&(v.normalMap.value=y.normalMap,v.normalScale.value.copy(y.normalScale),y.side===Ba&&v.normalScale.value.negate()),y.specularMap&&(v.specularMap.value=y.specularMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const x=e.get(y).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap){v.lightMap.value=y.lightMap;const T=t.physicallyCorrectLights!==!0?Math.PI:1;v.lightMapIntensity.value=y.lightMapIntensity*T}y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity);let w;y.map?w=y.map:y.specularMap?w=y.specularMap:y.displacementMap?w=y.displacementMap:y.normalMap?w=y.normalMap:y.bumpMap?w=y.bumpMap:y.roughnessMap?w=y.roughnessMap:y.metalnessMap?w=y.metalnessMap:y.alphaMap?w=y.alphaMap:y.emissiveMap?w=y.emissiveMap:y.clearcoatMap?w=y.clearcoatMap:y.clearcoatNormalMap?w=y.clearcoatNormalMap:y.clearcoatRoughnessMap?w=y.clearcoatRoughnessMap:y.iridescenceMap?w=y.iridescenceMap:y.iridescenceThicknessMap?w=y.iridescenceThicknessMap:y.specularIntensityMap?w=y.specularIntensityMap:y.specularColorMap?w=y.specularColorMap:y.transmissionMap?w=y.transmissionMap:y.thicknessMap?w=y.thicknessMap:y.sheenColorMap?w=y.sheenColorMap:y.sheenRoughnessMap&&(w=y.sheenRoughnessMap),w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),v.uvTransform.value.copy(w.matrix));let b;y.aoMap?b=y.aoMap:y.lightMap&&(b=y.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uv2Transform.value.copy(b.matrix))}function s(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function a(v,y,x,w){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*x,v.scale.value=w*.5,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let b;y.map?b=y.map:y.alphaMap&&(b=y.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),v.uvTransform.value.copy(b.matrix))}function l(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map),y.alphaMap&&(v.alphaMap.value=y.alphaMap),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);let x;y.map?x=y.map:y.alphaMap&&(x=y.alphaMap),x!==void 0&&(x.matrixAutoUpdate===!0&&x.updateMatrix(),v.uvTransform.value.copy(x.matrix))}function c(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function u(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function d(v,y){v.roughness.value=y.roughness,v.metalness.value=y.metalness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap),y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap),e.get(y).envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function f(v,y,x){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap)),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap),y.clearcoatNormalMap&&(v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),v.clearcoatNormalMap.value=y.clearcoatNormalMap,y.side===Ba&&v.clearcoatNormalScale.value.negate())),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap)),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap)}function p(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){v.referencePosition.value.copy(y.referencePosition),v.nearDistance.value=y.nearDistance,v.farDistance.value=y.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function F5e(){const t=lS("canvas");return t.style.display="block",t}function qU(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:F5e(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",c=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let u;n!==null?u=n.getContextAttributes().alpha:u=t.alpha!==void 0?t.alpha:!1;let d=null,f=null;const p=[],g=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Nd,this.physicallyCorrectLights=!1,this.toneMapping=yc,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const v=this;let y=!1,x=0,w=0,b=null,T=-1,E=null;const P=new Xn,L=new Xn;let R=null,F=e.width,O=e.height,G=1,Z=null,V=null;const U=new Xn(0,0,F,O),j=new Xn(0,0,F,O);let W=!1;const X=new xk;let B=!1,H=!1,q=null;const ee=new jt,J=new ut,de=new ne,ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ce(){return b===null?G:1}let oe=n;function He(ie,Te){for(let Fe=0;Fe<ie.length;Fe++){const ce=ie[Fe],ge=e.getContext(ce,Te);if(ge!==null)return ge}return null}try{const ie={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${mk}`),e.addEventListener("webglcontextlost",le,!1),e.addEventListener("webglcontextrestored",at,!1),e.addEventListener("webglcontextcreationerror",et,!1),oe===null){const Te=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Te.shift(),oe=He(Te,ie),oe===null)throw He(Te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}oe.getShaderPrecisionFormat===void 0&&(oe.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ie){throw console.error("THREE.WebGLRenderer: "+ie.message),ie}let Ae,Ne,Se,Ze,we,ve,Ue,Qe,ze,st,vt,mt,St,It,te,Q,ue,Re,Le,Pe,xe,me,Ee;function Oe(){Ae=new Z4e(oe),Ne=new q4e(oe,Ae,t),Ae.init(Ne),me=new zne(oe,Ae,Ne),Se=new k5e(oe,Ae,Ne),Ze=new nVe(oe),we=new x5e,ve=new L5e(oe,Ae,Se,we,Ne,me,Ze),Ue=new X4e(v),Qe=new J4e(v),ze=new pUe(oe,Ne),Ee=new G4e(oe,Ae,ze,Ne),st=new eVe(oe,ze,Ze,Ee),vt=new oVe(oe,st,ze,Ze),Le=new sVe(oe,Ne,ve),Q=new K4e(we),mt=new _5e(v,Ue,Qe,Ae,Ne,Ee,Q),St=new O5e(v,we),It=new b5e,te=new M5e(Ae,Ne),Re=new H4e(v,Ue,Se,vt,u,o),ue=new P5e(v,vt,Ne),Pe=new j4e(oe,Ae,Ze,Ne),xe=new tVe(oe,Ae,Ze,Ne),Ze.programs=mt.programs,v.capabilities=Ne,v.extensions=Ae,v.properties=we,v.renderLists=It,v.shadowMap=ue,v.state=Se,v.info=Ze}Oe();const qe=new N5e(v,oe);this.xr=qe,this.getContext=function(){return oe},this.getContextAttributes=function(){return oe.getContextAttributes()},this.forceContextLoss=function(){const ie=Ae.get("WEBGL_lose_context");ie&&ie.loseContext()},this.forceContextRestore=function(){const ie=Ae.get("WEBGL_lose_context");ie&&ie.restoreContext()},this.getPixelRatio=function(){return G},this.setPixelRatio=function(ie){ie!==void 0&&(G=ie,this.setSize(F,O,!1))},this.getSize=function(ie){return ie.set(F,O)},this.setSize=function(ie,Te,Fe){if(qe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=ie,O=Te,e.width=Math.floor(ie*G),e.height=Math.floor(Te*G),Fe!==!1&&(e.style.width=ie+"px",e.style.height=Te+"px"),this.setViewport(0,0,ie,Te)},this.getDrawingBufferSize=function(ie){return ie.set(F*G,O*G).floor()},this.setDrawingBufferSize=function(ie,Te,Fe){F=ie,O=Te,G=Fe,e.width=Math.floor(ie*Fe),e.height=Math.floor(Te*Fe),this.setViewport(0,0,ie,Te)},this.getCurrentViewport=function(ie){return ie.copy(P)},this.getViewport=function(ie){return ie.copy(U)},this.setViewport=function(ie,Te,Fe,ce){ie.isVector4?U.set(ie.x,ie.y,ie.z,ie.w):U.set(ie,Te,Fe,ce),Se.viewport(P.copy(U).multiplyScalar(G).floor())},this.getScissor=function(ie){return ie.copy(j)},this.setScissor=function(ie,Te,Fe,ce){ie.isVector4?j.set(ie.x,ie.y,ie.z,ie.w):j.set(ie,Te,Fe,ce),Se.scissor(L.copy(j).multiplyScalar(G).floor())},this.getScissorTest=function(){return W},this.setScissorTest=function(ie){Se.setScissorTest(W=ie)},this.setOpaqueSort=function(ie){Z=ie},this.setTransparentSort=function(ie){V=ie},this.getClearColor=function(ie){return ie.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(ie=!0,Te=!0,Fe=!0){let ce=0;ie&&(ce|=16384),Te&&(ce|=256),Fe&&(ce|=1024),oe.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",le,!1),e.removeEventListener("webglcontextrestored",at,!1),e.removeEventListener("webglcontextcreationerror",et,!1),It.dispose(),te.dispose(),we.dispose(),Ue.dispose(),Qe.dispose(),vt.dispose(),Ee.dispose(),mt.dispose(),qe.dispose(),qe.removeEventListener("sessionstart",mn),qe.removeEventListener("sessionend",en),q&&(q.dispose(),q=null),jn.stop()};function le(ie){ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),y=!0}function at(){console.log("THREE.WebGLRenderer: Context Restored."),y=!1;const ie=Ze.autoReset,Te=ue.enabled,Fe=ue.autoUpdate,ce=ue.needsUpdate,ge=ue.type;Oe(),Ze.autoReset=ie,ue.enabled=Te,ue.autoUpdate=Fe,ue.needsUpdate=ce,ue.type=ge}function et(ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ie.statusMessage)}function Vt(ie){const Te=ie.target;Te.removeEventListener("dispose",Vt),Et(Te)}function Et(ie){Lt(ie),we.remove(ie)}function Lt(ie){const Te=we.get(ie).programs;Te!==void 0&&(Te.forEach(function(Fe){mt.releaseProgram(Fe)}),ie.isShaderMaterial&&mt.releaseShaderCache(ie))}this.renderBufferDirect=function(ie,Te,Fe,ce,ge,dt){Te===null&&(Te=ye);const bt=ge.isMesh&&ge.matrixWorld.determinant()<0,Dt=Pc(ie,Te,Fe,ce,ge);Se.setMaterial(ce,bt);let Wt=Fe.index;const Yt=Fe.attributes.position;if(Wt===null){if(Yt===void 0||Yt.count===0)return}else if(Wt.count===0)return;let tn=1;ce.wireframe===!0&&(Wt=st.getWireframeAttribute(Fe),tn=2),Ee.setup(ge,ce,Dt,Fe,Wt);let gn,Zn=Pe;Wt!==null&&(gn=ze.get(Wt),Zn=xe,Zn.setIndex(gn));const Ol=Wt!==null?Wt.count:Yt.count,kc=Fe.drawRange.start*tn,Fl=Fe.drawRange.count*tn,ho=dt!==null?dt.start*tn:0,Cn=dt!==null?dt.count*tn:1/0,Vo=Math.max(kc,ho),gr=Math.min(Ol,kc+Fl,ho+Cn)-1,Hs=Math.max(0,gr-Vo+1);if(Hs!==0){if(ge.isMesh)ce.wireframe===!0?(Se.setLineWidth(ce.wireframeLinewidth*Ce()),Zn.setMode(1)):Zn.setMode(4);else if(ge.isLine){let Xa=ce.linewidth;Xa===void 0&&(Xa=1),Se.setLineWidth(Xa*Ce()),ge.isLineSegments?Zn.setMode(1):ge.isLineLoop?Zn.setMode(2):Zn.setMode(3)}else ge.isPoints?Zn.setMode(0):ge.isSprite&&Zn.setMode(4);if(ge.isInstancedMesh)Zn.renderInstances(Vo,Hs,ge.count);else if(Fe.isInstancedBufferGeometry){const Xa=Math.min(Fe.instanceCount,Fe._maxInstanceCount);Zn.renderInstances(Vo,Hs,Xa)}else Zn.render(Vo,Hs)}},this.compile=function(ie,Te){f=te.get(ie),f.init(),g.push(f),ie.traverseVisible(function(Fe){Fe.isLight&&Fe.layers.test(Te.layers)&&(f.pushLight(Fe),Fe.castShadow&&f.pushShadow(Fe))}),f.setupLights(v.physicallyCorrectLights),ie.traverse(function(Fe){const ce=Fe.material;if(ce)if(Array.isArray(ce))for(let ge=0;ge<ce.length;ge++){const dt=ce[ge];Ss(dt,ie,Fe)}else Ss(ce,ie,Fe)}),g.pop(),f=null};let lt=null;function Ft(ie){lt&&lt(ie)}function mn(){jn.stop()}function en(){jn.start()}const jn=new Nne;jn.setAnimationLoop(Ft),typeof self!="undefined"&&jn.setContext(self),this.setAnimationLoop=function(ie){lt=ie,qe.setAnimationLoop(ie),ie===null?jn.stop():jn.start()},qe.addEventListener("sessionstart",mn),qe.addEventListener("sessionend",en),this.render=function(ie,Te){if(Te!==void 0&&Te.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(y===!0)return;ie.autoUpdate===!0&&ie.updateMatrixWorld(),Te.parent===null&&Te.updateMatrixWorld(),qe.enabled===!0&&qe.isPresenting===!0&&(qe.cameraAutoUpdate===!0&&qe.updateCamera(Te),Te=qe.getCamera()),ie.isScene===!0&&ie.onBeforeRender(v,ie,Te,b),f=te.get(ie,g.length),f.init(),g.push(f),ee.multiplyMatrices(Te.projectionMatrix,Te.matrixWorldInverse),X.setFromProjectionMatrix(ee),H=this.localClippingEnabled,B=Q.init(this.clippingPlanes,H,Te),d=It.get(ie,p.length),d.init(),p.push(d),jr(ie,Te,0,v.sortObjects),d.finish(),v.sortObjects===!0&&d.sort(Z,V),B===!0&&Q.beginShadows();const Fe=f.state.shadowsArray;if(ue.render(Fe,ie,Te),B===!0&&Q.endShadows(),this.info.autoReset===!0&&this.info.reset(),Re.render(d,ie),f.setupLights(v.physicallyCorrectLights),Te.isArrayCamera){const ce=Te.cameras;for(let ge=0,dt=ce.length;ge<dt;ge++){const bt=ce[ge];Ii(d,ie,bt,bt.viewport)}}else Ii(d,ie,Te);b!==null&&(ve.updateMultisampleRenderTarget(b),ve.updateRenderTargetMipmap(b)),ie.isScene===!0&&ie.onAfterRender(v,ie,Te),Ee.resetDefaultState(),T=-1,E=null,g.pop(),g.length>0?f=g[g.length-1]:f=null,p.pop(),p.length>0?d=p[p.length-1]:d=null};function jr(ie,Te,Fe,ce){if(ie.visible===!1)return;if(ie.layers.test(Te.layers)){if(ie.isGroup)Fe=ie.renderOrder;else if(ie.isLOD)ie.autoUpdate===!0&&ie.update(Te);else if(ie.isLight)f.pushLight(ie),ie.castShadow&&f.pushShadow(ie);else if(ie.isSprite){if(!ie.frustumCulled||X.intersectsSprite(ie)){ce&&de.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(ee);const bt=vt.update(ie),Dt=ie.material;Dt.visible&&d.push(ie,bt,Dt,Fe,de.z,null)}}else if((ie.isMesh||ie.isLine||ie.isPoints)&&(ie.isSkinnedMesh&&ie.skeleton.frame!==Ze.render.frame&&(ie.skeleton.update(),ie.skeleton.frame=Ze.render.frame),!ie.frustumCulled||X.intersectsObject(ie))){ce&&de.setFromMatrixPosition(ie.matrixWorld).applyMatrix4(ee);const bt=vt.update(ie),Dt=ie.material;if(Array.isArray(Dt)){const Wt=bt.groups;for(let Yt=0,tn=Wt.length;Yt<tn;Yt++){const gn=Wt[Yt],Zn=Dt[gn.materialIndex];Zn&&Zn.visible&&d.push(ie,bt,Zn,Fe,de.z,gn)}}else Dt.visible&&d.push(ie,bt,Dt,Fe,de.z,null)}}const dt=ie.children;for(let bt=0,Dt=dt.length;bt<Dt;bt++)jr(dt[bt],Te,Fe,ce)}function Ii(ie,Te,Fe,ce){const ge=ie.opaque,dt=ie.transmissive,bt=ie.transparent;f.setupLightsView(Fe),dt.length>0&&xn(ge,Te,Fe),ce&&Se.viewport(P.copy(ce)),ge.length>0&&cr(ge,Te,Fe),dt.length>0&&cr(dt,Te,Fe),bt.length>0&&cr(bt,Te,Fe),Se.buffers.depth.setTest(!0),Se.buffers.depth.setMask(!0),Se.buffers.color.setMask(!0),Se.setPolygonOffset(!1)}function xn(ie,Te,Fe){const ce=Ne.isWebGL2;q===null&&(q=new Ua(1,1,{generateMipmaps:!0,type:Ae.has("EXT_color_buffer_half_float")?l_:Oh,minFilter:Xg,samples:ce&&s===!0?4:0})),v.getDrawingBufferSize(J),ce?q.setSize(J.x,J.y):q.setSize(JA(J.x),JA(J.y));const ge=v.getRenderTarget();v.setRenderTarget(q),v.clear();const dt=v.toneMapping;v.toneMapping=yc,cr(ie,Te,Fe),v.toneMapping=dt,ve.updateMultisampleRenderTarget(q),ve.updateRenderTargetMipmap(q),v.setRenderTarget(ge)}function cr(ie,Te,Fe){const ce=Te.isScene===!0?Te.overrideMaterial:null;for(let ge=0,dt=ie.length;ge<dt;ge++){const bt=ie[ge],Dt=bt.object,Wt=bt.geometry,Yt=ce===null?bt.material:ce,tn=bt.group;Dt.layers.test(Fe.layers)&&Yi(Dt,Te,Fe,Wt,Yt,tn)}}function Yi(ie,Te,Fe,ce,ge,dt){ie.onBeforeRender(v,Te,Fe,ce,ge,dt),ie.modelViewMatrix.multiplyMatrices(Fe.matrixWorldInverse,ie.matrixWorld),ie.normalMatrix.getNormalMatrix(ie.modelViewMatrix),ge.onBeforeRender(v,Te,Fe,ce,ie,dt),ge.transparent===!0&&ge.side===dg?(ge.side=Ba,ge.needsUpdate=!0,v.renderBufferDirect(Fe,Te,ce,ge,ie,dt),ge.side=ug,ge.needsUpdate=!0,v.renderBufferDirect(Fe,Te,ce,ge,ie,dt),ge.side=dg):v.renderBufferDirect(Fe,Te,ce,ge,ie,dt),ie.onAfterRender(v,Te,Fe,ce,ge,dt)}function Ss(ie,Te,Fe){Te.isScene!==!0&&(Te=ye);const ce=we.get(ie),ge=f.state.lights,dt=f.state.shadowsArray,bt=ge.state.version,Dt=mt.getParameters(ie,ge.state,dt,Te,Fe),Wt=mt.getProgramCacheKey(Dt);let Yt=ce.programs;ce.environment=ie.isMeshStandardMaterial?Te.environment:null,ce.fog=Te.fog,ce.envMap=(ie.isMeshStandardMaterial?Qe:Ue).get(ie.envMap||ce.environment),Yt===void 0&&(ie.addEventListener("dispose",Vt),Yt=new Map,ce.programs=Yt);let tn=Yt.get(Wt);if(tn!==void 0){if(ce.currentProgram===tn&&ce.lightsStateVersion===bt)return Nl(ie,Dt),tn}else Dt.uniforms=mt.getUniforms(ie),ie.onBuild(Fe,Dt,v),ie.onBeforeCompile(Dt,v),tn=mt.acquireProgram(Dt,Wt),Yt.set(Wt,tn),ce.uniforms=Dt.uniforms;const gn=ce.uniforms;(!ie.isShaderMaterial&&!ie.isRawShaderMaterial||ie.clipping===!0)&&(gn.clippingPlanes=Q.uniform),Nl(ie,Dt),ce.needsLights=Ka(ie),ce.lightsStateVersion=bt,ce.needsLights&&(gn.ambientLightColor.value=ge.state.ambient,gn.lightProbe.value=ge.state.probe,gn.directionalLights.value=ge.state.directional,gn.directionalLightShadows.value=ge.state.directionalShadow,gn.spotLights.value=ge.state.spot,gn.spotLightShadows.value=ge.state.spotShadow,gn.rectAreaLights.value=ge.state.rectArea,gn.ltc_1.value=ge.state.rectAreaLTC1,gn.ltc_2.value=ge.state.rectAreaLTC2,gn.pointLights.value=ge.state.point,gn.pointLightShadows.value=ge.state.pointShadow,gn.hemisphereLights.value=ge.state.hemi,gn.directionalShadowMap.value=ge.state.directionalShadowMap,gn.directionalShadowMatrix.value=ge.state.directionalShadowMatrix,gn.spotShadowMap.value=ge.state.spotShadowMap,gn.spotShadowMatrix.value=ge.state.spotShadowMatrix,gn.pointShadowMap.value=ge.state.pointShadowMap,gn.pointShadowMatrix.value=ge.state.pointShadowMatrix);const Zn=tn.getUniforms(),Ol=WM.seqWithValue(Zn.seq,gn);return ce.currentProgram=tn,ce.uniformsList=Ol,tn}function Nl(ie,Te){const Fe=we.get(ie);Fe.outputEncoding=Te.outputEncoding,Fe.instancing=Te.instancing,Fe.skinning=Te.skinning,Fe.morphTargets=Te.morphTargets,Fe.morphNormals=Te.morphNormals,Fe.morphColors=Te.morphColors,Fe.morphTargetsCount=Te.morphTargetsCount,Fe.numClippingPlanes=Te.numClippingPlanes,Fe.numIntersection=Te.numClipIntersection,Fe.vertexAlphas=Te.vertexAlphas,Fe.vertexTangents=Te.vertexTangents,Fe.toneMapping=Te.toneMapping}function Pc(ie,Te,Fe,ce,ge){Te.isScene!==!0&&(Te=ye),ve.resetTextureUnits();const dt=Te.fog,bt=ce.isMeshStandardMaterial?Te.environment:null,Dt=b===null?v.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:Nd,Wt=(ce.isMeshStandardMaterial?Qe:Ue).get(ce.envMap||bt),Yt=ce.vertexColors===!0&&!!Fe.attributes.color&&Fe.attributes.color.itemSize===4,tn=!!ce.normalMap&&!!Fe.attributes.tangent,gn=!!Fe.morphAttributes.position,Zn=!!Fe.morphAttributes.normal,Ol=!!Fe.morphAttributes.color,kc=ce.toneMapped?v.toneMapping:yc,Fl=Fe.morphAttributes.position||Fe.morphAttributes.normal||Fe.morphAttributes.color,ho=Fl!==void 0?Fl.length:0,Cn=we.get(ce),Vo=f.state.lights;if(B===!0&&(H===!0||ie!==E)){const qr=ie===E&&ce.id===T;Q.setState(ce,ie,qr)}let gr=!1;ce.version===Cn.__version?(Cn.needsLights&&Cn.lightsStateVersion!==Vo.state.version||Cn.outputEncoding!==Dt||ge.isInstancedMesh&&Cn.instancing===!1||!ge.isInstancedMesh&&Cn.instancing===!0||ge.isSkinnedMesh&&Cn.skinning===!1||!ge.isSkinnedMesh&&Cn.skinning===!0||Cn.envMap!==Wt||ce.fog===!0&&Cn.fog!==dt||Cn.numClippingPlanes!==void 0&&(Cn.numClippingPlanes!==Q.numPlanes||Cn.numIntersection!==Q.numIntersection)||Cn.vertexAlphas!==Yt||Cn.vertexTangents!==tn||Cn.morphTargets!==gn||Cn.morphNormals!==Zn||Cn.morphColors!==Ol||Cn.toneMapping!==kc||Ne.isWebGL2===!0&&Cn.morphTargetsCount!==ho)&&(gr=!0):(gr=!0,Cn.__version=ce.version);let Hs=Cn.currentProgram;gr===!0&&(Hs=Ss(ce,Te,ge));let Xa=!1,va=!1,$n=!1;const qn=Hs.getUniforms(),Rn=Cn.uniforms;if(Se.useProgram(Hs.program)&&(Xa=!0,va=!0,$n=!0),ce.id!==T&&(T=ce.id,va=!0),Xa||E!==ie){if(qn.setValue(oe,"projectionMatrix",ie.projectionMatrix),Ne.logarithmicDepthBuffer&&qn.setValue(oe,"logDepthBufFC",2/(Math.log(ie.far+1)/Math.LN2)),E!==ie&&(E=ie,va=!0,$n=!0),ce.isShaderMaterial||ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshStandardMaterial||ce.envMap){const qr=qn.map.cameraPosition;qr!==void 0&&qr.setValue(oe,de.setFromMatrixPosition(ie.matrixWorld))}(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&qn.setValue(oe,"isOrthographic",ie.isOrthographicCamera===!0),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial||ce.isShadowMaterial||ge.isSkinnedMesh)&&qn.setValue(oe,"viewMatrix",ie.matrixWorldInverse)}if(ge.isSkinnedMesh){qn.setOptional(oe,ge,"bindMatrix"),qn.setOptional(oe,ge,"bindMatrixInverse");const qr=ge.skeleton;qr&&(Ne.floatVertexTextures?(qr.boneTexture===null&&qr.computeBoneTexture(),qn.setValue(oe,"boneTexture",qr.boneTexture,ve),qn.setValue(oe,"boneTextureSize",qr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Kn=Fe.morphAttributes;return(Kn.position!==void 0||Kn.normal!==void 0||Kn.color!==void 0&&Ne.isWebGL2===!0)&&Le.update(ge,Fe,ce,Hs),(va||Cn.receiveShadow!==ge.receiveShadow)&&(Cn.receiveShadow=ge.receiveShadow,qn.setValue(oe,"receiveShadow",ge.receiveShadow)),va&&(qn.setValue(oe,"toneMappingExposure",v.toneMappingExposure),Cn.needsLights&&Du(Rn,$n),dt&&ce.fog===!0&&St.refreshFogUniforms(Rn,dt),St.refreshMaterialUniforms(Rn,ce,G,O,q),WM.upload(oe,Cn.uniformsList,Rn,ve)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(WM.upload(oe,Cn.uniformsList,Rn,ve),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&qn.setValue(oe,"center",ge.center),qn.setValue(oe,"modelViewMatrix",ge.modelViewMatrix),qn.setValue(oe,"normalMatrix",ge.normalMatrix),qn.setValue(oe,"modelMatrix",ge.matrixWorld),Hs}function Du(ie,Te){ie.ambientLightColor.needsUpdate=Te,ie.lightProbe.needsUpdate=Te,ie.directionalLights.needsUpdate=Te,ie.directionalLightShadows.needsUpdate=Te,ie.pointLights.needsUpdate=Te,ie.pointLightShadows.needsUpdate=Te,ie.spotLights.needsUpdate=Te,ie.spotLightShadows.needsUpdate=Te,ie.rectAreaLights.needsUpdate=Te,ie.hemisphereLights.needsUpdate=Te}function Ka(ie){return ie.isMeshLambertMaterial||ie.isMeshToonMaterial||ie.isMeshPhongMaterial||ie.isMeshStandardMaterial||ie.isShadowMaterial||ie.isShaderMaterial&&ie.lights===!0}this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(ie,Te,Fe){we.get(ie.texture).__webglTexture=Te,we.get(ie.depthTexture).__webglTexture=Fe;const ce=we.get(ie);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=Fe===void 0,ce.__autoAllocateDepthBuffer||Ae.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ie,Te){const Fe=we.get(ie);Fe.__webglFramebuffer=Te,Fe.__useDefaultFramebuffer=Te===void 0},this.setRenderTarget=function(ie,Te=0,Fe=0){b=ie,x=Te,w=Fe;let ce=!0;if(ie){const Wt=we.get(ie);Wt.__useDefaultFramebuffer!==void 0?(Se.bindFramebuffer(36160,null),ce=!1):Wt.__webglFramebuffer===void 0?ve.setupRenderTarget(ie):Wt.__hasExternalTextures&&ve.rebindTextures(ie,we.get(ie.texture).__webglTexture,we.get(ie.depthTexture).__webglTexture)}let ge=null,dt=!1,bt=!1;if(ie){const Wt=ie.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture)&&(bt=!0);const Yt=we.get(ie).__webglFramebuffer;ie.isWebGLCubeRenderTarget?(ge=Yt[Te],dt=!0):Ne.isWebGL2&&ie.samples>0&&ve.useMultisampledRTT(ie)===!1?ge=we.get(ie).__webglMultisampledFramebuffer:ge=Yt,P.copy(ie.viewport),L.copy(ie.scissor),R=ie.scissorTest}else P.copy(U).multiplyScalar(G).floor(),L.copy(j).multiplyScalar(G).floor(),R=W;if(Se.bindFramebuffer(36160,ge)&&Ne.drawBuffers&&ce&&Se.drawBuffers(ie,ge),Se.viewport(P),Se.scissor(L),Se.setScissorTest(R),dt){const Wt=we.get(ie.texture);oe.framebufferTexture2D(36160,36064,34069+Te,Wt.__webglTexture,Fe)}else if(bt){const Wt=we.get(ie.texture),Yt=Te||0;oe.framebufferTextureLayer(36160,36064,Wt.__webglTexture,Fe||0,Yt)}T=-1},this.readRenderTargetPixels=function(ie,Te,Fe,ce,ge,dt,bt){if(!(ie&&ie.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dt=we.get(ie).__webglFramebuffer;if(ie.isWebGLCubeRenderTarget&&bt!==void 0&&(Dt=Dt[bt]),Dt){Se.bindFramebuffer(36160,Dt);try{const Wt=ie.texture,Yt=Wt.format,tn=Wt.type;if(Yt!==Pa&&me.convert(Yt)!==oe.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const gn=tn===l_&&(Ae.has("EXT_color_buffer_half_float")||Ne.isWebGL2&&Ae.has("EXT_color_buffer_float"));if(tn!==Oh&&me.convert(tn)!==oe.getParameter(35738)&&!(tn===md&&(Ne.isWebGL2||Ae.has("OES_texture_float")||Ae.has("WEBGL_color_buffer_float")))&&!gn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Te>=0&&Te<=ie.width-ce&&Fe>=0&&Fe<=ie.height-ge&&oe.readPixels(Te,Fe,ce,ge,me.convert(Yt),me.convert(tn),dt)}finally{const Wt=b!==null?we.get(b).__webglFramebuffer:null;Se.bindFramebuffer(36160,Wt)}}},this.copyFramebufferToTexture=function(ie,Te,Fe=0){const ce=Math.pow(2,-Fe),ge=Math.floor(Te.image.width*ce),dt=Math.floor(Te.image.height*ce);ve.setTexture2D(Te,0),oe.copyTexSubImage2D(3553,Fe,0,0,ie.x,ie.y,ge,dt),Se.unbindTexture()},this.copyTextureToTexture=function(ie,Te,Fe,ce=0){const ge=Te.image.width,dt=Te.image.height,bt=me.convert(Fe.format),Dt=me.convert(Fe.type);ve.setTexture2D(Fe,0),oe.pixelStorei(37440,Fe.flipY),oe.pixelStorei(37441,Fe.premultiplyAlpha),oe.pixelStorei(3317,Fe.unpackAlignment),Te.isDataTexture?oe.texSubImage2D(3553,ce,ie.x,ie.y,ge,dt,bt,Dt,Te.image.data):Te.isCompressedTexture?oe.compressedTexSubImage2D(3553,ce,ie.x,ie.y,Te.mipmaps[0].width,Te.mipmaps[0].height,bt,Te.mipmaps[0].data):oe.texSubImage2D(3553,ce,ie.x,ie.y,bt,Dt,Te.image),ce===0&&Fe.generateMipmaps&&oe.generateMipmap(3553),Se.unbindTexture()},this.copyTextureToTexture3D=function(ie,Te,Fe,ce,ge=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const dt=ie.max.x-ie.min.x+1,bt=ie.max.y-ie.min.y+1,Dt=ie.max.z-ie.min.z+1,Wt=me.convert(ce.format),Yt=me.convert(ce.type);let tn;if(ce.isData3DTexture)ve.setTexture3D(ce,0),tn=32879;else if(ce.isDataArrayTexture)ve.setTexture2DArray(ce,0),tn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}oe.pixelStorei(37440,ce.flipY),oe.pixelStorei(37441,ce.premultiplyAlpha),oe.pixelStorei(3317,ce.unpackAlignment);const gn=oe.getParameter(3314),Zn=oe.getParameter(32878),Ol=oe.getParameter(3316),kc=oe.getParameter(3315),Fl=oe.getParameter(32877),ho=Fe.isCompressedTexture?Fe.mipmaps[0]:Fe.image;oe.pixelStorei(3314,ho.width),oe.pixelStorei(32878,ho.height),oe.pixelStorei(3316,ie.min.x),oe.pixelStorei(3315,ie.min.y),oe.pixelStorei(32877,ie.min.z),Fe.isDataTexture||Fe.isData3DTexture?oe.texSubImage3D(tn,ge,Te.x,Te.y,Te.z,dt,bt,Dt,Wt,Yt,ho.data):Fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),oe.compressedTexSubImage3D(tn,ge,Te.x,Te.y,Te.z,dt,bt,Dt,Wt,ho.data)):oe.texSubImage3D(tn,ge,Te.x,Te.y,Te.z,dt,bt,Dt,Wt,Yt,ho),oe.pixelStorei(3314,gn),oe.pixelStorei(32878,Zn),oe.pixelStorei(3316,Ol),oe.pixelStorei(3315,kc),oe.pixelStorei(32877,Fl),ge===0&&ce.generateMipmaps&&oe.generateMipmap(tn),Se.unbindTexture()},this.initTexture=function(ie){ve.setTexture2D(ie,0),Se.unbindTexture()},this.resetState=function(){x=0,w=0,b=null,Se.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Hne extends qU{}Hne.prototype.isWebGL1Renderer=!0;class bk{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Pt(e),this.density=n}clone(){return new bk(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Sk{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Pt(e),this.near=n,this.far=r}clone(){return new Sk(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class KU extends Wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}class Ck{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=YA,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=$a()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$a()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=$a()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const yo=new ne;class mg{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)yo.fromBufferAttribute(this,n),yo.applyMatrix4(e),this.setXYZ(n,yo.x,yo.y,yo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)yo.fromBufferAttribute(this,n),yo.applyNormalMatrix(e),this.setXYZ(n,yo.x,yo.y,yo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)yo.fromBufferAttribute(this,n),yo.transformDirection(e),this.setXYZ(n,yo.x,yo.y,yo.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new mr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new mg(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class XU extends ji{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ry;const ib=new ne,Py=new ne,ky=new ne,Ly=new ut,sb=new ut,Gne=new jt,CI=new ne,ob=new ne,TI=new ne,QG=new ut,OD=new ut,JG=new ut;class jne extends Wn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Ry===void 0){Ry=new dn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ck(n,5);Ry.setIndex([0,1,2,0,2,3]),Ry.setAttribute("position",new mg(r,3,0,!1)),Ry.setAttribute("uv",new mg(r,2,3,!1))}this.geometry=Ry,this.material=e!==void 0?e:new XU,this.center=new ut(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Py.setFromMatrixScale(this.matrixWorld),Gne.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ky.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Py.multiplyScalar(-ky.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;EI(CI.set(-.5,-.5,0),ky,o,Py,i,s),EI(ob.set(.5,-.5,0),ky,o,Py,i,s),EI(TI.set(.5,.5,0),ky,o,Py,i,s),QG.set(0,0),OD.set(1,0),JG.set(1,1);let a=e.ray.intersectTriangle(CI,ob,TI,!1,ib);if(a===null&&(EI(ob.set(-.5,.5,0),ky,o,Py,i,s),OD.set(0,1),a=e.ray.intersectTriangle(CI,TI,ob,!1,ib),a===null))return;const l=e.ray.origin.distanceTo(ib);l<e.near||l>e.far||n.push({distance:l,point:ib.clone(),uv:cl.getUV(ib,CI,ob,TI,QG,OD,JG,new ut),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function EI(t,e,n,r,i,s){Ly.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(sb.x=s*Ly.x-i*Ly.y,sb.y=i*Ly.x+s*Ly.y):sb.copy(Ly),t.copy(e),t.x+=sb.x,t.y+=sb.y,t.applyMatrix4(Gne)}const II=new ne,ZG=new ne;class qne extends Wn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0){n=Math.abs(n);const r=this.levels;let i;for(i=0;i<r.length&&!(n<r[i].distance);i++);return r.splice(i,0,{distance:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i&&!(e<n[r].distance);r++);return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){II.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(II);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){II.setFromMatrixPosition(e.matrixWorld),ZG.setFromMatrixPosition(this.matrixWorld);const r=II.distanceTo(ZG)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s&&r>=n[i].distance;i++)n[i-1].object.visible=!1,n[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance})}return n}}const e8=new ne,t8=new Xn,n8=new Xn,B5e=new ne,r8=new jt;class YU extends us{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new jt,this.bindMatrixInverse=new jt}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Xn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;t8.fromBufferAttribute(i.attributes.skinIndex,e),n8.fromBufferAttribute(i.attributes.skinWeight,e),e8.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=n8.getComponent(s);if(o!==0){const a=t8.getComponent(s);r8.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(B5e.copy(e8).applyMatrix4(r8),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class cS extends Wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class D0 extends ni{constructor(e=null,n=1,r=1,i,s,o,a,l,c=wi,u=wi,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const i8=new jt,$5e=new jt;class zC{constructor(e=[],n=[]){this.uuid=$a(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new jt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:$5e;i8.multiplyMatrices(a,n[s]),i8.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new zC(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Ane(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new D0(n,e,e,Pa,md);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new cS),this.bones.push(o),this.boneInverses.push(new jt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class u_ extends mr{constructor(e,n,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const s8=new jt,o8=new jt,MI=[],ab=new us;class Kne extends us{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new u_(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(ab.geometry=this.geometry,ab.material=this.material,ab.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,s8),o8.multiplyMatrices(r,s8),ab.matrixWorld=o8,ab.raycast(e,MI);for(let o=0,a=MI.length;o<a;o++){const l=MI[o];l.instanceId=s,l.object=this,n.push(l)}MI.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new u_(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class fo extends ji{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Pt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const a8=new ne,l8=new ne,c8=new jt,FD=new BC,AI=new Jg;class Fd extends Wn{constructor(e=new dn,n=new fo){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)a8.fromBufferAttribute(n,i-1),l8.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=a8.distanceTo(l8);e.setAttribute("lineDistance",new Ot(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),AI.copy(r.boundingSphere),AI.applyMatrix4(i),AI.radius+=s,e.ray.intersectsSphere(AI)===!1)return;c8.copy(i).invert(),FD.copy(e.ray).applyMatrix4(c8);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new ne,u=new ne,d=new ne,f=new ne,p=this.isLineSegments?2:1,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,o.start),w=Math.min(g.count,o.start+o.count);for(let b=x,T=w-1;b<T;b+=p){const E=g.getX(b),P=g.getX(b+1);if(c.fromBufferAttribute(y,E),u.fromBufferAttribute(y,P),FD.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(f);R<e.near||R>e.far||n.push({distance:R,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const x=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let b=x,T=w-1;b<T;b+=p){if(c.fromBufferAttribute(y,b),u.fromBufferAttribute(y,b+1),FD.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(f);P<e.near||P>e.far||n.push({distance:P,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const u8=new ne,d8=new ne;class Lu extends Fd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)u8.fromBufferAttribute(n,i),d8.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+u8.distanceTo(d8);e.setAttribute("lineDistance",new Ot(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Xne extends Fd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class QU extends ji{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const f8=new jt,KF=new BC,RI=new Jg,PI=new ne;class Yne extends Wn{constructor(e=new dn,n=new QU){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),RI.copy(r.boundingSphere),RI.applyMatrix4(i),RI.radius+=s,e.ray.intersectsSphere(RI)===!1)return;f8.copy(i).invert(),KF.copy(e.ray).applyMatrix4(f8);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let g=f,v=p;g<v;g++){const y=c.getX(g);PI.fromBufferAttribute(d,y),h8(PI,y,l,i,e,n,this)}}else{const f=Math.max(0,o.start),p=Math.min(d.count,o.start+o.count);for(let g=f,v=p;g<v;g++)PI.fromBufferAttribute(d,g),h8(PI,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function h8(t,e,n,r,i,s,o){const a=KF.distanceSqToPoint(t);if(a<n){const l=new ne;KF.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class U5e extends ni{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:ui,this.magFilter=s!==void 0?s:ui,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class z5e extends ni{constructor(e,n,r){super({width:e,height:n}),this.isFramebufferTexture=!0,this.format=r,this.magFilter=wi,this.minFilter=wi,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qne extends ni{constructor(e,n,r,i,s,o,a,l,c,u,d,f){super(null,o,a,l,c,u,i,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class V5e extends ni{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Ll{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],f=r[i+1]-u,p=(o-u)/f;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ut:new ne);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ne,i=[],s=[],o=[],a=new ne,l=new jt;for(let p=0;p<=e;p++){const g=p/e;i[p]=this.getTangentAt(g,new ne)}s[0]=new ne,o[0]=new ne;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(i[p-1],i[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(di(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(a,g))}o[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(di(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],p*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Tk extends Ll{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ut,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,p=c-this.aY;l=f*u-p*d+this.aX,c=f*d+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Jne extends Tk{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function JU(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,d){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,p=(a-o)/u-(l-o)/(u+d)+(l-a)/d;f*=u,p*=u,i(o,a,f,p)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const kI=new ne,BD=new JU,$D=new JU,UD=new JU;class Zne extends Ll{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ne){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(kI.subVectors(i[0],i[1]).add(i[0]),c=kI);const d=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(kI.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=kI),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(d),p),v=Math.pow(d.distanceToSquared(f),p),y=Math.pow(f.distanceToSquared(u),p);v<1e-4&&(v=1),g<1e-4&&(g=v),y<1e-4&&(y=v),BD.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,g,v,y),$D.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,g,v,y),UD.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,g,v,y)}else this.curveType==="catmullrom"&&(BD.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),$D.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),UD.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(BD.calc(l),$D.calc(l),UD.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ne().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function p8(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function W5e(t,e){const n=1-t;return n*n*e}function H5e(t,e){return 2*(1-t)*t*e}function G5e(t,e){return t*t*e}function a1(t,e,n,r){return W5e(t,e)+H5e(t,n)+G5e(t,r)}function j5e(t,e){const n=1-t;return n*n*n*e}function q5e(t,e){const n=1-t;return 3*n*n*t*e}function K5e(t,e){return 3*(1-t)*t*t*e}function X5e(t,e){return t*t*t*e}function l1(t,e,n,r,i){return j5e(t,e)+q5e(t,n)+K5e(t,r)+X5e(t,i)}class ZU extends Ll{constructor(e=new ut,n=new ut,r=new ut,i=new ut){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ut){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(l1(e,i.x,s.x,o.x,a.x),l1(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ere extends Ll{constructor(e=new ne,n=new ne,r=new ne,i=new ne){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ne){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(l1(e,i.x,s.x,o.x,a.x),l1(e,i.y,s.y,o.y,a.y),l1(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Ek extends Ll{constructor(e=new ut,n=new ut){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ut){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new ut;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tre extends Ll{constructor(e=new ne,n=new ne){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ez extends Ll{constructor(e=new ut,n=new ut,r=new ut){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ut){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(a1(e,i.x,s.x,o.x),a1(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tz extends Ll{constructor(e=new ne,n=new ne,r=new ne){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ne){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(a1(e,i.x,s.x,o.x),a1(e,i.y,s.y,o.y),a1(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nz extends Ll{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ut){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(p8(a,l.x,c.x,u.x,d.x),p8(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ut().fromArray(i))}return this}}var rz=Object.freeze({__proto__:null,ArcCurve:Jne,CatmullRomCurve3:Zne,CubicBezierCurve:ZU,CubicBezierCurve3:ere,EllipseCurve:Tk,LineCurve:Ek,LineCurve3:tre,QuadraticBezierCurve:ez,QuadraticBezierCurve3:tz,SplineCurve:nz});class nre extends Ll{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Ek(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new rz[i.type]().fromJSON(i))}return this}}class uS extends nre{constructor(e){super(),this.type="Path",this.currentPoint=new ut,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Ek(this.currentPoint.clone(),new ut(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new ez(this.currentPoint.clone(),new ut(e,n),new ut(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new ZU(this.currentPoint.clone(),new ut(e,n),new ut(r,i),new ut(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new nz(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new Tk(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class gg extends dn{constructor(e=[new ut(0,.5),new ut(.5,0),new ut(0,-.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=di(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,d=new ne,f=new ut,p=new ne,g=new ne,v=new ne;let y=0,x=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:y=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,p.x=x*1,p.y=-y,p.z=x*0,v.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(v.x,v.y,v.z);break;default:y=e[w+1].x-e[w].x,x=e[w+1].y-e[w].y,p.x=x*1,p.y=-y,p.z=x*0,g.copy(p),p.x+=v.x,p.y+=v.y,p.z+=v.z,p.normalize(),l.push(p.x,p.y,p.z),v.copy(g)}for(let w=0;w<=n;w++){const b=r+w*u*i,T=Math.sin(b),E=Math.cos(b);for(let P=0;P<=e.length-1;P++){d.x=e[P].x*T,d.y=e[P].y,d.z=e[P].x*E,o.push(d.x,d.y,d.z),f.x=w/n,f.y=P/(e.length-1),a.push(f.x,f.y);const L=l[3*P+0]*T,R=l[3*P+1],F=l[3*P+0]*E;c.push(L,R,F)}}for(let w=0;w<n;w++)for(let b=0;b<e.length-1;b++){const T=b+w*e.length,E=T,P=T+e.length,L=T+e.length+1,R=T+1;s.push(E,P,R),s.push(L,R,P)}this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("uv",new Ot(a,2)),this.setAttribute("normal",new Ot(c,3))}static fromJSON(e){return new gg(e.points,e.segments,e.phiStart,e.phiLength)}}class d_ extends gg{constructor(e=1,n=1,r=4,i=8){const s=new uS;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new d_(e.radius,e.length,e.capSegments,e.radialSegments)}}class f_ extends dn{constructor(e=1,n=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new ne,u=new ut;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const p=r+d/n*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ot(o,3)),this.setAttribute("normal",new Ot(a,3)),this.setAttribute("uv",new Ot(l,2))}static fromJSON(e){return new f_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Fh extends dn{constructor(e=1,n=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],p=[];let g=0;const v=[],y=r/2;let x=0;w(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(f,3)),this.setAttribute("uv",new Ot(p,2));function w(){const T=new ne,E=new ne;let P=0;const L=(n-e)/r;for(let R=0;R<=s;R++){const F=[],O=R/s,G=O*(n-e)+e;for(let Z=0;Z<=i;Z++){const V=Z/i,U=V*l+a,j=Math.sin(U),W=Math.cos(U);E.x=G*j,E.y=-O*r+y,E.z=G*W,d.push(E.x,E.y,E.z),T.set(j,L,W).normalize(),f.push(T.x,T.y,T.z),p.push(V,1-O),F.push(g++)}v.push(F)}for(let R=0;R<i;R++)for(let F=0;F<s;F++){const O=v[F][R],G=v[F+1][R],Z=v[F+1][R+1],V=v[F][R+1];u.push(O,G,V),u.push(G,Z,V),P+=6}c.addGroup(x,P,0),x+=P}function b(T){const E=g,P=new ut,L=new ne;let R=0;const F=T===!0?e:n,O=T===!0?1:-1;for(let Z=1;Z<=i;Z++)d.push(0,y*O,0),f.push(0,O,0),p.push(.5,.5),g++;const G=g;for(let Z=0;Z<=i;Z++){const U=Z/i*l+a,j=Math.cos(U),W=Math.sin(U);L.x=F*W,L.y=y*O,L.z=F*j,d.push(L.x,L.y,L.z),f.push(0,O,0),P.x=j*.5+.5,P.y=W*.5*O+.5,p.push(P.x,P.y),g++}for(let Z=0;Z<i;Z++){const V=E+Z,U=G+Z;T===!0?u.push(U,U+1,V):u.push(U+1,U,V),R+=3}c.addGroup(x,R,T===!0?1:2),x+=R}}static fromJSON(e){return new Fh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class h_ extends Fh{constructor(e=1,n=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new h_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class _u extends dn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(s.slice(),3)),this.setAttribute("uv",new Ot(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const b=new ne,T=new ne,E=new ne;for(let P=0;P<n.length;P+=3)p(n[P+0],b),p(n[P+1],T),p(n[P+2],E),l(b,T,E,w)}function l(w,b,T,E){const P=E+1,L=[];for(let R=0;R<=P;R++){L[R]=[];const F=w.clone().lerp(T,R/P),O=b.clone().lerp(T,R/P),G=P-R;for(let Z=0;Z<=G;Z++)Z===0&&R===P?L[R][Z]=F:L[R][Z]=F.clone().lerp(O,Z/G)}for(let R=0;R<P;R++)for(let F=0;F<2*(P-R)-1;F++){const O=Math.floor(F/2);F%2===0?(f(L[R][O+1]),f(L[R+1][O]),f(L[R][O])):(f(L[R][O+1]),f(L[R+1][O+1]),f(L[R+1][O]))}}function c(w){const b=new ne;for(let T=0;T<s.length;T+=3)b.x=s[T+0],b.y=s[T+1],b.z=s[T+2],b.normalize().multiplyScalar(w),s[T+0]=b.x,s[T+1]=b.y,s[T+2]=b.z}function u(){const w=new ne;for(let b=0;b<s.length;b+=3){w.x=s[b+0],w.y=s[b+1],w.z=s[b+2];const T=y(w)/2/Math.PI+.5,E=x(w)/Math.PI+.5;o.push(T,1-E)}g(),d()}function d(){for(let w=0;w<o.length;w+=6){const b=o[w+0],T=o[w+2],E=o[w+4],P=Math.max(b,T,E),L=Math.min(b,T,E);P>.9&&L<.1&&(b<.2&&(o[w+0]+=1),T<.2&&(o[w+2]+=1),E<.2&&(o[w+4]+=1))}}function f(w){s.push(w.x,w.y,w.z)}function p(w,b){const T=w*3;b.x=e[T+0],b.y=e[T+1],b.z=e[T+2]}function g(){const w=new ne,b=new ne,T=new ne,E=new ne,P=new ut,L=new ut,R=new ut;for(let F=0,O=0;F<s.length;F+=9,O+=6){w.set(s[F+0],s[F+1],s[F+2]),b.set(s[F+3],s[F+4],s[F+5]),T.set(s[F+6],s[F+7],s[F+8]),P.set(o[O+0],o[O+1]),L.set(o[O+2],o[O+3]),R.set(o[O+4],o[O+5]),E.copy(w).add(b).add(T).divideScalar(3);const G=y(E);v(P,O+0,w,G),v(L,O+2,b,G),v(R,O+4,T,G)}}function v(w,b,T,E){E<0&&w.x===1&&(o[b]=w.x-1),T.x===0&&T.z===0&&(o[b]=E/2/Math.PI+.5)}function y(w){return Math.atan2(w.z,-w.x)}function x(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}static fromJSON(e){return new _u(e.vertices,e.indices,e.radius,e.details)}}class p_ extends _u{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new p_(e.radius,e.detail)}}const LI=new ne,DI=new ne,zD=new ne,NI=new cl;class rre extends dn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Gm*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},p=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:v,b:y,c:x}=NI;if(v.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),NI.getNormal(zD),d[0]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const b=(w+1)%3,T=d[w],E=d[b],P=NI[u[w]],L=NI[u[b]],R=`${T}_${E}`,F=`${E}_${T}`;F in f&&f[F]?(zD.dot(f[F].normal)<=s&&(p.push(P.x,P.y,P.z),p.push(L.x,L.y,L.z)),f[F]=null):R in f||(f[R]={index0:c[w],index1:c[b],normal:zD.clone()})}}for(const g in f)if(f[g]){const{index0:v,index1:y}=f[g];LI.fromBufferAttribute(a,v),DI.fromBufferAttribute(a,y),p.push(LI.x,LI.y,LI.z),p.push(DI.x,DI.y,DI.z)}this.setAttribute("position",new Ot(p,3))}}}class Km extends uS{constructor(e){super(e),this.uuid=$a(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new uS().fromJSON(i))}return this}}const Y5e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=ire(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,d,f,p;if(r&&(s=t6e(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<i;g+=n)d=t[g],f=t[g+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);p=Math.max(c-a,u-l),p=p!==0?1/p:0}return dS(s,o,n,a,l,p),o}};function ire(t,e,n,r,i){let s,o;if(i===f6e(t,e,n,r)>0)for(s=e;s<n;s+=r)o=m8(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=m8(s,t[s],t[s+1],o);return o&&Ik(o,o.next)&&(hS(o),o=o.next),o}function Bh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Ik(n,n.next)||Wr(n.prev,n,n.next)===0)){if(hS(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function dS(t,e,n,r,i,s,o){if(!t)return;!o&&s&&o6e(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?J5e(t,r,i,s):Q5e(t)){e.push(l.i/n),e.push(t.i/n),e.push(c.i/n),hS(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Z5e(Bh(t),e,n),dS(t,e,n,r,i,s,2)):o===2&&e6e(t,e,n,r,i,s):dS(Bh(t),e,n,r,i,s,1);break}}}function Q5e(t){const e=t.prev,n=t,r=t.next;if(Wr(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(g0(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Wr(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function J5e(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Wr(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,c=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,u=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,d=XF(a,l,e,n,r),f=XF(c,u,e,n,r);let p=t.prevZ,g=t.nextZ;for(;p&&p.z>=d&&g&&g.z<=f;){if(p!==t.prev&&p!==t.next&&g0(i.x,i.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Wr(p.prev,p,p.next)>=0||(p=p.prevZ,g!==t.prev&&g!==t.next&&g0(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Wr(g.prev,g,g.next)>=0))return!1;g=g.nextZ}for(;p&&p.z>=d;){if(p!==t.prev&&p!==t.next&&g0(i.x,i.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Wr(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&g0(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Wr(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function Z5e(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Ik(i,s)&&sre(i,r,r.next,s)&&fS(i,s)&&fS(s,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(s.i/n),hS(r),hS(r.next),r=t=s),r=r.next}while(r!==t);return Bh(r)}function e6e(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&c6e(o,a)){let l=ore(o,a);o=Bh(o,o.next),l=Bh(l,l.next),dS(o,e,n,r,i,s),dS(l,e,n,r,i,s);return}a=a.next}o=o.next}while(o!==t)}function t6e(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=ire(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(l6e(c));for(i.sort(n6e),s=0;s<i.length;s++)r6e(i[s],n),n=Bh(n,n.next);return n}function n6e(t,e){return t.x-e.x}function r6e(t,e){if(e=i6e(t,e),e){const n=ore(e,t);Bh(e,e.next),Bh(n,n.next)}}function i6e(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>s){if(s=f,f===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,c=o.y;let u=1/0,d;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&g0(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)&&(d=Math.abs(i-n.y)/(r-n.x),fS(n,t)&&(d<u||d===u&&(n.x>o.x||n.x===o.x&&s6e(o,n)))&&(o=n,u=d)),n=n.next;while(n!==a);return o}function s6e(t,e){return Wr(t.prev,t,e.prev)<0&&Wr(e.next,t,t.next)<0}function o6e(t,e,n,r){let i=t;do i.z===null&&(i.z=XF(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,a6e(i)}function a6e(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function XF(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function l6e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function g0(t,e,n,r,i,s,o,a){return(i-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(r-a)-(n-o)*(e-a)>=0&&(n-o)*(s-a)-(i-o)*(r-a)>=0}function c6e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!u6e(t,e)&&(fS(t,e)&&fS(e,t)&&d6e(t,e)&&(Wr(t.prev,t,e.prev)||Wr(t,e.prev,e))||Ik(t,e)&&Wr(t.prev,t,t.next)>0&&Wr(e.prev,e,e.next)>0)}function Wr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ik(t,e){return t.x===e.x&&t.y===e.y}function sre(t,e,n,r){const i=FI(Wr(t,e,n)),s=FI(Wr(t,e,r)),o=FI(Wr(n,r,t)),a=FI(Wr(n,r,e));return!!(i!==s&&o!==a||i===0&&OI(t,n,e)||s===0&&OI(t,r,e)||o===0&&OI(n,t,r)||a===0&&OI(n,e,r))}function OI(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function FI(t){return t>0?1:t<0?-1:0}function u6e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&sre(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function fS(t,e){return Wr(t.prev,t,t.next)<0?Wr(t,e,t.next)>=0&&Wr(t,t.prev,e)>=0:Wr(t,e,t.prev)<0||Wr(t,t.next,e)<0}function d6e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ore(t,e){const n=new YF(t.i,t.x,t.y),r=new YF(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function m8(t,e,n,r){const i=new YF(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function hS(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function YF(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f6e(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class du{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return du.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];g8(e),v8(r,e);let o=e.length;n.forEach(g8);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,v8(r,n[l]);const a=Y5e.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function g8(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function v8(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class m_ extends dn{constructor(e=new Km([new ut(.5,.5),new ut(-.5,.5),new ut(-.5,-.5),new ut(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ot(i,3)),this.setAttribute("uv",new Ot(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1;let d=n.depth!==void 0?n.depth:1,f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:p-.1,v=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:h6e;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=n.amount);let b,T=!1,E,P,L,R;x&&(b=x.getSpacedPoints(u),T=!0,f=!1,E=x.computeFrenetFrames(u,!1),P=new ne,L=new ne,R=new ne),f||(y=0,p=0,g=0,v=0);const F=a.extractPoints(c);let O=F.shape;const G=F.holes;if(!du.isClockWise(O)){O=O.reverse();for(let we=0,ve=G.length;we<ve;we++){const Ue=G[we];du.isClockWise(Ue)&&(G[we]=Ue.reverse())}}const V=du.triangulateShape(O,G),U=O;for(let we=0,ve=G.length;we<ve;we++){const Ue=G[we];O=O.concat(Ue)}function j(we,ve,Ue){return ve||console.error("THREE.ExtrudeGeometry: vec does not exist"),ve.clone().multiplyScalar(Ue).add(we)}const W=O.length,X=V.length;function B(we,ve,Ue){let Qe,ze,st;const vt=we.x-ve.x,mt=we.y-ve.y,St=Ue.x-we.x,It=Ue.y-we.y,te=vt*vt+mt*mt,Q=vt*It-mt*St;if(Math.abs(Q)>Number.EPSILON){const ue=Math.sqrt(te),Re=Math.sqrt(St*St+It*It),Le=ve.x-mt/ue,Pe=ve.y+vt/ue,xe=Ue.x-It/Re,me=Ue.y+St/Re,Ee=((xe-Le)*It-(me-Pe)*St)/(vt*It-mt*St);Qe=Le+vt*Ee-we.x,ze=Pe+mt*Ee-we.y;const Oe=Qe*Qe+ze*ze;if(Oe<=2)return new ut(Qe,ze);st=Math.sqrt(Oe/2)}else{let ue=!1;vt>Number.EPSILON?St>Number.EPSILON&&(ue=!0):vt<-Number.EPSILON?St<-Number.EPSILON&&(ue=!0):Math.sign(mt)===Math.sign(It)&&(ue=!0),ue?(Qe=-mt,ze=vt,st=Math.sqrt(te)):(Qe=vt,ze=mt,st=Math.sqrt(te/2))}return new ut(Qe/st,ze/st)}const H=[];for(let we=0,ve=U.length,Ue=ve-1,Qe=we+1;we<ve;we++,Ue++,Qe++)Ue===ve&&(Ue=0),Qe===ve&&(Qe=0),H[we]=B(U[we],U[Ue],U[Qe]);const q=[];let ee,J=H.concat();for(let we=0,ve=G.length;we<ve;we++){const Ue=G[we];ee=[];for(let Qe=0,ze=Ue.length,st=ze-1,vt=Qe+1;Qe<ze;Qe++,st++,vt++)st===ze&&(st=0),vt===ze&&(vt=0),ee[Qe]=B(Ue[Qe],Ue[st],Ue[vt]);q.push(ee),J=J.concat(ee)}for(let we=0;we<y;we++){const ve=we/y,Ue=p*Math.cos(ve*Math.PI/2),Qe=g*Math.sin(ve*Math.PI/2)+v;for(let ze=0,st=U.length;ze<st;ze++){const vt=j(U[ze],H[ze],Qe);He(vt.x,vt.y,-Ue)}for(let ze=0,st=G.length;ze<st;ze++){const vt=G[ze];ee=q[ze];for(let mt=0,St=vt.length;mt<St;mt++){const It=j(vt[mt],ee[mt],Qe);He(It.x,It.y,-Ue)}}}const de=g+v;for(let we=0;we<W;we++){const ve=f?j(O[we],J[we],de):O[we];T?(L.copy(E.normals[0]).multiplyScalar(ve.x),P.copy(E.binormals[0]).multiplyScalar(ve.y),R.copy(b[0]).add(L).add(P),He(R.x,R.y,R.z)):He(ve.x,ve.y,0)}for(let we=1;we<=u;we++)for(let ve=0;ve<W;ve++){const Ue=f?j(O[ve],J[ve],de):O[ve];T?(L.copy(E.normals[we]).multiplyScalar(Ue.x),P.copy(E.binormals[we]).multiplyScalar(Ue.y),R.copy(b[we]).add(L).add(P),He(R.x,R.y,R.z)):He(Ue.x,Ue.y,d/u*we)}for(let we=y-1;we>=0;we--){const ve=we/y,Ue=p*Math.cos(ve*Math.PI/2),Qe=g*Math.sin(ve*Math.PI/2)+v;for(let ze=0,st=U.length;ze<st;ze++){const vt=j(U[ze],H[ze],Qe);He(vt.x,vt.y,d+Ue)}for(let ze=0,st=G.length;ze<st;ze++){const vt=G[ze];ee=q[ze];for(let mt=0,St=vt.length;mt<St;mt++){const It=j(vt[mt],ee[mt],Qe);T?He(It.x,It.y+b[u-1].y,b[u-1].x+Ue):He(It.x,It.y,d+Ue)}}}ye(),Ce();function ye(){const we=i.length/3;if(f){let ve=0,Ue=W*ve;for(let Qe=0;Qe<X;Qe++){const ze=V[Qe];Ae(ze[2]+Ue,ze[1]+Ue,ze[0]+Ue)}ve=u+y*2,Ue=W*ve;for(let Qe=0;Qe<X;Qe++){const ze=V[Qe];Ae(ze[0]+Ue,ze[1]+Ue,ze[2]+Ue)}}else{for(let ve=0;ve<X;ve++){const Ue=V[ve];Ae(Ue[2],Ue[1],Ue[0])}for(let ve=0;ve<X;ve++){const Ue=V[ve];Ae(Ue[0]+W*u,Ue[1]+W*u,Ue[2]+W*u)}}r.addGroup(we,i.length/3-we,0)}function Ce(){const we=i.length/3;let ve=0;oe(U,ve),ve+=U.length;for(let Ue=0,Qe=G.length;Ue<Qe;Ue++){const ze=G[Ue];oe(ze,ve),ve+=ze.length}r.addGroup(we,i.length/3-we,1)}function oe(we,ve){let Ue=we.length;for(;--Ue>=0;){const Qe=Ue;let ze=Ue-1;ze<0&&(ze=we.length-1);for(let st=0,vt=u+y*2;st<vt;st++){const mt=W*st,St=W*(st+1),It=ve+Qe+mt,te=ve+ze+mt,Q=ve+ze+St,ue=ve+Qe+St;Ne(It,te,Q,ue)}}}function He(we,ve,Ue){l.push(we),l.push(ve),l.push(Ue)}function Ae(we,ve,Ue){Se(we),Se(ve),Se(Ue);const Qe=i.length/3,ze=w.generateTopUV(r,i,Qe-3,Qe-2,Qe-1);Ze(ze[0]),Ze(ze[1]),Ze(ze[2])}function Ne(we,ve,Ue,Qe){Se(we),Se(ve),Se(Qe),Se(ve),Se(Ue),Se(Qe);const ze=i.length/3,st=w.generateSideWallUV(r,i,ze-6,ze-3,ze-2,ze-1);Ze(st[0]),Ze(st[1]),Ze(st[3]),Ze(st[1]),Ze(st[2]),Ze(st[3])}function Se(we){i.push(l[we*3+0]),i.push(l[we*3+1]),i.push(l[we*3+2])}function Ze(we){s.push(we.x),s.push(we.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return p6e(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new rz[i.type]().fromJSON(i)),new m_(r,e.options)}}const h6e={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new ut(s,o),new ut(a,l),new ut(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],p=e[i*3+1],g=e[i*3+2],v=e[s*3],y=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new ut(o,1-l),new ut(c,1-d),new ut(f,1-g),new ut(v,1-x)]:[new ut(a,1-l),new ut(u,1-d),new ut(p,1-g),new ut(y,1-x)]}};function p6e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class g_ extends _u{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new g_(e.radius,e.detail)}}class vg extends _u{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new vg(e.radius,e.detail)}}class v_ extends dn{constructor(e=.5,n=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,p=new ne,g=new ut;for(let v=0;v<=i;v++){for(let y=0;y<=r;y++){const x=s+y/r*o;p.x=d*Math.cos(x),p.y=d*Math.sin(x),l.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(p.x/n+1)/2,g.y=(p.y/n+1)/2,u.push(g.x,g.y)}d+=f}for(let v=0;v<i;v++){const y=v*(r+1);for(let x=0;x<r;x++){const w=x+y,b=w,T=w+r+1,E=w+r+2,P=w+1;a.push(b,T,P),a.push(T,E,P)}}this.setIndex(a),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(u,2))}static fromJSON(e){return new v_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class y_ extends dn{constructor(e=new Km([new ut(0,.5),new ut(-.5,-.5),new ut(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ot(i,3)),this.setAttribute("normal",new Ot(s,3)),this.setAttribute("uv",new Ot(o,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let p=f.shape;const g=f.holes;du.isClockWise(p)===!1&&(p=p.reverse());for(let y=0,x=g.length;y<x;y++){const w=g[y];du.isClockWise(w)===!0&&(g[y]=w.reverse())}const v=du.triangulateShape(p,g);for(let y=0,x=g.length;y<x;y++){const w=g[y];p=p.concat(w)}for(let y=0,x=p.length;y<x;y++){const w=p[y];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let y=0,x=v.length;y<x;y++){const w=v[y],b=w[0]+d,T=w[1]+d,E=w[2]+d;r.push(b,T,E),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return m6e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new y_(r,e.curveSegments)}}function m6e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class yg extends dn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],d=new ne,f=new ne,p=[],g=[],v=[],y=[];for(let x=0;x<=r;x++){const w=[],b=x/r;let T=0;x==0&&o==0?T=.5/n:x==r&&l==Math.PI&&(T=-.5/n);for(let E=0;E<=n;E++){const P=E/n;d.x=-e*Math.cos(i+P*s)*Math.sin(o+b*a),d.y=e*Math.cos(o+b*a),d.z=e*Math.sin(i+P*s)*Math.sin(o+b*a),g.push(d.x,d.y,d.z),f.copy(d).normalize(),v.push(f.x,f.y,f.z),y.push(P+T,1-b),w.push(c++)}u.push(w)}for(let x=0;x<r;x++)for(let w=0;w<n;w++){const b=u[x][w+1],T=u[x][w],E=u[x+1][w],P=u[x+1][w+1];(x!==0||o>0)&&p.push(b,T,P),(x!==r-1||l<Math.PI)&&p.push(T,E,P)}this.setIndex(p),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(v,3)),this.setAttribute("uv",new Ot(y,2))}static fromJSON(e){return new yg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class __ extends _u{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new __(e.radius,e.detail)}}class x_ extends dn{constructor(e=1,n=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new ne,d=new ne,f=new ne;for(let p=0;p<=r;p++)for(let g=0;g<=i;g++){const v=g/i*s,y=p/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(v),d.y=(e+n*Math.cos(y))*Math.sin(v),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),u.x=e*Math.cos(v),u.y=e*Math.sin(v),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let g=1;g<=i;g++){const v=(i+1)*p+g-1,y=(i+1)*(p-1)+g-1,x=(i+1)*(p-1)+g,w=(i+1)*p+g;o.push(v,y,w),o.push(y,x,w)}this.setIndex(o),this.setAttribute("position",new Ot(a,3)),this.setAttribute("normal",new Ot(l,3)),this.setAttribute("uv",new Ot(c,2))}static fromJSON(e){return new x_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class w_ extends dn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new ne,f=new ne,p=new ne,g=new ne,v=new ne,y=new ne,x=new ne;for(let b=0;b<=r;++b){const T=b/r*s*Math.PI*2;w(T,s,o,e,p),w(T+.01,s,o,e,g),y.subVectors(g,p),x.addVectors(g,p),v.crossVectors(y,x),x.crossVectors(v,y),v.normalize(),x.normalize();for(let E=0;E<=i;++E){const P=E/i*Math.PI*2,L=-n*Math.cos(P),R=n*Math.sin(P);d.x=p.x+(L*x.x+R*v.x),d.y=p.y+(L*x.y+R*v.y),d.z=p.z+(L*x.z+R*v.z),l.push(d.x,d.y,d.z),f.subVectors(d,p).normalize(),c.push(f.x,f.y,f.z),u.push(b/r),u.push(E/i)}}for(let b=1;b<=r;b++)for(let T=1;T<=i;T++){const E=(i+1)*(b-1)+(T-1),P=(i+1)*b+(T-1),L=(i+1)*b+T,R=(i+1)*(b-1)+T;a.push(E,P,R),a.push(P,L,R)}this.setIndex(a),this.setAttribute("position",new Ot(l,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(u,2));function w(b,T,E,P,L){const R=Math.cos(b),F=Math.sin(b),O=E/T*b,G=Math.cos(O);L.x=P*(2+G)*.5*R,L.y=P*(2+G)*F*.5,L.z=P*Math.sin(O)*.5}}static fromJSON(e){return new w_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class b_ extends dn{constructor(e=new tz(new ne(-1,-1,0),new ne(-1,1,0),new ne(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ne,l=new ne,c=new ut;let u=new ne;const d=[],f=[],p=[],g=[];v(),this.setIndex(g),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(f,3)),this.setAttribute("uv",new Ot(p,2));function v(){for(let b=0;b<n;b++)y(b);y(s===!1?n:0),w(),x()}function y(b){u=e.getPointAt(b/n,u);const T=o.normals[b],E=o.binormals[b];for(let P=0;P<=i;P++){const L=P/i*Math.PI*2,R=Math.sin(L),F=-Math.cos(L);l.x=F*T.x+R*E.x,l.y=F*T.y+R*E.y,l.z=F*T.z+R*E.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function x(){for(let b=1;b<=n;b++)for(let T=1;T<=i;T++){const E=(i+1)*(b-1)+(T-1),P=(i+1)*b+(T-1),L=(i+1)*b+T,R=(i+1)*(b-1)+T;g.push(E,P,R),g.push(P,L,R)}}function w(){for(let b=0;b<=n;b++)for(let T=0;T<=i;T++)c.x=b/n,c.y=T/i,p.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new b_(new rz[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class are extends dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ne,s=new ne;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,p=d.count;for(let g=f,v=f+p;g<v;g+=3)for(let y=0;y<3;y++){const x=a.getX(g+y),w=a.getX(g+(y+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,w),y8(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,d),y8(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ot(n,3))}}}function y8(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var _8=Object.freeze({__proto__:null,BoxGeometry:Od,BoxBufferGeometry:Od,CapsuleGeometry:d_,CapsuleBufferGeometry:d_,CircleGeometry:f_,CircleBufferGeometry:f_,ConeGeometry:h_,ConeBufferGeometry:h_,CylinderGeometry:Fh,CylinderBufferGeometry:Fh,DodecahedronGeometry:p_,DodecahedronBufferGeometry:p_,EdgesGeometry:rre,ExtrudeGeometry:m_,ExtrudeBufferGeometry:m_,IcosahedronGeometry:g_,IcosahedronBufferGeometry:g_,LatheGeometry:gg,LatheBufferGeometry:gg,OctahedronGeometry:vg,OctahedronBufferGeometry:vg,PlaneGeometry:pg,PlaneBufferGeometry:pg,PolyhedronGeometry:_u,PolyhedronBufferGeometry:_u,RingGeometry:v_,RingBufferGeometry:v_,ShapeGeometry:y_,ShapeBufferGeometry:y_,SphereGeometry:yg,SphereBufferGeometry:yg,TetrahedronGeometry:__,TetrahedronBufferGeometry:__,TorusGeometry:x_,TorusBufferGeometry:x_,TorusKnotGeometry:w_,TorusKnotBufferGeometry:w_,TubeGeometry:b_,TubeBufferGeometry:b_,WireframeGeometry:are});class lre extends ji{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Pt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cre extends yu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class iz extends ji{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yg,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ure extends iz{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ut(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return di(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Pt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class c1 extends ji{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Pt(16777215),this.specular=new Pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yg,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=OC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dre extends ji{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yg,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fre extends ji{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yg,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class sz extends ji{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=OC,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hre extends ji{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Yg,this.normalScale=new ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pre extends fo{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}const g6e={ShadowMaterial:lre,SpriteMaterial:XU,RawShaderMaterial:cre,ShaderMaterial:yu,PointsMaterial:QU,MeshPhysicalMaterial:ure,MeshStandardMaterial:iz,MeshPhongMaterial:c1,MeshToonMaterial:dre,MeshNormalMaterial:fre,MeshLambertMaterial:sz,MeshDepthMaterial:GU,MeshDistanceMaterial:jU,MeshBasicMaterial:op,MeshMatcapMaterial:hre,LineDashedMaterial:pre,LineBasicMaterial:fo,Material:ji};ji.fromType=function(t){return new g6e[t]};const Tr={arraySlice:function(t,e,n){return Tr.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i},flattenJSON:function(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)},subclip:function(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let p=0;p<c.times.length;++p){const g=c.times[p]*i;if(!(g<n||g>=r)){d.push(c.times[p]);for(let v=0;v<u;++v)f.push(c.values[p*u+v])}}d.length!==0&&(c.times=Tr.convertArray(d,c.times.constructor),c.values=Tr.convertArray(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=p/3);const g=a.times.length-1;let v;if(s<=a.times[0]){const x=u,w=d-u;v=Tr.arraySlice(a.values,x,w)}else if(s>=a.times[g]){const x=g*d+u,w=x+d-u;v=Tr.arraySlice(a.values,x,w)}else{const x=a.createInterpolant(),w=u,b=d-u;x.evaluate(s),v=Tr.arraySlice(x.resultBuffer,w,b)}l==="quaternion"&&new cs().fromArray(v).normalize().conjugate().toArray(v);const y=c.times.length;for(let x=0;x<y;++x){const w=x*p+f;if(l==="quaternion")cs.multiplyQuaternionsFlat(c.values,w,v,0,c.values,w);else{const b=p-f*2;for(let T=0;T<b;++T)c.values[w+T]-=v[T]}}}return t.blendMode=UU,t}};class VC{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mre extends VC{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mm,endingEnd:Mm}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Am:s=e,a=2*n-r;break;case oS:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Am:o=e,l=2*r-n;break;case oS:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,p=this._weightNext,g=(r-n)/(i-n),v=g*g,y=v*g,x=-f*y+2*f*v-f*g,w=(1+f)*y+(-1.5-2*f)*v+(-.5+f)*g+1,b=(-1-p)*y+(1.5+p)*v+.5*g,T=p*y-p*v;for(let E=0;E!==a;++E)s[E]=x*o[u+E]+w*o[c+E]+b*o[l+E]+T*o[d+E];return s}}class oz extends VC{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class gre extends VC{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ac{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Tr.convertArray(n,this.TimeBufferType),this.values=Tr.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Tr.convertArray(e.times,Array),values:Tr.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new gre(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mre(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case iS:n=this.InterpolantFactoryMethodDiscrete;break;case sS:n=this.InterpolantFactoryMethodLinear;break;case UM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return iS;case this.InterpolantFactoryMethodLinear:return sS;case this.InterpolantFactoryMethodSmooth:return UM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=Tr.arraySlice(r,s,o),this.values=Tr.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Tr.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=Tr.arraySlice(this.times),n=Tr.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===UM,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,p=d+r;for(let g=0;g!==r;++g){const v=n[d+g];if(v!==n[f+g]||v!==n[p+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,f=o*r;for(let p=0;p!==r;++p)n[f+p]=n[d+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=Tr.arraySlice(e,0,o),this.values=Tr.arraySlice(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=Tr.arraySlice(this.times,0),n=Tr.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ac.prototype.TimeBufferType=Float32Array;Ac.prototype.ValueBufferType=Float32Array;Ac.prototype.DefaultInterpolation=sS;class Zg extends Ac{}Zg.prototype.ValueTypeName="bool";Zg.prototype.ValueBufferType=Array;Zg.prototype.DefaultInterpolation=iS;Zg.prototype.InterpolantFactoryMethodLinear=void 0;Zg.prototype.InterpolantFactoryMethodSmooth=void 0;class az extends Ac{}az.prototype.ValueTypeName="color";class S_ extends Ac{}S_.prototype.ValueTypeName="number";class vre extends VC{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)cs.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ev extends Ac{InterpolantFactoryMethodLinear(e){return new vre(this.times,this.values,this.getValueSize(),e)}}ev.prototype.ValueTypeName="quaternion";ev.prototype.DefaultInterpolation=sS;ev.prototype.InterpolantFactoryMethodSmooth=void 0;class tv extends Ac{}tv.prototype.ValueTypeName="string";tv.prototype.ValueBufferType=Array;tv.prototype.DefaultInterpolation=iS;tv.prototype.InterpolantFactoryMethodLinear=void 0;tv.prototype.InterpolantFactoryMethodSmooth=void 0;class C_ extends Ac{}C_.prototype.ValueTypeName="vector";class T_{constructor(e,n=-1,r,i=vk){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=$a(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(y6e(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Ac.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Tr.getKeyframeOrder(l);l=Tr.sortedArray(l,1,u),c=Tr.sortedArray(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new S_(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,p,g,v){if(p.length!==0){const y=[],x=[];Tr.flattenJSON(p,y,x,g),y.length!==0&&v.push(new d(f,y,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const p={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let v=0;v<f[g].morphTargets.length;v++)p[f[g].morphTargets[v]]=-1;for(const v in p){const y=[],x=[];for(let w=0;w!==f[g].morphTargets.length;++w){const b=f[g];y.push(b.time),x.push(b.morphTarget===v?1:0)}i.push(new S_(".morphTargetInfluence["+v+"]",y,x))}l=p.length*o}else{const p=".bones["+n[d].name+"]";r(C_,p+".position",f,"pos",i),r(ev,p+".quaternion",f,"rot",i),r(C_,p+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function v6e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return S_;case"vector":case"vector2":case"vector3":case"vector4":return C_;case"color":return az;case"quaternion":return ev;case"bool":case"boolean":return Zg;case"string":return tv}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function y6e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=v6e(t.type);if(t.times===void 0){const n=[],r=[];Tr.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const _g={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class lz{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const p=c[d],g=c[d+1];if(p.global&&(p.lastIndex=0),p.test(u))return g}return null}}}const yre=new lz;class ma{constructor(e){this.manager=e!==void 0?e:yre,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const td={};class xu extends ma{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=_g.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(td[e]!==void 0){td[e].push({onLoad:n,onProgress:r,onError:i});return}td[e]=[],td[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body===void 0||c.body.getReader===void 0)return c;const u=td[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),p=f?parseInt(f):0,g=p!==0;let v=0;const y=new ReadableStream({start(x){w();function w(){d.read().then(({done:b,value:T})=>{if(b)x.close();else{v+=T.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:v,total:p});for(let P=0,L=u.length;P<L;P++){const R=u[P];R.onProgress&&R.onProgress(E)}x.enqueue(T),w()}})}}});return new Response(y)}else throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,p=new TextDecoder(f);return c.arrayBuffer().then(g=>p.decode(g))}}}).then(c=>{_g.add(e,c);const u=td[e];delete td[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=td[e];if(u===void 0)throw this.manager.itemError(e),c;delete td[e];for(let d=0,f=u.length;d<f;d++){const p=u[d];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class _6e extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new xu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=T_.parse(e[r]);n.push(i)}return n}}class x6e extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new Qne,l=new xu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const p=s.parse(f,!0);o[d]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(a.minFilter=ui),a.image=o,a.format=p.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const p=f.mipmaps.length/f.mipmapCount;for(let g=0;g<p;g++){o[g]={mipmaps:[]};for(let v=0;v<f.mipmapCount;v++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+v]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=ui),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class pS extends ma{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_g.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=lS("img");function l(){u(),_g.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class w6e extends ma{constructor(e){super(e)}load(e,n,r,i){const s=new UC,o=new pS(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class b6e extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new D0,a=new xu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const c=s.parse(l);!c||(c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ks,o.wrapT=c.wrapT!==void 0?c.wrapT:ks,o.magFilter=c.magFilter!==void 0?c.magFilter:ui,o.minFilter=c.minFilter!==void 0?c.minFilter:ui,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Xg),c.mipmapCount===1&&(o.minFilter=ui),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c))},r,i),o}}class _re extends ma{constructor(e){super(e)}load(e,n,r,i){const s=new ni,o=new pS(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class ap extends Wn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Pt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class xre extends ap{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wn.DefaultUp),this.updateMatrix(),this.groundColor=new Pt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const x8=new jt,w8=new ne,b8=new ne;class cz{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ut(512,512),this.map=null,this.mapPass=null,this.matrix=new jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xk,this._frameExtents=new ut(1,1),this._viewportCount=1,this._viewports=[new Xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;w8.setFromMatrixPosition(e.matrixWorld),n.position.copy(w8),b8.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(b8),n.updateMatrixWorld(),x8.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(x8),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(n.projectionMatrix),r.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class S6e extends cz{constructor(){super(new $i(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=aS*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class uz extends ap{constructor(e,n,r=0,i=Math.PI/3,s=0,o=1){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wn.DefaultUp),this.updateMatrix(),this.target=new Wn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new S6e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const S8=new jt,lb=new ne,VD=new ne;class C6e extends cz{constructor(){super(new $i(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ut(4,2),this._viewportCount=6,this._viewports=[new Xn(2,1,1,1),new Xn(0,1,1,1),new Xn(3,1,1,1),new Xn(1,1,1,1),new Xn(3,0,1,1),new Xn(1,0,1,1)],this._cubeDirections=[new ne(1,0,0),new ne(-1,0,0),new ne(0,0,1),new ne(0,0,-1),new ne(0,1,0),new ne(0,-1,0)],this._cubeUps=[new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,1,0),new ne(0,0,1),new ne(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),lb.setFromMatrixPosition(e.matrixWorld),r.position.copy(lb),VD.copy(r.position),VD.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(VD),r.updateMatrixWorld(),i.makeTranslation(-lb.x,-lb.y,-lb.z),S8.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(S8)}}class ZA extends ap{constructor(e,n,r=0,i=1){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new C6e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class T6e extends cz{constructor(){super(new ax(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class dz extends ap{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wn.DefaultUp),this.updateMatrix(),this.target=new Wn,this.shadow=new T6e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class fz extends ap{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class wre extends ap{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class bre{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ne)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Mk extends ap{constructor(e=new bre,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Sre extends ma{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new xu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=ji.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Pt().setHex(o.value);break;case"v2":i.uniforms[s].value=new ut().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ne().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Xn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ka().fromArray(o.value);break;case"m4":i.uniforms[s].value=new jt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ut().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ut().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class E_{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Cre extends dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Tre extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new xu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,g){if(n[g]!==void 0)return n[g];const y=p.interleavedBuffers[g],x=s(p,y.buffer),w=p0(y.type,x),b=new Ck(w,y.stride);return b.uuid=y.uuid,n[g]=b,b}function s(p,g){if(r[g]!==void 0)return r[g];const y=p.arrayBuffers[g],x=new Uint32Array(y).buffer;return r[g]=x,x}const o=e.isInstancedBufferGeometry?new Cre:new dn,a=e.data.index;if(a!==void 0){const p=p0(a.type,a.array);o.setIndex(new mr(p,1))}const l=e.data.attributes;for(const p in l){const g=l[p];let v;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);v=new mg(y,g.itemSize,g.offset,g.normalized)}else{const y=p0(g.type,g.array),x=g.isInstancedBufferAttribute?u_:mr;v=new x(y,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),g.usage!==void 0&&v.setUsage(g.usage),g.updateRange!==void 0&&(v.updateRange.offset=g.updateRange.offset,v.updateRange.count=g.updateRange.count),o.setAttribute(p,v)}const c=e.data.morphAttributes;if(c)for(const p in c){const g=c[p],v=[];for(let y=0,x=g.length;y<x;y++){const w=g[y];let b;if(w.isInterleavedBufferAttribute){const T=i(e.data,w.data);b=new mg(T,w.itemSize,w.offset,w.normalized)}else{const T=p0(w.type,w.array);b=new mr(T,w.itemSize,w.normalized)}w.name!==void 0&&(b.name=w.name),v.push(b)}o.morphAttributes[p]=v}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let p=0,g=d.length;p!==g;++p){const v=d[p];o.addGroup(v.start,v.count,v.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const p=new ne;f.center!==void 0&&p.fromArray(f.center),o.boundingSphere=new Jg(p,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class E6e extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?E_.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new xu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?E_.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new xu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Km().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new zC().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Tre;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in _8?a=_8[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new Sre;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];r[d.uuid]===void 0&&(r[d.uuid]=s.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=T_.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:p0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new lz(n);s=new pS(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const p=[];for(let g=0,v=f.length;g<v;g++){const y=f[g],x=a(y);x!==null&&(x instanceof HTMLImageElement?p.push(x):p.push(new D0(x.data,x.width,x.height)))}i[d.uuid]=new Rm(p)}else{const p=a(d.url);i[d.uuid]=new Rm(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:p0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new pS(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const p=c[d],g=await s(p);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new D0(g.data,g.width,g.height)))}r[l.uuid]=new Rm(u)}else{const u=await s(l.url);r[l.uuid]=new Rm(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new UC,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new D0:u=new ni,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,I6e)),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],C8),u.wrapT=r(a.wrap[1],C8)),a.format!==void 0&&(u.format=a.format),a.type!==void 0&&(u.type=a.type),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,T8)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,T8)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const p=[];for(let g=0,v=f.length;g<v;g++){const y=f[g];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),p.push(r[y])}return p}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":o=new KU,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Pt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Sk(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new bk(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new $i(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ax(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new fz(e.color,e.intensity);break;case"DirectionalLight":o=new dz(e.color,e.intensity);break;case"PointLight":o=new ZA(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new wre(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new uz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new xre(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Mk().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),o=new YU(u,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),o=new us(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,p=e.instanceMatrix,g=e.instanceColor;o=new Kne(u,d,f),o.instanceMatrix=new u_(new Float32Array(p.array),16),g!==void 0&&(o.instanceColor=new u_(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new qne;break;case"Line":o=new Fd(a(e.geometry),l(e.material));break;case"LineLoop":o=new Xne(a(e.geometry),l(e.material));break;case"LineSegments":o=new Lu(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new Yne(a(e.geometry),l(e.material));break;case"Sprite":o=new jne(l(e.material));break;case"Group":o=new lh;break;case"Bone":o=new cS;break;default:o=new Wn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let p=0;p<f.length;p++)o.add(this.parseObject(f[p],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let p=0;p<f.length;p++){const g=f[p];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let p=0;p<f.length;p++){const g=f[p],v=o.getObjectByProperty("uuid",g.object);v!==void 0&&o.addLevel(v,g.distance)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const I6e={UVMapping:gk,CubeReflectionMapping:Dh,CubeRefractionMapping:Nh,EquirectangularReflectionMapping:a_,EquirectangularRefractionMapping:nS,CubeUVReflectionMapping:ox},C8={RepeatWrapping:fg,ClampToEdgeWrapping:ks,MirroredRepeatWrapping:rS},T8={NearestFilter:wi,NearestMipmapNearestFilter:KA,NearestMipmapLinearFilter:XA,LinearFilter:ui,LinearMipmapNearestFilter:BU,LinearMipmapLinearFilter:Xg};class M6e extends ma{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_g.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){_g.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let BI;const hz={getContext:function(){return BI===void 0&&(BI=new(window.AudioContext||window.webkitAudioContext)),BI},setContext:function(t){BI=t}};class A6e extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new xu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);hz.getContext().decodeAudioData(l,function(u){n(u)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class R6e extends Mk{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Pt().set(e),s=new Pt().set(n),o=new ne(i.r,i.g,i.b),a=new ne(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class P6e extends Mk{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Pt().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const E8=new jt,I8=new jt,Yp=new jt;class k6e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $i,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $i,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Yp.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Gm*n.fov*.5)/n.zoom;let a,l;I8.elements[12]=-i,E8.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Yp.elements[0]=2*n.near/(l-a),Yp.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Yp),a=-o*n.aspect-s,l=o*n.aspect-s,Yp.elements[0]=2*n.near/(l-a),Yp.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Yp)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(I8),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(E8)}}class pz{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=M8(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=M8();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function M8(){return(typeof performance=="undefined"?Date:performance).now()}const Qp=new ne,A8=new cs,L6e=new ne,Jp=new ne;class D6e extends Wn{constructor(){super(),this.type="AudioListener",this.context=hz.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new pz}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Qp,A8,L6e),Jp.set(0,0,-1).applyQuaternion(A8),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Qp.x,i),n.positionY.linearRampToValueAtTime(Qp.y,i),n.positionZ.linearRampToValueAtTime(Qp.z,i),n.forwardX.linearRampToValueAtTime(Jp.x,i),n.forwardY.linearRampToValueAtTime(Jp.y,i),n.forwardZ.linearRampToValueAtTime(Jp.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Qp.x,Qp.y,Qp.z),n.setOrientation(Jp.x,Jp.y,Jp.z,r.x,r.y,r.z)}}class Ere extends Wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Zp=new ne,R8=new cs,N6e=new ne,em=new ne;class O6e extends Ere{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Zp,R8,N6e),em.set(0,0,1).applyQuaternion(R8);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Zp.x,r),n.positionY.linearRampToValueAtTime(Zp.y,r),n.positionZ.linearRampToValueAtTime(Zp.z,r),n.orientationX.linearRampToValueAtTime(em.x,r),n.orientationY.linearRampToValueAtTime(em.y,r),n.orientationZ.linearRampToValueAtTime(em.z,r)}else n.setPosition(Zp.x,Zp.y,Zp.z),n.setOrientation(em.x,em.y,em.z)}}class F6e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Ire{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){cs.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;cs.multiplyQuaternionsFlat(e,o,e,n,e,r),cs.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const mz="\\[\\]\\.:\\/",B6e=new RegExp("["+mz+"]","g"),gz="[^"+mz+"]",$6e="[^"+mz.replace("\\.","")+"]",U6e=/((?:WC+[\/:])*)/.source.replace("WC",gz),z6e=/(WCOD+)?/.source.replace("WCOD",$6e),V6e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gz),W6e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gz),H6e=new RegExp("^"+U6e+z6e+V6e+W6e+"$"),G6e=["material","materials","bones"];class j6e{constructor(e,n,r){const i=r||An.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class An{constructor(e,n,r){this.path=n,this.parsedPath=r||An.parseTrackName(n),this.node=An.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new An.Composite(e,n,r):new An(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(B6e,"")}static parseTrackName(e){const n=H6e.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);G6e.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=An.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}An.Composite=j6e;An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray];An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class q6e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=$a(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],p=f.uuid;let g=n[p];if(g===void 0){g=l++,n[p]=g,e.push(f);for(let v=0,y=o;v!==y;++v)s[v].push(new An(f,r[v],i[v]))}else if(g<c){a=e[g];const v=--c,y=e[v];n[y.uuid]=g,e[g]=y,n[p]=v,e[v]=f;for(let x=0,w=o;x!==w;++x){const b=s[x],T=b[v];let E=b[g];b[g]=T,E===void 0&&(E=new An(f,r[x],i[x])),b[v]=E}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let p=0,g=i;p!==g;++p){const v=r[p],y=v[d],x=v[u];v[u]=y,v[d]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const f=--s,p=e[f],g=--o,v=e[g];n[p.uuid]=d,e[d]=p,n[v.uuid]=f,e[f]=v,e.pop();for(let y=0,x=i;y!==x;++y){const w=r[y],b=w[f],T=w[g];w[d]=b,w[f]=T,w.pop()}}else{const f=--o,p=e[f];f>0&&(n[p.uuid]=d),e[d]=p,e.pop();for(let g=0,v=i;g!==v;++g){const y=r[g];y[d]=y[f],y.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let f=u,p=l.length;f!==p;++f){const g=l[f];d[f]=new An(g,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class K6e{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Mm,endingEnd:Mm};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Sne,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,n=r*l}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case UU:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case vk:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(n*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Cne;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===bne){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Am,i.endingEnd=Am):(e?i.endingStart=this.zeroSlopeAtStart?Am:Mm:i.endingStart=oS,n?i.endingEnd=this.zeroSlopeAtEnd?Am:Mm:i.endingEnd=oS)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const X6e=new Float32Array(1);class Y6e extends sp{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=i[d],p=f.name;let g=u[p];if(g!==void 0)++g.referenceCount,o[d]=g;else{if(g=o[d],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,p));continue}const v=n&&n._propertyBindings[d].binding.parsedPath;g=new Ire(An.create(r,p,v),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,p),o[d]=g}a[d].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new oz(new Float32Array(2),new Float32Array(2),1,X6e),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?T_.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=vk),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new K6e(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?T_.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class vz{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new vz(this.value.clone===void 0?this.value:this.value.clone())}}class Q6e extends Ck{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class J6e{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Mre{constructor(e,n,r=0,i=1/0){this.ray=new BC(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new qm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return QF(e,this,r,n),r.sort(P8),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)QF(e[i],this,r,n);return r.sort(P8),r}}function P8(t,e){return t.distance-e.distance}function QF(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)QF(i[s],e,n,!0)}}class Z6e{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(di(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class eWe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const k8=new ut;class tWe{constructor(e=new ut(1/0,1/0),n=new ut(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=k8.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return k8.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const L8=new ne,$I=new ne;class nWe{constructor(e=new ne,n=new ne){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){L8.subVectors(e,this.start),$I.subVectors(this.end,this.start);const r=$I.dot($I);let s=$I.dot(L8)/r;return n&&(s=di(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const D8=new ne;class rWe extends Wn{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new dn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ot(i,3));const s=new fo({fog:!1,toneMapped:!1});this.cone=new Lu(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),D8.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(D8),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $f=new ne,UI=new jt,WD=new jt;class iWe extends Lu{constructor(e){const n=Are(e),r=new dn,i=[],s=[],o=new Pt(0,0,1),a=new Pt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Ot(i,3)),r.setAttribute("color",new Ot(s,3));const l=new fo({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");WD.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(UI.multiplyMatrices(WD,a.matrixWorld),$f.setFromMatrixPosition(UI),i.setXYZ(o,$f.x,$f.y,$f.z),UI.multiplyMatrices(WD,a.parent.matrixWorld),$f.setFromMatrixPosition(UI),i.setXYZ(o+1,$f.x,$f.y,$f.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function Are(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Are(t.children[n]));return e}class sWe extends us{constructor(e,n,r){const i=new yg(n,4,2),s=new op({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oWe=new ne,N8=new Pt,O8=new Pt;class aWe extends Wn{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new vg(n);i.rotateY(Math.PI*.5),this.material=new op({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new mr(o,3)),this.add(new us(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");N8.copy(this.light.color),O8.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?N8:O8;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}e.lookAt(oWe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lWe extends Lu{constructor(e=10,n=10,r=4473924,i=8947848){r=new Pt(r),i=new Pt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,p=0,g=-a;f<=n;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const v=f===s?r:i;v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3,v.toArray(c,p),p+=3}const u=new dn;u.setAttribute("position",new Ot(l,3)),u.setAttribute("color",new Ot(c,3));const d=new fo({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class cWe extends Lu{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Pt(s),o=new Pt(o);const a=[],l=[];for(let d=0;d<=n;d++){const f=d/n*(Math.PI*2),p=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(p,0,g);const v=d&1?s:o;l.push(v.r,v.g,v.b),l.push(v.r,v.g,v.b)}for(let d=0;d<=r;d++){const f=d&1?s:o,p=e-e/r*d;for(let g=0;g<i;g++){let v=g/i*(Math.PI*2),y=Math.sin(v)*p,x=Math.cos(v)*p;a.push(y,0,x),l.push(f.r,f.g,f.b),v=(g+1)/i*(Math.PI*2),y=Math.sin(v)*p,x=Math.cos(v)*p,a.push(y,0,x),l.push(f.r,f.g,f.b)}}const c=new dn;c.setAttribute("position",new Ot(a,3)),c.setAttribute("color",new Ot(l,3));const u=new fo({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}}const F8=new ne,zI=new ne,B8=new ne;class uWe extends Wn{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,n===void 0&&(n=1);let i=new dn;i.setAttribute("position",new Ot([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new fo({fog:!1,toneMapped:!1});this.lightPlane=new Fd(i,s),this.add(this.lightPlane),i=new dn,i.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new Fd(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){F8.setFromMatrixPosition(this.light.matrixWorld),zI.setFromMatrixPosition(this.light.target.matrixWorld),B8.subVectors(zI,F8),this.lightPlane.lookAt(zI),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zI),this.targetLine.scale.z=B8.length()}}const VI=new ne,Jr=new $C;class dWe extends Lu{constructor(e){const n=new dn,r=new fo({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new Pt(16755200),l=new Pt(16711680),c=new Pt(43775),u=new Pt(16777215),d=new Pt(3355443);f("n1","n2",a),f("n2","n4",a),f("n4","n3",a),f("n3","n1",a),f("f1","f2",a),f("f2","f4",a),f("f4","f3",a),f("f3","f1",a),f("n1","f1",a),f("n2","f2",a),f("n3","f3",a),f("n4","f4",a),f("p","n1",l),f("p","n2",l),f("p","n3",l),f("p","n4",l),f("u1","u2",c),f("u2","u3",c),f("u3","u1",c),f("c","t",u),f("p","c",d),f("cn1","cn2",d),f("cn3","cn4",d),f("cf1","cf2",d),f("cf3","cf4",d);function f(g,v,y){p(g,y),p(v,y)}function p(g,v){i.push(0,0,0),s.push(v.r,v.g,v.b),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new Ot(i,3)),n.setAttribute("color",new Ot(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Jr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ai("c",n,e,Jr,0,0,-1),ai("t",n,e,Jr,0,0,1),ai("n1",n,e,Jr,-r,-i,-1),ai("n2",n,e,Jr,r,-i,-1),ai("n3",n,e,Jr,-r,i,-1),ai("n4",n,e,Jr,r,i,-1),ai("f1",n,e,Jr,-r,-i,1),ai("f2",n,e,Jr,r,-i,1),ai("f3",n,e,Jr,-r,i,1),ai("f4",n,e,Jr,r,i,1),ai("u1",n,e,Jr,r*.7,i*1.1,-1),ai("u2",n,e,Jr,-r*.7,i*1.1,-1),ai("u3",n,e,Jr,0,i*2,-1),ai("cf1",n,e,Jr,-r,0,1),ai("cf2",n,e,Jr,r,0,1),ai("cf3",n,e,Jr,0,-i,1),ai("cf4",n,e,Jr,0,i,1),ai("cn1",n,e,Jr,-r,0,-1),ai("cn2",n,e,Jr,r,0,-1),ai("cn3",n,e,Jr,0,-i,-1),ai("cn4",n,e,Jr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ai(t,e,n,r,i,s,o){VI.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],VI.x,VI.y,VI.z)}}const WI=new Qg;class fWe extends Lu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new dn;s.setIndex(new mr(r,1)),s.setAttribute("position",new mr(i,3)),super(s,new fo({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&WI.setFromObject(this.object),WI.isEmpty())return;const n=WI.min,r=WI.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}}class hWe extends Lu{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new dn;s.setIndex(new mr(r,1)),s.setAttribute("position",new Ot(i,3)),super(s,new fo({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class pWe extends Fd{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new dn;o.setAttribute("position",new Ot(s,3)),o.computeBoundingSphere(),super(o,new fo({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new dn;l.setAttribute("position",new Ot(a,3)),l.computeBoundingSphere(),this.add(new us(l,new op({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?Ba:ug,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const $8=new ne;let HI,HD;class mWe extends Wn{constructor(e=new ne(0,0,1),n=new ne(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",HI===void 0&&(HI=new dn,HI.setAttribute("position",new Ot([0,0,0,0,1,0],3)),HD=new Fh(0,.5,1,5,1),HD.translate(0,-.5,0)),this.position.copy(n),this.line=new Fd(HI,new fo({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new us(HD,new op({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$8.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle($8,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class gWe extends Lu{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new dn;i.setAttribute("position",new Ot(n,3)),i.setAttribute("color",new Ot(r,3));const s=new fo({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Pt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vWe{constructor(){this.type="ShapePath",this.color=new Pt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new uS,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function r(w){const b=[];for(let T=0,E=w.length;T<E;T++){const P=w[T],L=new Km;L.curves=P.curves,b.push(L)}return b}function i(w,b){const T=b.length;let E=!1;for(let P=T-1,L=0;L<T;P=L++){let R=b[P],F=b[L],O=F.x-R.x,G=F.y-R.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(R=b[L],O=-O,F=b[P],G=-G),w.y<R.y||w.y>F.y)continue;if(w.y===R.y){if(w.x===R.x)return!0}else{const Z=G*(w.x-R.x)-O*(w.y-R.y);if(Z===0)return!0;if(Z<0)continue;E=!E}}else{if(w.y!==R.y)continue;if(F.x<=w.x&&w.x<=R.x||R.x<=w.x&&w.x<=F.x)return!0}}return E}const s=du.isClockWise,o=this.subPaths;if(o.length===0)return[];if(n===!0)return r(o);let a,l,c;const u=[];if(o.length===1)return l=o[0],c=new Km,c.curves=l.curves,u.push(c),u;let d=!s(o[0].getPoints());d=e?!d:d;const f=[],p=[];let g=[],v=0,y;p[v]=void 0,g[v]=[];for(let w=0,b=o.length;w<b;w++)l=o[w],y=l.getPoints(),a=s(y),a=e?!a:a,a?(!d&&p[v]&&v++,p[v]={s:new Km,p:y},p[v].s.curves=l.curves,d&&v++,g[v]=[]):g[v].push({h:l,p:y[0]});if(!p[0])return r(o);if(p.length>1){let w=!1,b=0;for(let T=0,E=p.length;T<E;T++)f[T]=[];for(let T=0,E=p.length;T<E;T++){const P=g[T];for(let L=0;L<P.length;L++){const R=P[L];let F=!0;for(let O=0;O<p.length;O++)i(R.p,p[O].p)&&(T!==O&&b++,F?(F=!1,f[O].push(R)):w=!0);F&&f[T].push(R)}}b>0&&w===!1&&(g=f)}let x;for(let w=0,b=p.length;w<b;w++){c=p[w].s,u.push(c),x=g[w];for(let T=0,E=x.length;T<E;T++)c.holes.push(x[T].h)}return u}}class yWe{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=di(e,-65504,65504),U8[0]=e;const n=z8[0],r=n>>23&511;return ec[r]+((n&8388607)>>tc[r])}static fromHalfFloat(e){const n=e>>10;return z8[0]=yz[Pre[n]+(e&1023)]+cx[n],U8[0]}}const Rre=new ArrayBuffer(4),U8=new Float32Array(Rre),z8=new Uint32Array(Rre),ec=new Uint32Array(512),tc=new Uint32Array(512);for(let t=0;t<256;++t){const e=t-127;e<-27?(ec[t]=0,ec[t|256]=32768,tc[t]=24,tc[t|256]=24):e<-14?(ec[t]=1024>>-e-14,ec[t|256]=1024>>-e-14|32768,tc[t]=-e-1,tc[t|256]=-e-1):e<=15?(ec[t]=e+15<<10,ec[t|256]=e+15<<10|32768,tc[t]=13,tc[t|256]=13):e<128?(ec[t]=31744,ec[t|256]=64512,tc[t]=24,tc[t|256]=24):(ec[t]=31744,ec[t|256]=64512,tc[t]=13,tc[t|256]=13)}const yz=new Uint32Array(2048),cx=new Uint32Array(64),Pre=new Uint32Array(64);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;(e&8388608)===0;)e<<=1,n-=8388608;e&=-8388609,n+=947912704,yz[t]=e|n}for(let t=1024;t<2048;++t)yz[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)cx[t]=t<<23;cx[31]=1199570944;cx[32]=2147483648;for(let t=33;t<63;++t)cx[t]=2147483648+(t-32<<23);cx[63]=3347054592;for(let t=1;t<64;++t)t!==32&&(Pre[t]=1024);class _We extends dn{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class xWe extends dn{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function wWe(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function bWe(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function SWe(){console.error("THREE.ImmediateRenderObject has been removed.")}class CWe extends Ua{constructor(e,n,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,n,r),this.samples=4}}class TWe extends FC{constructor(e,n,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,n,r,i)}}class EWe extends yk{constructor(e,n,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,n,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mk}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=mk);var eR=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:FU,AddEquation:_m,AddOperation:nne,AdditiveAnimationBlendMode:UU,AdditiveBlending:yF,AlphaFormat:fne,AlwaysDepth:Xte,AlwaysStencilFunc:Mne,AmbientLight:fz,AmbientLightProbe:P6e,AnimationClip:T_,AnimationLoader:_6e,AnimationMixer:Y6e,AnimationObjectGroup:q6e,AnimationUtils:Tr,ArcCurve:Jne,ArrayCamera:Vne,ArrowHelper:mWe,Audio:Ere,AudioAnalyser:F6e,AudioContext:hz,AudioListener:D6e,AudioLoader:A6e,AxesHelper:gWe,BackSide:Ba,BasicDepthPacking:Tne,BasicShadowMap:KBe,Bone:cS,BooleanKeyframeTrack:Zg,Box2:tWe,Box3:Qg,Box3Helper:hWe,BoxBufferGeometry:Od,BoxGeometry:Od,BoxHelper:fWe,BufferAttribute:mr,BufferGeometry:dn,BufferGeometryLoader:Tre,ByteType:ane,Cache:_g,Camera:$C,CameraHelper:dWe,CanvasTexture:V5e,CapsuleBufferGeometry:d_,CapsuleGeometry:d_,CatmullRomCurve3:Zne,CineonToneMapping:sne,CircleBufferGeometry:f_,CircleGeometry:f_,ClampToEdgeWrapping:ks,Clock:pz,Color:Pt,ColorKeyframeTrack:az,ColorManagement:sl,CompressedTexture:Qne,CompressedTextureLoader:x6e,ConeBufferGeometry:h_,ConeGeometry:h_,CubeCamera:Lne,CubeReflectionMapping:Dh,CubeRefractionMapping:Nh,CubeTexture:UC,CubeTextureLoader:w6e,CubeUVReflectionMapping:ox,CubicBezierCurve:ZU,CubicBezierCurve3:ere,CubicInterpolant:mre,CullFaceBack:vF,CullFaceFront:Dte,CullFaceFrontBack:qBe,CullFaceNone:Lte,Curve:Ll,CurvePath:nre,CustomBlending:Ote,CustomToneMapping:one,CylinderBufferGeometry:Fh,CylinderGeometry:Fh,Cylindrical:eWe,Data3DTexture:yk,DataArrayTexture:FC,DataTexture:D0,DataTexture2DArray:TWe,DataTexture3D:EWe,DataTextureLoader:b6e,DataUtils:yWe,DecrementStencilOp:a$e,DecrementWrapStencilOp:c$e,DefaultLoadingManager:yre,DepthFormat:yh,DepthStencilFormat:hg,DepthTexture:Wne,DirectionalLight:dz,DirectionalLightHelper:uWe,DiscreteInterpolant:gre,DodecahedronBufferGeometry:p_,DodecahedronGeometry:p_,DoubleSide:dg,DstAlphaFactor:Wte,DstColorFactor:Gte,DynamicCopyUsage:C$e,DynamicDrawUsage:y$e,DynamicReadUsage:w$e,EdgesGeometry:rre,EllipseCurve:Tk,EqualDepth:Qte,EqualStencilFunc:h$e,EquirectangularReflectionMapping:a_,EquirectangularRefractionMapping:nS,Euler:pc,EventDispatcher:sp,ExtrudeBufferGeometry:m_,ExtrudeGeometry:m_,FileLoader:xu,FlatShading:Nte,Float16BufferAttribute:oUe,Float32BufferAttribute:Ot,Float64BufferAttribute:aUe,FloatType:md,Fog:Sk,FogExp2:bk,Font:bWe,FontLoader:wWe,FramebufferTexture:z5e,FrontSide:ug,Frustum:xk,GLBufferAttribute:J6e,GLSL1:E$e,GLSL3:HF,GreaterDepth:Zte,GreaterEqualDepth:Jte,GreaterEqualStencilFunc:v$e,GreaterStencilFunc:m$e,GridHelper:lWe,Group:lh,HalfFloatType:l_,HemisphereLight:xre,HemisphereLightHelper:aWe,HemisphereLightProbe:R6e,IcosahedronBufferGeometry:g_,IcosahedronGeometry:g_,ImageBitmapLoader:M6e,ImageLoader:pS,ImageUtils:VU,ImmediateRenderObject:SWe,IncrementStencilOp:o$e,IncrementWrapStencilOp:l$e,InstancedBufferAttribute:u_,InstancedBufferGeometry:Cre,InstancedInterleavedBuffer:Q6e,InstancedMesh:Kne,Int16BufferAttribute:iUe,Int32BufferAttribute:sUe,Int8BufferAttribute:tUe,IntType:cne,InterleavedBuffer:Ck,InterleavedBufferAttribute:mg,Interpolant:VC,InterpolateDiscrete:iS,InterpolateLinear:sS,InterpolateSmooth:UM,InvertStencilOp:u$e,KeepStencilOp:zM,KeyframeTrack:Ac,LOD:qne,LatheBufferGeometry:gg,LatheGeometry:gg,Layers:qm,LessDepth:Yte,LessEqualDepth:qA,LessEqualStencilFunc:p$e,LessStencilFunc:f$e,Light:ap,LightProbe:Mk,Line:Fd,Line3:nWe,LineBasicMaterial:fo,LineCurve:Ek,LineCurve3:tre,LineDashedMaterial:pre,LineLoop:Xne,LineSegments:Lu,LinearEncoding:Nd,LinearFilter:ui,LinearInterpolant:oz,LinearMipMapLinearFilter:ZBe,LinearMipMapNearestFilter:JBe,LinearMipmapLinearFilter:Xg,LinearMipmapNearestFilter:BU,LinearSRGBColorSpace:ah,LinearToneMapping:rne,Loader:ma,LoaderUtils:E_,LoadingManager:lz,LoopOnce:bne,LoopPingPong:Cne,LoopRepeat:Sne,LuminanceAlphaFormat:mne,LuminanceFormat:pne,MOUSE:GBe,Material:ji,MaterialLoader:Sre,MathUtils:cc,Matrix3:ka,Matrix4:jt,MaxEquation:bF,Mesh:us,MeshBasicMaterial:op,MeshDepthMaterial:GU,MeshDistanceMaterial:jU,MeshLambertMaterial:sz,MeshMatcapMaterial:hre,MeshNormalMaterial:fre,MeshPhongMaterial:c1,MeshPhysicalMaterial:ure,MeshStandardMaterial:iz,MeshToonMaterial:dre,MinEquation:wF,MirroredRepeatWrapping:rS,MixOperation:tne,MultiplyBlending:xF,MultiplyOperation:OC,NearestFilter:wi,NearestMipMapLinearFilter:QBe,NearestMipMapNearestFilter:YBe,NearestMipmapLinearFilter:XA,NearestMipmapNearestFilter:KA,NeverDepth:Kte,NeverStencilFunc:d$e,NoBlending:Sd,NoColorSpace:r$e,NoToneMapping:yc,NormalAnimationBlendMode:vk,NormalBlending:Wm,NotEqualDepth:ene,NotEqualStencilFunc:g$e,NumberKeyframeTrack:S_,Object3D:Wn,ObjectLoader:E6e,ObjectSpaceNormalMap:Ine,OctahedronBufferGeometry:vg,OctahedronGeometry:vg,OneFactor:Ute,OneMinusDstAlphaFactor:Hte,OneMinusDstColorFactor:jte,OneMinusSrcAlphaFactor:OU,OneMinusSrcColorFactor:Vte,OrthographicCamera:ax,PCFShadowMap:LU,PCFSoftShadowMap:DU,PMREMGenerator:jF,ParametricGeometry:_We,Path:uS,PerspectiveCamera:$i,Plane:Xf,PlaneBufferGeometry:pg,PlaneGeometry:pg,PlaneHelper:pWe,PointLight:ZA,PointLightHelper:sWe,Points:Yne,PointsMaterial:QU,PolarGridHelper:cWe,PolyhedronBufferGeometry:_u,PolyhedronGeometry:_u,PositionalAudio:O6e,PropertyBinding:An,PropertyMixer:Ire,QuadraticBezierCurve:ez,QuadraticBezierCurve3:tz,Quaternion:cs,QuaternionKeyframeTrack:ev,QuaternionLinearInterpolant:vre,REVISION:mk,RGBADepthPacking:Ene,RGBAFormat:Pa,RGBAIntegerFormat:xne,RGBA_ASTC_10x10_Format:UF,RGBA_ASTC_10x5_Format:FF,RGBA_ASTC_10x6_Format:BF,RGBA_ASTC_10x8_Format:$F,RGBA_ASTC_12x10_Format:zF,RGBA_ASTC_12x12_Format:VF,RGBA_ASTC_4x4_Format:AF,RGBA_ASTC_5x4_Format:RF,RGBA_ASTC_5x5_Format:PF,RGBA_ASTC_6x5_Format:kF,RGBA_ASTC_6x6_Format:LF,RGBA_ASTC_8x5_Format:DF,RGBA_ASTC_8x6_Format:NF,RGBA_ASTC_8x8_Format:OF,RGBA_BPTC_Format:WF,RGBA_ETC2_EAC_Format:MF,RGBA_PVRTC_2BPPV1_Format:EF,RGBA_PVRTC_4BPPV1_Format:TF,RGBA_S3TC_DXT1_Format:FM,RGBA_S3TC_DXT3_Format:BM,RGBA_S3TC_DXT5_Format:$M,RGBFormat:hne,RGB_ETC1_Format:wne,RGB_ETC2_Format:IF,RGB_PVRTC_2BPPV1_Format:CF,RGB_PVRTC_4BPPV1_Format:SF,RGB_S3TC_DXT1_Format:OM,RGFormat:yne,RGIntegerFormat:_ne,RawShaderMaterial:cre,Ray:BC,Raycaster:Mre,RectAreaLight:wre,RedFormat:gne,RedIntegerFormat:vne,ReinhardToneMapping:ine,RepeatWrapping:fg,ReplaceStencilOp:s$e,ReverseSubtractEquation:Bte,RingBufferGeometry:v_,RingGeometry:v_,SRGBColorSpace:Kc,Scene:KU,ShaderChunk:Tn,ShaderLib:ac,ShaderMaterial:yu,ShadowMaterial:lre,Shape:Km,ShapeBufferGeometry:y_,ShapeGeometry:y_,ShapePath:vWe,ShapeUtils:du,ShortType:lne,Skeleton:zC,SkeletonHelper:iWe,SkinnedMesh:YU,SmoothShading:XBe,Source:Rm,Sphere:Jg,SphereBufferGeometry:yg,SphereGeometry:yg,Spherical:Z6e,SphericalHarmonics3:bre,SplineCurve:nz,SpotLight:uz,SpotLightHelper:rWe,Sprite:jne,SpriteMaterial:XU,SrcAlphaFactor:NU,SrcAlphaSaturateFactor:qte,SrcColorFactor:zte,StaticCopyUsage:S$e,StaticDrawUsage:YA,StaticReadUsage:x$e,StereoCamera:k6e,StreamCopyUsage:T$e,StreamDrawUsage:_$e,StreamReadUsage:b$e,StringKeyframeTrack:tv,SubtractEquation:Fte,SubtractiveBlending:_F,TOUCH:jBe,TangentSpaceNormalMap:Yg,TetrahedronBufferGeometry:__,TetrahedronGeometry:__,TextGeometry:xWe,Texture:ni,TextureLoader:_re,TorusBufferGeometry:x_,TorusGeometry:x_,TorusKnotBufferGeometry:w_,TorusKnotGeometry:w_,Triangle:cl,TriangleFanDrawMode:n$e,TriangleStripDrawMode:t$e,TrianglesDrawMode:e$e,TubeBufferGeometry:b_,TubeGeometry:b_,UVMapping:gk,Uint16BufferAttribute:_k,Uint32BufferAttribute:WU,Uint8BufferAttribute:nUe,Uint8ClampedBufferAttribute:rUe,Uniform:vz,UniformsLib:Rt,UniformsUtils:kne,UnsignedByteType:Oh,UnsignedInt248Type:Hm,UnsignedIntType:oh,UnsignedShort4444Type:une,UnsignedShort5551Type:dne,UnsignedShortType:$U,VSMShadowMap:h0,Vector2:ut,Vector3:ne,Vector4:Xn,VectorKeyframeTrack:C_,VideoTexture:U5e,WebGL1Renderer:Hne,WebGL3DRenderTarget:G$e,WebGLArrayRenderTarget:H$e,WebGLCubeRenderTarget:Dne,WebGLMultipleRenderTargets:j$e,WebGLMultisampleRenderTarget:CWe,WebGLRenderTarget:Ua,WebGLRenderer:qU,WebGLUtils:zne,WireframeGeometry:are,WrapAroundEnding:oS,ZeroCurvatureEnding:Mm,ZeroFactor:$te,ZeroSlopeEnding:Am,ZeroStencilOp:i$e,_SRGBAFormat:QA,sRGBEncoding:nr},Symbol.toStringTag,{value:"Module"})),N0={exports:{}},nv={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */nv.ConcurrentRoot=1;nv.ContinuousEventPriority=4;nv.DefaultEventPriority=16;nv.DiscreteEventPriority=1;nv.IdleEventPriority=536870912;nv.LegacyRoot=0;N0.exports=nv;function IWe(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(p=>p(e,f))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function p(){const g=u(e);if(!d(f,g)){const v=f;c(f=g,v)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const MWe=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),V8=MWe?N.exports.useEffect:N.exports.useLayoutEffect;function AWe(t){const e=typeof t=="function"?IWe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=N.exports.useReducer(y=>y+1,0),o=e.getState(),a=N.exports.useRef(o),l=N.exports.useRef(r),c=N.exports.useRef(i),u=N.exports.useRef(!1),d=N.exports.useRef();d.current===void 0&&(d.current=r(o));let f,p=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(f=r(o),p=!i(d.current,f)),V8(()=>{p&&(d.current=f),a.current=o,l.current=r,c.current=i,u.current=!1});const g=N.exports.useRef(o);V8(()=>{const y=()=>{try{const w=e.getState(),b=l.current(w);c.current(d.current,b)||(a.current=w,d.current=b,s())}catch{u.current=!0,s()}},x=e.subscribe(y);return e.getState()!==g.current&&y(),x},[]);const v=p?f:d.current;return N.exports.useDebugValue(v),v};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var kre={exports:{}},Lre={exports:{}},Dre={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var q=B.length;B.push(H);e:for(;0<q;){var ee=q-1>>>1,J=B[ee];if(0<i(J,H))B[ee]=H,B[q]=J,q=ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],q=B.pop();if(q!==H){B[0]=q;e:for(var ee=0,J=B.length,de=J>>>1;ee<de;){var ye=2*(ee+1)-1,Ce=B[ye],oe=ye+1,He=B[oe];if(0>i(Ce,q))oe<J&&0>i(He,Ce)?(B[ee]=He,B[oe]=q,ee=oe):(B[ee]=Ce,B[ye]=q,ee=ye);else if(oe<J&&0>i(He,q))B[ee]=He,B[oe]=q,ee=oe;else break e}}return H}function i(B,H){var q=B.sortIndex-H.sortIndex;return q!==0?q:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=B)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(B){if(v=!1,b(B),!g)if(n(l)!==null)g=!0,W(E);else{var H=n(c);H!==null&&X(T,H.startTime-B)}}function E(B,H){g=!1,v&&(v=!1,x(R),R=-1),p=!0;var q=f;try{for(b(H),d=n(l);d!==null&&(!(d.expirationTime>H)||B&&!G());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var J=ee(d.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),b(H)}else r(l);d=n(l)}if(d!==null)var de=!0;else{var ye=n(c);ye!==null&&X(T,ye.startTime-H),de=!1}return de}finally{d=null,f=q,p=!1}}var P=!1,L=null,R=-1,F=5,O=-1;function G(){return!(t.unstable_now()-O<F)}function Z(){if(L!==null){var B=t.unstable_now();O=B;var H=!0;try{H=L(!0,B)}finally{H?V():(P=!1,L=null)}}else P=!1}var V;if(typeof w=="function")V=function(){w(Z)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=Z,V=function(){j.postMessage(null)}}else V=function(){y(Z,0)};function W(B){L=B,P||(P=!0,V())}function X(B,H){R=y(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var q=f;f=H;try{return B()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=f;f=B;try{return H()}finally{f=q}},t.unstable_scheduleCallback=function(B,H,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,B={id:u++,callback:H,priorityLevel:B,startTime:q,expirationTime:J,sortIndex:-1},q>ee?(B.sortIndex=q,e(c,B),n(l)===null&&B===n(c)&&(v?(x(R),R=-1):v=!0,X(T,q-ee))):(B.sortIndex=J,e(l,B),g||p||(g=!0,W(E))),B},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(B){var H=f;return function(){var q=f;f=H;try{return B.apply(this,arguments)}finally{f=q}}}})(Dre);Lre.exports=Dre;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RWe=function(e){var n={},r=N.exports,i=Lre.exports,s=Object.assign;function o(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),E=Symbol.iterator;function P(h){return h===null||typeof h!="object"?null:(h=E&&h[E]||h["@@iterator"],typeof h=="function"?h:null)}function L(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case x:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case g:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case v:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case w:return m=h.displayName||null,m!==null?m:L(h.type)||"Memo";case b:m=h._payload,h=h._init;try{return L(h(m))}catch{}}return null}function R(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(m);case 8:return m===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function F(h){var m=h,S=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(S=m.return),h=m.return;while(h)}return m.tag===3?S:null}function O(h){if(F(h)!==h)throw Error(o(188))}function G(h){var m=h.alternate;if(!m){if(m=F(h),m===null)throw Error(o(188));return m!==h?null:h}for(var S=h,I=m;;){var D=S.return;if(D===null)break;var $=D.alternate;if($===null){if(I=D.return,I!==null){S=I;continue}break}if(D.child===$.child){for($=D.child;$;){if($===S)return O(D),h;if($===I)return O(D),m;$=$.sibling}throw Error(o(188))}if(S.return!==I.return)S=D,I=$;else{for(var se=!1,be=D.child;be;){if(be===S){se=!0,S=D,I=$;break}if(be===I){se=!0,I=D,S=$;break}be=be.sibling}if(!se){for(be=$.child;be;){if(be===S){se=!0,S=$,I=D;break}if(be===I){se=!0,I=$,S=D;break}be=be.sibling}if(!se)throw Error(o(189))}}if(S.alternate!==I)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?h:m}function Z(h){return h=G(h),h!==null?V(h):null}function V(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=V(h);if(m!==null)return m;h=h.sibling}return null}function U(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var m=U(h);if(m!==null)return m}h=h.sibling}return null}var j=Array.isArray,W=e.getPublicInstance,X=e.getRootHostContext,B=e.getChildHostContext,H=e.prepareForCommit,q=e.resetAfterCommit,ee=e.createInstance,J=e.appendInitialChild,de=e.finalizeInitialChildren,ye=e.prepareUpdate,Ce=e.shouldSetTextContent,oe=e.createTextInstance,He=e.scheduleTimeout,Ae=e.cancelTimeout,Ne=e.noTimeout,Se=e.isPrimaryRenderer,Ze=e.supportsMutation,we=e.supportsPersistence,ve=e.supportsHydration,Ue=e.getInstanceFromNode,Qe=e.preparePortalMount,ze=e.getCurrentEventPriority,st=e.detachDeletedInstance,vt=e.supportsMicrotasks,mt=e.scheduleMicrotask,St=e.supportsTestSelectors,It=e.findFiberRoot,te=e.getBoundingRect,Q=e.getTextContent,ue=e.isHiddenSubtree,Re=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,xe=e.appendChild,me=e.appendChildToContainer,Ee=e.commitTextUpdate,Oe=e.commitMount,qe=e.commitUpdate,le=e.insertBefore,at=e.insertInContainerBefore,et=e.removeChild,Vt=e.removeChildFromContainer,Et=e.resetTextContent,Lt=e.hideInstance,lt=e.hideTextInstance,Ft=e.unhideInstance,mn=e.unhideTextInstance,en=e.clearContainer,jn=e.cloneInstance,jr=e.createContainerChildSet,Ii=e.appendChildToContainerChildSet,xn=e.finalizeContainerChildren,cr=e.replaceContainerChildren,Yi=e.cloneHiddenInstance,Ss=e.cloneHiddenTextInstance,Nl=e.canHydrateInstance,Pc=e.canHydrateTextInstance,Du=e.canHydrateSuspenseInstance,Ka=e.isSuspenseInstancePending,ie=e.isSuspenseInstanceFallback,Te=e.registerSuspenseInstanceRetry,Fe=e.getNextHydratableSibling,ce=e.getFirstHydratableChild,ge=e.getFirstHydratableChildWithinContainer,dt=e.getFirstHydratableChildWithinSuspenseInstance,bt=e.hydrateInstance,Dt=e.hydrateTextInstance,Wt=e.hydrateSuspenseInstance,Yt=e.getNextHydratableInstanceAfterSuspenseInstance,tn=e.commitHydratedContainer,gn=e.commitHydratedSuspenseInstance,Zn=e.clearSuspenseBoundary,Ol=e.clearSuspenseBoundaryFromContainer,kc=e.shouldDeleteUnhydratedTailInstances,Fl=e.didNotMatchHydratedContainerTextInstance,ho=e.didNotMatchHydratedTextInstance,Cn;function Vo(h){if(Cn===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);Cn=m&&m[1]||""}return`
`+Cn+h}var gr=!1;function Hs(h,m){if(!h||gr)return"";gr=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(yt){var I=yt}Reflect.construct(h,[],m)}else{try{m.call()}catch(yt){I=yt}h.call(m.prototype)}else{try{throw Error()}catch(yt){I=yt}h()}}catch(yt){if(yt&&I&&typeof yt.stack=="string"){for(var D=yt.stack.split(`
`),$=I.stack.split(`
`),se=D.length-1,be=$.length-1;1<=se&&0<=be&&D[se]!==$[be];)be--;for(;1<=se&&0<=be;se--,be--)if(D[se]!==$[be]){if(se!==1||be!==1)do if(se--,be--,0>be||D[se]!==$[be]){var je=`
`+D[se].replace(" at new "," at ");return h.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",h.displayName)),je}while(1<=se&&0<=be);break}}}finally{gr=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Vo(h):""}var Xa=Object.prototype.hasOwnProperty,va=[],$n=-1;function qn(h){return{current:h}}function Rn(h){0>$n||(h.current=va[$n],va[$n]=null,$n--)}function Kn(h,m){$n++,va[$n]=h.current,h.current=m}var qr={},Mi=qn(qr),Gs=qn(!1),Nu=qr;function ef(h,m){var S=h.type.contextTypes;if(!S)return qr;var I=h.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===m)return I.__reactInternalMemoizedMaskedChildContext;var D={},$;for($ in S)D[$]=m[$];return I&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=D),D}function js(h){return h=h.childContextTypes,h!=null}function tf(){Rn(Gs),Rn(Mi)}function OT(h,m,S){if(Mi.current!==qr)throw Error(o(168));Kn(Mi,m),Kn(Gs,S)}function Nx(h,m,S){var I=h.stateNode;if(m=m.childContextTypes,typeof I.getChildContext!="function")return S;I=I.getChildContext();for(var D in I)if(!(D in m))throw Error(o(108,R(h)||"Unknown",D));return s({},S,I)}function xv(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||qr,Nu=Mi.current,Kn(Mi,h),Kn(Gs,Gs.current),!0}function FT(h,m,S){var I=h.stateNode;if(!I)throw Error(o(169));S?(h=Nx(h,m,Nu),I.__reactInternalMemoizedMergedChildContext=h,Rn(Gs),Rn(Mi),Kn(Mi,h)):Rn(Gs),Kn(Gs,S)}var ya=Math.clz32?Math.clz32:BT,qL=Math.log,KL=Math.LN2;function BT(h){return h>>>=0,h===0?32:31-(qL(h)/KL|0)|0}var Bl=64,Ou=4194304;function nf(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function mp(h,m){var S=h.pendingLanes;if(S===0)return 0;var I=0,D=h.suspendedLanes,$=h.pingedLanes,se=S&268435455;if(se!==0){var be=se&~D;be!==0?I=nf(be):($&=se,$!==0&&(I=nf($)))}else se=S&~D,se!==0?I=nf(se):$!==0&&(I=nf($));if(I===0)return 0;if(m!==0&&m!==I&&(m&D)===0&&(D=I&-I,$=m&-m,D>=$||D===16&&($&4194240)!==0))return m;if((I&4)!==0&&(I|=S&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=I;0<m;)S=31-ya(m),D=1<<S,I|=h[S],m&=~D;return I}function $T(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UT(h,m){for(var S=h.suspendedLanes,I=h.pingedLanes,D=h.expirationTimes,$=h.pendingLanes;0<$;){var se=31-ya($),be=1<<se,je=D[se];je===-1?((be&S)===0||(be&I)!==0)&&(D[se]=$T(be,m)):je<=m&&(h.expiredLanes|=be),$&=~be}}function wv(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function bv(h){for(var m=[],S=0;31>S;S++)m.push(h);return m}function gp(h,m,S){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-ya(m),h[m]=S}function zT(h,m){var S=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var I=h.eventTimes;for(h=h.expirationTimes;0<S;){var D=31-ya(S),$=1<<D;m[D]=0,I[D]=-1,h[D]=-1,S&=~$}}function vp(h,m){var S=h.entangledLanes|=m;for(h=h.entanglements;S;){var I=31-ya(S),D=1<<I;D&m|h[I]&m&&(h[I]|=m),S&=~D}}var On=0;function Lc(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Sv=i.unstable_scheduleCallback,Ox=i.unstable_cancelCallback,Cv=i.unstable_shouldYield,VT=i.unstable_requestPaint,si=i.unstable_now,Fx=i.unstable_ImmediatePriority,WT=i.unstable_UserBlockingPriority,$l=i.unstable_NormalPriority,Tv=i.unstable_IdlePriority,rf=null,Ya=null;function HT(h){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(rf,h,void 0,(h.current.flags&128)===128)}catch{}}function XL(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var Qa=typeof Object.is=="function"?Object.is:XL,_a=null,sf=!1,Bx=!1;function $x(h){_a===null?_a=[h]:_a.push(h)}function YL(h){sf=!0,$x(h)}function Ja(){if(!Bx&&_a!==null){Bx=!0;var h=0,m=On;try{var S=_a;for(On=1;h<S.length;h++){var I=S[h];do I=I(!0);while(I!==null)}_a=null,sf=!1}catch(D){throw _a!==null&&(_a=_a.slice(h+1)),Sv(Fx,Ja),D}finally{On=m,Bx=!1}}return null}var QL=a.ReactCurrentBatchConfig;function Ev(h,m){if(Qa(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var S=Object.keys(h),I=Object.keys(m);if(S.length!==I.length)return!1;for(I=0;I<S.length;I++){var D=S[I];if(!Xa.call(m,D)||!Qa(h[D],m[D]))return!1}return!0}function JL(h){switch(h.tag){case 5:return Vo(h.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return h=Hs(h.type,!1),h;case 11:return h=Hs(h.type.render,!1),h;case 1:return h=Hs(h.type,!0),h;default:return""}}function Wo(h,m){if(h&&h.defaultProps){m=s({},m),h=h.defaultProps;for(var S in h)m[S]===void 0&&(m[S]=h[S]);return m}return m}var yp=qn(null),Fu=null,Za=null,Ux=null;function Iv(){Ux=Za=Fu=null}function zx(h,m,S){Se?(Kn(yp,m._currentValue),m._currentValue=S):(Kn(yp,m._currentValue2),m._currentValue2=S)}function of(h){var m=yp.current;Rn(yp),Se?h._currentValue=m:h._currentValue2=m}function Vx(h,m,S){for(;h!==null;){var I=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,I!==null&&(I.childLanes|=m)):I!==null&&(I.childLanes&m)!==m&&(I.childLanes|=m),h===S)break;h=h.return}}function Bu(h,m){Fu=h,Ux=Za=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(Ji=!0),h.firstContext=null)}function or(h){var m=Se?h._currentValue:h._currentValue2;if(Ux!==h)if(h={context:h,memoizedValue:m,next:null},Za===null){if(Fu===null)throw Error(o(308));Za=h,Fu.dependencies={lanes:0,firstContext:h}}else Za=Za.next=h;return m}var xa=null,Dc=!1;function Mv(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Ul(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Nc(h,m){var S=h.updateQueue;S!==null&&(S=S.shared,Xr!==null&&(h.mode&1)!==0&&(vn&2)===0?(h=S.interleaved,h===null?(m.next=m,xa===null?xa=[S]:xa.push(S)):(m.next=h.next,h.next=m),S.interleaved=m):(h=S.pending,h===null?m.next=m:(m.next=h.next,h.next=m),S.pending=m))}function Av(h,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var I=m.lanes;I&=h.pendingLanes,S|=I,m.lanes=S,vp(h,S)}}function Rv(h,m){var S=h.updateQueue,I=h.alternate;if(I!==null&&(I=I.updateQueue,S===I)){var D=null,$=null;if(S=S.firstBaseUpdate,S!==null){do{var se={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};$===null?D=$=se:$=$.next=se,S=S.next}while(S!==null);$===null?D=$=m:$=$.next=m}else D=$=m;S={baseState:I.baseState,firstBaseUpdate:D,lastBaseUpdate:$,shared:I.shared,effects:I.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=m:h.next=m,S.lastBaseUpdate=m}function af(h,m,S,I){var D=h.updateQueue;Dc=!1;var $=D.firstBaseUpdate,se=D.lastBaseUpdate,be=D.shared.pending;if(be!==null){D.shared.pending=null;var je=be,yt=je.next;je.next=null,se===null?$=yt:se.next=yt,se=je;var Nt=h.alternate;Nt!==null&&(Nt=Nt.updateQueue,be=Nt.lastBaseUpdate,be!==se&&(be===null?Nt.firstBaseUpdate=yt:be.next=yt,Nt.lastBaseUpdate=je))}if($!==null){var ln=D.baseState;se=0,Nt=yt=je=null,be=$;do{var Jt=be.lane,er=be.eventTime;if((I&Jt)===Jt){Nt!==null&&(Nt=Nt.next={eventTime:er,lane:0,tag:be.tag,payload:be.payload,callback:be.callback,next:null});e:{var Gt=h,Di=be;switch(Jt=m,er=S,Di.tag){case 1:if(Gt=Di.payload,typeof Gt=="function"){ln=Gt.call(er,ln,Jt);break e}ln=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Di.payload,Jt=typeof Gt=="function"?Gt.call(er,ln,Jt):Gt,Jt==null)break e;ln=s({},ln,Jt);break e;case 2:Dc=!0}}be.callback!==null&&be.lane!==0&&(h.flags|=64,Jt=D.effects,Jt===null?D.effects=[be]:Jt.push(be))}else er={eventTime:er,lane:Jt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Nt===null?(yt=Nt=er,je=ln):Nt=Nt.next=er,se|=Jt;if(be=be.next,be===null){if(be=D.shared.pending,be===null)break;Jt=be,be=Jt.next,Jt.next=null,D.lastBaseUpdate=Jt,D.shared.pending=null}}while(1);if(Nt===null&&(je=ln),D.baseState=je,D.firstBaseUpdate=yt,D.lastBaseUpdate=Nt,m=D.shared.interleaved,m!==null){D=m;do se|=D.lane,D=D.next;while(D!==m)}else $===null&&(D.shared.lanes=0);Ef|=se,h.lanes=se,h.memoizedState=ln}}function GT(h,m,S){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var I=h[m],D=I.callback;if(D!==null){if(I.callback=null,I=S,typeof D!="function")throw Error(o(191,D));D.call(I)}}}var Wx=new r.Component().refs;function Hx(h,m,S,I){m=h.memoizedState,S=S(I,m),S=S==null?m:s({},m,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var xp={isMounted:function(h){return(h=h._reactInternals)?F(h)===h:!1},enqueueSetState:function(h,m,S){h=h._reactInternals;var I=Ts(),D=Vc(h),$=Ul(I,D);$.payload=m,S!=null&&($.callback=S),Nc(h,$),m=ki(h,D,I),m!==null&&Av(m,h,D)},enqueueReplaceState:function(h,m,S){h=h._reactInternals;var I=Ts(),D=Vc(h),$=Ul(I,D);$.tag=1,$.payload=m,S!=null&&($.callback=S),Nc(h,$),m=ki(h,D,I),m!==null&&Av(m,h,D)},enqueueForceUpdate:function(h,m){h=h._reactInternals;var S=Ts(),I=Vc(h),D=Ul(S,I);D.tag=2,m!=null&&(D.callback=m),Nc(h,D),m=ki(h,I,S),m!==null&&Av(m,h,I)}};function wp(h,m,S,I,D,$,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(I,$,se):m.prototype&&m.prototype.isPureReactComponent?!Ev(S,I)||!Ev(D,$):!0}function Pv(h,m,S){var I=!1,D=qr,$=m.contextType;return typeof $=="object"&&$!==null?$=or($):(D=js(m)?Nu:Mi.current,I=m.contextTypes,$=(I=I!=null)?ef(h,D):qr),m=new m(S,$),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=xp,h.stateNode=m,m._reactInternals=h,I&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=D,h.__reactInternalMemoizedMaskedChildContext=$),m}function Gx(h,m,S,I){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,I),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,I),m.state!==h&&xp.enqueueReplaceState(m,m.state,null)}function jx(h,m,S,I){var D=h.stateNode;D.props=S,D.state=h.memoizedState,D.refs=Wx,Mv(h);var $=m.contextType;typeof $=="object"&&$!==null?D.context=or($):($=js(m)?Nu:Mi.current,D.context=ef(h,$)),D.state=h.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Hx(h,m,$,S),D.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(m=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),m!==D.state&&xp.enqueueReplaceState(D,D.state,null),af(h,S,D,I),D.state=h.memoizedState),typeof D.componentDidMount=="function"&&(h.flags|=4194308)}var lf=[],cf=0,kv=null,uf=0,Ho=[],Go=0,$u=null,zl=1,Vl="";function jo(h,m){lf[cf++]=uf,lf[cf++]=kv,kv=h,uf=m}function jT(h,m,S){Ho[Go++]=zl,Ho[Go++]=Vl,Ho[Go++]=$u,$u=h;var I=zl;h=Vl;var D=32-ya(I)-1;I&=~(1<<D),S+=1;var $=32-ya(m)+D;if(30<$){var se=D-D%5;$=(I&(1<<se)-1).toString(32),I>>=se,D-=se,zl=1<<32-ya(m)+D|S<<D|I,Vl=$+h}else zl=1<<$|S<<D|I,Vl=h}function Lv(h){h.return!==null&&(jo(h,1),jT(h,1,0))}function Dv(h){for(;h===kv;)kv=lf[--cf],lf[cf]=null,uf=lf[--cf],lf[cf]=null;for(;h===$u;)$u=Ho[--Go],Ho[Go]=null,Vl=Ho[--Go],Ho[Go]=null,zl=Ho[--Go],Ho[Go]=null}var Cs=null,qs=null,ur=!1,bp=!1,qo=null;function qT(h,m){var S=ct(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=h,m=h.deletions,m===null?(h.deletions=[S],h.flags|=16):m.push(S)}function KT(h,m){switch(h.tag){case 5:return m=Nl(m,h.type,h.pendingProps),m!==null?(h.stateNode=m,Cs=h,qs=ce(m),!0):!1;case 6:return m=Pc(m,h.pendingProps),m!==null?(h.stateNode=m,Cs=h,qs=null,!0):!1;case 13:if(m=Du(m),m!==null){var S=$u!==null?{id:zl,overflow:Vl}:null;return h.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=ct(18,null,null,0),S.stateNode=m,S.return=h,h.child=S,Cs=h,qs=null,!0}return!1;default:return!1}}function Nv(h){return(h.mode&1)!==0&&(h.flags&128)===0}function qx(h){if(ur){var m=qs;if(m){var S=m;if(!KT(h,m)){if(Nv(h))throw Error(o(418));m=Fe(S);var I=Cs;m&&KT(h,m)?qT(I,S):(h.flags=h.flags&-4097|2,ur=!1,Cs=h)}}else{if(Nv(h))throw Error(o(418));h.flags=h.flags&-4097|2,ur=!1,Cs=h}}}function XT(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Cs=h}function po(h){if(!ve||h!==Cs)return!1;if(!ur)return XT(h),ur=!0,!1;if(h.tag!==3&&(h.tag!==5||kc(h.type)&&!Ce(h.type,h.memoizedProps))){var m=qs;if(m){if(Nv(h)){for(h=qs;h;)h=Fe(h);throw Error(o(418))}for(;m;)qT(h,m),m=Fe(m)}}if(XT(h),h.tag===13){if(!ve)throw Error(o(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));qs=Yt(h)}else qs=Cs?Fe(h.stateNode):null;return!0}function df(){ve&&(qs=Cs=null,bp=ur=!1)}function Ov(h){qo===null?qo=[h]:qo.push(h)}function ff(h,m,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var I=S.stateNode}if(!I)throw Error(o(147,h));var D=I,$=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(se){var be=D.refs;be===Wx&&(be=D.refs={}),se===null?delete be[$]:be[$]=se},m._stringRef=$,m)}if(typeof h!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,h))}return h}function Ai(h,m){throw h=Object.prototype.toString.call(m),Error(o(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function YT(h){var m=h._init;return m(h._payload)}function Kx(h){function m(Be,pe){if(h){var fe=Be.deletions;fe===null?(Be.deletions=[pe],Be.flags|=16):fe.push(pe)}}function S(Be,pe){if(!h)return null;for(;pe!==null;)m(Be,pe),pe=pe.sibling;return null}function I(Be,pe){for(Be=new Map;pe!==null;)pe.key!==null?Be.set(pe.key,pe):Be.set(pe.index,pe),pe=pe.sibling;return Be}function D(Be,pe){return Be=Ht(Be,pe),Be.index=0,Be.sibling=null,Be}function $(Be,pe,fe){return Be.index=fe,h?(fe=Be.alternate,fe!==null?(fe=fe.index,fe<pe?(Be.flags|=2,pe):fe):(Be.flags|=2,pe)):(Be.flags|=1048576,pe)}function se(Be){return h&&Be.alternate===null&&(Be.flags|=2),Be}function be(Be,pe,fe,We){return pe===null||pe.tag!==6?(pe=Qt(fe,Be.mode,We),pe.return=Be,pe):(pe=D(pe,fe),pe.return=Be,pe)}function je(Be,pe,fe,We){var Ct=fe.type;return Ct===u?Nt(Be,pe,fe.props.children,We,fe.key):pe!==null&&(pe.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===b&&YT(Ct)===pe.type)?(We=D(pe,fe.props),We.ref=ff(Be,pe,fe),We.return=Be,We):(We=yn(fe.type,fe.key,fe.props,null,Be.mode,We),We.ref=ff(Be,pe,fe),We.return=Be,We)}function yt(Be,pe,fe,We){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==fe.containerInfo||pe.stateNode.implementation!==fe.implementation?(pe=Un(fe,Be.mode,We),pe.return=Be,pe):(pe=D(pe,fe.children||[]),pe.return=Be,pe)}function Nt(Be,pe,fe,We,Ct){return pe===null||pe.tag!==7?(pe=Nn(fe,Be.mode,We,Ct),pe.return=Be,pe):(pe=D(pe,fe),pe.return=Be,pe)}function ln(Be,pe,fe){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=Qt(""+pe,Be.mode,fe),pe.return=Be,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return fe=yn(pe.type,pe.key,pe.props,null,Be.mode,fe),fe.ref=ff(Be,null,pe),fe.return=Be,fe;case c:return pe=Un(pe,Be.mode,fe),pe.return=Be,pe;case b:var We=pe._init;return ln(Be,We(pe._payload),fe)}if(j(pe)||P(pe))return pe=Nn(pe,Be.mode,fe,null),pe.return=Be,pe;Ai(Be,pe)}return null}function Jt(Be,pe,fe,We){var Ct=pe!==null?pe.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Ct!==null?null:be(Be,pe,""+fe,We);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:return fe.key===Ct?je(Be,pe,fe,We):null;case c:return fe.key===Ct?yt(Be,pe,fe,We):null;case b:return Ct=fe._init,Jt(Be,pe,Ct(fe._payload),We)}if(j(fe)||P(fe))return Ct!==null?null:Nt(Be,pe,fe,We,null);Ai(Be,fe)}return null}function er(Be,pe,fe,We,Ct){if(typeof We=="string"&&We!==""||typeof We=="number")return Be=Be.get(fe)||null,be(pe,Be,""+We,Ct);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return Be=Be.get(We.key===null?fe:We.key)||null,je(pe,Be,We,Ct);case c:return Be=Be.get(We.key===null?fe:We.key)||null,yt(pe,Be,We,Ct);case b:var qt=We._init;return er(Be,pe,fe,qt(We._payload),Ct)}if(j(We)||P(We))return Be=Be.get(fe)||null,Nt(pe,Be,We,Ct,null);Ai(pe,We)}return null}function Gt(Be,pe,fe,We){for(var Ct=null,qt=null,Kt=pe,cn=pe=0,Ur=null;Kt!==null&&cn<fe.length;cn++){Kt.index>cn?(Ur=Kt,Kt=null):Ur=Kt.sibling;var In=Jt(Be,Kt,fe[cn],We);if(In===null){Kt===null&&(Kt=Ur);break}h&&Kt&&In.alternate===null&&m(Be,Kt),pe=$(In,pe,cn),qt===null?Ct=In:qt.sibling=In,qt=In,Kt=Ur}if(cn===fe.length)return S(Be,Kt),ur&&jo(Be,cn),Ct;if(Kt===null){for(;cn<fe.length;cn++)Kt=ln(Be,fe[cn],We),Kt!==null&&(pe=$(Kt,pe,cn),qt===null?Ct=Kt:qt.sibling=Kt,qt=Kt);return ur&&jo(Be,cn),Ct}for(Kt=I(Be,Kt);cn<fe.length;cn++)Ur=er(Kt,Be,cn,fe[cn],We),Ur!==null&&(h&&Ur.alternate!==null&&Kt.delete(Ur.key===null?cn:Ur.key),pe=$(Ur,pe,cn),qt===null?Ct=Ur:qt.sibling=Ur,qt=Ur);return h&&Kt.forEach(function(ba){return m(Be,ba)}),ur&&jo(Be,cn),Ct}function Di(Be,pe,fe,We){var Ct=P(fe);if(typeof Ct!="function")throw Error(o(150));if(fe=Ct.call(fe),fe==null)throw Error(o(151));for(var qt=Ct=null,Kt=pe,cn=pe=0,Ur=null,In=fe.next();Kt!==null&&!In.done;cn++,In=fe.next()){Kt.index>cn?(Ur=Kt,Kt=null):Ur=Kt.sibling;var ba=Jt(Be,Kt,In.value,We);if(ba===null){Kt===null&&(Kt=Ur);break}h&&Kt&&ba.alternate===null&&m(Be,Kt),pe=$(ba,pe,cn),qt===null?Ct=ba:qt.sibling=ba,qt=ba,Kt=Ur}if(In.done)return S(Be,Kt),ur&&jo(Be,cn),Ct;if(Kt===null){for(;!In.done;cn++,In=fe.next())In=ln(Be,In.value,We),In!==null&&(pe=$(In,pe,cn),qt===null?Ct=In:qt.sibling=In,qt=In);return ur&&jo(Be,cn),Ct}for(Kt=I(Be,Kt);!In.done;cn++,In=fe.next())In=er(Kt,Be,cn,In.value,We),In!==null&&(h&&In.alternate!==null&&Kt.delete(In.key===null?cn:In.key),pe=$(In,pe,cn),qt===null?Ct=In:qt.sibling=In,qt=In);return h&&Kt.forEach(function(f2){return m(Be,f2)}),ur&&jo(Be,cn),Ct}function go(Be,pe,fe,We){if(typeof fe=="object"&&fe!==null&&fe.type===u&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case l:e:{for(var Ct=fe.key,qt=pe;qt!==null;){if(qt.key===Ct){if(Ct=fe.type,Ct===u){if(qt.tag===7){S(Be,qt.sibling),pe=D(qt,fe.props.children),pe.return=Be,Be=pe;break e}}else if(qt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===b&&YT(Ct)===qt.type){S(Be,qt.sibling),pe=D(qt,fe.props),pe.ref=ff(Be,qt,fe),pe.return=Be,Be=pe;break e}S(Be,qt);break}else m(Be,qt);qt=qt.sibling}fe.type===u?(pe=Nn(fe.props.children,Be.mode,We,fe.key),pe.return=Be,Be=pe):(We=yn(fe.type,fe.key,fe.props,null,Be.mode,We),We.ref=ff(Be,pe,fe),We.return=Be,Be=We)}return se(Be);case c:e:{for(qt=fe.key;pe!==null;){if(pe.key===qt)if(pe.tag===4&&pe.stateNode.containerInfo===fe.containerInfo&&pe.stateNode.implementation===fe.implementation){S(Be,pe.sibling),pe=D(pe,fe.children||[]),pe.return=Be,Be=pe;break e}else{S(Be,pe);break}else m(Be,pe);pe=pe.sibling}pe=Un(fe,Be.mode,We),pe.return=Be,Be=pe}return se(Be);case b:return qt=fe._init,go(Be,pe,qt(fe._payload),We)}if(j(fe))return Gt(Be,pe,fe,We);if(P(fe))return Di(Be,pe,fe,We);Ai(Be,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,pe!==null&&pe.tag===6?(S(Be,pe.sibling),pe=D(pe,fe),pe.return=Be,Be=pe):(S(Be,pe),pe=Qt(fe,Be.mode,We),pe.return=Be,Be=pe),se(Be)):S(Be,pe)}return go}var el=Kx(!0),QT=Kx(!1),hf={},mo=qn(hf),pf=qn(hf),Uu=qn(hf);function tl(h){if(h===hf)throw Error(o(174));return h}function Fv(h,m){Kn(Uu,m),Kn(pf,h),Kn(mo,hf),h=X(m),Rn(mo),Kn(mo,h)}function mf(){Rn(mo),Rn(pf),Rn(Uu)}function Xx(h){var m=tl(Uu.current),S=tl(mo.current);m=B(S,h.type,m),S!==m&&(Kn(pf,h),Kn(mo,m))}function Yx(h){pf.current===h&&(Rn(mo),Rn(pf))}var vr=qn(0);function Bv(h){for(var m=h;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ka(S)||ie(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Qx=[];function Jx(){for(var h=0;h<Qx.length;h++){var m=Qx[h];Se?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Qx.length=0}var Sp=a.ReactCurrentDispatcher,Ko=a.ReactCurrentBatchConfig,zu=0,Sr=null,Ri=null,Kr=null,Cp=!1,Oc=!1,Tp=0,$v=0;function gi(){throw Error(o(321))}function Zx(h,m){if(m===null)return!1;for(var S=0;S<m.length&&S<h.length;S++)if(!Qa(h[S],m[S]))return!1;return!0}function Uv(h,m,S,I,D,$){if(zu=$,Sr=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Sp.current=h===null||h.memoizedState===null?n2:r2,h=S(I,D),Oc){$=0;do{if(Oc=!1,Tp=0,25<=$)throw Error(o(301));$+=1,Kr=Ri=null,m.updateQueue=null,Sp.current=cw,h=S(I,D)}while(Oc)}if(Sp.current=kp,m=Ri!==null&&Ri.next!==null,zu=0,Kr=Ri=Sr=null,Cp=!1,m)throw Error(o(300));return h}function Fc(){var h=Tp!==0;return Tp=0,h}function Wl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Sr.memoizedState=Kr=h:Kr=Kr.next=h,Kr}function wa(){if(Ri===null){var h=Sr.alternate;h=h!==null?h.memoizedState:null}else h=Ri.next;var m=Kr===null?Sr.memoizedState:Kr.next;if(m!==null)Kr=m,Ri=h;else{if(h===null)throw Error(o(310));Ri=h,h={memoizedState:Ri.memoizedState,baseState:Ri.baseState,baseQueue:Ri.baseQueue,queue:Ri.queue,next:null},Kr===null?Sr.memoizedState=Kr=h:Kr=Kr.next=h}return Kr}function Bc(h,m){return typeof m=="function"?m(h):m}function zv(h){var m=wa(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var I=Ri,D=I.baseQueue,$=S.pending;if($!==null){if(D!==null){var se=D.next;D.next=$.next,$.next=se}I.baseQueue=D=$,S.pending=null}if(D!==null){$=D.next,I=I.baseState;var be=se=null,je=null,yt=$;do{var Nt=yt.lane;if((zu&Nt)===Nt)je!==null&&(je=je.next={lane:0,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),I=yt.hasEagerState?yt.eagerState:h(I,yt.action);else{var ln={lane:Nt,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null};je===null?(be=je=ln,se=I):je=je.next=ln,Sr.lanes|=Nt,Ef|=Nt}yt=yt.next}while(yt!==null&&yt!==$);je===null?se=I:je.next=be,Qa(I,m.memoizedState)||(Ji=!0),m.memoizedState=I,m.baseState=se,m.baseQueue=je,S.lastRenderedState=I}if(h=S.interleaved,h!==null){D=h;do $=D.lane,Sr.lanes|=$,Ef|=$,D=D.next;while(D!==h)}else D===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function Vu(h){var m=wa(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=h;var I=S.dispatch,D=S.pending,$=m.memoizedState;if(D!==null){S.pending=null;var se=D=D.next;do $=h($,se.action),se=se.next;while(se!==D);Qa($,m.memoizedState)||(Ji=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),S.lastRenderedState=$}return[$,I]}function ew(){}function Vv(h,m){var S=Sr,I=wa(),D=m(),$=!Qa(I.memoizedState,D);if($&&(I.memoizedState=D,Ji=!0),I=I.queue,Ap(nw.bind(null,S,I,h),[h]),I.getSnapshot!==m||$||Kr!==null&&Kr.memoizedState.tag&1){if(S.flags|=2048,gf(9,tw.bind(null,S,I,D,m),void 0,null),Xr===null)throw Error(o(349));(zu&30)!==0||JT(S,m,D)}return D}function JT(h,m,S){h.flags|=16384,h={getSnapshot:m,value:S},m=Sr.updateQueue,m===null?(m={lastEffect:null,stores:null},Sr.updateQueue=m,m.stores=[h]):(S=m.stores,S===null?m.stores=[h]:S.push(h))}function tw(h,m,S,I){m.value=S,m.getSnapshot=I,rw(m)&&ki(h,1,-1)}function nw(h,m,S){return S(function(){rw(m)&&ki(h,1,-1)})}function rw(h){var m=h.getSnapshot;h=h.value;try{var S=m();return!Qa(h,S)}catch{return!0}}function Ep(h){var m=Wl();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:h},m.queue=h,h=h.dispatch=t2.bind(null,Sr,h),[m.memoizedState,h]}function gf(h,m,S,I){return h={tag:h,create:m,destroy:S,deps:I,next:null},m=Sr.updateQueue,m===null?(m={lastEffect:null,stores:null},Sr.updateQueue=m,m.lastEffect=h.next=h):(S=m.lastEffect,S===null?m.lastEffect=h.next=h:(I=S.next,S.next=h,h.next=I,m.lastEffect=h)),h}function ZT(){return wa().memoizedState}function Ip(h,m,S,I){var D=Wl();Sr.flags|=h,D.memoizedState=gf(1|m,S,void 0,I===void 0?null:I)}function Mp(h,m,S,I){var D=wa();I=I===void 0?null:I;var $=void 0;if(Ri!==null){var se=Ri.memoizedState;if($=se.destroy,I!==null&&Zx(I,se.deps)){D.memoizedState=gf(m,S,$,I);return}}Sr.flags|=h,D.memoizedState=gf(1|m,S,$,I)}function iw(h,m){return Ip(8390656,8,h,m)}function Ap(h,m){return Mp(2048,8,h,m)}function vf(h,m){return Mp(4,2,h,m)}function sw(h,m){return Mp(4,4,h,m)}function Rp(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function yf(h,m,S){return S=S!=null?S.concat([h]):null,Mp(4,4,Rp.bind(null,m,h),S)}function Wv(){}function ow(h,m){var S=wa();m=m===void 0?null:m;var I=S.memoizedState;return I!==null&&m!==null&&Zx(m,I[1])?I[0]:(S.memoizedState=[h,m],h)}function aw(h,m){var S=wa();m=m===void 0?null:m;var I=S.memoizedState;return I!==null&&m!==null&&Zx(m,I[1])?I[0]:(h=h(),S.memoizedState=[h,m],h)}function ZL(h,m){var S=On;On=S!==0&&4>S?S:4,h(!0);var I=Ko.transition;Ko.transition={};try{h(!1),m()}finally{On=S,Ko.transition=I}}function Pp(){return wa().memoizedState}function e2(h,m,S){var I=Vc(h);S={lane:I,action:S,hasEagerState:!1,eagerState:null,next:null},eE(h)?lw(m,S):(Pi(h,m,S),S=Ts(),h=ki(h,I,S),h!==null&&Hv(h,m,I))}function t2(h,m,S){var I=Vc(h),D={lane:I,action:S,hasEagerState:!1,eagerState:null,next:null};if(eE(h))lw(m,D);else{Pi(h,m,D);var $=h.alternate;if(h.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var se=m.lastRenderedState,be=$(se,S);if(D.hasEagerState=!0,D.eagerState=be,Qa(be,se))return}catch{}finally{}S=Ts(),h=ki(h,I,S),h!==null&&Hv(h,m,I)}}function eE(h){var m=h.alternate;return h===Sr||m!==null&&m===Sr}function lw(h,m){Oc=Cp=!0;var S=h.pending;S===null?m.next=m:(m.next=S.next,S.next=m),h.pending=m}function Pi(h,m,S){Xr!==null&&(h.mode&1)!==0&&(vn&2)===0?(h=m.interleaved,h===null?(S.next=S,xa===null?xa=[m]:xa.push(m)):(S.next=h.next,h.next=S),m.interleaved=S):(h=m.pending,h===null?S.next=S:(S.next=h.next,h.next=S),m.pending=S)}function Hv(h,m,S){if((S&4194240)!==0){var I=m.lanes;I&=h.pendingLanes,S|=I,m.lanes=S,vp(h,S)}}var kp={readContext:or,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},n2={readContext:or,useCallback:function(h,m){return Wl().memoizedState=[h,m===void 0?null:m],h},useContext:or,useEffect:iw,useImperativeHandle:function(h,m,S){return S=S!=null?S.concat([h]):null,Ip(4194308,4,Rp.bind(null,m,h),S)},useLayoutEffect:function(h,m){return Ip(4194308,4,h,m)},useInsertionEffect:function(h,m){return Ip(4,2,h,m)},useMemo:function(h,m){var S=Wl();return m=m===void 0?null:m,h=h(),S.memoizedState=[h,m],h},useReducer:function(h,m,S){var I=Wl();return m=S!==void 0?S(m):m,I.memoizedState=I.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},I.queue=h,h=h.dispatch=e2.bind(null,Sr,h),[I.memoizedState,h]},useRef:function(h){var m=Wl();return h={current:h},m.memoizedState=h},useState:Ep,useDebugValue:Wv,useDeferredValue:function(h){var m=Ep(h),S=m[0],I=m[1];return iw(function(){var D=Ko.transition;Ko.transition={};try{I(h)}finally{Ko.transition=D}},[h]),S},useTransition:function(){var h=Ep(!1),m=h[0];return h=ZL.bind(null,h[1]),Wl().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,S){var I=Sr,D=Wl();if(ur){if(S===void 0)throw Error(o(407));S=S()}else{if(S=m(),Xr===null)throw Error(o(349));(zu&30)!==0||JT(I,m,S)}D.memoizedState=S;var $={value:S,getSnapshot:m};return D.queue=$,iw(nw.bind(null,I,$,h),[h]),I.flags|=2048,gf(9,tw.bind(null,I,$,S,m),void 0,null),S},useId:function(){var h=Wl(),m=Xr.identifierPrefix;if(ur){var S=Vl,I=zl;S=(I&~(1<<32-ya(I)-1)).toString(32)+S,m=":"+m+"R"+S,S=Tp++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=$v++,m=":"+m+"r"+S.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},r2={readContext:or,useCallback:ow,useContext:or,useEffect:Ap,useImperativeHandle:yf,useInsertionEffect:vf,useLayoutEffect:sw,useMemo:aw,useReducer:zv,useRef:ZT,useState:function(){return zv(Bc)},useDebugValue:Wv,useDeferredValue:function(h){var m=zv(Bc),S=m[0],I=m[1];return Ap(function(){var D=Ko.transition;Ko.transition={};try{I(h)}finally{Ko.transition=D}},[h]),S},useTransition:function(){var h=zv(Bc)[0],m=wa().memoizedState;return[h,m]},useMutableSource:ew,useSyncExternalStore:Vv,useId:Pp,unstable_isNewReconciler:!1},cw={readContext:or,useCallback:ow,useContext:or,useEffect:Ap,useImperativeHandle:yf,useInsertionEffect:vf,useLayoutEffect:sw,useMemo:aw,useReducer:Vu,useRef:ZT,useState:function(){return Vu(Bc)},useDebugValue:Wv,useDeferredValue:function(h){var m=Vu(Bc),S=m[0],I=m[1];return Ap(function(){var D=Ko.transition;Ko.transition={};try{I(h)}finally{Ko.transition=D}},[h]),S},useTransition:function(){var h=Vu(Bc)[0],m=wa().memoizedState;return[h,m]},useMutableSource:ew,useSyncExternalStore:Vv,useId:Pp,unstable_isNewReconciler:!1};function uw(h,m){try{var S="",I=m;do S+=JL(I),I=I.return;while(I);var D=S}catch($){D=`
Error generating stack: `+$.message+`
`+$.stack}return{value:h,source:m,stack:D}}function Gv(h,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var i2=typeof WeakMap=="function"?WeakMap:Map;function dw(h,m,S){S=Ul(-1,S),S.tag=3,S.payload={element:null};var I=m.value;return S.callback=function(){sy||(sy=!0,kw=I),Gv(h,m)},S}function tE(h,m,S){S=Ul(-1,S),S.tag=3;var I=h.type.getDerivedStateFromError;if(typeof I=="function"){var D=m.value;S.payload=function(){return I(D)},S.callback=function(){Gv(h,m)}}var $=h.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(S.callback=function(){Gv(h,m),typeof I!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})}),S}function _f(h,m,S){var I=h.pingCache;if(I===null){I=h.pingCache=new i2;var D=new Set;I.set(m,D)}else D=I.get(m),D===void 0&&(D=new Set,I.set(m,D));D.has(S)||(D.add(S),h=Ve.bind(null,h,m,S),m.then(h,h))}function nE(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function fw(h,m,S,I,D){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=Ul(-1,1),m.tag=2,Nc(S,m))),S.lanes|=1),h):(h.flags|=65536,h.lanes=D,h)}function nl(h){h.flags|=4}function rE(h,m){if(h!==null&&h.child===m.child)return!0;if((m.flags&16)!==0)return!1;for(h=m.child;h!==null;){if((h.flags&12854)!==0||(h.subtreeFlags&12854)!==0)return!1;h=h.sibling}return!0}var Lp,xf,Dp,$c;if(Ze)Lp=function(h,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)J(h,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},xf=function(){},Dp=function(h,m,S,I,D){if(h=h.memoizedProps,h!==I){var $=m.stateNode,se=tl(mo.current);S=ye($,S,h,I,D,se),(m.updateQueue=S)&&nl(m)}},$c=function(h,m,S,I){S!==I&&nl(m)};else if(we){Lp=function(h,m,S,I){for(var D=m.child;D!==null;){if(D.tag===5){var $=D.stateNode;S&&I&&($=Yi($,D.type,D.memoizedProps,D)),J(h,$)}else if(D.tag===6)$=D.stateNode,S&&I&&($=Ss($,D.memoizedProps,D)),J(h,$);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)$=D.child,$!==null&&($.return=D),Lp(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var iE=function(h,m,S,I){for(var D=m.child;D!==null;){if(D.tag===5){var $=D.stateNode;S&&I&&($=Yi($,D.type,D.memoizedProps,D)),Ii(h,$)}else if(D.tag===6)$=D.stateNode,S&&I&&($=Ss($,D.memoizedProps,D)),Ii(h,$);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)$=D.child,$!==null&&($.return=D),iE(h,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};xf=function(h,m){var S=m.stateNode;if(!rE(h,m)){h=S.containerInfo;var I=jr(h);iE(I,m,!1,!1),S.pendingChildren=I,nl(m),xn(h,I)}},Dp=function(h,m,S,I,D){var $=h.stateNode,se=h.memoizedProps;if((h=rE(h,m))&&se===I)m.stateNode=$;else{var be=m.stateNode,je=tl(mo.current),yt=null;se!==I&&(yt=ye(be,S,se,I,D,je)),h&&yt===null?m.stateNode=$:($=jn($,yt,S,se,I,m,h,be),de($,S,I,D,je)&&nl(m),m.stateNode=$,h?nl(m):Lp($,m,!1,!1))}},$c=function(h,m,S,I){S!==I?(h=tl(Uu.current),S=tl(mo.current),m.stateNode=oe(I,h,S,m),nl(m)):m.stateNode=h.stateNode}}else xf=function(){},Dp=function(){},$c=function(){};function Np(h,m){if(!ur)switch(h.tailMode){case"hidden":m=h.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var I=null;S!==null;)S.alternate!==null&&(I=S),S=S.sibling;I===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:I.sibling=null}}function Qi(h){var m=h.alternate!==null&&h.alternate.child===h.child,S=0,I=0;if(m)for(var D=h.child;D!==null;)S|=D.lanes|D.childLanes,I|=D.subtreeFlags&14680064,I|=D.flags&14680064,D.return=h,D=D.sibling;else for(D=h.child;D!==null;)S|=D.lanes|D.childLanes,I|=D.subtreeFlags,I|=D.flags,D.return=h,D=D.sibling;return h.subtreeFlags|=I,h.childLanes=S,m}function jv(h,m,S){var I=m.pendingProps;switch(Dv(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qi(m),null;case 1:return js(m.type)&&tf(),Qi(m),null;case 3:return I=m.stateNode,mf(),Rn(Gs),Rn(Mi),Jx(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(h===null||h.child===null)&&(po(m)?nl(m):h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,qo!==null&&(Nw(qo),qo=null))),xf(h,m),Qi(m),null;case 5:Yx(m),S=tl(Uu.current);var D=m.type;if(h!==null&&m.stateNode!=null)Dp(h,m,D,I,S),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!I){if(m.stateNode===null)throw Error(o(166));return Qi(m),null}if(h=tl(mo.current),po(m)){if(!ve)throw Error(o(175));h=bt(m.stateNode,m.type,m.memoizedProps,S,h,m,!bp),m.updateQueue=h,h!==null&&nl(m)}else{var $=ee(D,I,S,h,m);Lp($,m,!1,!1),m.stateNode=$,de($,D,I,S,h)&&nl(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Qi(m),null;case 6:if(h&&m.stateNode!=null)$c(h,m,h.memoizedProps,I);else{if(typeof I!="string"&&m.stateNode===null)throw Error(o(166));if(h=tl(Uu.current),S=tl(mo.current),po(m)){if(!ve)throw Error(o(176));if(h=m.stateNode,I=m.memoizedProps,(S=Dt(h,I,m,!bp))&&(D=Cs,D!==null))switch($=(D.mode&1)!==0,D.tag){case 3:Fl(D.stateNode.containerInfo,h,I,$);break;case 5:ho(D.type,D.memoizedProps,D.stateNode,h,I,$)}S&&nl(m)}else m.stateNode=oe(I,h,S,m)}return Qi(m),null;case 13:if(Rn(vr),I=m.memoizedState,ur&&qs!==null&&(m.mode&1)!==0&&(m.flags&128)===0){for(h=qs;h;)h=Fe(h);return df(),m.flags|=98560,m}if(I!==null&&I.dehydrated!==null){if(I=po(m),h===null){if(!I)throw Error(o(318));if(!ve)throw Error(o(344));if(h=m.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));Wt(h,m)}else df(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;return Qi(m),null}return qo!==null&&(Nw(qo),qo=null),(m.flags&128)!==0?(m.lanes=S,m):(I=I!==null,S=!1,h===null?po(m):S=h.memoizedState!==null,I&&!S&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(vr.current&1)!==0?yr===0&&(yr=3):uy())),m.updateQueue!==null&&(m.flags|=4),Qi(m),null);case 4:return mf(),xf(h,m),h===null&&Qe(m.stateNode.containerInfo),Qi(m),null;case 10:return of(m.type._context),Qi(m),null;case 17:return js(m.type)&&tf(),Qi(m),null;case 19:if(Rn(vr),D=m.memoizedState,D===null)return Qi(m),null;if(I=(m.flags&128)!==0,$=D.rendering,$===null)if(I)Np(D,!1);else{if(yr!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if($=Bv(h),$!==null){for(m.flags|=128,Np(D,!1),h=$.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),m.subtreeFlags=0,h=S,I=m.child;I!==null;)S=I,D=h,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=D,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,D=$.dependencies,S.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),I=I.sibling;return Kn(vr,vr.current&1|2),m.child}h=h.sibling}D.tail!==null&&si()>Vp&&(m.flags|=128,I=!0,Np(D,!1),m.lanes=4194304)}else{if(!I)if(h=Bv($),h!==null){if(m.flags|=128,I=!0,h=h.updateQueue,h!==null&&(m.updateQueue=h,m.flags|=4),Np(D,!0),D.tail===null&&D.tailMode==="hidden"&&!$.alternate&&!ur)return Qi(m),null}else 2*si()-D.renderingStartTime>Vp&&S!==1073741824&&(m.flags|=128,I=!0,Np(D,!1),m.lanes=4194304);D.isBackwards?($.sibling=m.child,m.child=$):(h=D.last,h!==null?h.sibling=$:m.child=$,D.last=$)}return D.tail!==null?(m=D.tail,D.rendering=m,D.tail=m.sibling,D.renderingStartTime=si(),m.sibling=null,h=vr.current,Kn(vr,I?h&1|2:h&1),m):(Qi(m),null);case 22:case 23:return Ow(),I=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==I&&(m.flags|=8192),I&&(m.mode&1)!==0?(Ks&1073741824)!==0&&(Qi(m),Ze&&m.subtreeFlags&6&&(m.flags|=8192)):Qi(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var s2=a.ReactCurrentOwner,Ji=!1;function Zi(h,m,S,I){m.child=h===null?QT(m,null,S,I):el(m,h.child,S,I)}function Uc(h,m,S,I,D){S=S.render;var $=m.ref;return Bu(m,D),I=Uv(h,m,S,I,$,D),S=Fc(),h!==null&&!Ji?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~D,Hl(h,m,D)):(ur&&S&&Lv(m),m.flags|=1,Zi(h,m,I,D),m.child)}function sE(h,m,S,I,D){if(h===null){var $=S.type;return typeof $=="function"&&!ot($)&&$.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=$,oE(h,m,$,I,D)):(h=yn(S.type,null,I,m,m.mode,D),h.ref=m.ref,h.return=m,m.child=h)}if($=h.child,(h.lanes&D)===0){var se=$.memoizedProps;if(S=S.compare,S=S!==null?S:Ev,S(se,I)&&h.ref===m.ref)return Hl(h,m,D)}return m.flags|=1,h=Ht($,I),h.ref=m.ref,h.return=m,m.child=h}function oE(h,m,S,I,D){if(h!==null&&Ev(h.memoizedProps,I)&&h.ref===m.ref)if(Ji=!1,(h.lanes&D)!==0)(h.flags&131072)!==0&&(Ji=!0);else return m.lanes=h.lanes,Hl(h,m,D);return qv(h,m,S,I,D)}function hw(h,m,S){var I=m.pendingProps,D=I.children,$=h!==null?h.memoizedState:null;if(I.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null},Kn(Cf,Ks),Ks|=S;else if((S&1073741824)!==0)m.memoizedState={baseLanes:0,cachePool:null},I=$!==null?$.baseLanes:S,Kn(Cf,Ks),Ks|=I;else return h=$!==null?$.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null},m.updateQueue=null,Kn(Cf,Ks),Ks|=h,null;else $!==null?(I=$.baseLanes|S,m.memoizedState=null):I=S,Kn(Cf,Ks),Ks|=I;return Zi(h,m,D,S),m.child}function aE(h,m){var S=m.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function qv(h,m,S,I,D){var $=js(S)?Nu:Mi.current;return $=ef(m,$),Bu(m,D),S=Uv(h,m,S,I,$,D),I=Fc(),h!==null&&!Ji?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~D,Hl(h,m,D)):(ur&&I&&Lv(m),m.flags|=1,Zi(h,m,S,D),m.child)}function pw(h,m,S,I,D){if(js(S)){var $=!0;xv(m)}else $=!1;if(Bu(m,D),m.stateNode===null)h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),Pv(m,S,I),jx(m,S,I,D),I=!0;else if(h===null){var se=m.stateNode,be=m.memoizedProps;se.props=be;var je=se.context,yt=S.contextType;typeof yt=="object"&&yt!==null?yt=or(yt):(yt=js(S)?Nu:Mi.current,yt=ef(m,yt));var Nt=S.getDerivedStateFromProps,ln=typeof Nt=="function"||typeof se.getSnapshotBeforeUpdate=="function";ln||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(be!==I||je!==yt)&&Gx(m,se,I,yt),Dc=!1;var Jt=m.memoizedState;se.state=Jt,af(m,I,se,D),je=m.memoizedState,be!==I||Jt!==je||Gs.current||Dc?(typeof Nt=="function"&&(Hx(m,S,Nt,I),je=m.memoizedState),(be=Dc||wp(m,S,be,I,Jt,je,yt))?(ln||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=I,m.memoizedState=je),se.props=I,se.state=je,se.context=yt,I=be):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),I=!1)}else{se=m.stateNode,_p(h,m),be=m.memoizedProps,yt=m.type===m.elementType?be:Wo(m.type,be),se.props=yt,ln=m.pendingProps,Jt=se.context,je=S.contextType,typeof je=="object"&&je!==null?je=or(je):(je=js(S)?Nu:Mi.current,je=ef(m,je));var er=S.getDerivedStateFromProps;(Nt=typeof er=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(be!==ln||Jt!==je)&&Gx(m,se,I,je),Dc=!1,Jt=m.memoizedState,se.state=Jt,af(m,I,se,D);var Gt=m.memoizedState;be!==ln||Jt!==Gt||Gs.current||Dc?(typeof er=="function"&&(Hx(m,S,er,I),Gt=m.memoizedState),(yt=Dc||wp(m,S,yt,I,Jt,Gt,je)||!1)?(Nt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(I,Gt,je),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(I,Gt,je)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||be===h.memoizedProps&&Jt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||be===h.memoizedProps&&Jt===h.memoizedState||(m.flags|=1024),m.memoizedProps=I,m.memoizedState=Gt),se.props=I,se.state=Gt,se.context=je,I=yt):(typeof se.componentDidUpdate!="function"||be===h.memoizedProps&&Jt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||be===h.memoizedProps&&Jt===h.memoizedState||(m.flags|=1024),I=!1)}return wf(h,m,S,I,$,D)}function wf(h,m,S,I,D,$){aE(h,m);var se=(m.flags&128)!==0;if(!I&&!se)return D&&FT(m,S,!1),Hl(h,m,$);I=m.stateNode,s2.current=m;var be=se&&typeof S.getDerivedStateFromError!="function"?null:I.render();return m.flags|=1,h!==null&&se?(m.child=el(m,h.child,null,$),m.child=el(m,null,be,$)):Zi(h,m,be,$),m.memoizedState=I.state,D&&FT(m,S,!0),m.child}function mw(h){var m=h.stateNode;m.pendingContext?OT(h,m.pendingContext,m.pendingContext!==m.context):m.context&&OT(h,m.context,!1),Fv(h,m.containerInfo)}function lE(h,m,S,I,D){return df(),Ov(D),m.flags|=256,Zi(h,m,S,I),m.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function Kv(h){return{baseLanes:h,cachePool:null}}function cE(h,m,S){var I=m.pendingProps,D=vr.current,$=!1,se=(m.flags&128)!==0,be;if((be=se)||(be=h!==null&&h.memoizedState===null?!1:(D&2)!==0),be?($=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(D|=1),Kn(vr,D&1),h===null)return qx(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:ie(h)?m.lanes=8:m.lanes=1073741824,null):(D=I.children,h=I.fallback,$?(I=m.mode,$=m.child,D={mode:"hidden",children:D},(I&1)===0&&$!==null?($.childLanes=0,$.pendingProps=D):$=_n(D,I,0,null),h=Nn(h,I,S,null),$.return=m,h.return=m,$.sibling=h,m.child=$,m.child.memoizedState=Kv(S),m.memoizedState=Wu,h):gw(m,D));if(D=h.memoizedState,D!==null){if(be=D.dehydrated,be!==null){if(se)return m.flags&256?(m.flags&=-257,Hu(h,m,S,Error(o(422)))):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):($=I.fallback,D=m.mode,I=_n({mode:"visible",children:I.children},D,0,null),$=Nn($,D,S,null),$.flags|=2,I.return=m,$.return=m,I.sibling=$,m.child=I,(m.mode&1)!==0&&el(m,h.child,null,S),m.child.memoizedState=Kv(S),m.memoizedState=Wu,$);if((m.mode&1)===0)m=Hu(h,m,S,null);else if(ie(be))m=Hu(h,m,S,Error(o(419)));else if(I=(S&h.childLanes)!==0,Ji||I){if(I=Xr,I!==null){switch(S&-S){case 4:$=2;break;case 16:$=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:$=32;break;case 536870912:$=268435456;break;default:$=0}I=($&(I.suspendedLanes|S))!==0?0:$,I!==0&&I!==D.retryLane&&(D.retryLane=I,ki(h,I,-1))}uy(),m=Hu(h,m,S,Error(o(421)))}else Ka(be)?(m.flags|=128,m.child=h.child,m=Me.bind(null,h),Te(be,m),m=null):(S=D.treeContext,ve&&(qs=dt(be),Cs=m,ur=!0,qo=null,bp=!1,S!==null&&(Ho[Go++]=zl,Ho[Go++]=Vl,Ho[Go++]=$u,zl=S.id,Vl=S.overflow,$u=m)),m=gw(m,m.pendingProps.children),m.flags|=4096);return m}return $?(I=uE(h,m,I.children,I.fallback,S),$=m.child,D=h.child.memoizedState,$.memoizedState=D===null?Kv(S):{baseLanes:D.baseLanes|S,cachePool:null},$.childLanes=h.childLanes&~S,m.memoizedState=Wu,I):(S=vw(h,m,I.children,S),m.memoizedState=null,S)}return $?(I=uE(h,m,I.children,I.fallback,S),$=m.child,D=h.child.memoizedState,$.memoizedState=D===null?Kv(S):{baseLanes:D.baseLanes|S,cachePool:null},$.childLanes=h.childLanes&~S,m.memoizedState=Wu,I):(S=vw(h,m,I.children,S),m.memoizedState=null,S)}function gw(h,m){return m=_n({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function vw(h,m,S,I){var D=h.child;return h=D.sibling,S=Ht(D,{mode:"visible",children:S}),(m.mode&1)===0&&(S.lanes=I),S.return=m,S.sibling=null,h!==null&&(I=m.deletions,I===null?(m.deletions=[h],m.flags|=16):I.push(h)),m.child=S}function uE(h,m,S,I,D){var $=m.mode;h=h.child;var se=h.sibling,be={mode:"hidden",children:S};return($&1)===0&&m.child!==h?(S=m.child,S.childLanes=0,S.pendingProps=be,m.deletions=null):(S=Ht(h,be),S.subtreeFlags=h.subtreeFlags&14680064),se!==null?I=Ht(se,I):(I=Nn(I,$,D,null),I.flags|=2),I.return=m,S.return=m,S.sibling=I,m.child=S,I}function Hu(h,m,S,I){return I!==null&&Ov(I),el(m,h.child,null,S),h=gw(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function dE(h,m,S){h.lanes|=m;var I=h.alternate;I!==null&&(I.lanes|=m),Vx(h.return,m,S)}function yw(h,m,S,I,D){var $=h.memoizedState;$===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:I,tail:S,tailMode:D}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=I,$.tail=S,$.tailMode=D)}function _w(h,m,S){var I=m.pendingProps,D=I.revealOrder,$=I.tail;if(Zi(h,m,I.children,S),I=vr.current,(I&2)!==0)I=I&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&dE(h,S,m);else if(h.tag===19)dE(h,S,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}I&=1}if(Kn(vr,I),(m.mode&1)===0)m.memoizedState=null;else switch(D){case"forwards":for(S=m.child,D=null;S!==null;)h=S.alternate,h!==null&&Bv(h)===null&&(D=S),S=S.sibling;S=D,S===null?(D=m.child,m.child=null):(D=S.sibling,S.sibling=null),yw(m,!1,D,S,$);break;case"backwards":for(S=null,D=m.child,m.child=null;D!==null;){if(h=D.alternate,h!==null&&Bv(h)===null){m.child=D;break}h=D.sibling,D.sibling=S,S=D,D=h}yw(m,!0,S,null,$);break;case"together":yw(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Hl(h,m,S){if(h!==null&&(m.dependencies=h.dependencies),Ef|=m.lanes,(S&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(o(153));if(m.child!==null){for(h=m.child,S=Ht(h,h.pendingProps),m.child=S,S.return=m;h.sibling!==null;)h=h.sibling,S=S.sibling=Ht(h,h.pendingProps),S.return=m;S.sibling=null}return m.child}function o2(h,m,S){switch(m.tag){case 3:mw(m),df();break;case 5:Xx(m);break;case 1:js(m.type)&&xv(m);break;case 4:Fv(m,m.stateNode.containerInfo);break;case 10:zx(m,m.type._context,m.memoizedProps.value);break;case 13:var I=m.memoizedState;if(I!==null)return I.dehydrated!==null?(Kn(vr,vr.current&1),m.flags|=128,null):(S&m.child.childLanes)!==0?cE(h,m,S):(Kn(vr,vr.current&1),h=Hl(h,m,S),h!==null?h.sibling:null);Kn(vr,vr.current&1);break;case 19:if(I=(S&m.childLanes)!==0,(h.flags&128)!==0){if(I)return _w(h,m,S);m.flags|=128}var D=m.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Kn(vr,vr.current),I)break;return null;case 22:case 23:return m.lanes=0,hw(h,m,S)}return Hl(h,m,S)}function fE(h,m){switch(Dv(m),m.tag){case 1:return js(m.type)&&tf(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return mf(),Rn(Gs),Rn(Mi),Jx(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return Yx(m),null;case 13:if(Rn(vr),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(o(340));df()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return Rn(vr),null;case 4:return mf(),null;case 10:return of(m.type._context),null;case 22:case 23:return Ow(),null;case 24:return null;default:return null}}var Xv=!1,zc=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,At=null;function Op(h,m){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(I){ae(h,m,I)}else S.current=null}function Qv(h,m,S){try{S()}catch(I){ae(h,m,I)}}var hE=!1;function a2(h,m){for(H(h.containerInfo),At=m;At!==null;)if(h=At,m=h.child,(h.subtreeFlags&1028)!==0&&m!==null)m.return=h,At=m;else for(;At!==null;){h=At;try{var S=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var I=S.memoizedProps,D=S.memoizedState,$=h.stateNode,se=$.getSnapshotBeforeUpdate(h.elementType===h.type?I:Wo(h.type,I),D);$.__reactInternalSnapshotBeforeUpdate=se}break;case 3:Ze&&en(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(be){ae(h,h.return,be)}if(m=h.sibling,m!==null){m.return=h.return,At=m;break}At=h.return}return S=hE,hE=!1,S}function Gu(h,m,S){var I=m.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var D=I=I.next;do{if((D.tag&h)===h){var $=D.destroy;D.destroy=void 0,$!==void 0&&Qv(m,S,$)}D=D.next}while(D!==I)}}function bf(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&h)===h){var I=S.create;S.destroy=I()}S=S.next}while(S!==m)}}function xw(h){var m=h.ref;if(m!==null){var S=h.stateNode;switch(h.tag){case 5:h=W(S);break;default:h=S}typeof m=="function"?m(h):m.current=h}}function pE(h,m,S){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(rf,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(h=m.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var I=h=h.next;do{var D=I,$=D.destroy;D=D.tag,$!==void 0&&((D&2)!==0||(D&4)!==0)&&Qv(m,S,$),I=I.next}while(I!==h)}break;case 1:if(Op(m,S),h=m.stateNode,typeof h.componentWillUnmount=="function")try{h.props=m.memoizedProps,h.state=m.memoizedState,h.componentWillUnmount()}catch(se){ae(m,S,se)}break;case 5:Op(m,S);break;case 4:Ze?Sw(h,m,S):we&&we&&(m=m.stateNode.containerInfo,S=jr(m),cr(m,S))}}function mE(h,m,S){for(var I=m;;)if(pE(h,I,S),I.child===null||Ze&&I.tag===4){if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function gE(h){var m=h.alternate;m!==null&&(h.alternate=null,gE(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&st(m)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function vE(h){return h.tag===5||h.tag===3||h.tag===4}function ww(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||vE(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function yE(h){if(Ze){e:{for(var m=h.return;m!==null;){if(vE(m))break e;m=m.return}throw Error(o(160))}var S=m;switch(S.tag){case 5:m=S.stateNode,S.flags&32&&(Et(m),S.flags&=-33),S=ww(h),Fp(h,S,m);break;case 3:case 4:m=S.stateNode.containerInfo,S=ww(h),bw(h,S,m);break;default:throw Error(o(161))}}}function bw(h,m,S){var I=h.tag;if(I===5||I===6)h=h.stateNode,m?at(S,h,m):me(S,h);else if(I!==4&&(h=h.child,h!==null))for(bw(h,m,S),h=h.sibling;h!==null;)bw(h,m,S),h=h.sibling}function Fp(h,m,S){var I=h.tag;if(I===5||I===6)h=h.stateNode,m?le(S,h,m):xe(S,h);else if(I!==4&&(h=h.child,h!==null))for(Fp(h,m,S),h=h.sibling;h!==null;)Fp(h,m,S),h=h.sibling}function Sw(h,m,S){for(var I=m,D=!1,$,se;;){if(!D){D=I.return;e:for(;;){if(D===null)throw Error(o(160));switch($=D.stateNode,D.tag){case 5:se=!1;break e;case 3:$=$.containerInfo,se=!0;break e;case 4:$=$.containerInfo,se=!0;break e}D=D.return}D=!0}if(I.tag===5||I.tag===6)mE(h,I,S),se?Vt($,I.stateNode):et($,I.stateNode);else if(I.tag===18)se?Ol($,I.stateNode):Zn($,I.stateNode);else if(I.tag===4){if(I.child!==null){$=I.stateNode.containerInfo,se=!0,I.child.return=I,I=I.child;continue}}else if(pE(h,I,S),I.child!==null){I.child.return=I,I=I.child;continue}if(I===m)break;for(;I.sibling===null;){if(I.return===null||I.return===m)return;I=I.return,I.tag===4&&(D=!1)}I.sibling.return=I.return,I=I.sibling}}function Cw(h,m){if(Ze){switch(m.tag){case 0:case 11:case 14:case 15:Gu(3,m,m.return),bf(3,m),Gu(5,m,m.return);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var I=m.memoizedProps;h=h!==null?h.memoizedProps:I;var D=m.type,$=m.updateQueue;m.updateQueue=null,$!==null&&qe(S,$,D,h,I,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));S=m.memoizedProps,Ee(m.stateNode,h!==null?h.memoizedProps:S,S);return;case 3:ve&&h!==null&&h.memoizedState.isDehydrated&&tn(m.stateNode.containerInfo);return;case 12:return;case 13:Jv(m);return;case 19:Jv(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:Gu(3,m,m.return),bf(3,m),Gu(5,m,m.return);return;case 12:return;case 13:Jv(m);return;case 19:Jv(m);return;case 3:ve&&h!==null&&h.memoizedState.isDehydrated&&tn(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(we){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,cr(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function Jv(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new Yv),m.forEach(function(I){var D=Ye.bind(null,h,I);S.has(I)||(S.add(I),I.then(D,D))})}}function l2(h,m){for(At=m;At!==null;){m=At;var S=m.deletions;if(S!==null)for(var I=0;I<S.length;I++){var D=S[I];try{var $=h;Ze?Sw($,D,m):mE($,D,m);var se=D.alternate;se!==null&&(se.return=null),D.return=null}catch(Ct){ae(D,m,Ct)}}if(S=m.child,(m.subtreeFlags&12854)!==0&&S!==null)S.return=m,At=S;else for(;At!==null;){m=At;try{var be=m.flags;if(be&32&&Ze&&Et(m.stateNode),be&512){var je=m.alternate;if(je!==null){var yt=je.ref;yt!==null&&(typeof yt=="function"?yt(null):yt.current=null)}}if(be&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Nt=m.alternate;(Nt===null||Nt.memoizedState===null)&&(iy=si())}break;case 22:var ln=m.memoizedState!==null,Jt=m.alternate,er=Jt!==null&&Jt.memoizedState!==null;if(S=m,Ze){e:if(I=S,D=ln,$=null,Ze)for(var Gt=I;;){if(Gt.tag===5){if($===null){$=Gt;var Di=Gt.stateNode;D?Lt(Di):Ft(Gt.stateNode,Gt.memoizedProps)}}else if(Gt.tag===6){if($===null){var go=Gt.stateNode;D?lt(go):mn(go,Gt.memoizedProps)}}else if((Gt.tag!==22&&Gt.tag!==23||Gt.memoizedState===null||Gt===I)&&Gt.child!==null){Gt.child.return=Gt,Gt=Gt.child;continue}if(Gt===I)break;for(;Gt.sibling===null;){if(Gt.return===null||Gt.return===I)break e;$===Gt&&($=null),Gt=Gt.return}$===Gt&&($=null),Gt.sibling.return=Gt.return,Gt=Gt.sibling}}if(ln&&!er&&(S.mode&1)!==0){At=S;for(var Be=S.child;Be!==null;){for(S=At=Be;At!==null;){I=At;var pe=I.child;switch(I.tag){case 0:case 11:case 14:case 15:Gu(4,I,I.return);break;case 1:Op(I,I.return);var fe=I.stateNode;if(typeof fe.componentWillUnmount=="function"){var We=I.return;try{fe.props=I.memoizedProps,fe.state=I.memoizedState,fe.componentWillUnmount()}catch(Ct){ae(I,We,Ct)}}break;case 5:Op(I,I.return);break;case 22:if(I.memoizedState!==null){Zv(S);continue}}pe!==null?(pe.return=I,At=pe):Zv(S)}Be=Be.sibling}}}switch(be&4102){case 2:yE(m),m.flags&=-3;break;case 6:yE(m),m.flags&=-3,Cw(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,Cw(m.alternate,m);break;case 4:Cw(m.alternate,m)}}catch(Ct){ae(m,m.return,Ct)}if(S=m.sibling,S!==null){S.return=m.return,At=S;break}At=m.return}}}function c2(h,m,S){At=h,Tw(h)}function Tw(h,m,S){for(var I=(h.mode&1)!==0;At!==null;){var D=At,$=D.child;if(D.tag===22&&I){var se=D.memoizedState!==null||Xv;if(!se){var be=D.alternate,je=be!==null&&be.memoizedState!==null||zc;be=Xv;var yt=zc;if(Xv=se,(zc=je)&&!yt)for(At=D;At!==null;)se=At,je=se.child,se.tag===22&&se.memoizedState!==null?xE(D):je!==null?(je.return=se,At=je):xE(D);for(;$!==null;)At=$,Tw($),$=$.sibling;At=D,Xv=be,zc=yt}_E(h)}else(D.subtreeFlags&8772)!==0&&$!==null?($.return=D,At=$):_E(h)}}function _E(h){for(;At!==null;){var m=At;if((m.flags&8772)!==0){var S=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:zc||bf(5,m);break;case 1:var I=m.stateNode;if(m.flags&4&&!zc)if(S===null)I.componentDidMount();else{var D=m.elementType===m.type?S.memoizedProps:Wo(m.type,S.memoizedProps);I.componentDidUpdate(D,S.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&GT(m,$,I);break;case 3:var se=m.updateQueue;if(se!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=W(m.child.stateNode);break;case 1:S=m.child.stateNode}GT(m,se,S)}break;case 5:var be=m.stateNode;S===null&&m.flags&4&&Oe(be,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(ve&&m.memoizedState===null){var je=m.alternate;if(je!==null){var yt=je.memoizedState;if(yt!==null){var Nt=yt.dehydrated;Nt!==null&&gn(Nt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}zc||m.flags&512&&xw(m)}catch(ln){ae(m,m.return,ln)}}if(m===h){At=null;break}if(S=m.sibling,S!==null){S.return=m.return,At=S;break}At=m.return}}function Zv(h){for(;At!==null;){var m=At;if(m===h){At=null;break}var S=m.sibling;if(S!==null){S.return=m.return,At=S;break}At=m.return}}function xE(h){for(;At!==null;){var m=At;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{bf(4,m)}catch(je){ae(m,S,je)}break;case 1:var I=m.stateNode;if(typeof I.componentDidMount=="function"){var D=m.return;try{I.componentDidMount()}catch(je){ae(m,D,je)}}var $=m.return;try{xw(m)}catch(je){ae(m,$,je)}break;case 5:var se=m.return;try{xw(m)}catch(je){ae(m,se,je)}}}catch(je){ae(m,m.return,je)}if(m===h){At=null;break}var be=m.sibling;if(be!==null){be.return=m.return,At=be;break}At=m.return}}var Gl=0,ey=1,ty=2,ny=3,Bp=4;if(typeof Symbol=="function"&&Symbol.for){var Sf=Symbol.for;Gl=Sf("selector.component"),ey=Sf("selector.has_pseudo_class"),ty=Sf("selector.role"),ny=Sf("selector.test_id"),Bp=Sf("selector.text")}function Ew(h){var m=Ue(h);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(h=It(h),h===null)throw Error(o(362));return h.stateNode.current}function Iw(h,m){switch(m.$$typeof){case Gl:if(h.type===m.value)return!0;break;case ey:e:{m=m.value,h=[h,0];for(var S=0;S<h.length;){var I=h[S++],D=h[S++],$=m[D];if(I.tag!==5||!ue(I)){for(;$!=null&&Iw(I,$);)D++,$=m[D];if(D===m.length){m=!0;break e}else for(I=I.child;I!==null;)h.push(I,D),I=I.sibling}}m=!1}return m;case ty:if(h.tag===5&&Re(h.stateNode,m.value))return!0;break;case Bp:if((h.tag===5||h.tag===6)&&(h=Q(h),h!==null&&0<=h.indexOf(m.value)))return!0;break;case ny:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ry(h){switch(h.$$typeof){case Gl:return"<"+(L(h.value)||"Unknown")+">";case ey:return":has("+(ry(h)||"")+")";case ty:return'[role="'+h.value+'"]';case Bp:return'"'+h.value+'"';case ny:return'[data-testname="'+h.value+'"]';default:throw Error(o(365))}}function Mw(h,m){var S=[];h=[h,0];for(var I=0;I<h.length;){var D=h[I++],$=h[I++],se=m[$];if(D.tag!==5||!ue(D)){for(;se!=null&&Iw(D,se);)$++,se=m[$];if($===m.length)S.push(D);else for(D=D.child;D!==null;)h.push(D,$),D=D.sibling}}return S}function Aw(h,m){if(!St)throw Error(o(363));h=Ew(h),h=Mw(h,m),m=[],h=Array.from(h);for(var S=0;S<h.length;){var I=h[S++];if(I.tag===5)ue(I)||m.push(I.stateNode);else for(I=I.child;I!==null;)h.push(I),I=I.sibling}return m}var u2=Math.ceil,$p=a.ReactCurrentDispatcher,Rw=a.ReactCurrentOwner,$r=a.ReactCurrentBatchConfig,vn=0,Xr=null,Yr=null,oi=0,Ks=0,Cf=qn(0),yr=0,Tf=null,Ef=0,Up=0,Pw=0,zp=null,Xs=null,iy=0,Vp=1/0;function ju(){Vp=si()+500}var sy=!1,kw=null,jl=null,Wp=!1,ql=null,oy=0,Hp=0,If=null,ay=-1,Gp=0;function Ts(){return(vn&6)!==0?si():ay!==-1?ay:ay=si()}function Vc(h){return(h.mode&1)===0?1:(vn&2)!==0&&oi!==0?oi&-oi:QL.transition!==null?(Gp===0&&(h=Bl,Bl<<=1,(Bl&4194240)===0&&(Bl=64),Gp=h),Gp):(h=On,h!==0?h:ze())}function ki(h,m,S){if(50<Hp)throw Hp=0,If=null,Error(o(185));var I=ly(h,m);return I===null?null:(gp(I,m,S),((vn&2)===0||I!==Xr)&&(I===Xr&&((vn&2)===0&&(Up|=m),yr===4&&Wc(I,oi)),Ys(I,S),m===1&&vn===0&&(h.mode&1)===0&&(ju(),sf&&Ja())),I)}function ly(h,m){h.lanes|=m;var S=h.alternate;for(S!==null&&(S.lanes|=m),S=h,h=h.return;h!==null;)h.childLanes|=m,S=h.alternate,S!==null&&(S.childLanes|=m),S=h,h=h.return;return S.tag===3?S.stateNode:null}function Ys(h,m){var S=h.callbackNode;UT(h,m);var I=mp(h,h===Xr?oi:0);if(I===0)S!==null&&Ox(S),h.callbackNode=null,h.callbackPriority=0;else if(m=I&-I,h.callbackPriority!==m){if(S!=null&&Ox(S),m===1)h.tag===0?YL(bE.bind(null,h)):$x(bE.bind(null,h)),vt?mt(function(){vn===0&&Ja()}):Sv(Fx,Ja),S=null;else{switch(Lc(I)){case 1:S=Fx;break;case 4:S=WT;break;case 16:S=$l;break;case 536870912:S=Tv;break;default:S=$l}S=Je(S,Lw.bind(null,h))}h.callbackPriority=m,h.callbackNode=S}}function Lw(h,m){if(ay=-1,Gp=0,(vn&6)!==0)throw Error(o(327));var S=h.callbackNode;if(Y()&&h.callbackNode!==S)return null;var I=mp(h,h===Xr?oi:0);if(I===0)return null;if((I&30)!==0||(I&h.expiredLanes)!==0||m)m=jp(h,I);else{m=I;var D=vn;vn|=2;var $=CE();(Xr!==h||oi!==m)&&(ju(),qu(h,m));do try{_();break}catch(be){SE(h,be)}while(1);Iv(),$p.current=$,vn=D,Yr!==null?m=0:(Xr=null,oi=0,m=yr)}if(m!==0){if(m===2&&(D=wv(h),D!==0&&(I=D,m=Dw(h,D))),m===1)throw S=Tf,qu(h,0),Wc(h,I),Ys(h,si()),S;if(m===6)Wc(h,I);else{if(D=h.current.alternate,(I&30)===0&&!wE(D)&&(m=jp(h,I),m===2&&($=wv(h),$!==0&&(I=$,m=Dw(h,$))),m===1))throw S=Tf,qu(h,0),Wc(h,I),Ys(h,si()),S;switch(h.finishedWork=D,h.finishedLanes=I,m){case 0:case 1:throw Error(o(345));case 2:k(h,Xs);break;case 3:if(Wc(h,I),(I&130023424)===I&&(m=iy+500-si(),10<m)){if(mp(h,0)!==0)break;if(D=h.suspendedLanes,(D&I)!==I){Ts(),h.pingedLanes|=h.suspendedLanes&D;break}h.timeoutHandle=He(k.bind(null,h,Xs),m);break}k(h,Xs);break;case 4:if(Wc(h,I),(I&4194240)===I)break;for(m=h.eventTimes,D=-1;0<I;){var se=31-ya(I);$=1<<se,se=m[se],se>D&&(D=se),I&=~$}if(I=D,I=si()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*u2(I/1960))-I,10<I){h.timeoutHandle=He(k.bind(null,h,Xs),I);break}k(h,Xs);break;case 5:k(h,Xs);break;default:throw Error(o(329))}}}return Ys(h,si()),h.callbackNode===S?Lw.bind(null,h):null}function Dw(h,m){var S=zp;return h.current.memoizedState.isDehydrated&&(qu(h,m).flags|=256),h=jp(h,m),h!==2&&(m=Xs,Xs=S,m!==null&&Nw(m)),h}function Nw(h){Xs===null?Xs=h:Xs.push.apply(Xs,h)}function wE(h){for(var m=h;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var I=0;I<S.length;I++){var D=S[I],$=D.getSnapshot;D=D.value;try{if(!Qa($(),D))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Wc(h,m){for(m&=~Pw,m&=~Up,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var S=31-ya(m),I=1<<S;h[S]=-1,m&=~I}}function bE(h){if((vn&6)!==0)throw Error(o(327));Y();var m=mp(h,0);if((m&1)===0)return Ys(h,si()),null;var S=jp(h,m);if(h.tag!==0&&S===2){var I=wv(h);I!==0&&(m=I,S=Dw(h,I))}if(S===1)throw S=Tf,qu(h,0),Wc(h,m),Ys(h,si()),S;if(S===6)throw Error(o(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,k(h,Xs),Ys(h,si()),null}function cy(h){ql!==null&&ql.tag===0&&(vn&6)===0&&Y();var m=vn;vn|=1;var S=$r.transition,I=On;try{if($r.transition=null,On=1,h)return h()}finally{On=I,$r.transition=S,vn=m,(vn&6)===0&&Ja()}}function Ow(){Ks=Cf.current,Rn(Cf)}function qu(h,m){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==Ne&&(h.timeoutHandle=Ne,Ae(S)),Yr!==null)for(S=Yr.return;S!==null;){var I=S;switch(Dv(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&tf();break;case 3:mf(),Rn(Gs),Rn(Mi),Jx();break;case 5:Yx(I);break;case 4:mf();break;case 13:Rn(vr);break;case 19:Rn(vr);break;case 10:of(I.type._context);break;case 22:case 23:Ow()}S=S.return}if(Xr=h,Yr=h=Ht(h.current,null),oi=Ks=m,yr=0,Tf=null,Pw=Up=Ef=0,Xs=zp=null,xa!==null){for(m=0;m<xa.length;m++)if(S=xa[m],I=S.interleaved,I!==null){S.interleaved=null;var D=I.next,$=S.pending;if($!==null){var se=$.next;$.next=D,I.next=se}S.pending=I}xa=null}return h}function SE(h,m){do{var S=Yr;try{if(Iv(),Sp.current=kp,Cp){for(var I=Sr.memoizedState;I!==null;){var D=I.queue;D!==null&&(D.pending=null),I=I.next}Cp=!1}if(zu=0,Kr=Ri=Sr=null,Oc=!1,Tp=0,Rw.current=null,S===null||S.return===null){yr=1,Tf=m,Yr=null;break}e:{var $=h,se=S.return,be=S,je=m;if(m=oi,be.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var yt=je,Nt=be,ln=Nt.tag;if((Nt.mode&1)===0&&(ln===0||ln===11||ln===15)){var Jt=Nt.alternate;Jt?(Nt.updateQueue=Jt.updateQueue,Nt.memoizedState=Jt.memoizedState,Nt.lanes=Jt.lanes):(Nt.updateQueue=null,Nt.memoizedState=null)}var er=nE(se);if(er!==null){er.flags&=-257,fw(er,se,be,$,m),er.mode&1&&_f($,yt,m),m=er,je=yt;var Gt=m.updateQueue;if(Gt===null){var Di=new Set;Di.add(je),m.updateQueue=Di}else Gt.add(je);break e}else{if((m&1)===0){_f($,yt,m),uy();break e}je=Error(o(426))}}else if(ur&&be.mode&1){var go=nE(se);if(go!==null){(go.flags&65536)===0&&(go.flags|=256),fw(go,se,be,$,m),Ov(je);break e}}$=je,yr!==4&&(yr=2),zp===null?zp=[$]:zp.push($),je=uw(je,be),be=se;do{switch(be.tag){case 3:be.flags|=65536,m&=-m,be.lanes|=m;var Be=dw(be,je,m);Rv(be,Be);break e;case 1:$=je;var pe=be.type,fe=be.stateNode;if((be.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(jl===null||!jl.has(fe)))){be.flags|=65536,m&=-m,be.lanes|=m;var We=tE(be,$,m);Rv(be,We);break e}}be=be.return}while(be!==null)}M(S)}catch(Ct){m=Ct,Yr===S&&S!==null&&(Yr=S=S.return);continue}break}while(1)}function CE(){var h=$p.current;return $p.current=kp,h===null?kp:h}function uy(){(yr===0||yr===3||yr===2)&&(yr=4),Xr===null||(Ef&268435455)===0&&(Up&268435455)===0||Wc(Xr,oi)}function jp(h,m){var S=vn;vn|=2;var I=CE();Xr===h&&oi===m||qu(h,m);do try{d2();break}catch(D){SE(h,D)}while(1);if(Iv(),vn=S,$p.current=I,Yr!==null)throw Error(o(261));return Xr=null,oi=0,yr}function d2(){for(;Yr!==null;)C(Yr)}function _(){for(;Yr!==null&&!Cv();)C(Yr)}function C(h){var m=$e(h.alternate,h,Ks);h.memoizedProps=h.pendingProps,m===null?M(h):Yr=m,Rw.current=null}function M(h){var m=h;do{var S=m.alternate;if(h=m.return,(m.flags&32768)===0){if(S=jv(S,m,Ks),S!==null){Yr=S;return}}else{if(S=fE(S,m),S!==null){S.flags&=32767,Yr=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{yr=6,Yr=null;return}}if(m=m.sibling,m!==null){Yr=m;return}Yr=m=h}while(m!==null);yr===0&&(yr=5)}function k(h,m){var S=On,I=$r.transition;try{$r.transition=null,On=1,z(h,m,S)}finally{$r.transition=I,On=S}return null}function z(h,m,S){do Y();while(ql!==null);if((vn&6)!==0)throw Error(o(327));var I=h.finishedWork,D=h.finishedLanes;if(I===null)return null;if(h.finishedWork=null,h.finishedLanes=0,I===h.current)throw Error(o(177));h.callbackNode=null,h.callbackPriority=0;var $=I.lanes|I.childLanes;if(zT(h,$),h===Xr&&(Yr=Xr=null,oi=0),(I.subtreeFlags&2064)===0&&(I.flags&2064)===0||Wp||(Wp=!0,Je($l,function(){return Y(),null})),$=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||$){$=$r.transition,$r.transition=null;var se=On;On=1;var be=vn;vn|=4,Rw.current=null,a2(h,I),l2(h,I),q(h.containerInfo),h.current=I,c2(I),VT(),vn=be,On=se,$r.transition=$}else h.current=I;if(Wp&&(Wp=!1,ql=h,oy=D),$=h.pendingLanes,$===0&&(jl=null),HT(I.stateNode),Ys(h,si()),m!==null)for(S=h.onRecoverableError,I=0;I<m.length;I++)S(m[I]);if(sy)throw sy=!1,h=kw,kw=null,h;return(oy&1)!==0&&h.tag!==0&&Y(),$=h.pendingLanes,($&1)!==0?h===If?Hp++:(Hp=0,If=h):Hp=0,Ja(),null}function Y(){if(ql!==null){var h=Lc(oy),m=$r.transition,S=On;try{if($r.transition=null,On=16>h?16:h,ql===null)var I=!1;else{if(h=ql,ql=null,oy=0,(vn&6)!==0)throw Error(o(331));var D=vn;for(vn|=4,At=h.current;At!==null;){var $=At,se=$.child;if((At.flags&16)!==0){var be=$.deletions;if(be!==null){for(var je=0;je<be.length;je++){var yt=be[je];for(At=yt;At!==null;){var Nt=At;switch(Nt.tag){case 0:case 11:case 15:Gu(8,Nt,$)}var ln=Nt.child;if(ln!==null)ln.return=Nt,At=ln;else for(;At!==null;){Nt=At;var Jt=Nt.sibling,er=Nt.return;if(gE(Nt),Nt===yt){At=null;break}if(Jt!==null){Jt.return=er,At=Jt;break}At=er}}}var Gt=$.alternate;if(Gt!==null){var Di=Gt.child;if(Di!==null){Gt.child=null;do{var go=Di.sibling;Di.sibling=null,Di=go}while(Di!==null)}}At=$}}if(($.subtreeFlags&2064)!==0&&se!==null)se.return=$,At=se;else e:for(;At!==null;){if($=At,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Gu(9,$,$.return)}var Be=$.sibling;if(Be!==null){Be.return=$.return,At=Be;break e}At=$.return}}var pe=h.current;for(At=pe;At!==null;){se=At;var fe=se.child;if((se.subtreeFlags&2064)!==0&&fe!==null)fe.return=se,At=fe;else e:for(se=pe;At!==null;){if(be=At,(be.flags&2048)!==0)try{switch(be.tag){case 0:case 11:case 15:bf(9,be)}}catch(Ct){ae(be,be.return,Ct)}if(be===se){At=null;break e}var We=be.sibling;if(We!==null){We.return=be.return,At=We;break e}At=be.return}}if(vn=D,Ja(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(rf,h)}catch{}I=!0}return I}finally{On=S,$r.transition=m}}return!1}function re(h,m,S){m=uw(S,m),m=dw(h,m,1),Nc(h,m),m=Ts(),h=ly(h,1),h!==null&&(gp(h,1,m),Ys(h,m))}function ae(h,m,S){if(h.tag===3)re(h,h,S);else for(;m!==null;){if(m.tag===3){re(m,h,S);break}else if(m.tag===1){var I=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(jl===null||!jl.has(I))){h=uw(S,h),h=tE(m,h,1),Nc(m,h),h=Ts(),m=ly(m,1),m!==null&&(gp(m,1,h),Ys(m,h));break}}m=m.return}}function Ve(h,m,S){var I=h.pingCache;I!==null&&I.delete(m),m=Ts(),h.pingedLanes|=h.suspendedLanes&S,Xr===h&&(oi&S)===S&&(yr===4||yr===3&&(oi&130023424)===oi&&500>si()-iy?qu(h,0):Pw|=S),Ys(h,m)}function De(h,m){m===0&&((h.mode&1)===0?m=1:(m=Ou,Ou<<=1,(Ou&130023424)===0&&(Ou=4194304)));var S=Ts();h=ly(h,m),h!==null&&(gp(h,m,S),Ys(h,S))}function Me(h){var m=h.memoizedState,S=0;m!==null&&(S=m.retryLane),De(h,S)}function Ye(h,m){var S=0;switch(h.tag){case 13:var I=h.stateNode,D=h.memoizedState;D!==null&&(S=D.retryLane);break;case 19:I=h.stateNode;break;default:throw Error(o(314))}I!==null&&I.delete(m),De(h,S)}var $e;$e=function(h,m,S){if(h!==null)if(h.memoizedProps!==m.pendingProps||Gs.current)Ji=!0;else{if((h.lanes&S)===0&&(m.flags&128)===0)return Ji=!1,o2(h,m,S);Ji=(h.flags&131072)!==0}else Ji=!1,ur&&(m.flags&1048576)!==0&&jT(m,uf,m.index);switch(m.lanes=0,m.tag){case 2:var I=m.type;h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps;var D=ef(m,Mi.current);Bu(m,S),D=Uv(null,m,I,h,D,S);var $=Fc();return m.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,js(I)?($=!0,xv(m)):$=!1,m.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Mv(m),D.updater=xp,m.stateNode=D,D._reactInternals=m,jx(m,I,h,S),m=wf(null,m,I,!0,$,S)):(m.tag=0,ur&&$&&Lv(m),Zi(null,m,D,S),m=m.child),m;case 16:I=m.elementType;e:{switch(h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),h=m.pendingProps,D=I._init,I=D(I._payload),m.type=I,D=m.tag=xt(I),h=Wo(I,h),D){case 0:m=qv(null,m,I,h,S);break e;case 1:m=pw(null,m,I,h,S);break e;case 11:m=Uc(null,m,I,h,S);break e;case 14:m=sE(null,m,I,Wo(I.type,h),S);break e}throw Error(o(306,I,""))}return m;case 0:return I=m.type,D=m.pendingProps,D=m.elementType===I?D:Wo(I,D),qv(h,m,I,D,S);case 1:return I=m.type,D=m.pendingProps,D=m.elementType===I?D:Wo(I,D),pw(h,m,I,D,S);case 3:e:{if(mw(m),h===null)throw Error(o(387));I=m.pendingProps,$=m.memoizedState,D=$.element,_p(h,m),af(m,I,null,S);var se=m.memoizedState;if(I=se.element,ve&&$.isDehydrated)if($={element:I,isDehydrated:!1,cache:se.cache,transitions:se.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){D=Error(o(423)),m=lE(h,m,I,S,D);break e}else if(I!==D){D=Error(o(424)),m=lE(h,m,I,S,D);break e}else for(ve&&(qs=ge(m.stateNode.containerInfo),Cs=m,ur=!0,qo=null,bp=!1),S=QT(m,null,I,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(df(),I===D){m=Hl(h,m,S);break e}Zi(h,m,I,S)}m=m.child}return m;case 5:return Xx(m),h===null&&qx(m),I=m.type,D=m.pendingProps,$=h!==null?h.memoizedProps:null,se=D.children,Ce(I,D)?se=null:$!==null&&Ce(I,$)&&(m.flags|=32),aE(h,m),Zi(h,m,se,S),m.child;case 6:return h===null&&qx(m),null;case 13:return cE(h,m,S);case 4:return Fv(m,m.stateNode.containerInfo),I=m.pendingProps,h===null?m.child=el(m,null,I,S):Zi(h,m,I,S),m.child;case 11:return I=m.type,D=m.pendingProps,D=m.elementType===I?D:Wo(I,D),Uc(h,m,I,D,S);case 7:return Zi(h,m,m.pendingProps,S),m.child;case 8:return Zi(h,m,m.pendingProps.children,S),m.child;case 12:return Zi(h,m,m.pendingProps.children,S),m.child;case 10:e:{if(I=m.type._context,D=m.pendingProps,$=m.memoizedProps,se=D.value,zx(m,I,se),$!==null)if(Qa($.value,se)){if($.children===D.children&&!Gs.current){m=Hl(h,m,S);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var be=$.dependencies;if(be!==null){se=$.child;for(var je=be.firstContext;je!==null;){if(je.context===I){if($.tag===1){je=Ul(-1,S&-S),je.tag=2;var yt=$.updateQueue;if(yt!==null){yt=yt.shared;var Nt=yt.pending;Nt===null?je.next=je:(je.next=Nt.next,Nt.next=je),yt.pending=je}}$.lanes|=S,je=$.alternate,je!==null&&(je.lanes|=S),Vx($.return,S,m),be.lanes|=S;break}je=je.next}}else if($.tag===10)se=$.type===m.type?null:$.child;else if($.tag===18){if(se=$.return,se===null)throw Error(o(341));se.lanes|=S,be=se.alternate,be!==null&&(be.lanes|=S),Vx(se,S,m),se=$.sibling}else se=$.child;if(se!==null)se.return=$;else for(se=$;se!==null;){if(se===m){se=null;break}if($=se.sibling,$!==null){$.return=se.return,se=$;break}se=se.return}$=se}Zi(h,m,D.children,S),m=m.child}return m;case 9:return D=m.type,I=m.pendingProps.children,Bu(m,S),D=or(D),I=I(D),m.flags|=1,Zi(h,m,I,S),m.child;case 14:return I=m.type,D=Wo(I,m.pendingProps),D=Wo(I.type,D),sE(h,m,I,D,S);case 15:return oE(h,m,m.type,m.pendingProps,S);case 17:return I=m.type,D=m.pendingProps,D=m.elementType===I?D:Wo(I,D),h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,js(I)?(h=!0,xv(m)):h=!1,Bu(m,S),Pv(m,I,D),jx(m,I,D,S),wf(null,m,I,!0,h,S);case 19:return _w(h,m,S);case 22:return hw(h,m,S)}throw Error(o(156,m.tag))};function Je(h,m){return Sv(h,m)}function Ge(h,m,S,I){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(h,m,S,I){return new Ge(h,m,S,I)}function ot(h){return h=h.prototype,!(!h||!h.isReactComponent)}function xt(h){if(typeof h=="function")return ot(h)?1:0;if(h!=null){if(h=h.$$typeof,h===v)return 11;if(h===w)return 14}return 2}function Ht(h,m){var S=h.alternate;return S===null?(S=ct(h.tag,m,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=m,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,m=h.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function yn(h,m,S,I,D,$){var se=2;if(I=h,typeof h=="function")ot(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case u:return Nn(S.children,D,$,m);case d:se=8,D|=8;break;case f:return h=ct(12,S,m,D|2),h.elementType=f,h.lanes=$,h;case y:return h=ct(13,S,m,D),h.elementType=y,h.lanes=$,h;case x:return h=ct(19,S,m,D),h.elementType=x,h.lanes=$,h;case T:return _n(S,D,$,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:se=10;break e;case g:se=9;break e;case v:se=11;break e;case w:se=14;break e;case b:se=16,I=null;break e}throw Error(o(130,h==null?h:typeof h,""))}return m=ct(se,S,m,D),m.elementType=h,m.type=I,m.lanes=$,m}function Nn(h,m,S,I){return h=ct(7,h,I,m),h.lanes=S,h}function _n(h,m,S,I){return h=ct(22,h,I,m),h.elementType=T,h.lanes=S,h.stateNode={},h}function Qt(h,m,S){return h=ct(6,h,null,m),h.lanes=S,h}function Un(h,m,S){return m=ct(4,h.children!==null?h.children:[],h.key,m),m.lanes=S,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function Pn(h,m,S,I,D){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ne,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bv(0),this.expirationTimes=bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bv(0),this.identifierPrefix=I,this.onRecoverableError=D,ve&&(this.mutableSourceEagerHydrationData=null)}function fn(h,m,S,I,D,$,se,be,je){return h=new Pn(h,m,S,be,je),m===1?(m=1,$===!0&&(m|=8)):m=0,$=ct(3,null,null,m),h.current=$,$.stateNode=h,$.memoizedState={element:I,isDehydrated:S,cache:null,transitions:null},Mv($),h}function Qr(h){if(!h)return qr;h=h._reactInternals;e:{if(F(h)!==h||h.tag!==1)throw Error(o(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(js(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(h.tag===1){var S=h.type;if(js(S))return Nx(h,S,m)}return m}function es(h){var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(o(188)):(h=Object.keys(h).join(","),Error(o(268,h)));return h=Z(m),h===null?null:h.stateNode}function rl(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<m?S:m}}function Qs(h,m){rl(h,m),(h=h.alternate)&&rl(h,m)}function Li(h){return h=Z(h),h===null?null:h.stateNode}function Ku(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var m=Ts();ki(h,134217728,m),Qs(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var m=Ts(),S=Vc(h);ki(h,S,m),Qs(h,S)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var S=nf(m.pendingLanes);S!==0&&(vp(m,S|1),Ys(m,si()),(vn&6)===0&&(ju(),Ja()))}break;case 13:var I=Ts();cy(function(){return ki(h,1,I)}),Qs(h,1)}},n.batchedUpdates=function(h,m){var S=vn;vn|=1;try{return h(m)}finally{vn=S,vn===0&&(ju(),sf&&Ja())}},n.createComponentSelector=function(h){return{$$typeof:Gl,value:h}},n.createContainer=function(h,m,S,I,D,$,se){return fn(h,m,!1,null,S,I,D,$,se)},n.createHasPseudoClassSelector=function(h){return{$$typeof:ey,value:h}},n.createHydrationContainer=function(h,m,S,I,D,$,se,be,je){return h=fn(S,I,!0,h,D,$,se,be,je),h.context=Qr(null),S=h.current,I=Ts(),D=Vc(S),$=Ul(I,D),$.callback=m!=null?m:null,Nc(S,$),h.current.lanes=D,gp(h,D,I),Ys(h,I),h},n.createPortal=function(h,m,S){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:I==null?null:""+I,children:h,containerInfo:m,implementation:S}},n.createRoleSelector=function(h){return{$$typeof:ty,value:h}},n.createTestNameSelector=function(h){return{$$typeof:ny,value:h}},n.createTextSelector=function(h){return{$$typeof:Bp,value:h}},n.deferredUpdates=function(h){var m=On,S=$r.transition;try{return $r.transition=null,On=16,h()}finally{On=m,$r.transition=S}},n.discreteUpdates=function(h,m,S,I,D){var $=On,se=$r.transition;try{return $r.transition=null,On=1,h(m,S,I,D)}finally{On=$,$r.transition=se,vn===0&&ju()}},n.findAllNodes=Aw,n.findBoundingRects=function(h,m){if(!St)throw Error(o(363));m=Aw(h,m),h=[];for(var S=0;S<m.length;S++)h.push(te(m[S]));for(m=h.length-1;0<m;m--){S=h[m];for(var I=S.x,D=I+S.width,$=S.y,se=$+S.height,be=m-1;0<=be;be--)if(m!==be){var je=h[be],yt=je.x,Nt=yt+je.width,ln=je.y,Jt=ln+je.height;if(I>=yt&&$>=ln&&D<=Nt&&se<=Jt){h.splice(m,1);break}else if(I!==yt||S.width!==je.width||Jt<$||ln>se){if(!($!==ln||S.height!==je.height||Nt<I||yt>D)){yt>I&&(je.width+=yt-I,je.x=I),Nt<D&&(je.width=D-yt),h.splice(m,1);break}}else{ln>$&&(je.height+=ln-$,je.y=$),Jt<se&&(je.height=se-ln),h.splice(m,1);break}}}return h},n.findHostInstance=es,n.findHostInstanceWithNoPortals=function(h){return h=G(h),h=h!==null?U(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return es(h)},n.flushControlled=function(h){var m=vn;vn|=1;var S=$r.transition,I=On;try{$r.transition=null,On=1,h()}finally{On=I,$r.transition=S,vn=m,vn===0&&(ju(),Ja())}},n.flushPassiveEffects=Y,n.flushSync=cy,n.focusWithin=function(h,m){if(!St)throw Error(o(363));for(h=Ew(h),m=Mw(h,m),m=Array.from(m),h=0;h<m.length;){var S=m[h++];if(!ue(S)){if(S.tag===5&&Le(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return On},n.getFindAllNodesFailureDescription=function(h,m){if(!St)throw Error(o(363));var S=0,I=[];h=[Ew(h),0];for(var D=0;D<h.length;){var $=h[D++],se=h[D++],be=m[se];if(($.tag!==5||!ue($))&&(Iw($,be)&&(I.push(ry(be)),se++,se>S&&(S=se)),se<m.length))for($=$.child;$!==null;)h.push($,se),$=$.sibling}if(S<m.length){for(h=[];S<m.length;S++)h.push(ry(m[S]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return W(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:Li,findFiberByHostInstance:h.findFiberByHostInstance||Ku,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")h=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)h=!0;else{try{rf=m.inject(h),Ya=m}catch{}h=!!m.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,m,S,I){if(!St)throw Error(o(363));h=Aw(h,m);var D=Pe(h,S,I).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(h,m){var S=m._getVersion;S=S(m._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[m,S]:h.mutableSourceEagerHydrationData.push(m,S)},n.runWithPriority=function(h,m){var S=On;try{return On=h,m()}finally{On=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,m,S,I){var D=m.current,$=Ts(),se=Vc(D);return S=Qr(S),m.context===null?m.context=S:m.pendingContext=S,m=Ul($,se),m.payload={element:h},I=I===void 0?null:I,I!==null&&(m.callback=I),Nc(D,m),h=ki(D,se,$),h!==null&&Av(h,D,se),se},n};kre.exports=RWe;var PWe=kre.exports,JF={exports:{}},Nre={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var q=B.length;B.push(H);e:for(;0<q;){var ee=q-1>>>1,J=B[ee];if(0<i(J,H))B[ee]=H,B[q]=J,q=ee;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],q=B.pop();if(q!==H){B[0]=q;e:for(var ee=0,J=B.length,de=J>>>1;ee<de;){var ye=2*(ee+1)-1,Ce=B[ye],oe=ye+1,He=B[oe];if(0>i(Ce,q))oe<J&&0>i(He,Ce)?(B[ee]=He,B[oe]=q,ee=oe):(B[ee]=Ce,B[ye]=q,ee=ye);else if(oe<J&&0>i(He,q))B[ee]=He,B[oe]=q,ee=oe;else break e}}return H}function i(B,H){var q=B.sortIndex-H.sortIndex;return q!==0?q:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=B)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(B){if(v=!1,b(B),!g)if(n(l)!==null)g=!0,W(E);else{var H=n(c);H!==null&&X(T,H.startTime-B)}}function E(B,H){g=!1,v&&(v=!1,x(R),R=-1),p=!0;var q=f;try{for(b(H),d=n(l);d!==null&&(!(d.expirationTime>H)||B&&!G());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var J=ee(d.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),b(H)}else r(l);d=n(l)}if(d!==null)var de=!0;else{var ye=n(c);ye!==null&&X(T,ye.startTime-H),de=!1}return de}finally{d=null,f=q,p=!1}}var P=!1,L=null,R=-1,F=5,O=-1;function G(){return!(t.unstable_now()-O<F)}function Z(){if(L!==null){var B=t.unstable_now();O=B;var H=!0;try{H=L(!0,B)}finally{H?V():(P=!1,L=null)}}else P=!1}var V;if(typeof w=="function")V=function(){w(Z)};else if(typeof MessageChannel!="undefined"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=Z,V=function(){j.postMessage(null)}}else V=function(){y(Z,0)};function W(B){L=B,P||(P=!0,V())}function X(B,H){R=y(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,W(E))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var q=f;f=H;try{return B()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=f;f=B;try{return H()}finally{f=q}},t.unstable_scheduleCallback=function(B,H,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,B={id:u++,callback:H,priorityLevel:B,startTime:q,expirationTime:J,sortIndex:-1},q>ee?(B.sortIndex=q,e(c,B),n(l)===null&&B===n(c)&&(v?(x(R),R=-1):v=!0,X(T,q-ee))):(B.sortIndex=J,e(l,B),g||p||(g=!0,W(E))),B},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(B){var H=f;return function(){var q=f;f=H;try{return B.apply(this,arguments)}finally{f=q}}}})(Nre);JF.exports=Nre;function Ore(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const cd=[];function Fre(t,e,n=!1,r={}){for(const s of cd)if(Ore(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=cd.indexOf(i);s!==-1&&cd.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(cd.push(i),!n)throw i.promise}const kWe=(t,e,n)=>Fre(t,e,!1,n),LWe=(t,e,n)=>void Fre(t,e,!0,n),DWe=t=>{if(t===void 0||t.length===0)cd.splice(0,cd.length);else{const e=cd.find(n=>Ore(t,n.keys,n.equal));if(e){const n=cd.indexOf(e);n!==-1&&cd.splice(n,1)}}},Bre=t=>t&&t.isOrthographicCamera,NWe=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),WC=NWe?N.exports.useEffect:N.exports.useLayoutEffect;function $re(t){const e=N.exports.useRef(t);return WC(()=>void(e.current=t),[t]),e}function OWe({set:t}){return WC(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Ure extends N.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Ure.getDerivedStateFromError=()=>({error:!0});const zre="__default",FWe=t=>t&&!!t.memoized&&!!t.changes;function Vre(t){return Array.isArray(t)?Math.min(Math.max(t[0],window.devicePixelRatio),t[1]):t}const GI=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Dr={obj:t=>t===Object(t)&&!Dr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Dr.str(t)||Dr.num(t))return t===e;const s=Dr.obj(t);if(s&&r==="reference")return t===e;const o=Dr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;for(a in i?e:t)if(t[a]!==e[a])return!1;if(Dr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function BWe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function $We(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function jy(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f=Qn({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e)),t}function ZF(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const W8=/-\d+$/;function GD(t,e,n){if(Dr.str(n)){if(W8.test(n)){const s=n.replace(W8,""),{target:o,key:a}=ZF(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=ZF(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function H8(t,e,n){var r,i;if(Dr.str(n)){const{target:s,key:o}=ZF(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Wre(t,u,f={},c=!1){var d=u,{children:e,key:n,ref:r}=d,i=Mf(d,["children","key","ref"]);var p=f,{children:s,key:o,ref:a}=p,l=Mf(p,["children","key","ref"]);var g;const v=(g=t==null?void 0:t.__r3f)!=null?g:{},y=Object.entries(i),x=[];if(c){const b=Object.keys(l);for(let T=0;T<b.length;T++)i.hasOwnProperty(b[T])||y.unshift([b[T],zre+"remove"])}y.forEach(([b,T])=>{var E;if((E=t.__r3f)!=null&&E.primitive&&b==="object"||Dr.equ(T,l[b]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(b))return x.push([b,T,!0,[]]);let P=[];b.includes("-")&&(P=b.split("-")),x.push([b,T,!1,P])});const w=Qn({},i);return v.memoizedProps&&v.memoizedProps.args&&(w.args=v.memoizedProps.args),v.memoizedProps&&v.memoizedProps.attach&&(w.attach=v.memoizedProps.attach),{memoized:w,changes:x}}function jD(t,e){var n,r;const i=(n=t.__r3f)!=null?n:{},s=i.root,o=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:l}=FWe(e)?e:Wre(t,e),c=i.eventCount;if(t.__r3f&&(t.__r3f.memoizedProps=a),l.forEach(([u,d,f,p])=>{let g=t,v=g[u];if(p.length&&(v=p.reduce((w,b)=>w[b],t),!(v&&v.set))){const[w,...b]=p.reverse();g=b.reverse().reduce((T,E)=>T[E],t),u=w}if(d===zre+"remove")if(v&&v.constructor){var y;d=new v.constructor(...(y=a.args)!=null?y:[])}else if(g.constructor){var x;const w=new g.constructor(...(x=g.__r3f.memoizedProps.args)!=null?x:[]);d=w[v],w.dispose&&w.dispose()}else d=0;if(f)d?i.handlers[u]=d:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;else if(v&&v.set&&(v.copy||v instanceof qm)){if(Array.isArray(d))v.fromArray?v.fromArray(d):v.set(...d);else if(v.copy&&d&&d.constructor&&v.constructor.name===d.constructor.name)v.copy(d);else if(d!==void 0){const w=v instanceof Pt;!w&&v.setScalar?v.setScalar(d):v instanceof qm&&d instanceof qm?v.mask=d.mask:v.set(d),!("ColorManagement"in eR)&&!o.linear&&w&&v.convertSRGBToLinear()}}else g[u]=d,!o.linear&&g[u]instanceof ni&&(g[u].encoding=nr);qy(t)}),i.parent&&o.internal&&t.raycast&&c!==i.eventCount){const u=o.internal.interaction.indexOf(t);u>-1&&o.internal.interaction.splice(u,1),i.eventCount&&o.internal.interaction.push(t)}return l.length&&t.parent&&e3(t),t}function qy(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function e3(t){t.onUpdate==null||t.onUpdate(t)}function UWe(t,e){t.manual||(Bre(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function zWe(t,e,n){const r=n.pop(),i=n.reduce((s,o)=>s[o],t);return i[r]=e}function qD(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function VWe(){var t,e;switch((t=window)==null||(e=t.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return N0.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return N0.exports.ContinuousEventPriority;default:return N0.exports.DefaultEventPriority}}function Hre(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function WWe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Hre(n.capturedMap,e,r,i)})}function HWe(t){const e=new ne;function n(c){const{internal:u}=t.getState(),d=c.offsetX-u.initialClick[0],f=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(d*d+f*f))}function r(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(d=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+d]}))}function i(c,u){const d=t.getState(),f=new Set,p=[],g=u?u(d.internal.interaction):d.internal.interaction;g.forEach(x=>{const w=GI(x);w&&(w.raycaster.camera=void 0)}),d.previousRoot||d.events.compute==null||d.events.compute(c,d);let v=g.flatMap(x=>{const w=GI(x);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var b;w.events.compute==null||w.events.compute(c,w,(b=w.previousRoot)==null?void 0:b.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(x,!0):[]}).sort((x,w)=>{const b=GI(x.object),T=GI(w.object);return!b||!T?0:T.events.priority-b.events.priority||x.distance-w.distance}).filter(x=>{const w=qD(x);return f.has(w)?!1:(f.add(w),!0)});d.events.filter&&(v=d.events.filter(v,d));for(const x of v){let w=x.object;for(;w;){var y;(y=w.__r3f)!=null&&y.eventCount&&p.push(Kl(Qn({},x),{eventObject:w})),w=w.parent}}if("pointerId"in c&&d.internal.capturedMap.has(c.pointerId))for(let x of d.internal.capturedMap.get(c.pointerId).values())p.push(x.intersection);return p}function s(c,u,d,f){const{raycaster:p,pointer:g,camera:v,internal:y}=t.getState();if(c.length){const x=e.set(g.x,g.y,0).unproject(v),w={stopped:!1};for(const b of c){const T=F=>{var O,G;return(O=(G=y.capturedMap.get(F))==null?void 0:G.has(b.eventObject))!=null?O:!1},E=F=>{const O={intersection:b,target:u.target};y.capturedMap.has(F)?y.capturedMap.get(F).set(b.eventObject,O):y.capturedMap.set(F,new Map([[b.eventObject,O]])),u.target.setPointerCapture(F)},P=F=>{const O=y.capturedMap.get(F);O&&Hre(y.capturedMap,b.eventObject,O,F)};let L={};for(let F in u){let O=u[F];typeof O!="function"&&(L[F]=O)}let R=Kl(Qn(Qn({},b),L),{pointer:g,intersections:c,stopped:w.stopped,delta:d,unprojectedPoint:x,ray:p.ray,camera:v,stopPropagation:()=>{const F="pointerId"in u&&y.capturedMap.get(u.pointerId);if((!F||F.has(b.eventObject))&&(R.stopped=w.stopped=!0,y.hovered.size&&Array.from(y.hovered.values()).find(O=>O.eventObject===b.eventObject))){const O=c.slice(0,c.indexOf(b));o([...O,b])}},target:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:P},currentTarget:{hasPointerCapture:T,setPointerCapture:E,releasePointerCapture:P},nativeEvent:u});if(f(R),w.stopped===!0)break}}return c}function o(c){const{internal:u}=t.getState();Array.from(u.hovered.values()).forEach(d=>{if(!c.length||!c.find(f=>f.object===d.object&&f.index===d.index&&f.instanceId===d.instanceId)){const p=d.eventObject.__r3f,g=p==null?void 0:p.handlers;if(u.hovered.delete(qD(d)),p!=null&&p.eventCount){const v=Kl(Qn({},d),{intersections:c});g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}})}const a=c=>{switch(c){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:d}=t.getState();"pointerId"in u&&!d.capturedMap.has(u.pointerId)&&(d.capturedMap.delete(u.pointerId),o([]))}}return u=>{const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const p=c==="onPointerMove",g=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",y=i(u,p?r:void 0),x=g?n(u):0;c==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=y.map(w=>w.eventObject)),g&&!y.length&&x<=2&&(l(u,f.interaction),d&&d(u)),p&&o(y),s(y,u,x,w=>{const b=w.eventObject,T=b.__r3f,E=T==null?void 0:T.handlers;if(!!(T!=null&&T.eventCount))if(p){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=qD(w),L=f.hovered.get(P);L?L.stopped&&w.stopPropagation():(f.hovered.set(P,w),E.onPointerOver==null||E.onPointerOver(w),E.onPointerEnter==null||E.onPointerEnter(w))}E.onPointerMove==null||E.onPointerMove(w)}else{const P=E[c];P?(!g||f.initialHits.includes(b))&&(l(u,f.interaction.filter(L=>!f.initialHits.includes(L))),P(w)):g&&f.initialHits.includes(b)&&l(u,f.interaction.filter(L=>!f.initialHits.includes(L)))}})}};function l(c,u){u.forEach(d=>{var f;return(f=d.__r3f)==null||f.handlers.onPointerMissed==null?void 0:f.handlers.onPointerMissed(c)})}return{handlePointer:a}}let t3={},GWe=t=>void(t3=Qn(Qn({},t3),t));function jWe(t,e){function n(c,g,p){var v=g,{args:u=[],attach:d}=v,f=Mf(v,["args","attach"]);let y=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(d===void 0&&(y.endsWith("Geometry")?d="geometry":y.endsWith("Material")&&(d="material")),c==="primitive"){if(f.object===void 0)throw"Primitives without 'object' are invalid!";const w=f.object;x=jy(w,{type:c,root:p,attach:d,primitive:!0})}else{const w=t3[y];if(!w)throw`${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`;if(!Array.isArray(u))throw"The args prop must be an array!";x=jy(new w(...u),{type:c,root:p,attach:d,memoizedProps:{args:u}})}return y!=="inject"&&jD(x,f),x}function r(c,u){let d=!1;if(u){var f,p;(f=u.__r3f)!=null&&f.attach?GD(c,u,u.__r3f.attach):u.isObject3D&&c.isObject3D&&(c.add(u),d=!0),d||(p=c.__r3f)==null||p.objects.push(u),u.__r3f||jy(u,{}),u.__r3f.parent=c,e3(u),qy(u)}}function i(c,u,d){let f=!1;if(u){var p,g;if((p=u.__r3f)!=null&&p.attach)GD(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){u.parent=c,u.dispatchEvent({type:"added"});const v=c.children.filter(x=>x!==u),y=v.indexOf(d);c.children=[...v.slice(0,y),u,...v.slice(y)],f=!0}f||(g=c.__r3f)==null||g.objects.push(u),u.__r3f||jy(u,{}),u.__r3f.parent=c,e3(u),qy(u)}}function s(c,u,d=!1){c&&[...c].forEach(f=>o(u,f,d))}function o(c,u,d){if(u){var f,p,g;if(u.__r3f&&(u.__r3f.parent=null),(f=c.__r3f)!=null&&f.objects&&(c.__r3f.objects=c.__r3f.objects.filter(b=>b!==u)),(p=u.__r3f)!=null&&p.attach)H8(c,u,u.__r3f.attach);else if(u.isObject3D&&c.isObject3D){var v;c.remove(u),(v=u.__r3f)!=null&&v.root&&WWe(u.__r3f.root,u)}const x=(g=u.__r3f)==null?void 0:g.primitive,w=d===void 0?u.dispose!==null&&!x:d;if(!x){var y;s((y=u.__r3f)==null?void 0:y.objects,u,w),s(u.children,u,w)}u.__r3f&&(delete u.__r3f.root,delete u.__r3f.objects,delete u.__r3f.handlers,delete u.__r3f.memoizedProps,x||delete u.__r3f),w&&u.dispose&&u.type!=="Scene"&&JF.exports.unstable_scheduleCallback(JF.exports.unstable_IdlePriority,()=>{try{u.dispose()}catch{}}),qy(c)}}function a(c,u,d,f){var p;const g=(p=c.__r3f)==null?void 0:p.parent;if(!g)return;const v=n(u,d,c.__r3f.root);u!=="primitive"&&c.children&&(c.children.forEach(y=>r(v,y)),c.children=[]),c.__r3f.objects.forEach(y=>r(v,y)),c.__r3f.objects=[],o(g,c),r(g,v),v.raycast&&v.__r3f.eventCount&&v.__r3f.root.getState().internal.interaction.push(v),[f,f.alternate].forEach(y=>{y!==null&&(y.stateNode=v,y.ref&&(typeof y.ref=="function"?y.ref(v):y.ref.current=v))})}return{reconciler:PWe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:(c,u)=>{const d=c.getState().scene;d.__r3f.root=c,r(d,u)},removeChildFromContainer:(c,u)=>o(c.getState().scene,u),insertInContainerBefore:(c,u,d)=>i(c.getState().scene,u,d),getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var u;return!!((u=c==null?void 0:c.__r3f)!=null?u:{}).handlers},prepareUpdate(c,u,d,f){if(c.__r3f.primitive&&f.object&&f.object!==c)return[!0];{const p=f,{args:v=[],children:y}=p,x=Mf(p,["args","children"]),g=d,{args:w=[],children:b}=g,T=Mf(g,["args","children"]);if(!Array.isArray(v))throw"The args prop must be an array!";if(v.some((P,L)=>P!==w[L]))return[!0];const E=Wre(c,x,T,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[u,d],f,p,g,v){u?a(c,f,g,v):jD(c,d)},commitMount(c,u,d,f){var p;const g=(p=c.__r3f)!=null?p:{};c.raycast&&g.handlers&&g.eventCount&&c.__r3f.root.getState().internal.interaction.push(c)},getPublicInstance:c=>c,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:c=>jy(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,detachDeletedInstance:()=>{},hideInstance(c){var u;const{attach:d,parent:f}=(u=c==null?void 0:c.__r3f)!=null?u:{};d&&f&&H8(f,c,d),c.isObject3D&&(c.visible=!1),qy(c)},unhideInstance(c,u){var d;const{attach:f,parent:p}=(d=c==null?void 0:c.__r3f)!=null?d:{};f&&p&&GD(p,c,f),(c.isObject3D&&u.visible==null||u.visible)&&(c.visible=!0),qy(c)},createTextInstance:()=>{},hideTextInstance:()=>{throw new Error("Text is not allowed in the R3F tree.")},unhideTextInstance:()=>{},getCurrentEventPriority:()=>e?e():N0.exports.DefaultEventPriority,now:typeof performance!="undefined"&&Dr.fun(performance.now)?performance.now:Dr.fun(Date.now)?Date.now:void 0,scheduleTimeout:Dr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Dr.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Dr.fun(setTimeout)?setTimeout:void 0,clearTimeout:Dr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:jD}}const Gre=t=>!!(t!=null&&t.render),jre=N.exports.createContext(null),qWe=(t,e)=>{const n=AWe((a,l)=>{const c=new ne,u=new ne,d=new ne;function f(y=l().camera,x=u,w=l().size){const{width:b,height:T}=w,E=b/T;x instanceof ne?d.copy(x):d.set(...x);const P=y.getWorldPosition(c).distanceTo(d);if(Bre(y))return{width:b/y.zoom,height:T/y.zoom,factor:1,distance:P,aspect:E};{const L=y.fov*Math.PI/180,R=2*Math.tan(L/2)*P,F=R*(b/T);return{width:F,height:R,factor:b/F,distance:P,aspect:E}}}let p;const g=y=>a(x=>({performance:Kl(Qn({},x.performance),{current:y})})),v=new ut;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(y=1)=>t(l(),y),advance:(y,x)=>e(y,x,l()),legacy:!1,linear:!1,flat:!1,scene:jy(new KU),controls:null,clock:new pz,pointer:v,mouse:v,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();p&&clearTimeout(p),y.performance.current!==y.performance.min&&g(y.performance.min),p=setTimeout(()=>g(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:y=>a(x=>Kl(Qn({},x),{events:Qn(Qn({},x.events),y)})),setSize:(y,x,w)=>{const b=l().camera,T={width:y,height:x,updateStyle:w};a(E=>({size:T,viewport:Qn(Qn({},E.viewport),f(b,u,T))}))},setDpr:y=>a(x=>{const w=Vre(y);return{viewport:Kl(Qn({},x.viewport),{dpr:w,initialDpr:x.viewport.initialDpr||w})}}),setFrameloop:(y="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,y!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,x,w)=>{const b=l().internal;return b.priority=b.priority+(x>0?1:0),b.subscribers.push({ref:y,priority:x,store:w}),b.subscribers=b.subscribers.sort((T,E)=>T.priority-E.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(x>0?1:0),T.subscribers=T.subscribers.filter(E=>E.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();(l!==i||c.dpr!==s)&&(i=l,s=c.dpr,UWe(a,l),u.setPixelRatio(c.dpr),u.setSize(l.width,l.height,l.updateStyle)),a!==o&&(o=a,d(f=>({viewport:Qn(Qn({},f.viewport),f.viewport.getCurrentViewport(a))})))}),n.subscribe(a=>t(a)),n};let ch,KD=[],XD=[],G8=[];function cb(t,e){for(ch=0;ch<t.length;ch++)t[ch](e)}let YD,QD;function JD(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),YD=e.internal.subscribers,ch=0;ch<YD.length;ch++)QD=YD[ch],QD.ref.current(QD.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function KWe(t){let e=!1,n,r,i;function s(l){if(r=requestAnimationFrame(s),e=!0,n=0,KD.length&&cb(KD,l),t.forEach(c=>{var u;i=c.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=JD(l,i))}),XD.length&&cb(XD,l),n===0)return G8.length&&cb(G8,l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(d=>o(d.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,d){c&&cb(KD,l),u?JD(l,u,d):t.forEach(f=>JD(l,f.store.getState())),c&&cb(XD,l)}return{loop:s,invalidate:o,advance:a}}function XWe(){const t=N.exports.useContext(jre);if(!t)throw"R3F hooks can only be used within the Canvas component!";return t}function YWe(t,e=0){const n=XWe(),r=n.getState().internal.subscribe,i=$re(t);return WC(()=>r(i,e,n),[e,r,n]),null}function qre(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,BWe(l.scene)),o(l)},e,l=>a(`Could not load ${s}: ${l.message}`)))))}}function _z(t,e,n,r){const i=Array.isArray(e)?e:[e],s=kWe(qre(n,r),[t,...i],{equal:Dr.equ});return Array.isArray(e)?s:s[0]}_z.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return LWe(qre(n),[t,...r])};_z.clear=function(t,e){const n=Array.isArray(e)?e:[e];return DWe([t,...n])};const I_=new Map,{invalidate:QWe,advance:j8}=KWe(I_),{reconciler:tR,applyProps:jI}=jWe(I_,VWe),Dy={objects:"shallow",strict:!1},JWe=(t,e)=>{const n=typeof t=="function"?t(e):t;return Gre(n)?n:new qU(Qn({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},t))};function ZWe(t){let e=I_.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||qWe(QWe,j8),o=n||tR.createContainer(s,N0.exports.ConcurrentRoot,null,!1,null,"",i,null);e||I_.set(t,{fiber:o,store:s});let a,l=!1;return{configure(c={}){var u,d,f,p;let{gl:g,size:v,events:y,onCreated:x,shadows:w=!1,linear:b=!1,flat:T=!1,legacy:E=!1,orthographic:P=!1,frameloop:L="always",dpr:R=[1,2],performance:F,raycaster:O,camera:G,onPointerMissed:Z}=c,V=s.getState(),U=V.gl;V.gl||V.set({gl:U=JWe(g,t)});let j=V.raycaster;j||V.set({raycaster:j=new Mre});const q=O||{},{params:W}=q,X=Mf(q,["params"]);if(Dr.equ(X,j,Dy)||jI(j,Qn({},X)),Dr.equ(W,j.params,Dy)||jI(j,{params:Qn(Qn({},j.params),W)}),!V.camera){const ee=G instanceof $C,J=ee?G:P?new ax(0,0,0,0,.1,1e3):new $i(75,0,.1,1e3);ee||(J.position.z=5,G&&jI(J,G),G!=null&&G.rotation||J.lookAt(0,0,0)),V.set({camera:J})}if(!V.xr){const ee=(ye,Ce)=>{const oe=s.getState();oe.frameloop!=="never"&&j8(ye,!0,oe,Ce)},J=()=>{const ye=s.getState().gl;ye.xr.enabled=ye.xr.isPresenting,ye.xr.setAnimationLoop(ye.xr.isPresenting?ee:null)},de={connect(){const ye=s.getState().gl;ye.xr.addEventListener("sessionstart",J),ye.xr.addEventListener("sessionend",J)},disconnect(){const ye=s.getState().gl;ye.xr.removeEventListener("sessionstart",J),ye.xr.removeEventListener("sessionend",J)}};U.xr&&de.connect(),V.set({xr:de})}if(U.shadowMap){const ee=Dr.boo(w);if(ee&&U.shadowMap.enabled!==w||!Dr.equ(w,U.shadowMap,Dy)){const J=U.shadowMap.enabled;U.shadowMap.enabled=!!w,ee?U.shadowMap.type=DU:Object.assign(U.shadowMap,w),J!==U.shadowMap.enabled&&(U.shadowMap.needsUpdate=!0)}}"ColorManagement"in eR&&zWe(eR,E,["ColorManagement","legacyMode"]);const B=b?Nd:nr,H=T?yc:FU;return U.outputEncoding!==B&&(U.outputEncoding=B),U.toneMapping!==H&&(U.toneMapping=H),V.legacy!==E&&V.set(()=>({legacy:E})),V.linear!==b&&V.set(()=>({linear:b})),V.flat!==T&&V.set(()=>({flat:T})),g&&!Dr.fun(g)&&!Gre(g)&&!Dr.equ(g,U,Dy)&&jI(U,g),y&&!V.events.handlers&&V.set({events:y(s)}),R&&V.viewport.dpr!==Vre(R)&&V.setDpr(R),v=v||{width:(u=(d=t.parentElement)==null?void 0:d.clientWidth)!=null?u:0,height:(f=(p=t.parentElement)==null?void 0:p.clientHeight)!=null?f:0},Dr.equ(v,V.size,Dy)||V.setSize(v.width,v.height,v.updateStyle),V.frameloop!==L&&V.setFrameloop(L),V.onPointerMissed||V.set({onPointerMissed:Z}),F&&!Dr.equ(F,V.performance,Dy)&&V.set(ee=>({performance:Qn(Qn({},ee.performance),F)})),a=x,l=!0,this},render(c){return l||this.configure(),tR.updateContainer(N.exports.createElement(eHe,{store:s,children:c,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){Kre(t)}}}function eHe({store:t,children:e,onCreated:n,rootElement:r}){return WC(()=>{const i=t.getState();i.set(s=>({internal:Kl(Qn({},s.internal),{active:!0})})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),N.exports.createElement(jre.Provider,{value:t},e)}function Kre(t,e){const n=I_.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),tR.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),$We(i),I_.delete(t),e&&e(t)}catch{}},500)})}}tR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.exports.version});function n3(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}n3.debounce=n3;var q8=n3;function tHe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=N.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=N.exports.useRef(!1);N.exports.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,p,g]=N.exports.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:b,top:T,width:E,height:P,bottom:L,right:R,x:F,y:O}=l.current.element.getBoundingClientRect(),G={left:b,top:T,width:E,height:P,bottom:L,right:R,x:F,y:O};l.current.element instanceof HTMLElement&&i&&(G.height=l.current.element.offsetHeight,G.width=l.current.element.offsetWidth),Object.freeze(G),d.current&&!sHe(l.current.lastBounds,G)&&a(l.current.lastBounds=G)};return[w,u?q8(w,u):w,c?q8(w,c):w]},[a,i,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){!l.current.element||(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",g,{capture:!0,passive:!0})))}const x=w=>{!w||w===l.current.element||(v(),l.current.element=w,l.current.scrollContainers=Xre(w),y())};return rHe(g,Boolean(n)),nHe(p),N.exports.useEffect(()=>{v(),y()},[n,g,p]),N.exports.useEffect(()=>v,[]),[x,o,f]}function nHe(t){N.exports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function rHe(t,e){N.exports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Xre(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Xre(t.parentElement)]}const iHe=["x","y","top","bottom","left","right","width","height"],sHe=(t,e)=>iHe.every(n=>t[n]===e[n]),ZD={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function oHe(t){const{handlePointer:e}=HWe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(ZD).reduce((n,r)=>Kl(Qn({},n),{[r]:e(r)}),{}),connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:Kl(Qn({},o.events),{connected:n})})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=ZD[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=ZD[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:Kl(Qn({},s.events),{connected:void 0})}))}}}}const aHe=N.exports.forwardRef(function(E,T){var P=E,{children:e,fallback:n,resize:r,style:i,gl:s,events:o=oHe,shadows:a,linear:l,flat:c,legacy:u,orthographic:d,frameloop:f,dpr:p,performance:g,raycaster:v,camera:y,onPointerMissed:x,onCreated:w}=P,b=Mf(P,["children","fallback","resize","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);N.exports.useMemo(()=>GWe(eR),[]);const[L,{width:R,height:F}]=tHe(Qn({scroll:!0,debounce:{scroll:50,resize:0}},r)),O=N.exports.useRef(null),G=N.exports.useRef(null),[Z,V]=N.exports.useState(null);N.exports.useImperativeHandle(T,()=>O.current);const U=$re(x),[j,W]=N.exports.useState(!1),[X,B]=N.exports.useState(!1);if(j)throw j;if(X)throw X;const H=N.exports.useRef(null);return R>0&&F>0&&Z&&(H.current||(H.current=ZWe(Z)),H.current.configure({gl:s,events:o,shadows:a,linear:l,flat:c,legacy:u,orthographic:d,frameloop:f,dpr:p,performance:g,raycaster:v,camera:y,size:{width:R,height:F},onPointerMissed:(...q)=>U.current==null?void 0:U.current(...q),onCreated:q=>{q.events.connect==null||q.events.connect(G.current),w==null||w(q)}}),H.current.render(N.exports.createElement(Ure,{set:B},N.exports.createElement(N.exports.Suspense,{fallback:N.exports.createElement(OWe,{set:W})},e)))),WC(()=>{V(O.current)},[]),N.exports.useEffect(()=>{if(Z)return()=>Kre(Z)},[Z]),N.exports.createElement("div",A({ref:G,style:Qn({position:"relative",width:"100%",height:"100%",overflow:"hidden"},i)},b),N.exports.createElement("div",{ref:L,style:{width:"100%",height:"100%"}},N.exports.createElement("canvas",{ref:O,style:{display:"block"}},n)))});/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var K8={},r3=function(t){return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Yre=function(t){return new Worker(t)};try{URL.revokeObjectURL(r3(""))}catch{r3=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},Yre=function(e){return new Worker(e,{type:"module"})}}var lHe=function(t,e,n,r,i){var s=Yre(K8[e]||(K8[e]=r3(t)));return s.onerror=function(o){return i(o.error,null)},s.onmessage=function(o){return i(null,o.data)},s.postMessage(n,r),s},Ln=Uint8Array,ds=Uint16Array,Bd=Uint32Array,ux=new Ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dx=new Ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),mS=new Ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qre=function(t,e){for(var n=new ds(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Bd(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},Jre=Qre(ux,2),xz=Jre[0],nR=Jre[1];xz[28]=258,nR[258]=28;var Zre=Qre(dx,0),eie=Zre[0],i3=Zre[1],gS=new ds(32768);for(var Ir=0;Ir<32768;++Ir){var Uf=(Ir&43690)>>>1|(Ir&21845)<<1;Uf=(Uf&52428)>>>2|(Uf&13107)<<2,Uf=(Uf&61680)>>>4|(Uf&3855)<<4,gS[Ir]=((Uf&65280)>>>8|(Uf&255)<<8)>>>1}var xl=function(t,e,n){for(var r=t.length,i=0,s=new ds(e);i<r;++i)++s[t[i]-1];var o=new ds(e);for(i=0;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new ds(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[gS[d]>>>l]=c}else for(a=new ds(r),i=0;i<r;++i)t[i]&&(a[i]=gS[o[t[i]-1]++]>>>15-t[i]);return a},$d=new Ln(288);for(var Ir=0;Ir<144;++Ir)$d[Ir]=8;for(var Ir=144;Ir<256;++Ir)$d[Ir]=9;for(var Ir=256;Ir<280;++Ir)$d[Ir]=7;for(var Ir=280;Ir<288;++Ir)$d[Ir]=8;var M_=new Ln(32);for(var Ir=0;Ir<32;++Ir)M_[Ir]=5;var tie=xl($d,9,0),nie=xl($d,9,1),rie=xl(M_,5,0),iie=xl(M_,5,1),HM=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ol=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},GM=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},HC=function(t){return(t/8|0)+(t&7&&1)},wl=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof ds?ds:t instanceof Bd?Bd:Ln)(n-e);return r.set(t.subarray(e,n)),r},GC=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Ln(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Ln(r*3));var o=function(oe){var He=e.length;if(oe>He){var Ae=new Ln(Math.max(He*2,oe));Ae.set(e),e=Ae}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,f=n.m,p=n.n,g=r*8;do{if(!u){n.f=a=ol(t,l,1);var v=ol(t,l+1,3);if(l+=3,v)if(v==1)u=nie,d=iie,f=9,p=5;else if(v==2){var b=ol(t,l,31)+257,T=ol(t,l+10,15)+4,E=b+ol(t,l+5,31)+1;l+=14;for(var P=new Ln(E),L=new Ln(19),R=0;R<T;++R)L[mS[R]]=ol(t,l+R*3,7);l+=T*3;for(var F=HM(L),O=(1<<F)-1,G=xl(L,F,1),R=0;R<E;){var Z=G[ol(t,l,O)];l+=Z&15;var y=Z>>>4;if(y<16)P[R++]=y;else{var V=0,U=0;for(y==16?(U=3+ol(t,l,3),l+=2,V=P[R-1]):y==17?(U=3+ol(t,l,7),l+=3):y==18&&(U=11+ol(t,l,127),l+=7);U--;)P[R++]=V}}var j=P.subarray(0,b),W=P.subarray(b);f=HM(j),p=HM(W),u=xl(j,f,1),d=xl(W,p,1)}else throw"invalid block type";else{var y=HC(l)+4,x=t[y-4]|t[y-3]<<8,w=y+x;if(w>r){if(s)throw"unexpected EOF";break}i&&o(c+x),e.set(t.subarray(y,w),c),n.b=c+=x,n.p=l=w*8;continue}if(l>g){if(s)throw"unexpected EOF";break}}i&&o(c+131072);for(var X=(1<<f)-1,B=(1<<p)-1,H=l;;H=l){var V=u[GM(t,l)&X],q=V>>>4;if(l+=V&15,l>g){if(s)throw"unexpected EOF";break}if(!V)throw"invalid length/literal";if(q<256)e[c++]=q;else if(q==256){H=l,u=null;break}else{var ee=q-254;if(q>264){var R=q-257,J=ux[R];ee=ol(t,l,(1<<J)-1)+xz[R],l+=J}var de=d[GM(t,l)&B],ye=de>>>4;if(!de)throw"invalid distance";l+=de&15;var W=eie[ye];if(ye>3){var J=dx[ye];W+=GM(t,l)&(1<<J)-1,l+=J}if(l>g){if(s)throw"unexpected EOF";break}i&&o(c+131072);for(var Ce=c+ee;c<Ce;c+=4)e[c]=e[c-W],e[c+1]=e[c+1-W],e[c+2]=e[c+2-W],e[c+3]=e[c+3-W];c=Ce}}n.l=u,n.p=H,n.b=c,u&&(a=1,n.m=f,n.d=d,n.n=p)}while(!a);return c==e.length?e:wl(e,0,c)},jc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>>8},Ky=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},jM=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return[gd,0];if(i==1){var o=new Ln(n[0].s+1);return o[n[0].s]=1,[o,1]}n.sort(function(E,P){return E.f-P.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var p=new ds(f+1),g=rR(n[u-1],p,0);if(g>e){var r=0,v=0,y=g-e,x=1<<y;for(s.sort(function(P,L){return p[L.s]-p[P.s]||P.f-L.f});r<i;++r){var w=s[r].s;if(p[w]>e)v+=x-(1<<g-p[w]),p[w]=e;else break}for(v>>>=y;v>0;){var b=s[r].s;p[b]<e?v-=1<<e-p[b]++-1:++r}for(;r>=0&&v;--r){var T=s[r].s;p[T]==e&&(--p[T],++v)}g=e}return[new Ln(p),g]},rR=function(t,e,n){return t.s==-1?Math.max(rR(t.l,e,n+1),rR(t.r,e,n+1)):e[t.s]=n},s3=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ds(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return[n.subarray(0,r),e]},Xy=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},u1=function(t,e,n){var r=n.length,i=HC(e+2);t[i]=r&255,t[i+1]=r>>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},o3=function(t,e,n,r,i,s,o,a,l,c,u){jc(e,u++,n),++i[256];for(var d=jM(i,15),f=d[0],p=d[1],g=jM(s,15),v=g[0],y=g[1],x=s3(f),w=x[0],b=x[1],T=s3(v),E=T[0],P=T[1],L=new ds(19),R=0;R<w.length;++R)L[w[R]&31]++;for(var R=0;R<E.length;++R)L[E[R]&31]++;for(var F=jM(L,7),O=F[0],G=F[1],Z=19;Z>4&&!O[mS[Z-1]];--Z);var V=c+5<<3,U=Xy(i,$d)+Xy(s,M_)+o,j=Xy(i,f)+Xy(s,v)+o+14+3*Z+Xy(L,O)+(2*L[16]+3*L[17]+7*L[18]);if(V<=U&&V<=j)return u1(e,u,t.subarray(l,l+c));var W,X,B,H;if(jc(e,u,1+(j<U)),u+=2,j<U){W=xl(f,p,0),X=f,B=xl(v,y,0),H=v;var q=xl(O,G,0);jc(e,u,b-257),jc(e,u+5,P-1),jc(e,u+10,Z-4),u+=14;for(var R=0;R<Z;++R)jc(e,u+3*R,O[mS[R]]);u+=3*Z;for(var ee=[w,E],J=0;J<2;++J)for(var de=ee[J],R=0;R<de.length;++R){var ye=de[R]&31;jc(e,u,q[ye]),u+=O[ye],ye>15&&(jc(e,u,de[R]>>>5&127),u+=de[R]>>>12)}}else W=tie,X=$d,B=rie,H=M_;for(var R=0;R<a;++R)if(r[R]>255){var ye=r[R]>>>18&31;Ky(e,u,W[ye+257]),u+=X[ye+257],ye>7&&(jc(e,u,r[R]>>>23&31),u+=ux[ye]);var Ce=r[R]&31;Ky(e,u,B[Ce]),u+=H[Ce],Ce>3&&(Ky(e,u,r[R]>>>5&8191),u+=dx[Ce])}else Ky(e,u,W[r[R]]),u+=X[r[R]];return Ky(e,u,W[256]),u+X[256]},sie=new Bd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gd=new Ln(0),oie=function(t,e,n,r,i,s){var o=t.length,a=new Ln(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=0;if(!e||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=u1(l,c,t.subarray(u,d)):(l[u]=s,c=u1(l,c,t.subarray(u,o)))}else{for(var f=sie[e-1],p=f>>>13,g=f&8191,v=(1<<n)-1,y=new ds(32768),x=new ds(v+1),w=Math.ceil(n/3),b=2*w,T=function(Ue){return(t[Ue]^t[Ue+1]<<w^t[Ue+2]<<b)&v},E=new Bd(25e3),P=new ds(288),L=new ds(32),R=0,F=0,u=0,O=0,G=0,Z=0;u<o;++u){var V=T(u),U=u&32767,j=x[V];if(y[U]=j,x[V]=U,G<=u){var W=o-u;if((R>7e3||O>24576)&&W>423){c=o3(t,l,0,E,P,L,F,O,Z,u-Z,c),O=R=F=0,Z=u;for(var X=0;X<286;++X)P[X]=0;for(var X=0;X<30;++X)L[X]=0}var B=2,H=0,q=g,ee=U-j&32767;if(W>2&&V==T(u-ee))for(var J=Math.min(p,W)-1,de=Math.min(32767,u),ye=Math.min(258,W);ee<=de&&--q&&U!=j;){if(t[u+B]==t[u+B-ee]){for(var Ce=0;Ce<ye&&t[u+Ce]==t[u+Ce-ee];++Ce);if(Ce>B){if(B=Ce,H=ee,Ce>J)break;for(var oe=Math.min(ee,Ce-2),He=0,X=0;X<oe;++X){var Ae=u-ee+X+32768&32767,Ne=y[Ae],Se=Ae-Ne+32768&32767;Se>He&&(He=Se,j=Ae)}}}U=j,j=y[U],ee+=U-j+32768&32767}if(H){E[O++]=268435456|nR[B]<<18|i3[H];var Ze=nR[B]&31,we=i3[H]&31;F+=ux[Ze]+dx[we],++P[257+Ze],++L[we],G=u+B,++R}else E[O++]=t[u],++P[t[u]]}}c=o3(t,l,s,E,P,L,F,O,Z,u-Z,c),!s&&c&7&&(c=u1(l,c+1,gd))}return wl(a,0,r+HC(c)+i)},aie=function(){for(var t=new Bd(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(n&1&&3988292384)^n>>>1;t[e]=n}return t}(),fx=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=aie[n&255^e[r]]^n>>>8;t=n},d:function(){return~t}}},wz=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|t>>>8<<16|(e&255)<<8|e>>>8}}},rv=function(t,e,n,r,i){return oie(t,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):12+e.mem,n,r,!i)},jC=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},X8=function(t,e,n){for(var r=t(),i=t.toString(),s=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),o=0;o<r.length;++o){var a=r[o],l=s[o];if(typeof a=="function"){e+=";"+l+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;e+=c.slice(u,c.indexOf("(",u))}else{e+=c;for(var d in a.prototype)e+=";"+l+".prototype."+d+"="+a.prototype[d].toString()}else e+=c}else n[l]=a}return[e,n]},qI=[],cHe=function(t){var e=[];for(var n in t)(t[n]instanceof Ln||t[n]instanceof ds||t[n]instanceof Bd)&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e},lie=function(t,e,n,r){var i;if(!qI[n]){for(var s="",o={},a=t.length-1,l=0;l<a;++l)i=X8(t[l],s,o),s=i[0],o=i[1];qI[n]=X8(t[a],s,o)}var c=jC({},qI[n][1]);return lHe(qI[n][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,c,cHe(c),r)},hx=function(){return[Ln,ds,Bd,ux,dx,mS,xz,eie,nie,iie,gS,xl,HM,ol,GM,HC,wl,GC,vx,lp,bz]},px=function(){return[Ln,ds,Bd,ux,dx,mS,nR,i3,tie,$d,rie,M_,gS,sie,gd,xl,jc,Ky,jM,rR,s3,Xy,u1,o3,HC,wl,oie,rv,qC,lp]},cie=function(){return[Sz,Tz,rr,fx,aie]},uie=function(){return[Cz,hie]},die=function(){return[Ez,rr,wz]},fie=function(){return[pie]},lp=function(t){return postMessage(t,[t.buffer])},bz=function(t){return t&&t.size&&new Ln(t.size)},mx=function(t,e,n,r,i,s){var o=lie(n,r,i,function(a,l){o.terminate(),s(a,l)});return o.postMessage([t,e],e.consume?[t.buffer]:[]),function(){o.terminate()}},Ml=function(t){return t.ondata=function(e,n){return postMessage([e,n],[e.buffer])},function(e){return t.push(e.data[0],e.data[1])}},gx=function(t,e,n,r,i){var s,o=lie(t,r,i,function(a,l){a?(o.terminate(),e.ondata.call(e,a)):(l[1]&&o.terminate(),e.ondata.call(e,a,l[0],l[1]))});o.postMessage(n),e.push=function(a,l){if(s)throw"stream finished";if(!e.ondata)throw"no stream handler";o.postMessage([a,s=l],[a.buffer])},e.terminate=function(){o.terminate()}},To=function(t,e){return t[e]|t[e+1]<<8},fi=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},eN=function(t,e){return fi(t,e)+fi(t,e+4)*4294967296},rr=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Sz=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&rr(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},Cz=function(t){if(t[0]!=31||t[1]!=139||t[2]!=8)throw"invalid gzip data";var e=t[3],n=10;e&4&&(n+=t[10]|(t[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(e&2)},hie=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},Tz=function(t){return 10+(t.filename&&t.filename.length+1||0)},Ez=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)},pie=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Iz(t,e){return!e&&typeof t=="function"&&(e=t,t={}),this.ondata=e,t}var wu=function(){function t(e,n){!n&&typeof e=="function"&&(n=e,e={}),this.ondata=n,this.o=e||{}}return t.prototype.p=function(e,n){this.ondata(rv(e,this.o,0,0,!n),n)},t.prototype.push=function(e,n){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=n,this.p(e,n||!1)},t}(),mie=function(){function t(e,n){gx([px,function(){return[Ml,wu]}],this,Iz.call(this,e,n),function(r){var i=new wu(r.data);onmessage=Ml(i)},6)}return t}();function gie(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return mx(t,e,[px],function(r){return lp(qC(r.data[0],r.data[1]))},0,n)}function qC(t,e){return rv(t,e||{},0,0)}var fa=function(){function t(e){this.s={},this.p=new Ln(0),this.ondata=e}return t.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var n=this.p.length,r=new Ln(n+e.length);r.set(this.p),r.set(e,n),this.p=r},t.prototype.c=function(e){this.d=this.s.i=e||!1;var n=this.s.b,r=GC(this.p,this.o,this.s);this.ondata(wl(r,n,this.s.b),this.d),this.o=wl(r,this.s.b-32768),this.s.b=this.o.length,this.p=wl(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(e,n){this.e(e),this.c(n)},t}(),Mz=function(){function t(e){this.ondata=e,gx([hx,function(){return[Ml,fa]}],this,0,function(){var n=new fa;onmessage=Ml(n)},7)}return t}();function Az(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return mx(t,e,[hx],function(r){return lp(vx(r.data[0],bz(r.data[1])))},1,n)}function vx(t,e){return GC(t,e)}var iR=function(){function t(e,n){this.c=fx(),this.l=0,this.v=1,wu.call(this,e,n)}return t.prototype.push=function(e,n){wu.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){this.c.p(e),this.l+=e.length;var r=rv(e,this.o,this.v&&Tz(this.o),n&&8,!n);this.v&&(Sz(r,this.o),this.v=0),n&&(rr(r,r.length-8,this.c.d()),rr(r,r.length-4,this.l)),this.ondata(r,n)},t}(),Y8=function(){function t(e,n){gx([px,cie,function(){return[Ml,wu,iR]}],this,Iz.call(this,e,n),function(r){var i=new iR(r.data);onmessage=Ml(i)},8)}return t}();function Q8(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return mx(t,e,[px,cie,function(){return[sR]}],function(r){return lp(sR(r.data[0],r.data[1]))},2,n)}function sR(t,e){e||(e={});var n=fx(),r=t.length;n.p(t);var i=rv(t,e,Tz(e),8),s=i.length;return Sz(i,e),rr(i,s-8,n.d()),rr(i,s-4,r),i}var oR=function(){function t(e){this.v=1,fa.call(this,e)}return t.prototype.push=function(e,n){if(fa.prototype.e.call(this,e),this.v){var r=this.p.length>3?Cz(this.p):4;if(r>=this.p.length&&!n)return;this.p=this.p.subarray(r),this.v=0}if(n){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}fa.prototype.c.call(this,n)},t}(),vie=function(){function t(e){this.ondata=e,gx([hx,uie,function(){return[Ml,fa,oR]}],this,0,function(){var n=new oR;onmessage=Ml(n)},9)}return t}();function yie(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return mx(t,e,[hx,uie,function(){return[aR]}],function(r){return lp(aR(r.data[0]))},3,n)}function aR(t,e){return GC(t.subarray(Cz(t),-8),e||new Ln(hie(t)))}var a3=function(){function t(e,n){this.c=wz(),this.v=1,wu.call(this,e,n)}return t.prototype.push=function(e,n){wu.prototype.push.call(this,e,n)},t.prototype.p=function(e,n){this.c.p(e);var r=rv(e,this.o,this.v&&2,n&&4,!n);this.v&&(Ez(r,this.o),this.v=0),n&&rr(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),uHe=function(){function t(e,n){gx([px,die,function(){return[Ml,wu,a3]}],this,Iz.call(this,e,n),function(r){var i=new a3(r.data);onmessage=Ml(i)},10)}return t}();function dHe(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return mx(t,e,[px,die,function(){return[l3]}],function(r){return lp(l3(r.data[0],r.data[1]))},4,n)}function l3(t,e){e||(e={});var n=wz();n.p(t);var r=rv(t,e,2,4);return Ez(r,e),rr(r,r.length-4,n.d()),r}var lR=function(){function t(e){this.v=1,fa.call(this,e)}return t.prototype.push=function(e,n){if(fa.prototype.e.call(this,e),this.v){if(this.p.length<2&&!n)return;this.p=this.p.subarray(2),this.v=0}if(n){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}fa.prototype.c.call(this,n)},t}(),_ie=function(){function t(e){this.ondata=e,gx([hx,fie,function(){return[Ml,fa,lR]}],this,0,function(){var n=new lR;onmessage=Ml(n)},11)}return t}();function xie(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return mx(t,e,[hx,fie,function(){return[vS]}],function(r){return lp(vS(r.data[0],bz(r.data[1])))},5,n)}function vS(t,e){return GC((pie(t),t.subarray(2,-4)),e)}var wie=function(){function t(e){this.G=oR,this.I=fa,this.Z=lR,this.ondata=e}return t.prototype.push=function(e,n){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,n);else{if(this.p&&this.p.length){var r=new Ln(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,s=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(s):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(s):new this.Z(s),this.s.push(this.p,n),this.p=null}}},t}(),fHe=function(){function t(e){this.G=vie,this.I=Mz,this.Z=_ie,this.ondata=e}return t.prototype.push=function(e,n){wie.prototype.push.call(this,e,n)},t}();function hHe(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";return t[0]==31&&t[1]==139&&t[2]==8?yie(t,e,n):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?Az(t,e,n):xie(t,e,n)}function pHe(t,e){return t[0]==31&&t[1]==139&&t[2]==8?aR(t,e):(t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31?vx(t,e):vS(t,e)}var Rz=function(t,e,n,r){for(var i in t){var s=t[i],o=e+i;s instanceof Ln?n[o]=[s,r]:Array.isArray(s)?n[o]=[s[0],jC(r,s[1])]:Rz(s,o+"/",n,r)}},J8=typeof TextEncoder!="undefined"&&new TextEncoder,c3=typeof TextDecoder!="undefined"&&new TextDecoder,bie=0;try{c3.decode(gd,{stream:!0}),bie=1}catch{}var Sie=function(t){for(var e="",n=0;;){var r=t[n++],i=(r>127)+(r>223)+(r>239);if(n+i>t.length)return[e,wl(t,n-1)];i?i==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}},mHe=function(){function t(e){this.ondata=e,bie?this.t=new TextDecoder:this.p=gd}return t.prototype.push=function(e,n){if(!this.ondata)throw"no callback";if(n=!!n,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),n),n){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new Ln(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=Sie(r),s=i[0],o=i[1];if(n){if(o.length)throw"invalid utf-8 data";this.p=null}else this.p=o;this.ondata(s,n)},t}(),gHe=function(){function t(e){this.ondata=e}return t.prototype.push=function(e,n){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata($h(e),this.d=n||!1)},t}();function $h(t,e){if(e){for(var n=new Ln(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(J8)return J8.encode(t);for(var i=t.length,s=new Ln(t.length+(t.length>>1)),o=0,a=function(u){s[o++]=u},r=0;r<i;++r){if(o+5>s.length){var l=new Ln(o+8+(i-r<<1));l.set(s),s=l}var c=t.charCodeAt(r);c<128||e?a(c):c<2048?(a(192|c>>6),a(128|c&63)):c>55295&&c<57344?(c=65536+(c&1023<<10)|t.charCodeAt(++r)&1023,a(240|c>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|c&63)):(a(224|c>>12),a(128|c>>6&63),a(128|c&63))}return wl(s,0,o)}function Pz(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(c3)return c3.decode(t);var i=Sie(t),s=i[0],o=i[1];if(o.length)throw"invalid utf-8 data";return s}}var Cie=function(t){return t==1?3:t<6?2:t==9?1:0},Tie=function(t,e){return e+30+To(t,e+26)+To(t,e+28)},Eie=function(t,e,n){var r=To(t,e+28),i=Pz(t.subarray(e+46,e+46+r),!(To(t,e+8)&2048)),s=e+46+r,o=fi(t,e+20),a=n&&o==4294967295?Iie(t,s):[o,fi(t,e+24),fi(t,e+42)],l=a[0],c=a[1],u=a[2];return[To(t,e+10),l,c,i,s+To(t,e+30)+To(t,e+32),u]},Iie=function(t,e){for(;To(t,e)!=1;e+=4+To(t,e+2));return[eN(t,e+12),eN(t,e+4),eN(t,e+20)]},_h=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;if(r>65535)throw"extra field too long";e+=r+4}return e},A_=function(t,e,n,r,i,s,o,a){var l=r.length,c=n.extra,u=a&&a.length,d=_h(c);rr(t,e,o!=null?33639248:67324752),e+=4,o!=null&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(s==null&&8),t[e++]=i&&8,t[e++]=n.compression&255,t[e++]=n.compression>>8;var f=new Date(n.mtime==null?Date.now():n.mtime),p=f.getFullYear()-1980;if(p<0||p>119)throw"date not in range 1980-2099";if(rr(t,e,p<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),e+=4,s!=null&&(rr(t,e,n.crc),rr(t,e+4,s),rr(t,e+8,n.size)),rr(t,e+12,l),rr(t,e+14,d),e+=16,o!=null&&(rr(t,e,u),rr(t,e+6,n.attrs),rr(t,e+10,o),e+=14),t.set(r,e),e+=l,d)for(var g in c){var v=c[g],y=v.length;rr(t,e,+g),rr(t,e+2,y),t.set(v,e+4),e+=4+y}return u&&(t.set(a,e),e+=u),e},kz=function(t,e,n,r,i){rr(t,e,101010256),rr(t,e+8,n),rr(t,e+10,n),rr(t,e+12,r),rr(t,e+16,i)},yS=function(){function t(e){this.filename=e,this.c=fx(),this.size=0,this.compression=0}return t.prototype.process=function(e,n){this.ondata(null,e,n)},t.prototype.push=function(e,n){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,n&&(this.crc=this.c.d()),this.process(e,n||!1)},t}(),vHe=function(){function t(e,n){var r=this;n||(n={}),yS.call(this,e),this.d=new wu(n,function(i,s){r.ondata(null,i,s)}),this.compression=8,this.flag=Cie(n.level)}return t.prototype.process=function(e,n){try{this.d.push(e,n)}catch(r){this.ondata(r,null,n)}},t.prototype.push=function(e,n){yS.prototype.push.call(this,e,n)},t}(),yHe=function(){function t(e,n){var r=this;n||(n={}),yS.call(this,e),this.d=new mie(n,function(i,s,o){r.ondata(i,s,o)}),this.compression=8,this.flag=Cie(n.level),this.terminate=this.d.terminate}return t.prototype.process=function(e,n){this.d.push(e,n)},t.prototype.push=function(e,n){yS.prototype.push.call(this,e,n)},t}(),_He=function(){function t(e){this.ondata=e,this.u=[],this.d=1}return t.prototype.add=function(e){var n=this;if(this.d&2)throw"stream finished";var r=$h(e.filename),i=r.length,s=e.comment,o=s&&$h(s),a=i!=e.filename.length||o&&s.length!=o.length,l=i+_h(e.extra)+30;if(i>65535)throw"filename too long";var c=new Ln(l);A_(c,0,e,r,a);var u=[c],d=function(){for(var y=0,x=u;y<x.length;y++){var w=x[y];n.ondata(null,w,!1)}u=[]},f=this.d;this.d=0;var p=this.u.length,g=jC(e,{f:r,u:a,o,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),f){var y=n.u[p+1];y?y.r():n.d=1}f=1}}),v=0;e.ondata=function(y,x,w){if(y)n.ondata(y,x,w),n.terminate();else if(v+=x.length,u.push(x),w){var b=new Ln(16);rr(b,0,134695760),rr(b,4,e.crc),rr(b,8,v),rr(b,12,e.size),u.push(b),g.c=v,g.b=l+v+16,g.crc=e.crc,g.size=e.size,f&&g.r(),f=1}else f&&d()},this.u.push(g)},t.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){!(e.d&1)||(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},t.prototype.e=function(){for(var e=0,n=0,r=0,i=0,s=this.u;i<s.length;i++){var o=s[i];r+=46+o.f.length+_h(o.extra)+(o.o?o.o.length:0)}for(var a=new Ln(r+22),l=0,c=this.u;l<c.length;l++){var o=c[l];A_(a,e,o,o.f,o.u,o.c,n,o.o),e+=46+o.f.length+_h(o.extra)+(o.o?o.o.length:0),n+=o.b}kz(a,e,this.u.length,r,n),this.ondata(null,a,!0),this.d=2},t.prototype.terminate=function(){for(var e=0,n=this.u;e<n.length;e++){var r=n[e];r.t()}this.d=2},t}();function xHe(t,e,n){if(n||(n=e,e={}),typeof n!="function")throw"no callback";var r={};Rz(t,"",r,e);var i=Object.keys(r),s=i.length,o=0,a=0,l=s,c=new Array(s),u=[],d=function(){for(var v=0;v<u.length;++v)u[v]()},f=function(){var v=new Ln(a+22),y=o,x=a-o;a=0;for(var w=0;w<l;++w){var b=c[w];try{var T=b.c.length;A_(v,a,b,b.f,b.u,T);var E=30+b.f.length+_h(b.extra),P=a+E;v.set(b.c,P),A_(v,o,b,b.f,b.u,T,a,b.m),o+=16+E+(b.m?b.m.length:0),a=P+T}catch(L){return n(L,null)}}kz(v,o,c.length,x,y),n(null,v)};s||f();for(var p=function(v){var y=i[v],x=r[y],w=x[0],b=x[1],T=fx(),E=w.length;T.p(w);var P=$h(y),L=P.length,R=b.comment,F=R&&$h(R),O=F&&F.length,G=_h(b.extra),Z=b.level==0?0:8,V=function(U,j){if(U)d(),n(U,null);else{var W=j.length;c[v]=jC(b,{size:E,crc:T.d(),c:j,f:P,m:F,u:L!=y.length||F&&R.length!=O,compression:Z}),o+=30+L+G+W,a+=76+2*(L+G)+(O||0)+W,--s||f()}};if(L>65535&&V("filename too long",null),!Z)V(null,w);else if(E<16e4)try{V(null,qC(w,b))}catch(U){V(U,null)}else u.push(gie(w,b,V))},g=0;g<l;++g)p(g);return d}function wHe(t,e){e||(e={});var n={},r=[];Rz(t,"",n,e);var i=0,s=0;for(var o in n){var a=n[o],l=a[0],c=a[1],u=c.level==0?0:8,d=$h(o),f=d.length,p=c.comment,g=p&&$h(p),v=g&&g.length,y=_h(c.extra);if(f>65535)throw"filename too long";var x=u?qC(l,c):l,w=x.length,b=fx();b.p(l),r.push(jC(c,{size:l.length,crc:b.d(),c:x,f:d,m:g,u:f!=o.length||g&&p.length!=v,o:i,compression:u})),i+=30+f+y+w,s+=76+2*(f+y)+(v||0)+w}for(var T=new Ln(s+22),E=i,P=s-i,L=0;L<r.length;++L){var d=r[L];A_(T,d.o,d,d.f,d.u,d.c.length);var R=30+d.f.length+_h(d.extra);T.set(d.c,d.o+R),A_(T,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+R+(d.m?d.m.length:0)}return kz(T,i,r.length,P,E),T}var Mie=function(){function t(){}return t.prototype.push=function(e,n){this.ondata(null,e,n)},t.compression=0,t}(),bHe=function(){function t(){var e=this;this.i=new fa(function(n,r){e.ondata(null,n,r)})}return t.prototype.push=function(e,n){try{this.i.push(e,n)}catch(r){this.ondata(r,e,n)}},t.compression=8,t}(),SHe=function(){function t(e,n){var r=this;n<32e4?this.i=new fa(function(i,s){r.ondata(null,i,s)}):(this.i=new Mz(function(i,s,o){r.ondata(i,s,o)}),this.terminate=this.i.terminate)}return t.prototype.push=function(e,n){this.i.terminate&&(e=wl(e,0)),this.i.push(e,n)},t.compression=8,t}(),CHe=function(){function t(e){this.onfile=e,this.k=[],this.o={0:Mie},this.p=gd}return t.prototype.push=function(e,n){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var i=Math.min(this.c,e.length),s=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(s,!this.c):this.k[0].push(s),e=e.subarray(i),e.length)return this.push(e,n)}else{var o=0,a=0,l=void 0,c=void 0;this.p.length?e.length?(c=new Ln(this.p.length+e.length),c.set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var u=c.length,d=this.c,f=d&&this.d,p=function(){var x,w=fi(c,a);if(w==67324752){o=1,l=a,g.d=null,g.c=0;var b=To(c,a+6),T=To(c,a+8),E=b&2048,P=b&8,L=To(c,a+26),R=To(c,a+28);if(u>a+30+L+R){var F=[];g.k.unshift(F),o=2;var O=fi(c,a+18),G=fi(c,a+22),Z=Pz(c.subarray(a+30,a+=30+L),!E);O==4294967295?(x=P?[-2]:Iie(c,a),O=x[0],G=x[1]):P&&(O=-1),a+=R,g.c=O;var V,U={name:Z,compression:T,start:function(){if(!U.ondata)throw"no callback";if(!O)U.ondata(null,gd,!0);else{var j=r.o[T];if(!j)throw"unknown compression type "+T;V=O<0?new j(Z):new j(Z,O,G),V.ondata=function(H,q,ee){U.ondata(H,q,ee)};for(var W=0,X=F;W<X.length;W++){var B=X[W];V.push(B,!1)}r.k[0]==F&&r.c?r.d=V:V.push(gd,!0)}},terminate:function(){V&&V.terminate&&V.terminate()}};O>=0&&(U.size=O,U.originalSize=G),g.onfile(U)}return"break"}else if(d){if(w==134695760)return l=a+=12+(d==-2&&8),o=3,g.c=0,"break";if(w==33639248)return l=a-=4,o=3,g.c=0,"break"}},g=this;a<u-4;++a){var v=p();if(v==="break")break}if(this.p=gd,d<0){var y=o?c.subarray(0,l-12-(d==-2&&8)-(fi(c,l-16)==134695760&&4)):c.subarray(0,a);f?f.push(y,!!o):this.k[+(o==2)].push(y)}if(o&2)return this.push(c.subarray(a),n);this.p=c.subarray(a)}if(n){if(this.c)throw"invalid zip file";this.p=null}},t.prototype.register=function(e){this.o[e.compression]=e},t}();function THe(t,e){if(typeof e!="function")throw"no callback";for(var n=[],r=function(){for(var f=0;f<n.length;++f)n[f]()},i={},s=t.length-22;fi(t,s)!=101010256;--s)if(!s||t.length-s>65558){e("invalid zip file",null);return}var o=To(t,s+8);o||e(null,{});var a=o,l=fi(t,s+16),c=l==4294967295;if(c){if(s=fi(t,s-12),fi(t,s)!=101075792){e("invalid zip file",null);return}a=o=fi(t,s+32),l=fi(t,s+48)}for(var u=function(f){var p=Eie(t,l,c),g=p[0],v=p[1],y=p[2],x=p[3],w=p[4],b=p[5],T=Tie(t,b);l=w;var E=function(L,R){L?(r(),e(L,null)):(i[x]=R,--o||e(null,i))};if(!g)E(null,wl(t,T,T+v));else if(g==8){var P=t.subarray(T,T+v);if(v<32e4)try{E(null,vx(P,new Ln(y)))}catch(L){E(L,null)}else n.push(Az(P,{size:y},E))}else E("unknown compression type "+g,null)},d=0;d<a;++d)u();return r}function EHe(t){for(var e={},n=t.length-22;fi(t,n)!=101010256;--n)if(!n||t.length-n>65558)throw"invalid zip file";var r=To(t,n+8);if(!r)return{};var i=fi(t,n+16),s=i==4294967295;if(s){if(n=fi(t,n-12),fi(t,n)!=101075792)throw"invalid zip file";r=fi(t,n+32),i=fi(t,n+48)}for(var o=0;o<r;++o){var a=Eie(t,i,s),l=a[0],c=a[1],u=a[2],d=a[3],f=a[4],p=a[5],g=Tie(t,p);if(i=f,!l)e[d]=wl(t,g,g+c);else if(l==8)e[d]=vx(t.subarray(g,g+c),new Ln(u));else throw"unknown compression type "+l}return e}var IHe=Object.freeze(Object.defineProperty({__proto__:null,Deflate:wu,AsyncDeflate:mie,deflate:gie,deflateSync:qC,Inflate:fa,AsyncInflate:Mz,inflate:Az,inflateSync:vx,Gzip:iR,AsyncGzip:Y8,gzip:Q8,gzipSync:sR,Gunzip:oR,AsyncGunzip:vie,gunzip:yie,gunzipSync:aR,Zlib:a3,AsyncZlib:uHe,zlib:dHe,zlibSync:l3,Unzlib:lR,AsyncUnzlib:_ie,unzlib:xie,unzlibSync:vS,compress:Q8,AsyncCompress:Y8,compressSync:sR,Compress:iR,Decompress:wie,AsyncDecompress:fHe,decompress:hHe,decompressSync:pHe,DecodeUTF8:mHe,EncodeUTF8:gHe,strToU8:$h,strFromU8:Pz,ZipPassThrough:yS,ZipDeflate:vHe,AsyncZipDeflate:yHe,Zip:_He,zip:xHe,zipSync:wHe,UnzipPassThrough:Mie,UnzipInflate:bHe,AsyncUnzipInflate:SHe,Unzip:CHe,unzip:THe,unzipSync:EHe},Symbol.toStringTag,{value:"Module"}));function Aie(t,e,n){const r=n.length-t-1;if(e>=n[r])return r-1;if(e<=n[t])return t;let i=t,s=r,o=Math.floor((i+s)/2);for(;e<n[o]||e>=n[o+1];)e<n[o]?s=o:i=o,o=Math.floor((i+s)/2);return o}function MHe(t,e,n,r){const i=[],s=[],o=[];i[0]=1;for(let a=1;a<=n;++a){s[a]=e-r[t+1-a],o[a]=r[t+a]-e;let l=0;for(let c=0;c<a;++c){const u=o[c+1],d=s[a-c],f=i[c]/(u+d);i[c]=l+u*f,l=d*f}i[a]=l}return i}function AHe(t,e,n,r){const i=Aie(t,r,e),s=MHe(i,r,t,e),o=new Xn(0,0,0,0);for(let a=0;a<=t;++a){const l=n[i-t+a],c=s[a],u=l.w*c;o.x+=l.x*u,o.y+=l.y*u,o.z+=l.z*u,o.w+=l.w*c}return o}function RHe(t,e,n,r,i){const s=[];for(let d=0;d<=n;++d)s[d]=0;const o=[];for(let d=0;d<=r;++d)o[d]=s.slice(0);const a=[];for(let d=0;d<=n;++d)a[d]=s.slice(0);a[0][0]=1;const l=s.slice(0),c=s.slice(0);for(let d=1;d<=n;++d){l[d]=e-i[t+1-d],c[d]=i[t+d]-e;let f=0;for(let p=0;p<d;++p){const g=c[p+1],v=l[d-p];a[d][p]=g+v;const y=a[p][d-1]/a[d][p];a[p][d]=f+g*y,f=v*y}a[d][d]=f}for(let d=0;d<=n;++d)o[0][d]=a[d][n];for(let d=0;d<=n;++d){let f=0,p=1;const g=[];for(let v=0;v<=n;++v)g[v]=s.slice(0);g[0][0]=1;for(let v=1;v<=r;++v){let y=0;const x=d-v,w=n-v;d>=v&&(g[p][0]=g[f][0]/a[w+1][x],y=g[p][0]*a[x][w]);const b=x>=-1?1:-x,T=d-1<=w?v-1:n-d;for(let P=b;P<=T;++P)g[p][P]=(g[f][P]-g[f][P-1])/a[w+1][x+P],y+=g[p][P]*a[x+P][w];d<=w&&(g[p][v]=-g[f][v-1]/a[w+1][d],y+=g[p][v]*a[d][w]),o[v][d]=y;const E=f;f=p,p=E}}let u=n;for(let d=1;d<=r;++d){for(let f=0;f<=n;++f)o[d][f]*=u;u*=n-d}return o}function PHe(t,e,n,r,i){const s=i<t?i:t,o=[],a=Aie(t,r,e),l=RHe(a,r,t,s,e),c=[];for(let u=0;u<n.length;++u){const d=n[u].clone(),f=d.w;d.x*=f,d.y*=f,d.z*=f,c[u]=d}for(let u=0;u<=s;++u){const d=c[a-t].clone().multiplyScalar(l[u][0]);for(let f=1;f<=t;++f)d.add(c[a-t+f].clone().multiplyScalar(l[u][f]));o[u]=d}for(let u=s+1;u<=i+1;++u)o[u]=new Xn(0,0,0);return o}function kHe(t,e){let n=1;for(let i=2;i<=t;++i)n*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=t-e;++i)r*=i;return n/r}function LHe(t){const e=t.length,n=[],r=[];for(let s=0;s<e;++s){const o=t[s];n[s]=new ne(o.x,o.y,o.z),r[s]=o.w}const i=[];for(let s=0;s<e;++s){const o=n[s].clone();for(let a=1;a<=s;++a)o.sub(i[s-a].clone().multiplyScalar(kHe(s,a)*r[a]));i[s]=o.divideScalar(r[0])}return i}function DHe(t,e,n,r,i){const s=PHe(t,e,n,r,i);return LHe(s)}class Z8 extends Ll{constructor(e,n,r,i,s){super(),this.degree=e,this.knots=n,this.controlPoints=[],this.startKnot=i||0,this.endKnot=s||this.knots.length-1;for(let o=0;o<r.length;++o){const a=r[o];this.controlPoints[o]=new Xn(a.x,a.y,a.z,a.w)}}getPoint(e,n=new ne){const r=n,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),s=AHe(this.degree,this.knots,this.controlPoints,i);return s.w!==1&&s.divideScalar(s.w),r.set(s.x,s.y,s.z)}getTangent(e,n=new ne){const r=n,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),s=DHe(this.degree,this.knots,this.controlPoints,i,1);return r.copy(s[1]).normalize(),r}}let Mn,li,Xo;class NHe extends ma{constructor(e){super(e)}load(e,n,r,i){const s=this,o=s.path===""?E_.extractUrlBase(e):s.path,a=new xu(this.manager);a.setPath(s.path),a.setResponseType("arraybuffer"),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(l){try{n(s.parse(l,o))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e,n){if(zHe(e))Mn=new UHe().parse(e);else{const i=Lie(e);if(!VHe(i))throw new Error("THREE.FBXLoader: Unknown format.");if(tj(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+tj(i));Mn=new $He().parse(i)}const r=new _re(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin);return new OHe(r,this.manager).parse(Mn)}}class OHe{constructor(e,n){this.textureLoader=e,this.manager=n}parse(){li=this.parseConnections();const e=this.parseImages(),n=this.parseTextures(e),r=this.parseMaterials(n),i=this.parseDeformers(),s=new FHe().parse(i);return this.parseScene(i,s,r),Xo}parseConnections(){const e=new Map;return"Connections"in Mn&&Mn.Connections.connections.forEach(function(r){const i=r[0],s=r[1],o=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const a={ID:s,relationship:o};e.get(i).parents.push(a),e.has(s)||e.set(s,{parents:[],children:[]});const l={ID:i,relationship:o};e.get(s).children.push(l)}),e}parseImages(){const e={},n={};if("Video"in Mn.Objects){const r=Mn.Objects.Video;for(const i in r){const s=r[i],o=parseInt(i);if(e[o]=s.RelativeFilename||s.Filename,"Content"in s){const a=s.Content instanceof ArrayBuffer&&s.Content.byteLength>0,l=typeof s.Content=="string"&&s.Content!=="";if(a||l){const c=this.parseImage(r[i]);n[s.RelativeFilename||s.Filename]=c}}}}for(const r in e){const i=e[r];n[i]!==void 0?e[r]=n[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let s;switch(i){case"bmp":s="image/bmp";break;case"jpg":case"jpeg":s="image/jpeg";break;case"png":s="image/png";break;case"tif":s="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),s="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof n=="string")return"data:"+s+";base64,"+n;{const o=new Uint8Array(n);return window.URL.createObjectURL(new Blob([o],{type:s}))}}parseTextures(e){const n=new Map;if("Texture"in Mn.Objects){const r=Mn.Objects.Texture;for(const i in r){const s=this.parseTexture(r[i],e);n.set(parseInt(i),s)}}return n}parseTexture(e,n){const r=this.loadTexture(e,n);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,s=e.WrapModeV,o=i!==void 0?i.value:0,a=s!==void 0?s.value:0;if(r.wrapS=o===0?fg:ks,r.wrapT=a===0?fg:ks,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;r.offset.x=l[0],r.offset.y=l[1]}return r}loadTexture(e,n){let r;const i=this.textureLoader.path,s=li.get(e.id).children;s!==void 0&&s.length>0&&n[s[0].ID]!==void 0&&(r=n[s[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let o;const a=e.FileName.slice(-3).toLowerCase();if(a==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),o=new ni):(l.setPath(this.textureLoader.path),o=l.load(r))}else a==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),o=new ni):o=this.textureLoader.load(r);return this.textureLoader.setPath(i),o}parseMaterials(e){const n=new Map;if("Material"in Mn.Objects){const r=Mn.Objects.Material;for(const i in r){const s=this.parseMaterial(r[i],e);s!==null&&n.set(parseInt(i),s)}}return n}parseMaterial(e,n){const r=e.id,i=e.attrName;let s=e.ShadingModel;if(typeof s=="object"&&(s=s.value),!li.has(r))return null;const o=this.parseParameters(e,n,r);let a;switch(s.toLowerCase()){case"phong":a=new c1;break;case"lambert":a=new sz;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',s),a=new c1;break}return a.setValues(o),a.name=i,a}parseParameters(e,n,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new Pt().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new Pt().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new Pt().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new Pt().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new Pt().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new Pt().fromArray(e.SpecularColor.value));const s=this;return li.get(r).children.forEach(function(o){const a=o.relationship;switch(a){case"Bump":i.bumpMap=s.getTexture(n,o.ID);break;case"Maya|TEX_ao_map":i.aoMap=s.getTexture(n,o.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=s.getTexture(n,o.ID),i.map!==void 0&&(i.map.encoding=nr);break;case"DisplacementColor":i.displacementMap=s.getTexture(n,o.ID);break;case"EmissiveColor":i.emissiveMap=s.getTexture(n,o.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=nr);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=s.getTexture(n,o.ID);break;case"ReflectionColor":i.envMap=s.getTexture(n,o.ID),i.envMap!==void 0&&(i.envMap.mapping=a_,i.envMap.encoding=nr);break;case"SpecularColor":i.specularMap=s.getTexture(n,o.ID),i.specularMap!==void 0&&(i.specularMap.encoding=nr);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=s.getTexture(n,o.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",a);break}}),i}getTexture(e,n){return"LayeredTexture"in Mn.Objects&&n in Mn.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),n=li.get(n).children[0].ID),e.get(n)}parseDeformers(){const e={},n={};if("Deformer"in Mn.Objects){const r=Mn.Objects.Deformer;for(const i in r){const s=r[i],o=li.get(parseInt(i));if(s.attrType==="Skin"){const a=this.parseSkeleton(o,r);a.ID=i,o.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),a.geometryID=o.parents[0].ID,e[i]=a}else if(s.attrType==="BlendShape"){const a={id:i};a.rawTargets=this.parseMorphTargets(o,r),a.id=i,o.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),n[i]=a}}}return{skeletons:e,morphTargets:n}}parseSkeleton(e,n){const r=[];return e.children.forEach(function(i){const s=n[i.ID];if(s.attrType!=="Cluster")return;const o={ID:i.ID,indices:[],weights:[],transformLink:new jt().fromArray(s.TransformLink.a)};"Indexes"in s&&(o.indices=s.Indexes.a,o.weights=s.Weights.a),r.push(o)}),{rawBones:r,bones:[]}}parseMorphTargets(e,n){const r=[];for(let i=0;i<e.children.length;i++){const s=e.children[i],o=n[s.ID],a={name:o.attrName,initialWeight:o.DeformPercent,id:o.id,fullWeights:o.FullWeights.a};if(o.attrType!=="BlendShapeChannel")return;a.geoID=li.get(parseInt(s.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(a)}return r}parseScene(e,n,r){Xo=new lh;const i=this.parseModels(e.skeletons,n,r),s=Mn.Objects.Model,o=this;i.forEach(function(l){const c=s[l.ID];o.setLookAtProperties(l,c),li.get(l.ID).parents.forEach(function(d){const f=i.get(d.ID);f!==void 0&&f.add(l)}),l.parent===null&&Xo.add(l)}),this.bindSkeleton(e.skeletons,n,i),this.createAmbientLight(),Xo.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=Pie(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const a=new BHe().parse();Xo.children.length===1&&Xo.children[0].isGroup&&(Xo.children[0].animations=a,Xo=Xo.children[0]),Xo.animations=a}parseModels(e,n,r){const i=new Map,s=Mn.Objects.Model;for(const o in s){const a=parseInt(o),l=s[o],c=li.get(a);let u=this.buildSkeleton(c,e,a,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,n,r);break;case"NurbsCurve":u=this.createCurve(c,n);break;case"LimbNode":case"Root":u=new cS;break;case"Null":default:u=new lh;break}u.name=l.attrName?An.sanitizeNodeName(l.attrName):"",u.ID=a}this.getTransformData(u,l),i.set(a,u)}return i}buildSkeleton(e,n,r,i){let s=null;return e.parents.forEach(function(o){for(const a in n){const l=n[a];l.rawBones.forEach(function(c,u){if(c.ID===o.ID){const d=s;s=new cS,s.matrixWorld.copy(c.transformLink),s.name=i?An.sanitizeNodeName(i):"",s.ID=r,l.bones[u]=s,d!==null&&s.add(d)}})}}),s}createCamera(e){let n,r;if(e.children.forEach(function(i){const s=Mn.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)n=new Wn;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let s=1;r.NearPlane!==void 0&&(s=r.NearPlane.value/1e3);let o=1e3;r.FarPlane!==void 0&&(o=r.FarPlane.value/1e3);let a=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(a=r.AspectWidth.value,l=r.AspectHeight.value);const c=a/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new $i(u,c,s,o),d!==null&&n.setFocalLength(d);break;case 1:n=new ax(-a/2,a/2,l/2,-l/2,s,o);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new Wn;break}}return n}createLight(e){let n,r;if(e.children.forEach(function(i){const s=Mn.Objects.NodeAttribute[i.ID];s!==void 0&&(r=s)}),r===void 0)n=new Wn;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let s=16777215;r.Color!==void 0&&(s=new Pt().fromArray(r.Color.value));let o=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(o=0);let a=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?a=0:a=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:n=new ZA(s,o,a,l);break;case 1:n=new dz(s,o);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=cc.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=cc.degToRad(r.OuterAngle.value),u=Math.max(u,1)),n=new uz(s,o,a,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new ZA(s,o);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(n.castShadow=!0)}return n}createMesh(e,n,r){let i,s=null,o=null;const a=[];return e.children.forEach(function(l){n.has(l.ID)&&(s=n.get(l.ID)),r.has(l.ID)&&a.push(r.get(l.ID))}),a.length>1?o=a:a.length>0?o=a[0]:(o=new c1({color:13421772}),a.push(o)),"color"in s.attributes&&a.forEach(function(l){l.vertexColors=!0}),s.FBX_Deformer?(i=new YU(s,o),i.normalizeSkinWeights()):i=new us(s,o),i}createCurve(e,n){const r=e.children.reduce(function(s,o){return n.has(o.ID)&&(s=n.get(o.ID)),s},null),i=new fo({color:3342591,linewidth:1});return new Fd(r,i)}getTransformData(e,n){const r={};"InheritType"in n&&(r.inheritType=parseInt(n.InheritType.value)),"RotationOrder"in n?r.eulerOrder=kie(n.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in n&&(r.translation=n.Lcl_Translation.value),"PreRotation"in n&&(r.preRotation=n.PreRotation.value),"Lcl_Rotation"in n&&(r.rotation=n.Lcl_Rotation.value),"PostRotation"in n&&(r.postRotation=n.PostRotation.value),"Lcl_Scaling"in n&&(r.scale=n.Lcl_Scaling.value),"ScalingOffset"in n&&(r.scalingOffset=n.ScalingOffset.value),"ScalingPivot"in n&&(r.scalingPivot=n.ScalingPivot.value),"RotationOffset"in n&&(r.rotationOffset=n.RotationOffset.value),"RotationPivot"in n&&(r.rotationPivot=n.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,n){"LookAtProperty"in n&&li.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const s=Mn.Objects.Model[i.ID];if("Lcl_Translation"in s){const o=s.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(o),Xo.add(e.target)):e.lookAt(new ne().fromArray(o))}}})}bindSkeleton(e,n,r){const i=this.parsePoseNodes();for(const s in e){const o=e[s];li.get(parseInt(o.ID)).parents.forEach(function(l){if(n.has(l.ID)){const c=l.ID;li.get(c).parents.forEach(function(d){r.has(d.ID)&&r.get(d.ID).bind(new zC(o.bones),i[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Mn.Objects){const n=Mn.Objects.Pose;for(const r in n)if(n[r].attrType==="BindPose"&&n[r].NbPoseNodes>0){const i=n[r].PoseNode;Array.isArray(i)?i.forEach(function(s){e[s.Node]=new jt().fromArray(s.Matrix.a)}):e[i.Node]=new jt().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Mn&&"AmbientColor"in Mn.GlobalSettings){const e=Mn.GlobalSettings.AmbientColor.value,n=e[0],r=e[1],i=e[2];if(n!==0||r!==0||i!==0){const s=new Pt(n,r,i);Xo.add(new fz(s,1))}}}}class FHe{parse(e){const n=new Map;if("Geometry"in Mn.Objects){const r=Mn.Objects.Geometry;for(const i in r){const s=li.get(parseInt(i)),o=this.parseGeometry(s,r[i],e);n.set(parseInt(i),o)}}return n}parseGeometry(e,n,r){switch(n.attrType){case"Mesh":return this.parseMeshGeometry(e,n,r);case"NurbsCurve":return this.parseNurbsGeometry(n)}}parseMeshGeometry(e,n,r){const i=r.skeletons,s=[],o=e.parents.map(function(d){return Mn.Objects.Model[d.ID]});if(o.length===0)return;const a=e.children.reduce(function(d,f){return i[f.ID]!==void 0&&(d=i[f.ID]),d},null);e.children.forEach(function(d){r.morphTargets[d.ID]!==void 0&&s.push(r.morphTargets[d.ID])});const l=o[0],c={};"RotationOrder"in l&&(c.eulerOrder=kie(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=Pie(c);return this.genGeometry(n,a,s,u)}genGeometry(e,n,r,i){const s=new dn;e.attrName&&(s.name=e.attrName);const o=this.parseGeoNode(e,n),a=this.genBuffers(o),l=new Ot(a.vertex,3);if(l.applyMatrix4(i),s.setAttribute("position",l),a.colors.length>0&&s.setAttribute("color",new Ot(a.colors,3)),n&&(s.setAttribute("skinIndex",new _k(a.weightsIndices,4)),s.setAttribute("skinWeight",new Ot(a.vertexWeights,4)),s.FBX_Deformer=n),a.normal.length>0){const c=new ka().getNormalMatrix(i),u=new Ot(a.normal,3);u.applyNormalMatrix(c),s.setAttribute("normal",u)}if(a.uvs.forEach(function(c,u){let d="uv"+(u+1).toString();u===0&&(d="uv"),s.setAttribute(d,new Ot(a.uvs[u],2))}),o.material&&o.material.mappingType!=="AllSame"){let c=a.materialIndex[0],u=0;if(a.materialIndex.forEach(function(d,f){d!==c&&(s.addGroup(u,f-u,c),c=d,u=f)}),s.groups.length>0){const d=s.groups[s.groups.length-1],f=d.start+d.count;f!==a.materialIndex.length&&s.addGroup(f,a.materialIndex.length-f,c)}s.groups.length===0&&s.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(s,e,r,i),s}parseGeoNode(e,n){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},n!==null&&(r.skeleton=n,n.rawBones.forEach(function(i,s){i.indices.forEach(function(o,a){r.weightTable[o]===void 0&&(r.weightTable[o]=[]),r.weightTable[o].push({id:s,weight:i.weights[a]})})})),r}genBuffers(e){const n={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,s=!1,o=[],a=[],l=[],c=[],u=[],d=[];const f=this;return e.vertexIndices.forEach(function(p,g){let v,y=!1;p<0&&(p=p^-1,y=!0);let x=[],w=[];if(o.push(p*3,p*3+1,p*3+2),e.color){const b=KI(g,r,p,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(b){w.push(b.weight),x.push(b.id)}),w.length>4){s||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),s=!0);const b=[0,0,0,0],T=[0,0,0,0];w.forEach(function(E,P){let L=E,R=x[P];T.forEach(function(F,O,G){if(L>F){G[O]=L,L=F;const Z=b[O];b[O]=R,R=Z}})}),x=b,w=T}for(;w.length<4;)w.push(0),x.push(0);for(let b=0;b<4;++b)u.push(w[b]),d.push(x[b])}if(e.normal){const b=KI(g,r,p,e.normal);a.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(v=KI(g,r,p,e.material)[0]),e.uv&&e.uv.forEach(function(b,T){const E=KI(g,r,p,b);c[T]===void 0&&(c[T]=[]),c[T].push(E[0]),c[T].push(E[1])}),i++,y&&(f.genFace(n,e,o,v,a,l,c,u,d,i),r++,i=0,o=[],a=[],l=[],c=[],u=[],d=[])}),n}genFace(e,n,r,i,s,o,a,l,c,u){for(let d=2;d<u;d++)e.vertex.push(n.vertexPositions[r[0]]),e.vertex.push(n.vertexPositions[r[1]]),e.vertex.push(n.vertexPositions[r[2]]),e.vertex.push(n.vertexPositions[r[(d-1)*3]]),e.vertex.push(n.vertexPositions[r[(d-1)*3+1]]),e.vertex.push(n.vertexPositions[r[(d-1)*3+2]]),e.vertex.push(n.vertexPositions[r[d*3]]),e.vertex.push(n.vertexPositions[r[d*3+1]]),e.vertex.push(n.vertexPositions[r[d*3+2]]),n.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(d-1)*4]),e.weightsIndices.push(c[(d-1)*4+1]),e.weightsIndices.push(c[(d-1)*4+2]),e.weightsIndices.push(c[(d-1)*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3])),n.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[(d-1)*3]),e.colors.push(o[(d-1)*3+1]),e.colors.push(o[(d-1)*3+2]),e.colors.push(o[d*3]),e.colors.push(o[d*3+1]),e.colors.push(o[d*3+2])),n.material&&n.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),n.normal&&(e.normal.push(s[0]),e.normal.push(s[1]),e.normal.push(s[2]),e.normal.push(s[(d-1)*3]),e.normal.push(s[(d-1)*3+1]),e.normal.push(s[(d-1)*3+2]),e.normal.push(s[d*3]),e.normal.push(s[d*3+1]),e.normal.push(s[d*3+2])),n.uv&&n.uv.forEach(function(f,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(a[p][0]),e.uvs[p].push(a[p][1]),e.uvs[p].push(a[p][(d-1)*2]),e.uvs[p].push(a[p][(d-1)*2+1]),e.uvs[p].push(a[p][d*2]),e.uvs[p].push(a[p][d*2+1])})}addMorphTargets(e,n,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const s=this;r.forEach(function(o){o.rawTargets.forEach(function(a){const l=Mn.Objects.Geometry[a.geoID];l!==void 0&&s.genMorphGeometry(e,n,l,i,a.name)})})}genMorphGeometry(e,n,r,i,s){const o=n.PolygonVertexIndex!==void 0?n.PolygonVertexIndex.a:[],a=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let g=0;g<l.length;g++){const v=l[g]*3;u[v]=a[g*3],u[v+1]=a[g*3+1],u[v+2]=a[g*3+2]}const d={vertexIndices:o,vertexPositions:u},f=this.genBuffers(d),p=new Ot(f.vertex,3);p.name=s||r.attrName,p.applyMatrix4(i),e.morphAttributes.position.push(p)}parseNormals(e){const n=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let s=[];return r==="IndexToDirect"&&("NormalIndex"in e?s=e.NormalIndex.a:"NormalsIndex"in e&&(s=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:s,mappingType:n,referenceType:r}}parseUVs(e){const n=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let s=[];return r==="IndexToDirect"&&(s=e.UVIndex.a),{dataSize:2,buffer:i,indices:s,mappingType:n,referenceType:r}}parseVertexColors(e){const n=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let s=[];return r==="IndexToDirect"&&(s=e.ColorIndex.a),{dataSize:4,buffer:i,indices:s,mappingType:n,referenceType:r}}parseMaterialIndices(e){const n=e.MappingInformationType,r=e.ReferenceInformationType;if(n==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,s=[];for(let o=0;o<i.length;++o)s.push(o);return{dataSize:1,buffer:i,indices:s,mappingType:n,referenceType:r}}parseNurbsGeometry(e){if(Z8===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new dn;const n=parseInt(e.Order);if(isNaN(n))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new dn;const r=n-1,i=e.KnotVector.a,s=[],o=e.Points.a;for(let d=0,f=o.length;d<f;d+=4)s.push(new Xn().fromArray(o,d));let a,l;if(e.Form==="Closed")s.push(s[0]);else if(e.Form==="Periodic"){a=r,l=i.length-1-a;for(let d=0;d<r;++d)s.push(s[d])}const u=new Z8(r,i,s,a,l).getPoints(s.length*12);return new dn().setFromPoints(u)}}class BHe{parse(){const e=[],n=this.parseClips();if(n!==void 0)for(const r in n){const i=n[r],s=this.addClip(i);e.push(s)}return e}parseClips(){if(Mn.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const n=this.parseAnimationLayers(e);return this.parseAnimStacks(n)}parseAnimationCurveNodes(){const e=Mn.Objects.AnimationCurveNode,n=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const s={id:i.id,attr:i.attrName,curves:{}};n.set(s.id,s)}}return n}parseAnimationCurves(e){const n=Mn.Objects.AnimationCurve;for(const r in n){const i={id:n[r].id,times:n[r].KeyTime.a.map(WHe),values:n[r].KeyValueFloat.a},s=li.get(i.id);if(s!==void 0){const o=s.parents[0].ID,a=s.parents[0].relationship;a.match(/X/)?e.get(o).curves.x=i:a.match(/Y/)?e.get(o).curves.y=i:a.match(/Z/)?e.get(o).curves.z=i:a.match(/d|DeformPercent/)&&e.has(o)&&(e.get(o).curves.morph=i)}}}parseAnimationLayers(e){const n=Mn.Objects.AnimationLayer,r=new Map;for(const i in n){const s=[],o=li.get(parseInt(i));o!==void 0&&(o.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(s[c]===void 0){const d=li.get(l.ID).parents.filter(function(f){return f.relationship!==void 0})[0].ID;if(d!==void 0){const f=Mn.Objects.Model[d.toString()];if(f===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const p={modelName:f.attrName?An.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};Xo.traverse(function(g){g.ID===f.id&&(p.transform=g.matrix,g.userData.transformData&&(p.eulerOrder=g.userData.transformData.eulerOrder))}),p.transform||(p.transform=new jt),"PreRotation"in f&&(p.preRotation=f.PreRotation.value),"PostRotation"in f&&(p.postRotation=f.PostRotation.value),s[c]=p}}s[c]&&(s[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(s[c]===void 0){const d=li.get(l.ID).parents.filter(function(x){return x.relationship!==void 0})[0].ID,f=li.get(d).parents[0].ID,p=li.get(f).parents[0].ID,g=li.get(p).parents[0].ID,v=Mn.Objects.Model[g],y={modelName:v.attrName?An.sanitizeNodeName(v.attrName):"",morphName:Mn.Objects.Deformer[d].attrName};s[c]=y}s[c][u.attr]=u}}}),r.set(parseInt(i),s))}return r}parseAnimStacks(e){const n=Mn.Objects.AnimationStack,r={};for(const i in n){const s=li.get(parseInt(i)).children;s.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const o=e.get(s[0].ID);r[i]={name:n[i].attrName,layer:o}}return r}addClip(e){let n=[];const r=this;return e.layer.forEach(function(i){n=n.concat(r.generateTracks(i))}),new T_(e.name,-1,n)}generateTracks(e){const n=[];let r=new ne,i=new cs,s=new ne;if(e.transform&&e.transform.decompose(r,i,s),r=r.toArray(),i=new pc().setFromQuaternion(i,e.eulerOrder).toArray(),s=s.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&n.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&n.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,s,"scale");o!==void 0&&n.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&n.push(o)}return n}generateVectorTrack(e,n,r,i){const s=this.getTimesForAllAxes(n),o=this.getKeyframeTrackValues(s,n,r);return new C_(e+"."+i,s,o)}generateRotationTrack(e,n,r,i,s,o){n.x!==void 0&&(this.interpolateRotations(n.x),n.x.values=n.x.values.map(cc.degToRad)),n.y!==void 0&&(this.interpolateRotations(n.y),n.y.values=n.y.values.map(cc.degToRad)),n.z!==void 0&&(this.interpolateRotations(n.z),n.z.values=n.z.values.map(cc.degToRad));const a=this.getTimesForAllAxes(n),l=this.getKeyframeTrackValues(a,n,r);i!==void 0&&(i=i.map(cc.degToRad),i.push(o),i=new pc().fromArray(i),i=new cs().setFromEuler(i)),s!==void 0&&(s=s.map(cc.degToRad),s.push(o),s=new pc().fromArray(s),s=new cs().setFromEuler(s).invert());const c=new cs,u=new pc,d=[];for(let f=0;f<l.length;f+=3)u.set(l[f],l[f+1],l[f+2],o),c.setFromEuler(u),i!==void 0&&c.premultiply(i),s!==void 0&&c.multiply(s),c.toArray(d,f/3*4);return new ev(e+".quaternion",a,d)}generateMorphTrack(e){const n=e.DeformPercent.curves.morph,r=n.values.map(function(s){return s/100}),i=Xo.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new S_(e.modelName+".morphTargetInfluences["+i+"]",n.times,r)}getTimesForAllAxes(e){let n=[];if(e.x!==void 0&&(n=n.concat(e.x.times)),e.y!==void 0&&(n=n.concat(e.y.times)),e.z!==void 0&&(n=n.concat(e.z.times)),n=n.sort(function(r,i){return r-i}),n.length>1){let r=1,i=n[0];for(let s=1;s<n.length;s++){const o=n[s];o!==i&&(n[r]=o,i=o,r++)}n=n.slice(0,r)}return n}getKeyframeTrackValues(e,n,r){const i=r,s=[];let o=-1,a=-1,l=-1;return e.forEach(function(c){if(n.x&&(o=n.x.times.indexOf(c)),n.y&&(a=n.y.times.indexOf(c)),n.z&&(l=n.z.times.indexOf(c)),o!==-1){const u=n.x.values[o];s.push(u),i[0]=u}else s.push(i[0]);if(a!==-1){const u=n.y.values[a];s.push(u),i[1]=u}else s.push(i[1]);if(l!==-1){const u=n.z.values[l];s.push(u),i[2]=u}else s.push(i[2])}),s}interpolateRotations(e){for(let n=1;n<e.values.length;n++){const r=e.values[n-1],i=e.values[n]-r,s=Math.abs(i);if(s>=180){const o=s/180,a=i/o;let l=r+a;const c=e.times[n-1],d=(e.times[n]-c)/o;let f=c+d;const p=[],g=[];for(;f<e.times[n];)p.push(f),f+=d,g.push(l),l+=a;e.times=nj(e.times,n,p),e.values=nj(e.values,n,g)}}}}class $He{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,n){this.currentProp=e,this.currentPropName=n}parse(e){this.currentIndent=0,this.allNodes=new Rie,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const n=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,s){const o=i.match(/^[\s\t]*;/),a=i.match(/^[\s\t]*$/);if(o||a)return;const l=i.match("^\\t{"+n.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+n.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(n.currentIndent-1)+"}}");l?n.parseNodeBegin(i,l):c?n.parseNodeProperty(i,c,r[++s]):u?n.popStack():i.match(/^[^\s\t}]/)&&n.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,n){const r=n[1].trim().replace(/^"/,"").replace(/"$/,""),i=n[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),s={name:r},o=this.parseNodeAttr(i),a=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,s):r in a?(r==="PoseNode"?a.PoseNode.push(s):a[r].id!==void 0&&(a[r]={},a[r][a[r].id]=a[r]),o.id!==""&&(a[r][o.id]=s)):typeof o.id=="number"?(a[r]={},a[r][o.id]=s):r!=="Properties70"&&(r==="PoseNode"?a[r]=[s]:a[r]=s),typeof o.id=="number"&&(s.id=o.id),o.name!==""&&(s.attrName=o.name),o.type!==""&&(s.attrType=o.type),this.pushStack(s)}parseNodeAttr(e){let n=e[0];e[0]!==""&&(n=parseInt(e[0]),isNaN(n)&&(n=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:n,name:r,type:i}}parseNodeProperty(e,n,r){let i=n[1].replace(/^"/,"").replace(/"$/,"").trim(),s=n[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&s===","&&(s=r.replace(/"/g,"").replace(/,$/,"").trim());const o=this.getCurrentNode();if(o.name==="Properties70"){this.parseNodeSpecialProperty(e,i,s);return}if(i==="C"){const l=s.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let d=s.split(",").slice(3);d=d.map(function(f){return f.trim().replace(/^"/,"")}),i="connections",s=[c,u],GHe(s,d),o[i]===void 0&&(o[i]=[])}i==="Node"&&(o.id=s),i in o&&Array.isArray(o[i])?o[i].push(s):i!=="a"?o[i]=s:o.a=s,this.setCurrentProp(o,i),i==="a"&&s.slice(-1)!==","&&(o.a=nN(s))}parseNodePropertyContinued(e){const n=this.getCurrentNode();n.a+=e,e.slice(-1)!==","&&(n.a=nN(n.a))}parseNodeSpecialProperty(e,n,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),s=i[0],o=i[1],a=i[2],l=i[3];let c=i[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=nN(c);break}this.getPrevNode()[s]={type:o,type2:a,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),s)}}class UHe{parse(e){const n=new ej(e);n.skip(23);const r=n.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new Rie;for(;!this.endOfContent(n);){const s=this.parseNode(n,r);s!==null&&i.add(s.name,s)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,n){const r={},i=n>=7500?e.getUint64():e.getUint32(),s=n>=7500?e.getUint64():e.getUint32();n>=7500?e.getUint64():e.getUint32();const o=e.getUint8(),a=e.getString(o);if(i===0)return null;const l=[];for(let f=0;f<s;f++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(r.singleProperty=s===1&&e.getOffset()===i;i>e.getOffset();){const f=this.parseNode(e,n);f!==null&&this.parseSubNode(a,r,f)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),d!==""&&(r.attrType=d),a!==""&&(r.name=a),r}parseSubNode(e,n,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(n[r.name]=r,r.a=i):n[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(s,o){o!==0&&i.push(s)}),n.connections===void 0&&(n.connections=[]),n.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(s){n[s]=r[s]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],s=r.propertyList[1];const o=r.propertyList[2],a=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),s.indexOf("Lcl ")===0&&(s=s.replace("Lcl ","Lcl_")),s==="Color"||s==="ColorRGB"||s==="Vector"||s==="Vector3D"||s.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],n[i]={type:s,type2:o,flag:a,value:l}}else n[r.name]===void 0?typeof r.id=="number"?(n[r.name]={},n[r.name][r.id]=r):n[r.name]=r:r.name==="PoseNode"?(Array.isArray(n[r.name])||(n[r.name]=[n[r.name]]),n[r.name].push(r)):n[r.name][r.id]===void 0&&(n[r.name][r.id]=r)}parseProperty(e){const n=e.getString(1);let r;switch(n){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),s=e.getUint32(),o=e.getUint32();if(s===0)switch(n){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}typeof IHe=="undefined"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const a=vS(new Uint8Array(e.getArrayBuffer(o))),l=new ej(a.buffer);switch(n){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+n)}}}class ej{constructor(e,n){this.dv=new DataView(e),this.offset=0,this.littleEndian=n!==void 0?n:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const n=[];for(let r=0;r<e;r++)n.push(this.getBoolean());return n}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getInt32());return n}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,n;return this.littleEndian?(e=this.getUint32(),n=this.getUint32()):(n=this.getUint32(),e=this.getUint32()),n&2147483648?(n=~n&4294967295,e=~e&4294967295,e===4294967295&&(n=n+1&4294967295),e=e+1&4294967295,-(n*4294967296+e)):n*4294967296+e}getInt64Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getInt64());return n}getUint64(){let e,n;return this.littleEndian?(e=this.getUint32(),n=this.getUint32()):(n=this.getUint32(),e=this.getUint32()),n*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getFloat32());return n}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getFloat64());return n}getArrayBuffer(e){const n=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}getString(e){let n=[];for(let i=0;i<e;i++)n[i]=this.getUint8();const r=n.indexOf(0);return r>=0&&(n=n.slice(0,r)),E_.decodeText(new Uint8Array(n))}}class Rie{add(e,n){this[e]=n}}function zHe(t){const e="Kaydara FBX Binary  \0";return t.byteLength>=e.length&&e===Lie(t,0,e.length)}function VHe(t){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let n=0;function r(i){const s=t[i-1];return t=t.slice(n+i),n++,s}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function tj(t){const e=/FBXVersion: (\d+)/,n=t.match(e);if(n)return parseInt(n[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function WHe(t){return t/46186158e3}const HHe=[];function KI(t,e,n,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=t;break;case"ByPolygon":i=e;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const s=i*r.dataSize,o=s+r.dataSize;return jHe(HHe,r.buffer,s,o)}const tN=new pc,Ny=new ne;function Pie(t){const e=new jt,n=new jt,r=new jt,i=new jt,s=new jt,o=new jt,a=new jt,l=new jt,c=new jt,u=new jt,d=new jt,f=new jt,p=t.inheritType?t.inheritType:0;if(t.translation&&e.setPosition(Ny.fromArray(t.translation)),t.preRotation){const O=t.preRotation.map(cc.degToRad);O.push(t.eulerOrder),n.makeRotationFromEuler(tN.fromArray(O))}if(t.rotation){const O=t.rotation.map(cc.degToRad);O.push(t.eulerOrder),r.makeRotationFromEuler(tN.fromArray(O))}if(t.postRotation){const O=t.postRotation.map(cc.degToRad);O.push(t.eulerOrder),i.makeRotationFromEuler(tN.fromArray(O)),i.invert()}t.scale&&s.scale(Ny.fromArray(t.scale)),t.scalingOffset&&a.setPosition(Ny.fromArray(t.scalingOffset)),t.scalingPivot&&o.setPosition(Ny.fromArray(t.scalingPivot)),t.rotationOffset&&l.setPosition(Ny.fromArray(t.rotationOffset)),t.rotationPivot&&c.setPosition(Ny.fromArray(t.rotationPivot)),t.parentMatrixWorld&&(d.copy(t.parentMatrix),u.copy(t.parentMatrixWorld));const g=n.clone().multiply(r).multiply(i),v=new jt;v.extractRotation(u);const y=new jt;y.copyPosition(u);const x=y.clone().invert().multiply(u),w=v.clone().invert().multiply(x),b=s,T=new jt;if(p===0)T.copy(v).multiply(g).multiply(w).multiply(b);else if(p===1)T.copy(v).multiply(w).multiply(g).multiply(b);else{const G=new jt().scale(new ne().setFromMatrixScale(d)).clone().invert(),Z=w.clone().multiply(G);T.copy(v).multiply(g).multiply(Z).multiply(b)}const E=c.clone().invert(),P=o.clone().invert();let L=e.clone().multiply(l).multiply(c).multiply(n).multiply(r).multiply(i).multiply(E).multiply(a).multiply(o).multiply(s).multiply(P);const R=new jt().copyPosition(L),F=u.clone().multiply(R);return f.copyPosition(F),L=f.clone().multiply(T),L.premultiply(u.invert()),L}function kie(t){t=t||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return t===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[t]}function nN(t){return t.split(",").map(function(n){return parseFloat(n)})}function Lie(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=t.byteLength),E_.decodeText(new Uint8Array(t,e,n))}function GHe(t,e){for(let n=0,r=t.length,i=e.length;n<i;n++,r++)t[r]=e[n]}function jHe(t,e,n,r){for(let i=n,s=0;i<r;i++,s++)t[s]=e[i];return t}function nj(t,e,n){return t.slice(0,e).concat(n).concat(t.slice(e))}function qHe(t){const e=[];let n=[];t.getOnClick(()=>{o=!0});let r=0;for(let p=0;p<3;p++){e[p]=[];for(let g=0;g<3;g++){e[p][g]=[];for(let v=0;v<3;v++){if(p===1&&g===1&&v===1)continue;const y=_z(NHe,"models/cube"+r.toString()+".fbx");y.scale.set(.006,.006,.006),e[p][g][v]=y,r++}}}const i=p=>{e.forEach((g,v)=>{g.forEach((y,x)=>{y.forEach((w,b)=>{p(w,b,v,x)})})})},s=p=>e.map(g=>g.map(v=>v.map(y=>p(y))));let o=!1,a=0;const l=[];YWe((p,g)=>{var v;if(l.forEach(y=>{const x=Math.min(y.current+g/y.duration,1);y.call(x-y.current),y.current=x,x===1&&l.splice(l.indexOf(y),1)}),a+=g,(v=e[0][0][0].parent)==null||v.rotateOnWorldAxis(new ne(0,1,0),o?-g:g),a>1)if(o){a-=.25;const y=n.pop();y&&f(y.direction,y.backSide,!y.backwards),n.length===0&&(o=!1,a-=1)}else{a-=1;const y={direction:Math.floor(Math.random()*3),backSide:Math.random()<.5,backwards:Math.random()<.5};f(y.direction,y.backSide,y.backwards),n.push(y)}});function c(p,g){const v=p.length,y=p[0].length,x=g[0].length,w=new Array(v);for(let b=0;b<v;++b){w[b]=new Array(x);for(let T=0;T<x;++T){w[b][T]=0;for(let E=0;E<y;++E)w[b][T]+=p[b][E]*g[E][T]}}return w}const u=p=>(p=p*Math.PI/180,[[Math.cos(p),-Math.sin(p)],[Math.sin(p),Math.cos(p)]]),d=(p,g)=>{const v=u(g),y=c(v,[[p[0]],[p[1]]]);return[Math.round(y[0][0]),Math.round(y[1][0])]},f=(p,g,v)=>{const y=v?-90:90,x=[];i((b,T,E,P)=>{let L=0;switch(p){case Ta.X:L=T;break;case Ta.Y:L=E;break;case Ta.Z:L=P;break}L===(g?2:0)&&x.push({fbx:b,newPos:d([(p!=Ta.X?T:E)-1,(p===Ta.Z?E:P)-1],p===Ta.Y?-y:y)})});const w=[];x.forEach(({fbx:b,newPos:T})=>{let E=0,P=0,L=0;switch(p){case Ta.X:E=g?2:0,P=T[0]+1,L=T[1]+1;break;case Ta.Y:E=T[0]+1,P=g?2:0,L=T[1]+1;break;case Ta.Z:E=T[0]+1,P=T[1]+1,L=g?2:0;break}e[P][L][E]=b,w.push(b)}),l.push({duration:.25,call:b=>{w.forEach(T=>{T.rotateOnWorldAxis(new ne(p===Ta.X?1:0,p===Ta.Y?1:0,p===Ta.Z?1:0),b*y*Math.PI/180)})},current:0})};return Tt(zY,{children:[K("ambientLight",{}),K("pointLight",{position:[10,10,10]}),K("group",{children:s(p=>K("primitive",{object:p}))})]})}var Ta=(t=>(t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z",t))(Ta||{});/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KHe{constructor(e,n){this._delegate=e,this.firebase=n,FA(e,new Gn("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),zX(this._delegate)))}_getService(e,n=og){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=og){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){FA(this._delegate,e)}_addOrOverwriteComponent(e){UX(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XHe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},rj=new $o("app-compat","Firebase",XHe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YHe(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:dr,setLogLevel:WX,onLog:VX,apps:null,SDK_VERSION:ku,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:qme}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||og,!Va(e,c))throw rj.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=E$(c,u);if(Va(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(ti(c)&&c.type==="PUBLIC"){const f=(p=i())=>{if(typeof p[d]!="function")throw rj.create("invalid-app-argument",{appName:u});return p[d]()};c.serviceProps!==void 0&&W1(f,c.serviceProps),n[d]=f,t.prototype[d]=function(...p){return this._getService.bind(this,u).apply(this,c.multipleInstances?p:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Die(){const t=YHe(KHe);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:Die,extendNamespace:e,createSubscribe:DX,ErrorFactory:$o,deepExtend:W1});function e(n){W1(t,n)}return t}const QHe=Die();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Pu("@firebase/app-compat"),JHe="@firebase/app-compat",ZHe="0.1.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eGe(t){dr(JHe,ZHe,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(Lpe()&&self.firebase!==void 0){ij.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ij.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const qi=QHe;eGe();const Nie="@firebase/installations",Lz="0.5.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oie=1e4,Fie=`w:${Lz}`,Bie="FIS_v2",tGe="https://firebaseinstallations.googleapis.com/v1",nGe=60*60*1e3,rGe="installations",iGe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sGe={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},xg=new $o(rGe,iGe,sGe);function $ie(t){return t instanceof hi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie({projectId:t}){return`${tGe}/projects/${t}/installations`}function zie(t){return{token:t.token,requestStatus:2,expiresIn:aGe(t.expiresIn),creationTime:Date.now()}}async function Vie(t,e){const r=(await e.json()).error;return xg.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Wie({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function oGe(t,{refreshToken:e}){const n=Wie(t);return n.append("Authorization",lGe(e)),n}async function Hie(t){const e=await t();return e.status>=500&&e.status<600?t():e}function aGe(t){return Number(t.replace("s","000"))}function lGe(t){return`${Bie} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cGe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Uie(t),i=Wie(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Bie,appId:t.appId,sdkVersion:Fie},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Hie(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:zie(c.authToken)}}else throw await Vie("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gie(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uGe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dGe=/^[cdef][\w-]{21}$/,u3="";function fGe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=hGe(t);return dGe.test(n)?n:u3}catch{return u3}}function hGe(t){return uGe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jie=new Map;function qie(t,e){const n=Ak(t);Kie(n,e),pGe(n,e)}function Kie(t,e){const n=jie.get(t);if(!!n)for(const r of n)r(e)}function pGe(t,e){const n=mGe();n&&n.postMessage({key:t,fid:e}),gGe()}let Pm=null;function mGe(){return!Pm&&"BroadcastChannel"in self&&(Pm=new BroadcastChannel("[Firebase] FID Change"),Pm.onmessage=t=>{Kie(t.data.key,t.data.fid)}),Pm}function gGe(){jie.size===0&&Pm&&(Pm.close(),Pm=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vGe="firebase-installations-database",yGe=1,wg="firebase-installations-store";let rN=null;function Dz(){return rN||(rN=Z_(vGe,yGe,(t,e)=>{switch(e){case 0:t.createObjectStore(wg)}})),rN}async function cR(t,e){const n=Ak(t),i=(await Dz()).transaction(wg,"readwrite"),s=i.objectStore(wg),o=await s.get(n);return await s.put(e,n),await i.complete,(!o||o.fid!==e.fid)&&qie(t,e.fid),e}async function Xie(t){const e=Ak(t),r=(await Dz()).transaction(wg,"readwrite");await r.objectStore(wg).delete(e),await r.complete}async function Rk(t,e){const n=Ak(t),i=(await Dz()).transaction(wg,"readwrite"),s=i.objectStore(wg),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.complete,a&&(!o||o.fid!==a.fid)&&qie(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(t){let e;const n=await Rk(t.appConfig,r=>{const i=_Ge(r),s=xGe(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===u3?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _Ge(t){const e=t||{fid:fGe(),registrationStatus:0};return Yie(e)}function xGe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(xg.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wGe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:bGe(t)}:{installationEntry:e}}async function wGe(t,e){try{const n=await cGe(t,e);return cR(t.appConfig,n)}catch(n){throw $ie(n)&&n.customData.serverCode===409?await Xie(t.appConfig):await cR(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function bGe(t){let e=await sj(t.appConfig);for(;e.registrationStatus===1;)await Gie(100),e=await sj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Nz(t);return r||n}return e}function sj(t){return Rk(t,e=>{if(!e)throw xg.create("installation-not-found");return Yie(e)})}function Yie(t){return SGe(t)?{fid:t.fid,registrationStatus:0}:t}function SGe(t){return t.registrationStatus===1&&t.registrationTime+Oie<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CGe({appConfig:t,heartbeatServiceProvider:e},n){const r=TGe(t,n),i=oGe(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Fie,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Hie(()=>fetch(r,a));if(l.ok){const c=await l.json();return zie(c)}else throw await Vie("Generate Auth Token",l)}function TGe(t,{fid:e}){return`${Uie(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e=!1){let n;const r=await Rk(t.appConfig,s=>{if(!Qie(s))throw xg.create("not-registered");const o=s.authToken;if(!e&&MGe(o))return s;if(o.requestStatus===1)return n=EGe(t,e),s;{if(!navigator.onLine)throw xg.create("app-offline");const a=RGe(s);return n=IGe(t,a),a}});return n?await n:r.authToken}async function EGe(t,e){let n=await oj(t.appConfig);for(;n.authToken.requestStatus===1;)await Gie(100),n=await oj(t.appConfig);const r=n.authToken;return r.requestStatus===0?Oz(t,e):r}function oj(t){return Rk(t,e=>{if(!Qie(e))throw xg.create("not-registered");const n=e.authToken;return PGe(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function IGe(t,e){try{const n=await CGe(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await cR(t.appConfig,r),n}catch(n){if($ie(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Xie(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await cR(t.appConfig,r)}throw n}}function Qie(t){return t!==void 0&&t.registrationStatus===2}function MGe(t){return t.requestStatus===2&&!AGe(t)}function AGe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+nGe}function RGe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function PGe(t){return t.requestStatus===1&&t.requestTime+Oie<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kGe(t){const e=t,{installationEntry:n,registrationPromise:r}=await Nz(e);return r?r.catch(console.error):Oz(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LGe(t,e=!1){const n=t;return await DGe(n),(await Oz(n,e)).token}async function DGe(t){const{registrationPromise:e}=await Nz(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NGe(t){if(!t||!t.options)throw iN("App Configuration");if(!t.name)throw iN("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw iN(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function iN(t){return xg.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jie="installations",OGe="installations-internal",FGe=t=>{const e=t.getProvider("app").getImmediate(),n=NGe(e),r=ep(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},BGe=t=>{const e=t.getProvider("app").getImmediate(),n=ep(e,Jie).getImmediate();return{getId:()=>kGe(n),getToken:i=>LGe(n,i)}};function $Ge(){ti(new Gn(Jie,FGe,"PUBLIC")),ti(new Gn(OGe,BGe,"PRIVATE"))}$Ge();dr(Nie,Lz);dr(Nie,Lz,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj="analytics",UGe="firebase_id",zGe="origin",VGe=60*1e3,WGe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zie="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Pu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ese(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function HGe(t,e){const n=document.createElement("script");n.src=`${Zie}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function GGe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jGe(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await ese(n)).find(c=>c.measurementId===i);l&&await e[l.appId]}}catch(a){Fs.error(a)}t("config",i,s)}async function qGe(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await ese(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Fs.error(s)}}function KGe(t,e,n,r){async function i(s,o,a){try{s==="event"?await qGe(t,e,n,o,a):s==="config"?await jGe(t,e,n,r,o,a):t("set",o)}catch(l){Fs.error(l)}}return i}function XGe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=KGe(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function YGe(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Zie))return e;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QGe={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},bl=new $o("analytics","Analytics",QGe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JGe=30,ZGe=1e3;class e8e{constructor(e={},n=ZGe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const tse=new e8e;function t8e(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function n8e(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:t8e(r)},s=WGe.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw bl.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function r8e(t,e=tse,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw bl.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw bl.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new o8e;return setTimeout(async()=>{a.abort()},n!==void 0?n:VGe),nse({appId:r,apiKey:i,measurementId:s},o,a,e)}async function nse(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=tse){const{appId:s,measurementId:o}=t;try{await i8e(r,e)}catch(a){if(o)return Fs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=await n8e(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!s8e(a)){if(i.deleteThrottleMetadata(s),o)return Fs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=Number(a.customData.httpStatus)===503?OA(n,i.intervalMillis,JGe):OA(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,c),Fs.debug(`Calling attemptFetch again in ${l} millis`),nse(t,c,r,i)}}function i8e(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bl.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function s8e(t){if(!(t instanceof hi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class o8e{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8e(){if(ha())try{await pC()}catch(t){return Fs.warn(bl.create("indexeddb-unavailable",{errorInfo:t}).message),!1}else return Fs.warn(bl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function l8e(t,e,n,r,i,s,o){var a;const l=r8e(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Fs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Fs.error(p)),e.push(l);const c=a8e().then(p=>{if(p)return r.getId()}),[u,d]=await Promise.all([l,c]);YGe()||HGe(s,u.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[zGe]="firebase",f.update=!0,d!=null&&(f[UGe]=d),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8e{constructor(e){this.app=e}_delete(){return delete Cd[this.app.options.appId],Promise.resolve()}}let Cd={},lj=[];const cj={};let qM="dataLayer",rse="gtag",uj,KC,d3=!1;function u8e(t){if(d3)throw bl.create("already-initialized");t.dataLayerName&&(qM=t.dataLayerName),t.gtagName&&(rse=t.gtagName)}function d8e(){const t=[];if(fC()&&t.push("This is a browser extension environment."),IP()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=bl.create("invalid-analytics-context",{errorInfo:e});Fs.warn(n.message)}}function f8e(t,e,n){d8e();const r=t.options.appId;if(!r)throw bl.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw bl.create("no-api-key");if(Cd[r]!=null)throw bl.create("already-exists",{id:r});if(!d3){GGe(qM);const{wrappedGtag:s,gtagCore:o}=XGe(Cd,lj,cj,qM,rse);KC=s,uj=o,d3=!0}return Cd[r]=l8e(t,lj,cj,e,uj,qM,n),new c8e(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8e(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}async function p8e(t,e,n,r){if(r&&r.global)return t("set",{screen_name:n}),Promise.resolve();{const i=await e;t("config",i,{update:!0,screen_name:n})}}async function m8e(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();{const i=await e;t("config",i,{update:!0,user_id:n})}}async function g8e(t,e,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}async function v8e(t,e){const n=await t;window[`ga-disable-${n}`]=!e}async function y8e(){if(fC()||!IP()||!ha())return!1;try{return await pC()}catch{return!1}}function _8e(t,e,n){t=ft(t),p8e(KC,Cd[t.app.options.appId],e,n).catch(r=>Fs.error(r))}function x8e(t,e,n){t=ft(t),m8e(KC,Cd[t.app.options.appId],e,n).catch(r=>Fs.error(r))}function w8e(t,e,n){t=ft(t),g8e(KC,Cd[t.app.options.appId],e,n).catch(r=>Fs.error(r))}function b8e(t,e){t=ft(t),v8e(Cd[t.app.options.appId],e).catch(n=>Fs.error(n))}function ise(t,e,n,r){t=ft(t),h8e(KC,Cd[t.app.options.appId],e,n,r).catch(i=>Fs.error(i))}const dj="@firebase/analytics",fj="0.7.8";function S8e(){ti(new Gn(aj,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return f8e(r,i,n)},"PUBLIC")),ti(new Gn("analytics-internal",t,"PRIVATE")),dr(dj,fj),dr(dj,fj,"esm2017");function t(e){try{const n=e.getProvider(aj).getImmediate();return{logEvent:(r,i,s)=>ise(n,r,i,s)}}catch(n){throw bl.create("interop-component-reg-failed",{reason:n})}}}S8e();const C8e="@firebase/analytics-compat",T8e="0.1.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(e,n){this.app=e,this._delegate=n}logEvent(e,n,r){ise(this._delegate,e,n,r)}setCurrentScreen(e,n){_8e(this._delegate,e,n)}setUserId(e,n){x8e(this._delegate,e,n)}setUserProperties(e,n){w8e(this._delegate,e,n)}setAnalyticsCollectionEnabled(e){b8e(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f3;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(f3||(f3={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8e=t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("analytics").getImmediate();return new sse(e,n)};function I8e(){const t={Analytics:sse,settings:u8e,isSupported:y8e,EventName:f3};qi.INTERNAL.registerComponent(new Gn("analytics-compat",E8e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}I8e();qi.registerVersion(C8e,T8e);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ose=new Map,M8e={activated:!1,tokenObservers:[]},A8e={initialized:!1,enabled:!1};function ms(t){return ose.get(t)||M8e}function Cc(t,e){ose.set(t,e)}function Pk(){return A8e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz="https://content-firebaseappcheck.googleapis.com/v1",R8e="exchangeRecaptchaV3Token",P8e="exchangeRecaptchaEnterpriseToken",k8e="exchangeDebugToken",hj={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},L8e=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8e{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Ui,await N8e(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Ui,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function N8e(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8e={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Eo=new $o("appCheck","AppCheck",O8e);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t=!1){var e;return t?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function ase(t){if(!ms(t).activated)throw Eo.create("use-before-activation",{appName:t.name})}function F8e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Bz(t){const e=Math.round(t/1e3),n=Math.floor(e/(3600*24)),r=Math.floor((e-n*3600*24)/3600),i=Math.floor((e-n*3600*24-r*3600)/60),s=e-n*3600*24-r*3600-i*60;let o="";return n&&(o+=XI(n)+"d:"),r&&(o+=XI(r)+"h:"),o+=XI(i)+"m:"+XI(s)+"s",o}function XI(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o;try{o=await fetch(t,s)}catch(d){throw Eo.create("fetch-network-error",{originalErrorMessage:d.message})}if(o.status!==200)throw Eo.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Eo.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=Number(l[1])*1e3,u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}}function B8e(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Fz}/projects/${n}/apps/${r}:${R8e}?key=${i}`,body:{recaptcha_v3_token:e}}}function $8e(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Fz}/projects/${n}/apps/${r}:${P8e}?key=${i}`,body:{recaptcha_enterprise_token:e}}}function U8e(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Fz}/projects/${n}/apps/${r}:${k8e}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8e="firebase-app-check-database",V8e=1,_S="firebase-app-check-store",lse="debug-token";let YI=null;function cse(){return YI||(YI=new Promise((t,e)=>{try{const n=indexedDB.open(z8e,V8e);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Eo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_S,{keyPath:"compositeKey"})}}}catch(n){e(Eo.create("storage-open",{originalErrorMessage:n.message}))}}),YI)}function W8e(t){return dse(fse(t))}function H8e(t,e){return use(fse(t),e)}function G8e(t){return use(lse,t)}function j8e(){return dse(lse)}async function use(t,e){const r=(await cse()).transaction(_S,"readwrite"),s=r.objectStore(_S).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(Eo.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})}async function dse(t){const n=(await cse()).transaction(_S,"readonly"),i=n.objectStore(_S).get(t);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Eo.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function fse(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new Pu("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8e(t){if(ha()){let e;try{e=await W8e(t)}catch(n){xS.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return e}}function pj(t,e){return ha()?H8e(t,e).catch(n=>{xS.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function K8e(){let t;try{t=await j8e()}catch{}if(t)return t;{const e=F8e();return G8e(e).catch(n=>xS.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hse(){return Pk().enabled}async function pse(){const t=Pk();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function X8e(){const t=Fpe(),e=Pk();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const n=new Ui;e.token=n,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(K8e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8e={error:"UNKNOWN_ERROR"};function Q8e(t){return TP.encodeString(JSON.stringify(t),!1)}async function dR(t,e=!1){const n=t.app;ase(n);const r=ms(n);let i=r.token,s;if(!i){const l=await r.cachedTokenPromise;l&&fR(l)&&(i=l)}if(!e&&i&&fR(i))return{token:i.token};let o=!1;if(hse()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$z(U8e(n,await pse()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const l=await r.exchangeTokenPromise;return await pj(n,l),Cc(n,Object.assign(Object.assign({},r),{token:l})),{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0),i=await r.exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?xS.warn(l.message):xS.error(l),s=l}let a;return i?(a={token:i.token},Cc(n,Object.assign(Object.assign({},r),{token:i})),await pj(n,i)):a=Z8e(s),o&&mse(n,a),a}function Uz(t,e,n,r){const{app:i}=t,s=ms(i),o={next:n,error:r,type:e};if(Cc(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&fR(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),mj(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>mj(t))}function zz(t,e){const n=ms(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Cc(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function mj(t){const{app:e}=t,n=ms(e);let r=n.tokenRefresher;r||(r=J8e(t),Cc(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function J8e(t){const{app:e}=t;return new D8e(async()=>{const n=ms(e);let r;if(n.token?r=await dR(t,!0):r=await dR(t),r.error)throw r.error},()=>!0,()=>{const n=ms(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},hj.RETRIAL_MIN_WAIT,hj.RETRIAL_MAX_WAIT)}function mse(t,e){const n=ms(t).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fR(t){return t.expireTimeMillis-Date.now()>0}function Z8e(t){return{token:Q8e(Y8e),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eje{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=ms(this.app);for(const n of e)zz(this.app,n.next);return Promise.resolve()}}function tje(t,e){return new eje(t,e)}function nje(t){return{getToken:e=>dR(t,e),addTokenListener:e=>Uz(t,"INTERNAL",e),removeTokenListener:e=>zz(t.app,e)}}const rje="@firebase/app-check",ije="0.5.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sje="https://www.google.com/recaptcha/api.js",oje="https://www.google.com/recaptcha/enterprise.js";function aje(t,e){const n=ms(t),r=new Ui;Cc(t,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));const i=gse(t),s=uR(!1);return s?hR(t,e,s,i,r):uje(()=>{const o=uR(!1);if(!o)throw new Error("no recaptcha");hR(t,e,o,i,r)}),r.promise}function lje(t,e){const n=ms(t),r=new Ui;Cc(t,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));const i=gse(t),s=uR(!0);return s?hR(t,e,s,i,r):dje(()=>{const o=uR(!0);if(!o)throw new Error("no recaptcha");hR(t,e,o,i,r)}),r.promise}function hR(t,e,n,r,i){n.ready(()=>{cje(t,e,n,r),i.resolve(n)})}function gse(t){const e=`fire_app_check_${t.name}`,n=document.createElement("div");return n.id=e,n.style.display="none",document.body.appendChild(n),e}async function vse(t){ase(t);const n=await ms(t).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=ms(t).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function cje(t,e,n,r){const i=n.render(r,{sitekey:e,size:"invisible"}),s=ms(t);Cc(t,Object.assign(Object.assign({},s),{reCAPTCHAState:Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}))}function uje(t){const e=document.createElement("script");e.src=sje,e.onload=t,document.head.appendChild(e)}function dje(t){const e=document.createElement("script");e.src=oje,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e;_se(this._throttleData);const n=await vse(this._app).catch(i=>{throw Eo.create("recaptcha-error")});let r;try{r=await $z(B8e(this._app,n),this._heartbeatServiceProvider)}catch(i){throw i.code==="fetch-status-error"?(this._throttleData=yse(Number((e=i.customData)===null||e===void 0?void 0:e.httpStatus),this._throttleData),Eo.create("throttled",{time:Bz(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):i}return this._throttleData=null,r}initialize(e){this._app=e,this._heartbeatServiceProvider=ep(e,"heartbeat"),aje(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof wS?this._siteKey===e._siteKey:!1}}class kk{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e;_se(this._throttleData);const n=await vse(this._app).catch(i=>{throw Eo.create("recaptcha-error")});let r;try{r=await $z($8e(this._app,n),this._heartbeatServiceProvider)}catch(i){throw i.code==="fetch-status-error"?(this._throttleData=yse(Number((e=i.customData)===null||e===void 0?void 0:e.httpStatus),this._throttleData),Eo.create("throttled",{time:Bz(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):i}return this._throttleData=null,r}initialize(e){this._app=e,this._heartbeatServiceProvider=ep(e,"heartbeat"),lje(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof kk?this._siteKey===e._siteKey:!1}}class bS{constructor(e){this._customProviderOptions=e}async getToken(){const e=await this._customProviderOptions.getToken(),n=zpe(e.token),r=n!==null&&n<Date.now()&&n>0?n*1e3:Date.now();return Object.assign(Object.assign({},e),{issuedAtTimeMillis:r})}initialize(e){this._app=e}isEqual(e){return e instanceof bS?this._customProviderOptions.getToken.toString()===e._customProviderOptions.getToken.toString():!1}}function yse(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+L8e,httpStatus:t};{const n=e?e.backoffCount:0,r=OA(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:t}}}function _se(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw Eo.create("throttled",{time:Bz(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fje(t=I$(),e){t=ft(t);const n=ep(t,"app-check");if(Pk().initialized||X8e(),hse()&&pse().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return i;throw Eo.create("already-initialized",{appName:t.name})}const r=n.initialize({options:e});return hje(t,e.provider,e.isTokenAutoRefreshEnabled),ms(t).isTokenAutoRefreshEnabled&&Uz(r,"INTERNAL",()=>{}),r}function hje(t,e,n){const r=ms(t),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=e,i.cachedTokenPromise=q8e(t).then(s=>(s&&fR(s)&&(Cc(t,Object.assign(Object.assign({},ms(t)),{token:s})),mse(t,{token:s.token})),s)),i.isTokenAutoRefreshEnabled=n===void 0?t.automaticDataCollectionEnabled:n,Cc(t,i),i.provider.initialize(t)}function pje(t,e){const n=t.app,r=ms(n);r.tokenRefresher&&(e===!0?r.tokenRefresher.start():r.tokenRefresher.stop()),Cc(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:e}))}async function mje(t,e){const n=await dR(t,e);if(n.error)throw n.error;return{token:n.token}}function gje(t,e,n,r){let i=()=>{},s=()=>{};return e.next!=null?i=e.next.bind(e):i=e,e.error!=null?s=e.error.bind(e):n&&(s=n),Uz(t,"EXTERNAL",i,s),()=>zz(t.app,i)}const vje="app-check",gj="app-check-internal";function yje(){ti(new Gn(vje,t=>{const e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return tje(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(gj).initialize()})),ti(new Gn(gj,t=>{const e=t.getProvider("app-check").getImmediate();return nje(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),dr(rje,ije)}yje();const _je="@firebase/app-check-compat",xje="0.2.7";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wje={["use-before-activation"]:"App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."},sN=new $o("appCheck","AppCheck",wje);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bje{constructor(e){this.app=e}activate(e,n){let r;typeof e=="string"?r=new wS(e):e instanceof kk||e instanceof wS||e instanceof bS?r=e:r=new bS({getToken:e.getToken}),this._delegate=fje(this.app,{provider:r,isTokenAutoRefreshEnabled:n})}setTokenAutoRefreshEnabled(e){if(!this._delegate)throw sN.create("use-before-activation",{appName:this.app.name});pje(this._delegate,e)}getToken(e){if(!this._delegate)throw sN.create("use-before-activation",{appName:this.app.name});return mje(this._delegate,e)}onTokenChanged(e,n,r){if(!this._delegate)throw sN.create("use-before-activation",{appName:this.app.name});return gje(this._delegate,e,n)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sje=t=>{const e=t.getProvider("app-compat").getImmediate();return new bje(e)};function Cje(){qi.INTERNAL.registerComponent(new Gn("appCheck-compat",Sje,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:kk,ReCaptchaV3Provider:wS,CustomProvider:bS}))}Cje();qi.registerVersion(_je,xje);var iv={exports:{}};(function(t){var e,n,r,i,s,o,a,l,c,u,d,f,p,g,v,y,x,w,b,T,E,P,L,R,F;(function(O){var G=typeof an=="object"?an:typeof self=="object"?self:typeof this=="object"?this:{};O(Z(G,Z(t.exports)));function Z(V,U){return V!==G&&(typeof Object.create=="function"?Object.defineProperty(V,"__esModule",{value:!0}):V.__esModule=!0),function(j,W){return V[j]=U?U(j,W):W}}})(function(O){var G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,U){V.__proto__=U}||function(V,U){for(var j in U)Object.prototype.hasOwnProperty.call(U,j)&&(V[j]=U[j])};e=function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");G(V,U);function j(){this.constructor=V}V.prototype=U===null?Object.create(U):(j.prototype=U.prototype,new j)},n=Object.assign||function(V){for(var U,j=1,W=arguments.length;j<W;j++){U=arguments[j];for(var X in U)Object.prototype.hasOwnProperty.call(U,X)&&(V[X]=U[X])}return V},r=function(V,U){var j={};for(var W in V)Object.prototype.hasOwnProperty.call(V,W)&&U.indexOf(W)<0&&(j[W]=V[W]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,W=Object.getOwnPropertySymbols(V);X<W.length;X++)U.indexOf(W[X])<0&&Object.prototype.propertyIsEnumerable.call(V,W[X])&&(j[W[X]]=V[W[X]]);return j},i=function(V,U,j,W){var X=arguments.length,B=X<3?U:W===null?W=Object.getOwnPropertyDescriptor(U,j):W,H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(V,U,j,W);else for(var q=V.length-1;q>=0;q--)(H=V[q])&&(B=(X<3?H(B):X>3?H(U,j,B):H(U,j))||B);return X>3&&B&&Object.defineProperty(U,j,B),B},s=function(V,U){return function(j,W){U(j,W,V)}},o=function(V,U){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,U)},a=function(V,U,j,W){function X(B){return B instanceof j?B:new j(function(H){H(B)})}return new(j||(j=Promise))(function(B,H){function q(de){try{J(W.next(de))}catch(ye){H(ye)}}function ee(de){try{J(W.throw(de))}catch(ye){H(ye)}}function J(de){de.done?B(de.value):X(de.value).then(q,ee)}J((W=W.apply(V,U||[])).next())})},l=function(V,U){var j={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},W,X,B,H;return H={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function q(J){return function(de){return ee([J,de])}}function ee(J){if(W)throw new TypeError("Generator is already executing.");for(;j;)try{if(W=1,X&&(B=J[0]&2?X.return:J[0]?X.throw||((B=X.return)&&B.call(X),0):X.next)&&!(B=B.call(X,J[1])).done)return B;switch(X=0,B&&(J=[J[0]&2,B.value]),J[0]){case 0:case 1:B=J;break;case 4:return j.label++,{value:J[1],done:!1};case 5:j.label++,X=J[1],J=[0];continue;case 7:J=j.ops.pop(),j.trys.pop();continue;default:if(B=j.trys,!(B=B.length>0&&B[B.length-1])&&(J[0]===6||J[0]===2)){j=0;continue}if(J[0]===3&&(!B||J[1]>B[0]&&J[1]<B[3])){j.label=J[1];break}if(J[0]===6&&j.label<B[1]){j.label=B[1],B=J;break}if(B&&j.label<B[2]){j.label=B[2],j.ops.push(J);break}B[2]&&j.ops.pop(),j.trys.pop();continue}J=U.call(V,j)}catch(de){J=[6,de],X=0}finally{W=B=0}if(J[0]&5)throw J[1];return{value:J[0]?J[1]:void 0,done:!0}}},c=function(V,U){for(var j in V)j!=="default"&&!Object.prototype.hasOwnProperty.call(U,j)&&F(U,V,j)},F=Object.create?function(V,U,j,W){W===void 0&&(W=j);var X=Object.getOwnPropertyDescriptor(U,j);(!X||("get"in X?!U.__esModule:X.writable||X.configurable))&&(X={enumerable:!0,get:function(){return U[j]}}),Object.defineProperty(V,W,X)}:function(V,U,j,W){W===void 0&&(W=j),V[W]=U[j]},u=function(V){var U=typeof Symbol=="function"&&Symbol.iterator,j=U&&V[U],W=0;if(j)return j.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&W>=V.length&&(V=void 0),{value:V&&V[W++],done:!V}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(V,U){var j=typeof Symbol=="function"&&V[Symbol.iterator];if(!j)return V;var W=j.call(V),X,B=[],H;try{for(;(U===void 0||U-- >0)&&!(X=W.next()).done;)B.push(X.value)}catch(q){H={error:q}}finally{try{X&&!X.done&&(j=W.return)&&j.call(W)}finally{if(H)throw H.error}}return B},f=function(){for(var V=[],U=0;U<arguments.length;U++)V=V.concat(d(arguments[U]));return V},p=function(){for(var V=0,U=0,j=arguments.length;U<j;U++)V+=arguments[U].length;for(var W=Array(V),X=0,U=0;U<j;U++)for(var B=arguments[U],H=0,q=B.length;H<q;H++,X++)W[X]=B[H];return W},g=function(V,U,j){if(j||arguments.length===2)for(var W=0,X=U.length,B;W<X;W++)(B||!(W in U))&&(B||(B=Array.prototype.slice.call(U,0,W)),B[W]=U[W]);return V.concat(B||Array.prototype.slice.call(U))},v=function(V){return this instanceof v?(this.v=V,this):new v(V)},y=function(V,U,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W=j.apply(V,U||[]),X,B=[];return X={},H("next"),H("throw"),H("return"),X[Symbol.asyncIterator]=function(){return this},X;function H(Ce){W[Ce]&&(X[Ce]=function(oe){return new Promise(function(He,Ae){B.push([Ce,oe,He,Ae])>1||q(Ce,oe)})})}function q(Ce,oe){try{ee(W[Ce](oe))}catch(He){ye(B[0][3],He)}}function ee(Ce){Ce.value instanceof v?Promise.resolve(Ce.value.v).then(J,de):ye(B[0][2],Ce)}function J(Ce){q("next",Ce)}function de(Ce){q("throw",Ce)}function ye(Ce,oe){Ce(oe),B.shift(),B.length&&q(B[0][0],B[0][1])}},x=function(V){var U,j;return U={},W("next"),W("throw",function(X){throw X}),W("return"),U[Symbol.iterator]=function(){return this},U;function W(X,B){U[X]=V[X]?function(H){return(j=!j)?{value:v(V[X](H)),done:X==="return"}:B?B(H):H}:B}},w=function(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U=V[Symbol.asyncIterator],j;return U?U.call(V):(V=typeof u=="function"?u(V):V[Symbol.iterator](),j={},W("next"),W("throw"),W("return"),j[Symbol.asyncIterator]=function(){return this},j);function W(B){j[B]=V[B]&&function(H){return new Promise(function(q,ee){H=V[B](H),X(q,ee,H.done,H.value)})}}function X(B,H,q,ee){Promise.resolve(ee).then(function(J){B({value:J,done:q})},H)}},b=function(V,U){return Object.defineProperty?Object.defineProperty(V,"raw",{value:U}):V.raw=U,V};var Z=Object.create?function(V,U){Object.defineProperty(V,"default",{enumerable:!0,value:U})}:function(V,U){V.default=U};T=function(V){if(V&&V.__esModule)return V;var U={};if(V!=null)for(var j in V)j!=="default"&&Object.prototype.hasOwnProperty.call(V,j)&&F(U,V,j);return Z(U,V),U},E=function(V){return V&&V.__esModule?V:{default:V}},P=function(V,U,j,W){if(j==="a"&&!W)throw new TypeError("Private accessor was defined without a getter");if(typeof U=="function"?V!==U||!W:!U.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?W:j==="a"?W.call(V):W?W.value:U.get(V)},L=function(V,U,j,W,X){if(W==="m")throw new TypeError("Private method is not writable");if(W==="a"&&!X)throw new TypeError("Private accessor was defined without a setter");if(typeof U=="function"?V!==U||!X:!U.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return W==="a"?X.call(V,j):X?X.value=j:U.set(V,j),j},R=function(V,U){if(U===null||typeof U!="object"&&typeof U!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof V=="function"?U===V:V.has(U)},O("__extends",e),O("__assign",n),O("__rest",r),O("__decorate",i),O("__param",s),O("__metadata",o),O("__awaiter",a),O("__generator",l),O("__exportStar",c),O("__createBinding",F),O("__values",u),O("__read",d),O("__spread",f),O("__spreadArrays",p),O("__spreadArray",g),O("__await",v),O("__asyncGenerator",y),O("__asyncDelegator",x),O("__asyncValues",w),O("__makeTemplateObject",b),O("__importStar",T),O("__importDefault",E),O("__classPrivateFieldGet",P),O("__classPrivateFieldSet",L),O("__classPrivateFieldIn",R)})})(iv);const ub={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Oy={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tje(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function xse(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Eje=Tje,Ije=xse,wse=new $o("auth","Firebase",xse());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Pu("@firebase/auth");function KM(t,...e){vj.logLevel<=wn.ERROR&&vj.error(`Auth (${ku}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,...e){throw Vz(t,...e)}function Bs(t,...e){return Vz(t,...e)}function bse(t,e,n){const r=Object.assign(Object.assign({},Ije()),{[e]:n});return new $o("auth","Firebase",r).create(e,{appName:t.name})}function yx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vs(t,"argument-error"),bse(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vz(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wse.create(t,...e)}function _t(t,e,...n){if(!t)throw Vz(e,...n)}function iu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw KM(e),new Error(e)}function Tc(t,e){t||iu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Map;function La(t){Tc(t instanceof Function,"Expected a class definition");let e=yj.get(t);return e?(Tc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yj.set(t,e),e)}function Mje(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(La);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Wz(){return _j()==="http:"||_j()==="https:"}function _j(){var t;return typeof self!="undefined"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aje(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wz()||fC()||"connection"in navigator)?navigator.onLine:!0}function Rje(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tc(n>e,"Short delay should be less than long delay!"),this.isMobile=EP()||hC()}get(){return Aje()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e){Tc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;iu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;iu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;iu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pje={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kje=new XC(3e4,6e4);function Ki(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,r,i={}){return Cse(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Hg(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Sse.fetch()(Tse(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Cse(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pje),e);try{const i=new Lje(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw XM(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw XM(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw XM(t,"email-already-in-use",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bse(t,u,c);Vs(t,u)}}catch(i){if(i instanceof hi)throw i;Vs(t,"network-request-failed")}}async function Yd(t,e,n,r,i={}){const s=await xs(t,e,n,r,i);return"mfaPendingCredential"in s&&Vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Tse(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hz(t.config,i):`${t.config.apiScheme}://${i}`}class Lje{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bs(this.auth,"network-request-failed")),kje.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function XM(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Bs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dje(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function Nje(t,e){return xs(t,"POST","/v1/accounts:update",e)}async function Oje(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Fje(t,e=!1){const n=ft(t),r=await n.getIdToken(e),i=Lk(r);_t(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:d1(oN(i.auth_time)),issuedAtTime:d1(oN(i.iat)),expirationTime:d1(oN(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function oN(t){return Number(t)*1e3}function Lk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return KM("JWT malformed, contained fewer than 3 sections"),null;try{const i=UO(n);return i?JSON.parse(i):(KM("Failed to decode base64 JWT payload"),null)}catch(i){return KM("Caught error parsing JWT payload as JSON",i),null}}function Bje(t){const e=Lk(t);return _t(e,"internal-error"),_t(typeof e.exp!="undefined","internal-error"),_t(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hi&&$je(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $je({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uje{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ese{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=d1(this.lastLoginAt),this.creationTime=d1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ud(t,Oje(n,{idToken:r}));_t(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Wje(s.providerUserInfo):[],a=Vje(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ese(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function zje(t){const e=ft(t);await CS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Vje(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Wje(t){return t.map(e=>{var{providerId:n}=e,r=iv.exports.__rest(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hje(t,e){const n=await Cse(t,{},async()=>{const r=Hg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Tse(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sse.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_t(e.idToken,"internal-error"),_t(typeof e.idToken!="undefined","internal-error"),_t(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Bje(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _t(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Hje(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new TS;return r&&(_t(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_t(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_t(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new TS,this.toJSON())}_performRefresh(){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t,e){_t(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Xm{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iv.exports.__rest(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uje(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ese(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ud(this,this.stsTokenManager.getToken(this.auth,e));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Fje(this,e)}reload(){return zje(this)}_assign(e){this!==e&&(_t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Xm(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await CS(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ud(this,Dje(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:T,isAnonymous:E,providerData:P,stsTokenManager:L}=n;_t(b&&L,e,"internal-error");const R=TS.fromJSON(this.name,L);_t(typeof b=="string",e,"internal-error"),zf(d,e.name),zf(f,e.name),_t(typeof T=="boolean",e,"internal-error"),_t(typeof E=="boolean",e,"internal-error"),zf(p,e.name),zf(g,e.name),zf(v,e.name),zf(y,e.name),zf(x,e.name),zf(w,e.name);const F=new Xm({uid:b,auth:e,email:f,emailVerified:T,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:R,createdAt:x,lastLoginAt:w});return P&&Array.isArray(P)&&(F.providerData=P.map(O=>Object.assign({},O))),y&&(F._redirectEventId=y),F}static async _fromIdTokenResponse(e,n,r=!1){const i=new TS;i.updateFromServerResponse(n);const s=new Xm({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await CS(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ise{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ise.type="NONE";const R_=Ise;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,n){return`firebase:${t}:${e}:${n}`}class O0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ym(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ym("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new O0(La(R_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||La(R_);const o=Ym(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Xm._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new O0(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new O0(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rse(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mse(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pse(e))return"Blackberry";if(kse(e))return"Webos";if(Gz(e))return"Safari";if((e.includes("chrome/")||Ase(e))&&!e.includes("edge/"))return"Chrome";if(YC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mse(t=kr()){return/firefox\//i.test(t)}function Gz(t=kr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ase(t=kr()){return/crios\//i.test(t)}function Rse(t=kr()){return/iemobile/i.test(t)}function YC(t=kr()){return/android/i.test(t)}function Pse(t=kr()){return/blackberry/i.test(t)}function kse(t=kr()){return/webos/i.test(t)}function _x(t=kr()){return/iphone|ipad|ipod/i.test(t)}function Gje(t=kr()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function jje(t=kr()){var e;return _x(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qje(){return b$()&&document.documentMode===10}function Lse(t=kr()){return _x(t)||YC(t)||kse(t)||Pse(t)||/windows phone/i.test(t)||Rse(t)}function Kje(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dse(t,e=[]){let n;switch(t){case"Browser":n=xj(kr());break;case"Worker":n=`${xj(kr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ku}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xje{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wj(this),this.idTokenSubscription=new wj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wse,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=La(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await O0.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var n;let r=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=r==null?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);(!i||i===s)&&(o==null?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(_t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)):this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await CS(e)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rje()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ft(e):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&_t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(La(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&La(e)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await O0.create(this,[La(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _t(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dse(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function gs(t){return ft(t)}class wj{constructor(e){this.auth=e,this.observer=null,this.addObserver=DX(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yje(t,e,n){const r=gs(t);_t(r._canInitEmulator,r,"emulator-config-failed"),_t(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Nse(e),{host:o,port:a}=Qje(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Jje()}function Nse(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qje(t){const e=Nse(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bj(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bj(o)}}}function bj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Jje(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return iu("not implemented")}_getIdTokenResponse(e){return iu("not implemented")}_linkToIdToken(e,n){return iu("not implemented")}_getReauthenticationResolver(e){return iu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ose(t,e){return xs(t,"POST","/v1/accounts:resetPassword",Ki(t,e))}async function Fse(t,e){return xs(t,"POST","/v1/accounts:update",e)}async function Zje(t,e){return xs(t,"POST","/v1/accounts:update",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eqe(t,e){return Yd(t,"POST","/v1/accounts:signInWithPassword",Ki(t,e))}async function Dk(t,e){return xs(t,"POST","/v1/accounts:sendOobCode",Ki(t,e))}async function tqe(t,e){return Dk(t,e)}async function nqe(t,e){return Dk(t,e)}async function rqe(t,e){return Dk(t,e)}async function iqe(t,e){return Dk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sqe(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}async function oqe(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends xx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ES(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ES(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eqe(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return sqe(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Fse(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oqe(e,{idToken:n,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t,e){return Yd(t,"POST","/v1/accounts:signInWithIdp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aqe="http://localhost";class bu extends xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iv.exports.__rest(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new bu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Td(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Td(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Td(e,n)}buildRequest(){const e={requestUri:aqe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hg(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lqe(t,e){return xs(t,"POST","/v1/accounts:sendVerificationCode",Ki(t,e))}async function cqe(t,e){return Yd(t,"POST","/v1/accounts:signInWithPhoneNumber",Ki(t,e))}async function uqe(t,e){const n=await Yd(t,"POST","/v1/accounts:signInWithPhoneNumber",Ki(t,e));if(n.temporaryProof)throw XM(t,"account-exists-with-different-credential",n);return n}const dqe={USER_NOT_FOUND:"user-not-found"};async function fqe(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Yd(t,"POST","/v1/accounts:signInWithPhoneNumber",Ki(t,n),dqe)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm extends xx{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Qm({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Qm({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return cqe(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return uqe(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return fqe(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Qm({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hqe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pqe(t){const e=u0(Mb(t)).link,n=e?u0(Mb(e)).deep_link_id:null,r=u0(Mb(t)).deep_link_id;return(r?u0(Mb(r)).link:null)||r||n||e||t}class Nk{constructor(e){var n,r,i,s,o,a;const l=u0(Mb(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=hqe((i=l.mode)!==null&&i!==void 0?i:null);_t(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=pqe(e);try{return new Nk(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.providerId=cp.PROVIDER_ID}static credential(e,n){return ES._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Nk.parseLink(n);return _t(r,"argument-error"),ES._fromEmailAndCode(e,r.code,r.tenantId)}}cp.PROVIDER_ID="password";cp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends Qd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class F0 extends wx{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return _t("providerId"in n&&"signInMethod"in n,"argument-error"),bu._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return _t(e.idToken||e.accessToken,"argument-error"),bu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return F0.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return F0.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new F0(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends wx{constructor(){super("facebook.com")}static credential(e){return bu._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zc.credential(e.oauthAccessToken)}catch{return null}}}Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends wx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bu._fromParams({providerId:eu.PROVIDER_ID,signInMethod:eu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eu.credentialFromTaggedObject(e)}static credentialFromError(e){return eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eu.credential(n,r)}catch{return null}}}eu.GOOGLE_SIGN_IN_METHOD="google.com";eu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends wx{constructor(){super("github.com")}static credential(e){return bu._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tu.credential(e.oauthAccessToken)}catch{return null}}}tu.GITHUB_SIGN_IN_METHOD="github.com";tu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mqe="http://localhost";class P_ extends xx{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Td(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Td(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Td(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new P_(r,s)}static _create(e,n){return new P_(e,n)}buildRequest(){return{requestUri:mqe,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gqe="saml.";class pR extends Qd{constructor(e){_t(e.startsWith(gqe),"argument-error"),super(e)}static credentialFromResult(e){return pR.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return pR.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=P_.fromJSON(e);return _t(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return P_._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends wx{constructor(){super("twitter.com")}static credential(e,n){return bu._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nu.credential(n,r)}catch{return null}}}nu.TWITTER_SIGN_IN_METHOD="twitter.com";nu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bse(t,e){return Yd(t,"POST","/v1/accounts:signUp",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xm._fromIdTokenResponse(e,r,i),o=Sj(r);return new Al({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Sj(r);return new Al({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Sj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vqe(t){var e;const n=gs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Al({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Bse(n,{returnSecureToken:!0}),i=await Al._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends hi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mR.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mR(e,n,r,i)}}function $se(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mR._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Use(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yqe(t,e){const n=ft(t);await Ok(!0,n,e);const{providerUserInfo:r}=await Nje(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=Use(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function jz(t,e,n=!1){const r=await Ud(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Al._forOperation(t,"link",r)}async function Ok(t,e,n){await CS(e);const r=Use(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";_t(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zse(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ud(t,$se(r,i,e,t),n);_t(s.idToken,r,"internal-error");const o=Lk(s.idToken);_t(o,r,"internal-error");const{sub:a}=o;return _t(t.uid===a,r,"user-mismatch"),Al._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vse(t,e,n=!1){const r="signIn",i=await $se(t,r,e),s=await Al._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Fk(t,e){return Vse(gs(t),e)}async function Wse(t,e){const n=ft(t);return await Ok(!1,n,e.providerId),jz(n,e)}async function Hse(t,e){return zse(ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _qe(t,e){return Yd(t,"POST","/v1/accounts:signInWithCustomToken",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xqe(t,e){const n=gs(t),r=await _qe(n,{token:e,returnSecureToken:!0}),i=await Al._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?qz._fromServerResponse(e,n):Vs(e,"internal-error")}}class qz extends Bk{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new qz(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e,n){var r;_t(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),_t(typeof n.dynamicLinkDomain=="undefined"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(_t(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(_t(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wqe(t,e,n){const r=ft(t),i={requestType:"PASSWORD_RESET",email:e};n&&$k(r,i,n),await nqe(r,i)}async function bqe(t,e,n){await Ose(ft(t),{oobCode:e,newPassword:n})}async function Sqe(t,e){await Zje(ft(t),{oobCode:e})}async function Gse(t,e){const n=ft(t),r=await Ose(n,{oobCode:e}),i=r.requestType;switch(_t(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":_t(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":_t(r.mfaInfo,n,"internal-error");default:_t(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bk._fromServerResponse(gs(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Cqe(t,e){const{data:n}=await Gse(ft(t),e);return n.email}async function Tqe(t,e,n){const r=gs(t),i=await Bse(r,{returnSecureToken:!0,email:e,password:n}),s=await Al._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Eqe(t,e,n){return Fk(ft(t),cp.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iqe(t,e,n){const r=ft(t),i={requestType:"EMAIL_SIGNIN",email:e};_t(n.handleCodeInApp,r,"argument-error"),n&&$k(r,i,n),await rqe(r,i)}function Mqe(t,e){const n=Nk.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function Aqe(t,e,n){const r=ft(t),i=cp.credentialWithLink(e,n||SS());return _t(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Fk(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rqe(t,e){return xs(t,"POST","/v1/accounts:createAuthUri",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pqe(t,e){const n=Wz()?SS():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await Rqe(ft(t),r);return i||[]}async function kqe(t,e){const n=ft(t),r=await t.getIdToken(),i={requestType:"VERIFY_EMAIL",idToken:r};e&&$k(n.auth,i,e);const{email:s}=await tqe(n.auth,i);s!==t.email&&await t.reload()}async function Lqe(t,e,n){const r=ft(t),i=await t.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:e};n&&$k(r.auth,s,n);const{email:o}=await iqe(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dqe(t,e){return xs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nqe(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ud(r,Dqe(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Oqe(t,e){return jse(ft(t),e,null)}function Fqe(t,e){return jse(ft(t),null,e)}async function jse(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Ud(t,Fse(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bqe(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t==null?void 0:t.idToken)){const o=(n=(e=Lk(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new B0(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new $qe(s,i);case"github.com":return new Uqe(s,i);case"google.com":return new zqe(s,i);case"twitter.com":return new Vqe(s,i,t.screenName||null);case"custom":case"anonymous":return new B0(s,null);default:return new B0(s,r,i)}}class B0{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class qse extends B0{constructor(e,n,r,i){super(e,n,r),this.username=i}}class $qe extends B0{constructor(e,n){super(e,"facebook.com",n)}}class Uqe extends qse{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class zqe extends B0{constructor(e,n){super(e,"google.com",n)}}class Vqe extends qse{constructor(e,n,r){super(e,"twitter.com",n,r)}}function Wqe(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Bqe(n)}class km{constructor(e,n){this.type=e,this.credential=n}static _fromIdtoken(e){return new km("enroll",e)}static _fromMfaPendingCredential(e){return new km("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return km._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return km._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=gs(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Bk._fromServerResponse(r,a));_t(i.mfaPendingCredential,r,"internal-error");const o=km._fromMfaPendingCredential(i.mfaPendingCredential);return new Kz(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await Al._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return _t(n.user,r,"internal-error"),Al._forOperation(n.user,n.operationType,c);default:Vs(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Hqe(t,e){var n;const r=ft(t),i=e;return _t(e.customData.operationType,r,"argument-error"),_t((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),Kz._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gqe(t,e){return xs(t,"POST","/v2/accounts/mfaEnrollment:start",Ki(t,e))}function jqe(t,e){return xs(t,"POST","/v2/accounts/mfaEnrollment:finalize",Ki(t,e))}function qqe(t,e){return xs(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Ki(t,e))}class Xz{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Bk._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Xz(e)}async getSession(){return km._fromIdtoken(await this.user.getIdToken())}async enroll(e,n){const r=e,i=await this.getSession(),s=await Ud(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken(),i=await Ud(this.user,qqe(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(s){if(s.code!=="auth/user-token-expired")throw s}}}const aN=new WeakMap;function Kqe(t){const e=ft(t);return aN.has(e)||aN.set(e,Xz._fromUser(e)),aN.get(e)}const gR="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kse{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gR,"1"),this.storage.removeItem(gR),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xqe(){const t=kr();return Gz(t)||_x(t)}const Yqe=1e3,Qqe=10;class Xse extends Kse{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Xqe()&&Kje(),this.fallbackToPolling=Lse(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qje()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qqe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yqe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xse.type="LOCAL";const Yz=Xse;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse extends Kse{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yse.type="SESSION";const bg=Yse;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jqe(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Uk(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Jqe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zqe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=QC("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function e9e(t){Bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(){return typeof Bi().WorkerGlobalScope!="undefined"&&typeof Bi().importScripts=="function"}async function t9e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n9e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r9e(){return Qz()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse="firebaseLocalStorageDb",i9e=1,vR="firebaseLocalStorage",Jse="fbase_key";class JC{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zk(t,e){return t.transaction([vR],e?"readwrite":"readonly").objectStore(vR)}function s9e(){const t=indexedDB.deleteDatabase(Qse);return new JC(t).toPromise()}function h3(){const t=indexedDB.open(Qse,i9e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vR,{keyPath:Jse})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vR)?e(r):(r.close(),await s9e(),e(await h3()))})})}async function Cj(t,e,n){const r=zk(t,!0).put({[Jse]:e,value:n});return new JC(r).toPromise()}async function o9e(t,e){const n=zk(t,!1).get(e),r=await new JC(n).toPromise();return r===void 0?null:r.value}function Tj(t,e){const n=zk(t,!0).delete(e);return new JC(n).toPromise()}const a9e=800,l9e=3;class Zse{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h3(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l9e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uk._getInstance(r9e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t9e(),!this.activeServiceWorker)return;this.sender=new Zqe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n9e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h3();return await Cj(e,gR,"1"),await Tj(e,gR),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o9e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Tj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zk(i,!1).getAll();return new JC(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a9e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zse.type="LOCAL";const IS=Zse;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9e(t,e){return xs(t,"POST","/v2/accounts/mfaSignIn:start",Ki(t,e))}function u9e(t,e){return xs(t,"POST","/v2/accounts/mfaSignIn:finalize",Ki(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9e(t){return(await xs(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9e(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function eoe(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Bs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",f9e().appendChild(r)})}function toe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9e=500,p9e=6e4,QI=1e12;class m9e{constructor(e){this.auth=e,this.counter=QI,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new g9e(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||QI;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||QI;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||QI;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class g9e{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;_t(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=v9e(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},p9e)},h9e))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function v9e(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=toe("rcb"),y9e=new XC(3e4,6e4),_9e="https://www.google.com/recaptcha/api.js?";class x9e{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bi().grecaptcha}load(e,n=""){return _t(w9e(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Bi().grecaptcha):new Promise((r,i)=>{const s=Bi().setTimeout(()=>{i(Bs(e,"network-request-failed"))},y9e.get());Bi()[lN]=()=>{Bi().clearTimeout(s),delete Bi()[lN];const a=Bi().grecaptcha;if(!a){i(Bs(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${_9e}?${Hg({onload:lN,render:"explicit",hl:n})}`;eoe(o).catch(()=>{clearTimeout(s),i(Bs(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Bi().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function w9e(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class b9e{async load(e){return new m9e(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const noe="recaptcha",S9e={theme:"light",type:"image"};class C9e{constructor(e,n=Object.assign({},S9e),r){this.parameters=n,this.type=noe,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gs(r),this.isInvisible=this.parameters.size==="invisible",_t(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;_t(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new b9e:new x9e,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{!o||(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){_t(!this.parameters.sitekey,this.auth,"argument-error"),_t(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),_t(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Bi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){_t(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){_t(Wz()&&!Qz(),this.auth,"internal-error"),await T9e(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await d9e(this.auth);_t(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return _t(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function T9e(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Qm._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function E9e(t,e,n){const r=gs(t),i=await Vk(r,e,ft(n));return new Jz(i,s=>Fk(r,s))}async function I9e(t,e,n){const r=ft(t);await Ok(!1,r,"phone");const i=await Vk(r.auth,e,ft(n));return new Jz(i,s=>Wse(r,s))}async function M9e(t,e,n){const r=ft(t),i=await Vk(r.auth,e,ft(n));return new Jz(i,s=>Hse(r,s))}async function Vk(t,e,n){var r;const i=await n.verify();try{_t(typeof i=="string",t,"argument-error"),_t(n.type===noe,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return _t(o.type==="enroll",t,"internal-error"),(await Gqe(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{_t(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return _t(a,t,"missing-multi-factor-info"),(await c9e(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await lqe(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function A9e(t,e){await jz(ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.providerId=_c.PROVIDER_ID,this.auth=gs(e)}verifyPhoneNumber(e,n){return Vk(this.auth,e,ft(n))}static credential(e,n){return Qm._fromVerification(e,n)}static credentialFromResult(e){const n=e;return _c.credentialFromTaggedObject(n)}static credentialFromError(e){return _c.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Qm._fromTokenResponse(n,r):null}}_c.PROVIDER_ID="phone";_c.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){return e?La(e):(_t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz extends xx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Td(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Td(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Td(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R9e(t){return Vse(t.auth,new Zz(t),t.bypassAuthState)}function P9e(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),zse(n,new Zz(t),t.bypassAuthState)}async function k9e(t){const{auth:e,user:n}=t;return _t(n,e,"internal-error"),jz(n,new Zz(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class roe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R9e;case"linkViaPopup":case"linkViaRedirect":return k9e;case"reauthViaPopup":case"reauthViaRedirect":return P9e;default:Vs(this.auth,"internal-error")}}resolve(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9e=new XC(2e3,1e4);async function D9e(t,e,n){const r=gs(t);yx(t,e,Qd);const i=sv(r,n);return new vd(r,"signInViaPopup",e,i).executeNotNull()}async function N9e(t,e,n){const r=ft(t);yx(r.auth,e,Qd);const i=sv(r.auth,n);return new vd(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function O9e(t,e,n){const r=ft(t);yx(r.auth,e,Qd);const i=sv(r.auth,n);return new vd(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class vd extends roe{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vd.currentPopupAction&&vd.currentPopupAction.cancel(),vd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _t(e,this.auth,"internal-error"),e}async onExecution(){Tc(this.filter.length===1,"Popup operations only handle one event");const e=QC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bs(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,L9e.get())};e()}}vd.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9e="pendingRedirect",YM=new Map;class B9e extends roe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=YM.get(this.auth._key());if(!e){try{const r=await $9e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}YM.set(this.auth._key(),e)}return this.bypassAuthState||YM.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $9e(t,e){const n=soe(e),r=ioe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function e4(t,e){return ioe(t)._set(soe(e),"true")}function U9e(){YM.clear()}function ioe(t){return La(t._redirectPersistence)}function soe(t){return Ym(F9e,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9e(t,e,n){return V9e(t,e,n)}async function V9e(t,e,n){const r=gs(t);yx(t,e,Qd);const i=sv(r,n);return await e4(i,r),i._openRedirect(r,e,"signInViaRedirect")}function W9e(t,e,n){return H9e(t,e,n)}async function H9e(t,e,n){const r=ft(t);yx(r.auth,e,Qd);const i=sv(r.auth,n);await e4(i,r.auth);const s=await ooe(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function G9e(t,e,n){return j9e(t,e,n)}async function j9e(t,e,n){const r=ft(t);yx(r.auth,e,Qd);const i=sv(r.auth,n);await Ok(!1,r,e.providerId),await e4(i,r.auth);const s=await ooe(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function q9e(t,e){return await gs(t)._initializationPromise,Wk(t,e,!1)}async function Wk(t,e,n=!1){const r=gs(t),i=sv(r,e),o=await new B9e(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function ooe(t){const e=QC(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9e=10*60*1e3;class aoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X9e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!loe(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K9e&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ej(e))}saveEventToCache(e){this.cachedEventUids.add(Ej(e)),this.lastProcessedEventTime=Date.now()}}function Ej(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function loe({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X9e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return loe(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function coe(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q9e=/^https?/;async function J9e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await coe(t);for(const n of e)try{if(Z9e(n))return}catch{}Vs(t,"unauthorized-domain")}function Z9e(t){const e=SS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q9e.test(n))return!1;if(Y9e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7e=new XC(3e4,6e4);function Ij(){const t=Bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function t7e(t){return new Promise((e,n)=>{var r,i,s;function o(){Ij(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ij(),n(Bs(t,"network-request-failed"))},timeout:e7e.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)o();else{const a=toe("iframefcb");return Bi()[a]=()=>{gapi.load?o():n(Bs(t,"network-request-failed"))},eoe(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw QM=null,e})}let QM=null;function n7e(t){return QM=QM||t7e(t),QM}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7e=new XC(5e3,15e3),i7e="__/auth/iframe",s7e="emulator/auth/iframe",o7e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a7e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l7e(t){const e=t.config;_t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hz(e,s7e):`https://${t.config.authDomain}/${i7e}`,r={apiKey:e.apiKey,appName:t.name,v:ku},i=a7e.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Hg(r).slice(1)}`}async function c7e(t){const e=await n7e(t),n=Bi().gapi;return _t(n,t,"internal-error"),e.open({where:document.body,url:l7e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o7e,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Bs(t,"network-request-failed"),a=Bi().setTimeout(()=>{s(o)},r7e.get());function l(){Bi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d7e=500,f7e=600,h7e="_blank",p7e="http://localhost";class Mj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m7e(t,e,n,r=d7e,i=f7e){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},u7e),{width:r.toString(),height:i.toString(),top:s,left:o}),c=kr().toLowerCase();n&&(a=Ase(c)?h7e:n),Mse(c)&&(e=e||p7e,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(jje(c)&&a!=="_self")return g7e(e||"",a),new Mj(null);const d=window.open(e||"",a,u);_t(d,t,"popup-blocked");try{d.focus()}catch{}return new Mj(d)}function g7e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7e="__/auth/handler",y7e="emulator/auth/handler";function p3(t,e,n,r,i,s){_t(t.config.authDomain,t,"auth-domain-config-required"),_t(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ku,eventId:i};if(e instanceof Qd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof wx){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${_7e(t)}?${Hg(a).slice(1)}`}function _7e({config:t}){return t.emulator?Hz(t,y7e):`https://${t.authDomain}/${v7e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="webStorageSupport";class x7e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bg,this._completeRedirectFn=Wk}async _openPopup(e,n,r,i){var s;Tc((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=p3(e,n,r,SS(),i);return m7e(e,o,QC())}async _openRedirect(e,n,r,i){return await this._originValidation(e),e9e(p3(e,n,r,SS(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Tc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c7e(e),r=new aoe(e);return n.register("authEvent",i=>(_t(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cN,{type:cN},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cN];o!==void 0&&n(!!o),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J9e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lse()||Gz()||_x()}}const w7e=x7e;class b7e{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return iu("unexpected MultiFactorSessionType")}}}class t4 extends b7e{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new t4(e)}_finalizeEnroll(e,n,r){return jqe(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return u9e(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class uoe{constructor(){}static assertion(e){return t4._fromCredential(e)}}uoe.FACTOR_ID="phone";var Aj="@firebase/auth",Rj="0.19.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function T7e(t){ti(new Gn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{_t(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),_t(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dse(t)},u=new Xje(a,l,c);return Mje(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new Gn("auth-internal",e=>{const n=gs(e.getProvider("auth").getImmediate());return(r=>new S7e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Aj,Rj,C7e(t)),dr(Aj,Rj,"esm2017")}T7e("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E7e=2e3;async function I7e(t,e,n){var r;const{BuildInfo:i}=Sg();Tc(e.sessionId,"AuthEvent did not contain a session ID");const s=await k7e(e.sessionId),o={};return _x()?o.ibi=i.packageName:YC()?o.apn=i.packageName:Vs(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,p3(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function M7e(t){const{BuildInfo:e}=Sg(),n={};_x()?n.iosBundleId=e.packageName:YC()?n.androidPackageName=e.packageName:Vs(t,"operation-not-supported-in-this-environment"),await coe(t,n)}function A7e(t){const{cordova:e}=Sg();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,Gje()?"_blank":"_system","location=yes"),n(i)})})}async function R7e(t,e,n){const{cordova:r}=Sg();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const f=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(Bs(t,"redirect-cancelled-by-user"))},E7e))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),YC()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function P7e(t){var e,n,r,i,s,o,a,l,c,u;const d=Sg();_t(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_t(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)!="undefined",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_t(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_t(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_t(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function k7e(t){const e=L7e(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function L7e(t){if(Tc(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder!="undefined")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7e=20;class N7e extends aoe{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function O7e(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:$7e(),postBody:null,tenantId:t.tenantId,error:Bs(t,"no-auth-event")}}function F7e(t,e){return m3()._set(g3(t),e)}async function Pj(t){const e=await m3()._get(g3(t));return e&&await m3()._remove(g3(t)),e}function B7e(t,e){var n,r;const i=z7e(e);if(i.includes("/__/auth/callback")){const s=JM(i),o=s.firebaseError?U7e(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Bs(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function $7e(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<D7e;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function m3(){return La(Yz)}function g3(t){return Ym("authEvent",t.config.apiKey,t.name)}function U7e(t){try{return JSON.parse(t)}catch{return null}}function z7e(t){const e=JM(t),n=e.link?decodeURIComponent(e.link):void 0,r=JM(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return JM(i).link||i||r||n||t}function JM(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return u0(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7e=500;class W7e{constructor(){this._redirectPersistence=bg,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Wk}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new N7e(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Vs(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){P7e(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),U9e(),await this._originValidation(e);const o=O7e(e,r,i);await F7e(e,o);const a=await I7e(e,o,n),l=await A7e(a);return R7e(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M7e(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Sg(),o=setTimeout(async()=>{await Pj(e),n.onEvent(kj())},V7e),a=async u=>{clearTimeout(o);const d=await Pj(e);let f=null;d&&(u==null?void 0:u.url)&&(f=B7e(d,u.url)),n.onEvent(f||kj())};typeof r!="undefined"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;Sg().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const H7e=W7e;function kj(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Bs("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7e(t,e){gs(t)._logFramework(e)}var j7e="@firebase/auth-compat",q7e="0.2.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7e=1e3;function yR(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function X7e(){return yR()==="http:"||yR()==="https:"}function doe(t=kr()){return!!((yR()==="file:"||yR()==="ionic:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Y7e(){return hC()||w$()}function Q7e(){return b$()&&(document==null?void 0:document.documentMode)===11}function J7e(t=kr()){return/Edge\/\d+/.test(t)}function Z7e(t=kr()){return Q7e()||J7e(t)}function foe(){try{const t=self.localStorage,e=QC();if(t)return t.setItem(e,"1"),t.removeItem(e),Z7e()?ha():!0}catch{return n4()&&ha()}return!1}function n4(){return typeof global!="undefined"&&"WorkerGlobalScope"in global&&"importScripts"in global}function uN(){return(X7e()||fC()||doe())&&!Y7e()&&foe()&&!n4()}function hoe(){return doe()&&typeof document!="undefined"}async function eKe(){return hoe()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},K7e);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function tKe(){return typeof window!="undefined"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa={LOCAL:"local",NONE:"none",SESSION:"session"},db=_t,poe="persistence";function nKe(t,e){if(db(Object.values(Aa).includes(e),t,"invalid-persistence-type"),hC()){db(e!==Aa.SESSION,t,"unsupported-persistence-type");return}if(w$()){db(e===Aa.NONE,t,"unsupported-persistence-type");return}if(n4()){db(e===Aa.NONE||e===Aa.LOCAL&&ha(),t,"unsupported-persistence-type");return}db(e===Aa.NONE||foe(),t,"unsupported-persistence-type")}async function v3(t){await t._initializationPromise;const e=moe(),n=Ym(poe,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function rKe(t,e){const n=moe();if(!n)return[];const r=Ym(poe,t,e);switch(n.getItem(r)){case Aa.NONE:return[R_];case Aa.LOCAL:return[IS,bg];case Aa.SESSION:return[bg];default:return[]}}function moe(){var t;try{return((t=tKe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iKe=_t;class uh{constructor(){this.browserResolver=La(w7e),this.cordovaResolver=La(H7e),this.underlyingResolver=null,this._redirectPersistence=bg,this._completeRedirectFn=Wk}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return hoe()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return iKe(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await eKe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function goe(t){return t.unwrap()}function sKe(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oKe(t){return voe(t)}function aKe(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if(e.code==="auth/multi-factor-auth-required"){const i=e;i.resolver=new lKe(t,Hqe(t,e))}else if(r){const i=voe(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function voe(t){const{_tokenResponse:e}=t instanceof hi?t.customData:t;if(!e)return null;if(!(t instanceof hi)&&"temporaryProof"in e&&"phoneNumber"in e)return _c.credentialFromResult(t);const n=e.providerId;if(!n||n===ub.PASSWORD)return null;let r;switch(n){case ub.GOOGLE:r=eu;break;case ub.FACEBOOK:r=Zc;break;case ub.GITHUB:r=tu;break;case ub.TWITTER:r=nu;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?P_._create(n,a):bu._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new F0(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof hi?r.credentialFromError(t):r.credentialFromResult(t)}function Qo(t,e){return e.catch(n=>{throw n instanceof hi&&aKe(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:oKe(n),additionalUserInfo:Wqe(n),user:yd.getOrCreate(i)}})}async function y3(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Qo(t,n.confirm(r))}}class lKe{constructor(e,n){this.resolver=n,this.auth=sKe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Qo(goe(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._delegate=e,this.multiFactor=Kqe(e)}static getOrCreate(e){return yd.USER_MAP.has(e)||yd.USER_MAP.set(e,new yd(e)),yd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Qo(this.auth,Wse(this._delegate,e))}async linkWithPhoneNumber(e,n){return y3(this.auth,I9e(this._delegate,e,n))}async linkWithPopup(e){return Qo(this.auth,O9e(this._delegate,e,uh))}async linkWithRedirect(e){return await v3(gs(this.auth)),G9e(this._delegate,e,uh)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Qo(this.auth,Hse(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return y3(this.auth,M9e(this._delegate,e,n))}reauthenticateWithPopup(e){return Qo(this.auth,N9e(this._delegate,e,uh))}async reauthenticateWithRedirect(e){return await v3(gs(this.auth)),W9e(this._delegate,e,uh)}sendEmailVerification(e){return kqe(this._delegate,e)}async unlink(e){return await yqe(this._delegate,e),this}updateEmail(e){return Oqe(this._delegate,e)}updatePassword(e){return Fqe(this._delegate,e)}updatePhoneNumber(e){return A9e(this._delegate,e)}updateProfile(e){return Nqe(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Lqe(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}yd.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=_t;class _3{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;fb(r,"invalid-api-key",{appName:e.name}),fb(r,"invalid-api-key",{appName:e.name});const i=typeof window!="undefined"?uh:void 0;this._delegate=n.initialize({options:{persistence:cKe(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Eje),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?yd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){Yje(this._delegate,e,n)}applyActionCode(e){return Sqe(this._delegate,e)}checkActionCode(e){return Gse(this._delegate,e)}confirmPasswordReset(e,n){return bqe(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Qo(this._delegate,Tqe(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Pqe(this._delegate,e)}isSignInWithEmailLink(e){return Mqe(this._delegate,e)}async getRedirectResult(){fb(uN(),this._delegate,"operation-not-supported-in-this-environment");const e=await q9e(this._delegate,uh);return e?Qo(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){G7e(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=Lj(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=Lj(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return Iqe(this._delegate,e,n)}sendPasswordResetEmail(e,n){return wqe(this._delegate,e,n||void 0)}async setPersistence(e){nKe(this._delegate,e);let n;switch(e){case Aa.SESSION:n=bg;break;case Aa.LOCAL:n=await La(IS)._isAvailable()?IS:Yz;break;case Aa.NONE:n=R_;break;default:return Vs("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Qo(this._delegate,vqe(this._delegate))}signInWithCredential(e){return Qo(this._delegate,Fk(this._delegate,e))}signInWithCustomToken(e){return Qo(this._delegate,xqe(this._delegate,e))}signInWithEmailAndPassword(e,n){return Qo(this._delegate,Eqe(this._delegate,e,n))}signInWithEmailLink(e,n){return Qo(this._delegate,Aqe(this._delegate,e,n))}signInWithPhoneNumber(e,n){return y3(this._delegate,E9e(this._delegate,e,n))}async signInWithPopup(e){return fb(uN(),this._delegate,"operation-not-supported-in-this-environment"),Qo(this._delegate,D9e(this._delegate,e,uh))}async signInWithRedirect(e){return fb(uN(),this._delegate,"operation-not-supported-in-this-environment"),await v3(this._delegate),z9e(this._delegate,e,uh)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Cqe(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}_3.Persistence=Aa;function Lj(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&yd.getOrCreate(o)),error:e,complete:n}}function cKe(t,e){const n=rKe(t,e);if(typeof self!="undefined"&&!n.includes(IS)&&n.push(IS),typeof window!="undefined")for(const r of[Yz,bg])n.includes(r)||n.push(r);return n.includes(R_)||n.push(R_),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.providerId="phone",this._delegate=new _c(goe(qi.auth()))}static credential(e,n){return _c.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}r4.PHONE_SIGN_IN_METHOD=_c.PHONE_SIGN_IN_METHOD;r4.PROVIDER_ID=_c.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uKe=_t;class dKe{constructor(e,n,r=qi.app()){var i;uKe((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new C9e(e,n,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fKe="auth-compat";function hKe(t){t.INTERNAL.registerComponent(new Gn(fKe,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new _3(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Oy.EMAIL_SIGNIN,PASSWORD_RESET:Oy.PASSWORD_RESET,RECOVER_EMAIL:Oy.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Oy.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Oy.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Oy.VERIFY_EMAIL}},EmailAuthProvider:cp,FacebookAuthProvider:Zc,GithubAuthProvider:tu,GoogleAuthProvider:eu,OAuthProvider:F0,SAMLAuthProvider:pR,PhoneAuthProvider:r4,PhoneMultiFactorGenerator:uoe,RecaptchaVerifier:dKe,TwitterAuthProvider:nu,Auth:_3,AuthCredential:xx,Error:hi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(j7e,q7e)}hKe(qi);const Dj="@firebase/database",Nj="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yoe="";function _oe(t){yoe=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pKe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),zi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:H1(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mKe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Va(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xoe=function(t){try{if(typeof window!="undefined"&&typeof window[t]!="undefined"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pKe(e)}}catch{}return new mKe},Lm=xoe("localStorage"),x3=xoe("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Pu("@firebase/database"),woe=function(){let t=1;return function(){return t++}}(),boe=function(t){const e=qpe(t),n=new Hpe;n.update(e);const r=n.digest();return TP.encodeByteArray(r)},ZC=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ZC.apply(null,r):typeof r=="object"?e+=zi(r):e+=r,e+=" "}return e};let Jm=null,Oj=!0;const Soe=function(t,e){wt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?($0.logLevel=wn.VERBOSE,Jm=$0.log.bind($0),e&&x3.set("logging_enabled",!0)):typeof t=="function"?Jm=t:(Jm=null,x3.remove("logging_enabled"))},as=function(...t){if(Oj===!0&&(Oj=!1,Jm===null&&x3.get("logging_enabled")===!0&&Soe(!0)),Jm){const e=ZC.apply(null,t);Jm(e)}},eT=function(t){return function(...e){as(t,...e)}},w3=function(...t){const e="FIREBASE INTERNAL ERROR: "+ZC(...t);$0.error(e)},Su=function(...t){const e=`FIREBASE FATAL ERROR: ${ZC(...t)}`;throw $0.error(e),new Error(e)},ko=function(...t){const e="FIREBASE WARNING: "+ZC(...t);$0.warn(e)},gKe=function(){typeof window!="undefined"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ko("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hk=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vKe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zd="[MIN_NAME]",Cu="[MAX_NAME]",ov=function(t,e){if(t===e)return 0;if(t===zd||e===Cu)return-1;if(e===zd||t===Cu)return 1;{const n=_R(t),r=_R(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yKe=function(t,e){return t===e?0:t<e?-1:1},hb=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+zi(e))},i4=function(t){if(typeof t!="object"||t===null)return zi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=zi(e[r]),n+=":",n+=i4(t[e[r]]);return n+="}",n},Coe=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vs(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Toe=function(t){wt(!Hk(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_Ke=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xKe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function wKe(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const bKe=new RegExp("^-?(0*)\\d{1,10}$"),Eoe=-2147483648,s4=2147483647,_R=function(t){if(bKe.test(t)){const e=Number(t);if(e>=Eoe&&e<=s4)return e}return null},bx=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ko("Exception was thrown by user callback.",n),e},Math.floor(0))}},SKe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},f1=function(t,e){const n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CKe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ko(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TKe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(as("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ko(e)}}class U0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}U0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="5",Ioe="v",Moe="s",Aoe="r",Roe="f",Poe=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,koe="ls",EKe="p",b3="ac",Loe="websocket",Doe="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Lm.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Lm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function IKe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ooe(t,e,n){wt(typeof e=="string","typeof type must == string"),wt(typeof n=="object","typeof params must == object");let r;if(e===Loe)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Doe)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);IKe(t)&&(n.ns=t.namespace);const i=[];return vs(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MKe{constructor(){this.counters_={}}incrementCounter(e,n=1){Va(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ppe(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={},fN={};function a4(t){const e=t.toString();return dN[e]||(dN[e]=new MKe),dN[e]}function AKe(t,e){const n=t.toString();return fN[n]||(fN[n]=e()),fN[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RKe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&bx(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="start",PKe="close",kKe="pLPCommand",LKe="pRTLPCB",Foe="id",Boe="pw",$oe="ser",DKe="cb",NKe="seg",OKe="ts",FKe="d",BKe="dframe",Uoe=1870,zoe=30,$Ke=Uoe-zoe,UKe=25e3,zKe=3e4;class v0{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eT(e),this.stats_=a4(n),this.urlFn=l=>(this.appCheckToken&&(l[b3]=this.appCheckToken),Ooe(n,Doe,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new RKe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zKe)),vKe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new l4((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Fj)this.id=a,this.password=l;else if(o===PKe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Fj]="t",r[$oe]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[DKe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ioe]=o4,this.transportSessionId&&(r[Moe]=this.transportSessionId),this.lastSessionId&&(r[koe]=this.lastSessionId),this.applicationId&&(r[EKe]=this.applicationId),this.appCheckToken&&(r[b3]=this.appCheckToken),typeof location!="undefined"&&location.hostname&&Poe.test(location.hostname)&&(r[Aoe]=Roe);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){v0.forceAllow_=!0}static forceDisallow(){v0.forceDisallow_=!0}static isAvailable(){return v0.forceAllow_?!0:!v0.forceDisallow_&&typeof document!="undefined"&&document.createElement!=null&&!_Ke()&&!xKe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=zi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=kX(n),i=Coe(r,$Ke);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[BKe]="t",r[Foe]=e,r[Boe]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=zi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class l4{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=woe(),window[kKe+this.uniqueCallbackIdentifier]=e,window[LKe+this.uniqueCallbackIdentifier]=n,this.myIFrame=l4.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){as("frame writing exception"),a.stack&&as(a.stack),as(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||as("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Foe]=this.myID,e[Boe]=this.myPW,e[$oe]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zoe+r.length<=Uoe;){const o=this.pendingSegs.shift();r=r+"&"+NKe+i+"="+o.seg+"&"+OKe+i+"="+o.ts+"&"+FKe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(UKe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{as("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VKe=16384,WKe=45e3;let xR=null;typeof MozWebSocket!="undefined"?xR=MozWebSocket:typeof WebSocket!="undefined"&&(xR=WebSocket);class uc{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eT(this.connId),this.stats_=a4(n),this.connURL=uc.connectionURL_(n,o,a,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i){const s={};return s[Ioe]=o4,typeof location!="undefined"&&location.hostname&&Poe.test(location.hostname)&&(s[Aoe]=Roe),n&&(s[Moe]=n),r&&(s[koe]=r),i&&(s[b3]=i),Ooe(e,Loe,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Lm.set("previous_websocket_failure",!0);try{if(!LX()){const r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new xR(this.connURL,[],r)}}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){uc.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator!="undefined"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&xR!==null&&!uc.forceDisallow_}static previouslyFailed(){return Lm.isInMemoryStorage||Lm.get("previous_websocket_failure")===!0}markConnectionHealthy(){Lm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=H1(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(wt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=zi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Coe(n,VKe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WKe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}uc.responsesRequiredToBeHealthy=2;uc.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[v0,uc]}initTransports_(e){const n=uc&&uc.isAvailable();let r=n&&!uc.previouslyFailed();if(e.webSocketOnly&&(n||ko("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uc];else{const i=this.transports_=[];for(const s of c4.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HKe=6e4,GKe=5e3,jKe=10*1024,qKe=100*1024,hN="t",Bj="d",KKe="s",$j="r",XKe="e",Uj="o",zj="a",Vj="n",Wj="p",YKe="h";class QKe{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eT("c:"+this.id+":"),this.transportManager_=new c4(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=f1(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qKe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jKe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(hN in e){const n=e[hN];n===zj?this.upgradeIfSecondaryHealthy_():n===$j?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Uj&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=hb("t",e),r=hb("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Wj,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zj,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vj,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=hb("t",e),r=hb("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=hb(hN,e);if(Bj in e){const r=e[Bj];if(n===YKe)this.onHandshake_(r);else if(n===Vj){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===KKe?this.onConnectionShutdown_(r):n===$j?this.onReset_(r):n===XKe?w3("Server Error: "+r):n===Uj?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w3("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),o4!==r&&ko("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),f1(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(HKe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):f1(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(GKe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Wj,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Lm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(e){this.allowedEvents_=e,this.listeners_={},wt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){wt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends Woe{constructor(){super(["online"]),this.online_=!0,typeof window!="undefined"&&typeof window.addEventListener!="undefined"&&!EP()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new wR}getInitialEvent(e){return wt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=32,Gj=768;class sr{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Yn(){return new sr("")}function bn(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Uh(t){return t.pieces_.length-t.pieceNum_}function hr(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new sr(t.pieces_,e)}function u4(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function JKe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function MS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Hoe(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new sr(e,0)}function Fr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof sr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new sr(n,0)}function Sn(t){return t.pieceNum_>=t.pieces_.length}function Io(t,e){const n=bn(t),r=bn(e);if(n===null)return e;if(n===r)return Io(hr(t),hr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ZKe(t,e){const n=MS(t,0),r=MS(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=ov(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function d4(t,e){if(Uh(t)!==Uh(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function fl(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Uh(t)>Uh(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class eXe{constructor(e,n){this.errorPrefix_=n,this.parts_=MS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=MP(this.parts_[r]);Goe(this)}}function tXe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=MP(e),Goe(t)}function nXe(t){const e=t.parts_.pop();t.byteLength_-=MP(e),t.parts_.length>0&&(t.byteLength_-=1)}function Goe(t){if(t.byteLength_>Gj)throw new Error(t.errorPrefix_+"has a key path longer than "+Gj+" bytes ("+t.byteLength_+").");if(t.parts_.length>Hj)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hj+") or object contains a cycle "+pm(t))}function pm(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4 extends Woe{constructor(){super(["visible"]);let e,n;typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(n="visibilitychange",e="hidden"):typeof document.mozHidden!="undefined"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden!="undefined"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden!="undefined"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new f4}getInitialEvent(e){return wt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=1e3,rXe=60*5*1e3,iXe=3*1e3,jj=30*1e3,sXe=1.3,oXe=3e4,aXe="server_kill",qj=3;class Ed extends Voe{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Ed.nextPersistentConnectionId_++,this.log_=eT("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pb,this.maxReconnectDelay_=rXe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!LX())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");f4.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wR.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(zi(s)),wt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Ui,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?(this.onDataUpdate_(r.p,a,!1,null),n.resolve(a)):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const o=this.outstandingGets_[s];o===void 0||i!==o||(delete this.outstandingGets_[s],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),this.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},iXe),this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),wt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),wt(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Ed.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Va(e,"w")){const r=sg(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();ko(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Wpe(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jj)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Vpe(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),wt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+zi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):w3("Unrecognized action received from server: "+zi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){wt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=pb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oXe&&(this.reconnectDelay_=pb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sXe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ed.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){wt(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?as("getToken() completed but was canceled"):(as("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new QKe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{ko(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(aXe)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&ko(d),l())}}}interrupt(e){as("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){as("Resuming connection for reason: "+e),delete this.interruptReasons_[e],DA(this.interruptReasons_)&&(this.reconnectDelay_=pb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>i4(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new sr(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){as("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qj&&(this.reconnectDelay_=jj,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){as("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qj&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+yoe.replace(/\./g,"-")]=1,EP()?e["framework.cordova"]=1:hC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wR.getInstance().currentlyOnline();return DA(this.interruptReasons_)&&e}}Ed.nextPersistentConnectionId_=0;Ed.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new En(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new En(zd,e),i=new En(zd,n);return this.compare(r,i)!==0}minPost(){return En.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JI;class joe extends Gk{static get __EMPTY_NODE(){return JI}static set __EMPTY_NODE(e){JI=e}compare(e,n){return ov(e.name,n.name)}isDefinedOn(e){throw J_("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return En.MIN}maxPost(){return new En(Cu,JI)}makePost(e,n){return wt(typeof e=="string","KeyIndex indexValue must always be a string."),new En(e,JI)}toString(){return".key"}}const fu=new joe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class os{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:os.RED,this.left=i!=null?i:sa.EMPTY_NODE,this.right=s!=null?s:sa.EMPTY_NODE}copy(e,n,r,i,s){return new os(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return sa.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return sa.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}os.RED=!0;os.BLACK=!1;class lXe{copy(e,n,r,i,s){return this}insert(e,n,r){return new os(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sa{constructor(e,n=sa.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new sa(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,os.BLACK,null,null))}remove(e){return new sa(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,os.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ZI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ZI(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ZI(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ZI(this.root_,null,this.comparator_,!0,e)}}sa.EMPTY_NODE=new lXe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cXe(t,e){return ov(t.name,e.name)}function h4(t,e){return ov(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S3;function uXe(t){S3=t}const qoe=function(t){return typeof t=="number"?"number:"+Toe(t):"string:"+t},Koe=function(t){if(t.isLeafNode()){const e=t.val();wt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Va(e,".sv"),"Priority must be a string or number.")}else wt(t===S3||t.isEmpty(),"priority of unexpected type.");wt(t===S3||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kj;class ns{constructor(e,n=ns.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,wt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Koe(this.priorityNode_)}static set __childrenNodeConstructor(e){Kj=e}static get __childrenNodeConstructor(){return Kj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ns(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ns.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Sn(e)?this:bn(e)===".priority"?this.priorityNode_:ns.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ns.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=bn(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(wt(r!==".priority"||Uh(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ns.__childrenNodeConstructor.EMPTY_NODE.updateChild(hr(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+qoe(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Toe(this.value_):e+=this.value_,this.lazyHash_=boe(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ns.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ns.__childrenNodeConstructor?-1:(wt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ns.VALUE_TYPE_ORDER.indexOf(n),s=ns.VALUE_TYPE_ORDER.indexOf(r);return wt(i>=0,"Unknown leaf type: "+n),wt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ns.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xoe,Yoe;function dXe(t){Xoe=t}function fXe(t){Yoe=t}class hXe extends Gk{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ov(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return En.MIN}maxPost(){return new En(Cu,new ns("[PRIORITY-POST]",Yoe))}makePost(e,n){const r=Xoe(e);return new En(n,new ns("[PRIORITY-POST]",r))}toString(){return".priority"}}const wr=new hXe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pXe=Math.log(2);class mXe{constructor(e){const n=s=>parseInt(Math.log(s)/pXe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bR=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new os(f,d.node,os.BLACK,null,null);{const p=parseInt(u/2,10)+l,g=i(l,p),v=i(p+1,c);return d=t[p],f=n?n(d):d,new os(f,d.node,os.BLACK,g,v)}},s=function(l){let c=null,u=null,d=t.length;const f=function(g,v){const y=d-g,x=d;d-=g;const w=i(y+1,x),b=t[y],T=n?n(b):b;p(new os(T,b.node,v,null,w))},p=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),y=Math.pow(2,l.count-(g+1));v?f(y,os.BLACK):(f(y,os.BLACK),f(y,os.RED))}return u},o=new mXe(t.length),a=s(o);return new sa(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pN;const Fy={};class _d{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return wt(Fy&&wr,"ChildrenNode.ts has not been loaded"),pN=pN||new _d({".priority":Fy},{".priority":wr}),pN}get(e){const n=sg(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof sa?n:null}hasIndex(e){return Va(this.indexSet_,e.toString())}addIndex(e,n){wt(e!==fu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(En.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=bR(r,e.getCompare()):a=Fy;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new _d(u,c)}addToIndexes(e,n){const r=NA(this.indexes_,(i,s)=>{const o=sg(this.indexSet_,s);if(wt(o,"Missing index implementation for "+s),i===Fy)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(En.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),bR(a,o.getCompare())}else return Fy;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new En(e.name,a))),l.insert(e,e.node)}});return new _d(r,this.indexSet_)}removeFromIndexes(e,n){const r=NA(this.indexes_,i=>{if(i===Fy)return i;{const s=n.get(e.name);return s?i.remove(new En(e.name,s)):i}});return new _d(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb;class nn{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Koe(this.priorityNode_),this.children_.isEmpty()&&wt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return mb||(mb=new nn(new sa(h4),null,_d.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||mb}updatePriority(e){return this.children_.isEmpty()?this:new nn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?mb:n}}getChild(e){const n=bn(e);return n===null?this:this.getImmediateChild(n).getChild(hr(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(wt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new En(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?mb:this.priorityNode_;return new nn(i,o,s)}}updateChild(e,n){const r=bn(e);if(r===null)return n;{wt(bn(e)!==".priority"||Uh(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(hr(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(wr,(o,a)=>{n[o]=a.val(e),r++,s&&nn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+qoe(this.getPriority().val())+":"),this.forEachChild(wr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":boe(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new En(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new En(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new En(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,En.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,En.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===tT?-1:0}withIndex(e){if(e===fu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new nn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===fu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(wr),i=n.getIterator(wr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===fu?null:this.indexMap_.get(e.toString())}}nn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gXe extends nn{constructor(){super(new sa(h4),nn.EMPTY_NODE,_d.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return nn.EMPTY_NODE}isEmpty(){return!1}}const tT=new gXe;Object.defineProperties(En,{MIN:{value:new En(zd,nn.EMPTY_NODE)},MAX:{value:new En(Cu,tT)}});joe.__EMPTY_NODE=nn.EMPTY_NODE;ns.__childrenNodeConstructor=nn;uXe(tT);fXe(tT);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vXe=!0;function Vr(t,e=null){if(t===null)return nn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),wt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ns(n,Vr(e))}if(!(t instanceof Array)&&vXe){const n=[];let r=!1;if(vs(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Vr(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new En(o,l)))}}),n.length===0)return nn.EMPTY_NODE;const s=bR(n,cXe,o=>o.name,h4);if(r){const o=bR(n,wr.getCompare());return new nn(s,Vr(e),new _d({".priority":o},{".priority":wr}))}else return new nn(s,Vr(e),_d.Default)}else{let n=nn.EMPTY_NODE;return vs(t,(r,i)=>{if(Va(t,r)&&r.substring(0,1)!=="."){const s=Vr(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vr(e))}}dXe(Vr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4 extends Gk{constructor(e){super(),this.indexPath_=e,wt(!Sn(e)&&bn(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ov(e.name,n.name):s}makePost(e,n){const r=Vr(e),i=nn.EMPTY_NODE.updateChild(this.indexPath_,r);return new En(n,i)}maxPost(){const e=nn.EMPTY_NODE.updateChild(this.indexPath_,tT);return new En(Cu,e)}toString(){return MS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yXe extends Gk{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ov(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return En.MIN}maxPost(){return En.MAX}makePost(e,n){const r=Vr(e);return new En(n,r)}toString(){return".value"}}const m4=new yXe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",C3="-",Qoe="z",Joe=786,_Xe=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=k_.charAt(n%64),n=Math.floor(n/64);wt(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=k_.charAt(e[i]);return wt(o.length===20,"nextPushId: Length should be 20."),o}}(),Xj=function(t){if(t===""+s4)return C3;const e=_R(t);if(e!=null)return""+(e+1);const n=new Array(t.length);for(let o=0;o<n.length;o++)n[o]=t.charAt(o);if(n.length<Joe)return n.push(C3),n.join("");let r=n.length-1;for(;r>=0&&n[r]===Qoe;)r--;if(r===-1)return Cu;const i=n[r],s=k_.charAt(k_.indexOf(i)+1);return n[r]=s,n.slice(0,r+1).join("")},Yj=function(t){if(t===""+Eoe)return zd;const e=_R(t);if(e!=null)return""+(e-1);const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===C3?n.length===1?""+s4:(delete n[n.length-1],n.join("")):(n[n.length-1]=k_.charAt(k_.indexOf(n[n.length-1])-1),n.join("")+Qoe.repeat(Joe-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zoe(t){return{type:"value",snapshotNode:t}}function L_(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function AS(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function RS(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xXe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){wt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(AS(n,a)):wt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(L_(n,r)):o.trackChildChange(RS(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(wr,(i,s)=>{n.hasChild(i)||r.trackChildChange(AS(i,s))}),n.isLeafNode()||n.forEachChild(wr,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(RS(i,s,o))}else r.trackChildChange(L_(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?nn.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.indexedFilter_=new g4(e.getIndex()),this.index_=e.getIndex(),this.startPost_=PS.getStartPost_(e),this.endPost_=PS.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new En(n,r))||(r=nn.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=nn.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(nn.EMPTY_NODE);const s=this;return n.forEachChild(wr,(o,a)=>{s.matches(new En(o,a))||(i=i.updateImmediateChild(o,nn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wXe{constructor(e){this.rangedFilter_=new PS(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new En(n,r))||(r=nn.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=nn.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=nn.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(a.name,a.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(nn.EMPTY_NODE);let s,o,a,l;if(this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(f,p)=>d(p,f)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:i=i.updateImmediateChild(d.name,nn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=e;wt(a.numChildren()===this.limit_,"");const l=new En(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(RS(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(AS(n,d));const v=a.updateImmediateChild(n,nn.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(L_(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(AS(c.name,c.node)),s.trackChildChange(L_(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,nn.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return wt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return wt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zd}hasEnd(){return this.endSet_}getIndexEndValue(){return wt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return wt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Cu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return wt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wr}copy(){const e=new jk;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function bXe(t){return t.loadsAllData()?new g4(t.getIndex()):t.hasLimit()?new wXe(t):new PS(t)}function SXe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function CXe(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function T3(t,e,n){const r=t.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function TXe(t,e,n){let r;if(t.index_===fu)typeof e=="string"&&(e=Xj(e)),r=T3(t,e,n);else{let i;n==null?i=Cu:i=Xj(n),r=T3(t,e,i)}return r.startAfterSet_=!0,r}function E3(t,e,n){const r=t.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function EXe(t,e,n){let r,i;return t.index_===fu?(typeof e=="string"&&(e=Yj(e)),i=E3(t,e,n)):(n==null?r=zd:r=Yj(n),i=E3(t,e,r)),i.endBeforeSet_=!0,i}function qk(t,e){const n=t.copy();return n.index_=e,n}function Qj(t){const e={};if(t.isDefault())return e;let n;return t.index_===wr?n="$priority":t.index_===m4?n="$value":t.index_===fu?n="$key":(wt(t.index_ instanceof p4,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=zi(n),t.startSet_&&(e.startAt=zi(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+zi(t.indexStartName_))),t.endSet_&&(e.endAt=zi(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+zi(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jj(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==wr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR extends Voe{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=eT("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(wt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=SR.getListenId_(e,r),a={};this.listens_[o]=a;const l=Qj(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),sg(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=SR.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Qj(e._queryParams),r=e._path.toString(),i=new Ui;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Hg(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=H1(a.responseText)}catch{ko("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&ko("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IXe{constructor(){this.rootNode_=nn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return{value:null,children:new Map}}function Sx(t,e,n){if(Sn(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=bn(e);t.children.has(r)||t.children.set(r,CR());const i=t.children.get(r);e=hr(e),Sx(i,e,n)}}function I3(t,e){if(Sn(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const n=t.value;return t.value=null,n.forEachChild(wr,(r,i)=>{Sx(t,new sr(r),i)}),I3(t,e)}}else if(t.children.size>0){const n=bn(e);return e=hr(e),t.children.has(n)&&I3(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function M3(t,e,n){t.value!==null?n(e,t.value):MXe(t,(r,i)=>{const s=new sr(e.toString()+"/"+r);M3(i,s,n)})}function MXe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AXe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vs(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=10*1e3,RXe=30*1e3,PXe=5*60*1e3;class kXe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new AXe(e);const r=Zj+(RXe-Zj)*Math.random();f1(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vs(e,(i,s)=>{s>0&&Va(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),f1(this.reportStats_.bind(this),Math.floor(Math.random()*2*PXe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mc;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mc||(mc={}));function v4(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function y4(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _4(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mc.ACK_USER_WRITE,this.source=v4()}operationForChild(e){if(Sn(this.path)){if(this.affectedTree.value!=null)return wt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new sr(e));return new TR(Yn(),n,this.revert)}}else return wt(bn(this.path)===e,"operationForChild called for unrelated child."),new TR(hr(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.source=e,this.path=n,this.type=mc.LISTEN_COMPLETE}operationForChild(e){return Sn(this.path)?new kS(this.source,Yn()):new kS(this.source,hr(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mc.OVERWRITE}operationForChild(e){return Sn(this.path)?new Cg(this.source,Yn(),this.snap.getImmediateChild(e)):new Cg(this.source,hr(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mc.MERGE}operationForChild(e){if(Sn(this.path)){const n=this.children.subtree(new sr(e));return n.isEmpty()?null:n.value?new Cg(this.source,Yn(),n.value):new D_(this.source,Yn(),n)}else return wt(bn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new D_(this.source,hr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Sn(e))return this.isFullyInitialized()&&!this.filtered_;const n=bn(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LXe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function DXe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(xXe(o.childName,o.snapshotNode))}),gb(t,i,"child_removed",e,r,n),gb(t,i,"child_added",e,r,n),gb(t,i,"child_moved",s,r,n),gb(t,i,"child_changed",e,r,n),gb(t,i,"value",e,r,n),i}function gb(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>OXe(t,a,l)),o.forEach(a=>{const l=NXe(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function NXe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function OXe(t,e,n){if(e.childName==null||n.childName==null)throw J_("Should only compare child_ events.");const r=new En(e.childName,e.snapshotNode),i=new En(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(t,e){return{eventCache:t,serverCache:e}}function h1(t,e,n,r){return Kk(new zh(e,n,r),t.serverCache)}function eae(t,e,n,r){return Kk(t.eventCache,new zh(e,n,r))}function ER(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tg(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mN;const FXe=()=>(mN||(mN=new sa(yKe)),mN);class _r{constructor(e,n=FXe()){this.value=e,this.children=n}static fromObject(e){let n=new _r(null);return vs(e,(r,i)=>{n=n.set(new sr(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Yn(),value:this.value};if(Sn(e))return null;{const r=bn(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(hr(e),n);return s!=null?{path:Fr(new sr(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Sn(e))return this;{const n=bn(e),r=this.children.get(n);return r!==null?r.subtree(hr(e)):new _r(null)}}set(e,n){if(Sn(e))return new _r(n,this.children);{const r=bn(e),s=(this.children.get(r)||new _r(null)).set(hr(e),n),o=this.children.insert(r,s);return new _r(this.value,o)}}remove(e){if(Sn(e))return this.children.isEmpty()?new _r(null):new _r(null,this.children);{const n=bn(e),r=this.children.get(n);if(r){const i=r.remove(hr(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new _r(null):new _r(this.value,s)}else return this}}get(e){if(Sn(e))return this.value;{const n=bn(e),r=this.children.get(n);return r?r.get(hr(e)):null}}setTree(e,n){if(Sn(e))return n;{const r=bn(e),s=(this.children.get(r)||new _r(null)).setTree(hr(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new _r(this.value,o)}}fold(e){return this.fold_(Yn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Fr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Yn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Sn(e))return null;{const s=bn(e),o=this.children.get(s);return o?o.findOnPath_(hr(e),Fr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Yn(),n)}foreachOnPath_(e,n,r){if(Sn(e))return this;{this.value&&r(n,this.value);const i=bn(e),s=this.children.get(i);return s?s.foreachOnPath_(hr(e),Fr(n,i),r):new _r(null)}}foreach(e){this.foreach_(Yn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this.writeTree_=e}static empty(){return new xc(new _r(null))}}function p1(t,e,n){if(Sn(e))return new xc(new _r(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Io(i,e);return s=s.updateChild(o,n),new xc(t.writeTree_.set(i,s))}else{const i=new _r(n),s=t.writeTree_.setTree(e,i);return new xc(s)}}}function A3(t,e,n){let r=t;return vs(n,(i,s)=>{r=p1(r,Fr(e,i),s)}),r}function eq(t,e){if(Sn(e))return xc.empty();{const n=t.writeTree_.setTree(e,new _r(null));return new xc(n)}}function R3(t,e){return av(t,e)!=null}function av(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Io(n.path,e)):null}function tq(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wr,(r,i)=>{e.push(new En(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new En(r,i.value))}),e}function xh(t,e){if(Sn(e))return t;{const n=av(t,e);return n!=null?new xc(new _r(n)):new xc(t.writeTree_.subtree(e))}}function P3(t){return t.writeTree_.isEmpty()}function N_(t,e){return tae(Yn(),t.writeTree_,e)}function tae(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(wt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=tae(Fr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Fr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e){return sae(e,t)}function BXe(t,e,n,r,i){wt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=p1(t.visibleWrites,e,n)),t.lastWriteId=r}function $Xe(t,e,n,r){wt(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=A3(t.visibleWrites,e,n),t.lastWriteId=r}function UXe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function zXe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);wt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&VXe(a,r.path)?i=!1:fl(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return WXe(t),!0;if(r.snap)t.visibleWrites=eq(t.visibleWrites,r.path);else{const a=r.children;vs(a,l=>{t.visibleWrites=eq(t.visibleWrites,Fr(r.path,l))})}return!0}else return!1}function VXe(t,e){if(t.snap)return fl(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&fl(Fr(t.path,n),e))return!0;return!1}function WXe(t){t.visibleWrites=nae(t.allWrites,HXe,Yn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HXe(t){return t.visible}function nae(t,e,n){let r=xc.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)fl(n,o)?(a=Io(n,o),r=p1(r,a,s.snap)):fl(o,n)&&(a=Io(o,n),r=p1(r,Yn(),s.snap.getChild(a)));else if(s.children){if(fl(n,o))a=Io(n,o),r=A3(r,a,s.children);else if(fl(o,n))if(a=Io(o,n),Sn(a))r=A3(r,Yn(),s.children);else{const l=sg(s.children,bn(a));if(l){const c=l.getChild(hr(a));r=p1(r,Yn(),c)}}}else throw J_("WriteRecord should have .snap or .children")}}return r}function rae(t,e,n,r,i){if(!r&&!i){const s=av(t.visibleWrites,e);if(s!=null)return s;{const o=xh(t.visibleWrites,e);if(P3(o))return n;if(n==null&&!R3(o,Yn()))return null;{const a=n||nn.EMPTY_NODE;return N_(o,a)}}}else{const s=xh(t.visibleWrites,e);if(!i&&P3(s))return n;if(!i&&n==null&&!R3(s,Yn()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(fl(c.path,e)||fl(e,c.path))},a=nae(t.allWrites,o,e),l=n||nn.EMPTY_NODE;return N_(a,l)}}}function GXe(t,e,n){let r=nn.EMPTY_NODE;const i=av(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(wr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=xh(t.visibleWrites,e);return n.forEachChild(wr,(o,a)=>{const l=N_(xh(s,new sr(o)),a);r=r.updateImmediateChild(o,l)}),tq(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=xh(t.visibleWrites,e);return tq(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function jXe(t,e,n,r,i){wt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Fr(e,n);if(R3(t.visibleWrites,s))return null;{const o=xh(t.visibleWrites,s);return P3(o)?i.getChild(n):N_(o,i.getChild(n))}}function qXe(t,e,n,r){const i=Fr(e,n),s=av(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=xh(t.visibleWrites,i);return N_(o,r.getNode().getImmediateChild(n))}else return null}function KXe(t,e){return av(t.visibleWrites,e)}function XXe(t,e,n,r,i,s,o){let a;const l=xh(t.visibleWrites,e),c=av(l,Yn());if(c!=null)a=c;else if(n!=null)a=N_(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function YXe(){return{visibleWrites:xc.empty(),allWrites:[],lastWriteId:-1}}function IR(t,e,n,r){return rae(t.writeTree,t.treePath,e,n,r)}function x4(t,e){return GXe(t.writeTree,t.treePath,e)}function nq(t,e,n,r){return jXe(t.writeTree,t.treePath,e,n,r)}function MR(t,e){return KXe(t.writeTree,Fr(t.treePath,e))}function QXe(t,e,n,r,i,s){return XXe(t.writeTree,t.treePath,e,n,r,i,s)}function w4(t,e,n){return qXe(t.writeTree,t.treePath,e,n)}function iae(t,e){return sae(Fr(t.treePath,e),t.writeTree)}function sae(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JXe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;wt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),wt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,RS(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,AS(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,L_(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,RS(r,e.snapshotNode,i.oldSnap));else throw J_("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZXe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const oae=new ZXe;class b4{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return w4(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tg(this.viewCache_),s=QXe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eYe(t){return{filter:t}}function tYe(t,e){wt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),wt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nYe(t,e,n,r,i){const s=new JXe;let o,a;if(n.type===mc.OVERWRITE){const c=n;c.source.fromUser?o=k3(t,e,c.path,c.snap,r,i,s):(wt(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Sn(c.path),o=AR(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===mc.MERGE){const c=n;c.source.fromUser?o=iYe(t,e,c.path,c.children,r,i,s):(wt(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=L3(t,e,c.path,c.children,r,i,a,s))}else if(n.type===mc.ACK_USER_WRITE){const c=n;c.revert?o=aYe(t,e,c.path,r,i,s):o=sYe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===mc.LISTEN_COMPLETE)o=oYe(t,e,n.path,r,s);else throw J_("Unknown operation type: "+n.type);const l=s.getChanges();return rYe(e,o,l),{viewCache:o,changes:l}}function rYe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ER(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Zoe(ER(e)))}}function aae(t,e,n,r,i,s){const o=e.eventCache;if(MR(r,n)!=null)return e;{let a,l;if(Sn(n))if(wt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Tg(e),u=c instanceof nn?c:nn.EMPTY_NODE,d=x4(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=IR(r,Tg(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=bn(n);if(c===".priority"){wt(Uh(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=nq(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=hr(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=nq(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=w4(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return h1(e,a,o.isFullyInitialized()||Sn(n),t.filter.filtersNodes())}}function AR(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Sn(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=bn(n);if(!l.isCompleteForPath(n)&&Uh(n)>1)return e;const g=hr(n),y=l.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,g,oae,null)}const d=eae(e,c,l.isFullyInitialized()||Sn(n),u.filtersNodes()),f=new b4(i,d,s);return aae(t,d,n,i,f,a)}function k3(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new b4(i,e,s);if(Sn(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=h1(e,c,!0,t.filter.filtersNodes());else{const d=bn(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=h1(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=hr(n),p=a.getNode().getImmediateChild(d);let g;if(Sn(f))g=r;else{const v=u.getCompleteChild(d);v!=null?u4(f)===".priority"&&v.getChild(Hoe(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=nn.EMPTY_NODE}if(p.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),d,g,f,u,o);l=h1(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function rq(t,e){return t.eventCache.isCompleteForChild(e)}function iYe(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Fr(n,l);rq(e,bn(u))&&(a=k3(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Fr(n,l);rq(e,bn(u))||(a=k3(t,a,u,c,i,s,o))}),a}function iq(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function L3(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Sn(n)?c=r:c=new _r(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),g=iq(t,p,f);l=AR(t,l,new sr(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===void 0;if(!u.hasChild(d)&&!p){const g=e.serverCache.getNode().getImmediateChild(d),v=iq(t,g,f);l=AR(t,l,new sr(d),v,i,s,o,a)}}),l}function sYe(t,e,n,r,i,s,o){if(MR(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Sn(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return AR(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Sn(n)){let c=new _r(null);return l.getNode().forEachChild(fu,(u,d)=>{c=c.set(new sr(u),d)}),L3(t,e,n,c,i,s,a,o)}else return e}else{let c=new _r(null);return r.foreach((u,d)=>{const f=Fr(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),L3(t,e,n,c,i,s,a,o)}}function oYe(t,e,n,r,i){const s=e.serverCache,o=eae(e,s.getNode(),s.isFullyInitialized()||Sn(n),s.isFiltered());return aae(t,o,n,r,oae,i)}function aYe(t,e,n,r,i,s){let o;if(MR(r,n)!=null)return e;{const a=new b4(r,e,i),l=e.eventCache.getNode();let c;if(Sn(n)||bn(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=IR(r,Tg(e));else{const d=e.serverCache.getNode();wt(d instanceof nn,"serverChildren would be complete if leaf node"),u=x4(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=bn(n);let d=w4(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,hr(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,nn.EMPTY_NODE,hr(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=IR(r,Tg(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||MR(r,Yn())!=null,h1(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lYe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new g4(r.getIndex()),s=bXe(r);this.processor_=eYe(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(nn.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(nn.EMPTY_NODE,a.getNode(),null),u=new zh(l,o.isFullyInitialized(),i.filtersNodes()),d=new zh(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Kk(d,u),this.eventGenerator_=new LXe(this.query_)}get query(){return this.query_}}function cYe(t){return t.viewCache_.serverCache.getNode()}function uYe(t){return ER(t.viewCache_)}function dYe(t,e){const n=Tg(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Sn(e)&&!n.getImmediateChild(bn(e)).isEmpty())?n.getChild(e):null}function sq(t){return t.eventRegistrations_.length===0}function fYe(t,e){t.eventRegistrations_.push(e)}function oq(t,e,n){const r=[];if(n){wt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function aq(t,e,n,r){e.type===mc.MERGE&&e.source.queryId!==null&&(wt(Tg(t.viewCache_),"We should always have a full cache before handling merges"),wt(ER(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=nYe(t.processor_,i,e,n,r);return tYe(t.processor_,s.viewCache),wt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,lae(t,s.changes,s.viewCache.eventCache.getNode(),null)}function hYe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(wr,(s,o)=>{r.push(L_(s,o))}),n.isFullyInitialized()&&r.push(Zoe(n.getNode())),lae(t,r,n.getNode(),e)}function lae(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return DXe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR;class cae{constructor(){this.views=new Map}}function pYe(t){wt(!RR,"__referenceConstructor has already been defined"),RR=t}function mYe(){return wt(RR,"Reference.ts has not been loaded"),RR}function gYe(t){return t.views.size===0}function S4(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return wt(s!=null,"SyncTree gave us an op for an invalid query."),aq(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(aq(o,e,n,r));return s}}function uae(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=IR(n,i?r:null),l=!1;a?l=!0:r instanceof nn?(a=x4(n,r),l=!1):(a=nn.EMPTY_NODE,l=!1);const c=Kk(new zh(a,l,!1),new zh(r,i,!1));return new lYe(e,c)}return o}function vYe(t,e,n,r,i,s){const o=uae(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),fYe(o,n),hYe(o,n)}function yYe(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Vh(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(oq(c,n,r)),sq(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(oq(l,n,r)),sq(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Vh(t)&&s.push(new(mYe())(e._repo,e._path)),{removed:s,events:o}}function dae(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wh(t,e){let n=null;for(const r of t.views.values())n=n||dYe(r,e);return n}function fae(t,e){if(e._queryParams.loadsAllData())return Yk(t);{const r=e._queryIdentifier;return t.views.get(r)}}function hae(t,e){return fae(t,e)!=null}function Vh(t){return Yk(t)!=null}function Yk(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PR;function _Ye(t){wt(!PR,"__referenceConstructor has already been defined"),PR=t}function xYe(){return wt(PR,"Reference.ts has not been loaded"),PR}let wYe=1;class lq{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _r(null),this.pendingWriteTree_=YXe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function C4(t,e,n,r,i){return BXe(t.pendingWriteTree_,e,n,r,i),i?Cx(t,new Cg(v4(),e,n)):[]}function bYe(t,e,n,r){$Xe(t.pendingWriteTree_,e,n,r);const i=_r.fromObject(n);return Cx(t,new D_(v4(),e,i))}function dh(t,e,n=!1){const r=UXe(t.pendingWriteTree_,e);if(zXe(t.pendingWriteTree_,e)){let s=new _r(null);return r.snap!=null?s=s.set(Yn(),!0):vs(r.children,o=>{s=s.set(new sr(o),!0)}),Cx(t,new TR(r.path,s,n))}else return[]}function nT(t,e,n){return Cx(t,new Cg(y4(),e,n))}function SYe(t,e,n){const r=_r.fromObject(n);return Cx(t,new D_(y4(),e,r))}function CYe(t,e){return Cx(t,new kS(y4(),e))}function TYe(t,e,n){const r=T4(t,n);if(r){const i=E4(r),s=i.path,o=i.queryId,a=Io(s,e),l=new kS(_4(o),a);return I4(t,s,l)}else return[]}function D3(t,e,n,r){const i=e._path,s=t.syncPointTree_.get(i);let o=[];if(s&&(e._queryIdentifier==="default"||hae(s,e))){const a=yYe(s,e,n,r);gYe(s)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const l=a.removed;o=a.events;const c=l.findIndex(d=>d._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(i,(d,f)=>Vh(f));if(c&&!u){const d=t.syncPointTree_.subtree(i);if(!d.isEmpty()){const f=AYe(d);for(let p=0;p<f.length;++p){const g=f[p],v=g.query,y=gae(t,g);t.listenProvider_.startListening(m1(v),kR(t,v),y.hashFn,y.onComplete)}}}!u&&l.length>0&&!r&&(c?t.listenProvider_.stopListening(m1(e),null):l.forEach(d=>{const f=t.queryToTagMap.get(Jk(d));t.listenProvider_.stopListening(m1(d),f)})),RYe(t,l)}return o}function EYe(t,e,n,r){const i=T4(t,r);if(i!=null){const s=E4(i),o=s.path,a=s.queryId,l=Io(o,e),c=new Cg(_4(a),l,n);return I4(t,o,c)}else return[]}function IYe(t,e,n,r){const i=T4(t,r);if(i){const s=E4(i),o=s.path,a=s.queryId,l=Io(o,e),c=_r.fromObject(n),u=new D_(_4(a),l,c);return I4(t,o,u)}else return[]}function cq(t,e,n){const r=e._path;let i=null,s=!1;t.syncPointTree_.foreachOnPath(r,(d,f)=>{const p=Io(d,r);i=i||wh(f,p),s=s||Vh(f)});let o=t.syncPointTree_.get(r);o?(s=s||Vh(o),i=i||wh(o,Yn())):(o=new cae,t.syncPointTree_=t.syncPointTree_.set(r,o));let a;i!=null?a=!0:(a=!1,i=nn.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{const g=wh(p,Yn());g&&(i=i.updateImmediateChild(f,g))}));const l=hae(o,e);if(!l&&!e._queryParams.loadsAllData()){const d=Jk(e);wt(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=PYe();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const c=Xk(t.pendingWriteTree_,r);let u=vYe(o,e,n,c,i,a);if(!l&&!s){const d=fae(o,e);u=u.concat(kYe(t,e,d))}return u}function Qk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Io(o,e),c=wh(a,l);if(c)return c});return rae(i,e,s,n,!0)}function MYe(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Io(c,n);r=r||wh(u,d)});let i=t.syncPointTree_.get(n);i?r=r||wh(i,Yn()):(i=new cae,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new zh(r,!0,!1):null,a=Xk(t.pendingWriteTree_,e._path),l=uae(i,e,a,s?o.getNode():nn.EMPTY_NODE,s);return uYe(l)}function Cx(t,e){return pae(e,t.syncPointTree_,null,Xk(t.pendingWriteTree_,Yn()))}function pae(t,e,n,r){if(Sn(t.path))return mae(t,e,n,r);{const i=e.get(Yn());n==null&&i!=null&&(n=wh(i,Yn()));let s=[];const o=bn(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=iae(r,o);s=s.concat(pae(a,l,c,u))}return i&&(s=s.concat(S4(i,t,r,n))),s}}function mae(t,e,n,r){const i=e.get(Yn());n==null&&i!=null&&(n=wh(i,Yn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=iae(r,o),u=t.operationForChild(o);u&&(s=s.concat(mae(u,a,l,c)))}),i&&(s=s.concat(S4(i,t,r,n))),s}function gae(t,e){const n=e.query,r=kR(t,n);return{hashFn:()=>(cYe(e)||nn.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?TYe(t,n._path,r):CYe(t,n._path);{const s=wKe(i,n);return D3(t,n,null,s)}}}}function kR(t,e){const n=Jk(e);return t.queryToTagMap.get(n)}function Jk(t){return t._path.toString()+"$"+t._queryIdentifier}function T4(t,e){return t.tagToQueryMap.get(e)}function E4(t){const e=t.indexOf("$");return wt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new sr(t.substr(0,e))}}function I4(t,e,n){const r=t.syncPointTree_.get(e);wt(r,"Missing sync point for query tag that we're tracking");const i=Xk(t.pendingWriteTree_,e);return S4(r,n,i,null)}function AYe(t){return t.fold((e,n,r)=>{if(n&&Vh(n))return[Yk(n)];{let i=[];return n&&(i=dae(n)),vs(r,(s,o)=>{i=i.concat(o)}),i}})}function m1(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(xYe())(t._repo,t._path):t}function RYe(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Jk(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function PYe(){return wYe++}function kYe(t,e,n){const r=e._path,i=kR(t,e),s=gae(t,n),o=t.listenProvider_.startListening(m1(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)wt(!Vh(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Sn(c)&&u&&Vh(u))return[Yk(u).query];{let f=[];return u&&(f=f.concat(dae(u).map(p=>p.query))),vs(d,(p,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(m1(u),kR(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new M4(n)}node(){return this.node_}}class A4{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Fr(this.path_,e);return new A4(this.syncTree_,n)}node(){return Qk(this.syncTree_,this.path_)}}const LYe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uq=function(t,e,n){if(!t||typeof t!="object")return t;if(wt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return DYe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return NYe(t[".sv"],e);wt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},DYe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:wt(!1,"Unexpected server value: "+t)}},NYe=function(t,e,n){t.hasOwnProperty("increment")||wt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&wt(!1,"Unexpected increment value: "+r);const i=e.node();if(wt(i!==null&&typeof i!="undefined","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},vae=function(t,e,n,r){return P4(e,new A4(n,t),r)},R4=function(t,e,n){return P4(t,new M4(e),n)};function P4(t,e,n){const r=t.getPriority().val(),i=uq(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=uq(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ns(a,Vr(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ns(i))),o.forEachChild(wr,(a,l)=>{const c=P4(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zk(t,e){let n=e instanceof sr?e:new sr(e),r=t,i=bn(n);for(;i!==null;){const s=sg(r.node.children,i)||{children:{},childCount:0};r=new k4(i,r,s),n=hr(n),i=bn(n)}return r}function lv(t){return t.node.value}function L4(t,e){t.node.value=e,N3(t)}function yae(t){return t.node.childCount>0}function OYe(t){return lv(t)===void 0&&!yae(t)}function eL(t,e){vs(t.node.children,(n,r)=>{e(new k4(n,t,r))})}function _ae(t,e,n,r){n&&!r&&e(t),eL(t,i=>{_ae(i,e,!0,r)}),n&&r&&e(t)}function FYe(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function rT(t){return new sr(t.parent===null?t.name:rT(t.parent)+"/"+t.name)}function N3(t){t.parent!==null&&BYe(t.parent,t.name,t)}function BYe(t,e,n){const r=OYe(n),i=Va(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,N3(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,N3(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Ye=/[\[\].#$\/\u0000-\u001F\u007F]/,UYe=/[\[\].#$\u0000-\u001F\u007F]/,gN=10*1024*1024,tL=function(t){return typeof t=="string"&&t.length!==0&&!$Ye.test(t)},xae=function(t){return typeof t=="string"&&t.length!==0&&!UYe.test(t)},zYe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xae(t)},LS=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Hk(t)||t&&typeof t=="object"&&Va(t,".sv")},Tu=function(t,e,n,r){r&&e===void 0||iT(ca(t,"value"),e,n)},iT=function(t,e,n){const r=n instanceof sr?new eXe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pm(r));if(typeof e=="function")throw new Error(t+"contains a function "+pm(r)+" with contents = "+e.toString());if(Hk(e))throw new Error(t+"contains "+e.toString()+" "+pm(r));if(typeof e=="string"&&e.length>gN/3&&MP(e)>gN)throw new Error(t+"contains a string greater than "+gN+" utf8 bytes "+pm(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vs(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!tL(o)))throw new Error(t+" contains an invalid key ("+o+") "+pm(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tXe(r,o),iT(t,a,r),nXe(r)}),i&&s)throw new Error(t+' contains ".value" child '+pm(r)+" in addition to actual children.")}},VYe=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=MS(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!tL(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ZKe);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&fl(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},wae=function(t,e,n,r){if(r&&e===void 0)return;const i=ca(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];vs(e,(o,a)=>{const l=new sr(o);if(iT(i,a,Fr(n,l)),u4(l)===".priority"&&!LS(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),VYe(i,s)},D4=function(t,e,n){if(!(n&&e===void 0)){if(Hk(e))throw new Error(ca(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!LS(e))throw new Error(ca(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sT=function(t,e,n,r){if(!(r&&n===void 0)&&!tL(n))throw new Error(ca(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},DS=function(t,e,n,r){if(!(r&&n===void 0)&&!xae(n))throw new Error(ca(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},WYe=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),DS(t,e,n,r)},hl=function(t,e){if(bn(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},bae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!tL(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!zYe(n))throw new Error(ca(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HYe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nL(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!d4(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function N4(t,e,n){nL(t,n),Sae(t,r=>d4(r,e))}function Rl(t,e,n){nL(t,n),Sae(t,r=>fl(r,e)||fl(e,r))}function Sae(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(GYe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function GYe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Jm&&as("event: "+n.toString()),bx(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cae="repo_interrupt",jYe=25;class qYe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HYe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=CR(),this.transactionQueueTree_=new k4,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KYe(t,e,n){if(t.stats_=a4(t.repoInfo_),t.forceRestClient_||SKe())t.server_=new SR(t.repoInfo_,(r,i,s,o)=>{dq(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>fq(t,!0),0);else{if(typeof n!="undefined"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ed(t.repoInfo_,e,(r,i,s,o)=>{dq(t,r,i,s,o)},r=>{fq(t,r)},r=>{XYe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=AKe(t.repoInfo_,()=>new kXe(t.stats_,t.server_)),t.infoData_=new IXe,t.infoSyncTree_=new lq({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=nT(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),O4(t,"connected",!1),t.serverSyncTree_=new lq({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Rl(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Tae(t){const n=t.infoData_.getNode(new sr(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function oT(t){return LYe({timestamp:Tae(t)})}function dq(t,e,n,r,i){t.dataUpdateCount++;const s=new sr(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=NA(n,c=>Vr(c));o=IYe(t.serverSyncTree_,s,l,i)}else{const l=Vr(n);o=EYe(t.serverSyncTree_,s,l,i)}else if(r){const l=NA(n,c=>Vr(c));o=SYe(t.serverSyncTree_,s,l)}else{const l=Vr(n);o=nT(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=O_(t,s)),Rl(t.eventQueue_,a,o)}function fq(t,e){O4(t,"connected",e),e===!1&&JYe(t)}function XYe(t,e){vs(e,(n,r)=>{O4(t,n,r)})}function O4(t,e,n){const r=new sr("/.info/"+e),i=Vr(n);t.infoData_.updateSnapshot(r,i);const s=nT(t.infoSyncTree_,r,i);Rl(t.eventQueue_,r,s)}function rL(t){return t.nextWriteId_++}function YYe(t,e){const n=MYe(t.serverSyncTree_,e);return n!=null?Promise.resolve(n):t.server_.get(e).then(r=>{const i=Vr(r).withIndex(e._queryParams.getIndex()),s=nT(t.serverSyncTree_,e._path,i);return N4(t.eventQueue_,e._path,s),Promise.resolve(i)},r=>(Tx(t,"get for query "+zi(e)+" failed: "+r),Promise.reject(new Error(r))))}function F4(t,e,n,r,i){Tx(t,"set",{path:e.toString(),value:n,priority:r});const s=oT(t),o=Vr(n,r),a=Qk(t.serverSyncTree_,e),l=R4(o,a,s),c=rL(t),u=C4(t.serverSyncTree_,e,l,c,!0);nL(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,p)=>{const g=f==="ok";g||ko("set at "+e+" failed: "+f);const v=dh(t.serverSyncTree_,c,!g);Rl(t.eventQueue_,e,v),Wh(t,i,f,p)});const d=$4(t,e);O_(t,d),Rl(t.eventQueue_,d,[])}function QYe(t,e,n,r){Tx(t,"update",{path:e.toString(),value:n});let i=!0;const s=oT(t),o={};if(vs(n,(a,l)=>{i=!1,o[a]=vae(Fr(e,a),Vr(l),t.serverSyncTree_,s)}),i)as("update() called with empty data.  Don't do anything."),Wh(t,r,"ok",void 0);else{const a=rL(t),l=bYe(t.serverSyncTree_,e,o,a);nL(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||ko("update at "+e+" failed: "+c);const f=dh(t.serverSyncTree_,a,!d),p=f.length>0?O_(t,e):e;Rl(t.eventQueue_,p,f),Wh(t,r,c,u)}),vs(n,c=>{const u=$4(t,Fr(e,c));O_(t,u)}),Rl(t.eventQueue_,e,[])}}function JYe(t){Tx(t,"onDisconnectEvents");const e=oT(t),n=CR();M3(t.onDisconnect_,Yn(),(i,s)=>{const o=vae(i,s,t.serverSyncTree_,e);Sx(n,i,o)});let r=[];M3(n,Yn(),(i,s)=>{r=r.concat(nT(t.serverSyncTree_,i,s));const o=$4(t,i);O_(t,o)}),t.onDisconnect_=CR(),Rl(t.eventQueue_,Yn(),r)}function ZYe(t,e,n){t.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&I3(t.onDisconnect_,e),Wh(t,n,r,i)})}function hq(t,e,n,r){const i=Vr(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&Sx(t.onDisconnect_,e,i),Wh(t,r,s,o)})}function eQe(t,e,n,r,i){const s=Vr(n,r);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&Sx(t.onDisconnect_,e,s),Wh(t,i,o,a)})}function tQe(t,e,n,r){if(DA(n)){as("onDisconnect().update() called with empty data.  Don't do anything."),Wh(t,r,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(i,s)=>{i==="ok"&&vs(n,(o,a)=>{const l=Vr(a);Sx(t.onDisconnect_,Fr(e,o),l)}),Wh(t,r,i,s)})}function nQe(t,e,n){let r;bn(e._path)===".info"?r=cq(t.infoSyncTree_,e,n):r=cq(t.serverSyncTree_,e,n),N4(t.eventQueue_,e._path,r)}function O3(t,e,n){let r;bn(e._path)===".info"?r=D3(t.infoSyncTree_,e,n):r=D3(t.serverSyncTree_,e,n),N4(t.eventQueue_,e._path,r)}function Eae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Cae)}function rQe(t){t.persistentConnection_&&t.persistentConnection_.resume(Cae)}function Tx(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),as(n,...e)}function Wh(t,e,n,r){e&&bx(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function iQe(t,e,n,r,i,s){Tx(t,"transaction on "+e);const o={path:e,update:n,onComplete:r,status:null,order:woe(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=B4(t,e,void 0);o.currentInputSnapshot=a;const l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{iT("transaction failed: Data returned ",l,o.path),o.status=0;const c=Zk(t.transactionQueueTree_,e),u=lv(c)||[];u.push(o),L4(c,u);let d;typeof l=="object"&&l!==null&&Va(l,".priority")?(d=sg(l,".priority"),wt(LS(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Qk(t.serverSyncTree_,e)||nn.EMPTY_NODE).getPriority().val();const f=oT(t),p=Vr(l,d),g=R4(p,a,f);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=g,o.currentWriteId=rL(t);const v=C4(t.serverSyncTree_,e,g,o.currentWriteId,o.applyLocally);Rl(t.eventQueue_,e,v),iL(t,t.transactionQueueTree_)}}function B4(t,e,n){return Qk(t.serverSyncTree_,e,n)||nn.EMPTY_NODE}function iL(t,e=t.transactionQueueTree_){if(e||sL(t,e),lv(e)){const n=Mae(t,e);wt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sQe(t,rT(e),n)}else yae(e)&&eL(e,n=>{iL(t,n)})}function sQe(t,e,n){const r=n.map(c=>c.currentWriteId),i=B4(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];wt(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Io(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Tx(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(dh(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();sL(t,Zk(t.transactionQueueTree_,e)),iL(t,t.transactionQueueTree_),Rl(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)bx(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ko("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}O_(t,e)}},o)}function O_(t,e){const n=Iae(t,e),r=rT(n),i=Mae(t,n);return oQe(t,i,r),r}function oQe(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Io(n,l.path);let u=!1,d;if(wt(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(dh(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=jYe)u=!0,d="maxretry",i=i.concat(dh(t.serverSyncTree_,l.currentWriteId,!0));else{const f=B4(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){iT("transaction failed: Data returned ",p,l.path);let g=Vr(p);typeof p=="object"&&p!=null&&Va(p,".priority")||(g=g.updatePriority(f.getPriority()));const y=l.currentWriteId,x=oT(t),w=R4(g,f,x);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=w,l.currentWriteId=rL(t),o.splice(o.indexOf(y),1),i=i.concat(C4(t.serverSyncTree_,l.path,w,l.currentWriteId,l.applyLocally)),i=i.concat(dh(t.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(dh(t.serverSyncTree_,l.currentWriteId,!0))}Rl(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}sL(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bx(r[a]);iL(t,t.transactionQueueTree_)}function Iae(t,e){let n,r=t.transactionQueueTree_;for(n=bn(e);n!==null&&lv(r)===void 0;)r=Zk(r,n),e=hr(e),n=bn(e);return r}function Mae(t,e){const n=[];return Aae(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Aae(t,e,n){const r=lv(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);eL(e,i=>{Aae(t,i,n)})}function sL(t,e){const n=lv(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,L4(e,n.length>0?n:void 0)}eL(e,r=>{sL(t,r)})}function $4(t,e){const n=rT(Iae(t,e)),r=Zk(t.transactionQueueTree_,e);return FYe(r,i=>{vN(t,i)}),vN(t,r),_ae(r,i=>{vN(t,i)}),n}function vN(t,e){const n=lv(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(wt(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(wt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dh(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?L4(e,void 0):n.length=s+1,Rl(t.eventQueue_,rT(e),i);for(let o=0;o<r.length;o++)bx(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lQe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ko(`Invalid query segment '${n}' in query '${t}'`)}return e}const F3=function(t,e){const n=cQe(t),r=n.namespace;n.domain==="firebase.com"&&Su(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Su("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||gKe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Noe(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new sr(n.pathString)}},cQe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=aQe(t.substring(u,d)));const f=lQe(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+zi(this.snapshot.exportVal())}}class Pae{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kae{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return wt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQe{constructor(e,n){this._repo=e,this._path=n}cancel(){const e=new Ui;return ZYe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){hl("OnDisconnect.remove",this._path);const e=new Ui;return hq(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){hl("OnDisconnect.set",this._path),Tu("OnDisconnect.set",e,this._path,!1);const n=new Ui;return hq(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){hl("OnDisconnect.setWithPriority",this._path),Tu("OnDisconnect.setWithPriority",e,this._path,!1),D4("OnDisconnect.setWithPriority",n,!1);const r=new Ui;return eQe(this._repo,this._path,e,n,r.wrapCallback(()=>{})),r.promise}update(e){hl("OnDisconnect.update",this._path),wae("OnDisconnect.update",e,this._path,!1);const n=new Ui;return tQe(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Sn(this._path)?null:u4(this._path)}get ref(){return new Dl(this._repo,this._path)}get _queryIdentifier(){const e=Jj(this._queryParams),n=i4(e);return n==="{}"?"default":n}get _queryObject(){return Jj(this._queryParams)}isEqual(e){if(e=ft(e),!(e instanceof ga))return!1;const n=this._repo===e._repo,r=d4(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+JKe(this._path)}}function oL(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function up(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===fu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==zd)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Cu)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(t.getIndex()===wr){if(e!=null&&!LS(e)||n!=null&&!LS(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(wt(t.getIndex()instanceof p4||t.getIndex()===m4,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function aL(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dl extends ga{constructor(e,n){super(e,n,new jk,!1)}get parent(){const e=Hoe(this._path);return e===null?null:new Dl(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Eg{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new sr(e),r=Ig(this.ref,e);return new Eg(this._node.getChild(n),r,wr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Eg(i,Ig(this.ref,r),wr)))}hasChild(e){const n=new sr(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lae(t,e){return t=ft(t),t._checkNotDeleted("ref"),e!==void 0?Ig(t._root,e):t._root}function pq(t,e){t=ft(t),t._checkNotDeleted("refFromURL");const n=F3(e,t._repo.repoInfo_.nodeAdmin);bae("refFromURL",n);const r=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&r.host!==t._repo.repoInfo_.host&&Su("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Lae(t,n.path.toString())}function Ig(t,e){return t=ft(t),bn(t._path)===null?WYe("child","path",e,!1):DS("child","path",e,!1),new Dl(t._repo,Fr(t._path,e))}function dQe(t,e){t=ft(t),hl("push",t._path),Tu("push",e,t._path,!0);const n=Tae(t._repo),r=_Xe(n),i=Ig(t,r),s=Ig(t,r);let o;return e!=null?o=U4(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function fQe(t){return hl("remove",t._path),U4(t,null)}function U4(t,e){t=ft(t),hl("set",t._path),Tu("set",e,t._path,!1);const n=new Ui;return F4(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function hQe(t,e){t=ft(t),hl("setPriority",t._path),D4("setPriority",e,!1);const n=new Ui;return F4(t._repo,Fr(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function pQe(t,e,n){if(hl("setWithPriority",t._path),Tu("setWithPriority",e,t._path,!1),D4("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";const r=new Ui;return F4(t._repo,t._path,e,n,r.wrapCallback(()=>{})),r.promise}function mQe(t,e){wae("update",e,t._path,!1);const n=new Ui;return QYe(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function gQe(t){return t=ft(t),YYe(t._repo,t).then(e=>new Eg(e,new Dl(t._repo,t._path),t._queryParams.getIndex()))}class lL{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Rae("value",this,new Eg(e.snapshotNode,new Dl(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Pae(this,e,n):null}matches(e){return e instanceof lL?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class cL{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Pae(this,e,n):null}createEvent(e,n){wt(e.childName!=null,"Child events should have a childName.");const r=Ig(new Dl(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Rae(e.type,this,new Eg(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cL?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function aT(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,c=(u,d)=>{O3(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}const o=new kae(n,s||void 0),a=e==="value"?new lL(o):new cL(e,o);return nQe(t._repo,t,a),()=>O3(t._repo,t,a)}function B3(t,e,n,r){return aT(t,"value",e,n,r)}function mq(t,e,n,r){return aT(t,"child_added",e,n,r)}function gq(t,e,n,r){return aT(t,"child_changed",e,n,r)}function vq(t,e,n,r){return aT(t,"child_moved",e,n,r)}function yq(t,e,n,r){return aT(t,"child_removed",e,n,r)}function _q(t,e,n){let r=null;const i=n?new kae(n):null;e==="value"?r=new lL(i):e&&(r=new cL(e,i)),O3(t._repo,t,r)}class Rc{}class Dae extends Rc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Tu("endAt",this._value,e._path,!0);const n=E3(e._queryParams,this._value,this._key);if(aL(n),up(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ga(e._repo,e._path,n,e._orderByCalled)}}function vQe(t,e){return sT("endAt","key",e,!0),new Dae(t,e)}class yQe extends Rc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Tu("endBefore",this._value,e._path,!1);const n=EXe(e._queryParams,this._value,this._key);if(aL(n),up(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ga(e._repo,e._path,n,e._orderByCalled)}}function _Qe(t,e){return sT("endBefore","key",e,!0),new yQe(t,e)}class Nae extends Rc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Tu("startAt",this._value,e._path,!0);const n=T3(e._queryParams,this._value,this._key);if(aL(n),up(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ga(e._repo,e._path,n,e._orderByCalled)}}function xQe(t=null,e){return sT("startAt","key",e,!0),new Nae(t,e)}class wQe extends Rc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){Tu("startAfter",this._value,e._path,!1);const n=TXe(e._queryParams,this._value,this._key);if(aL(n),up(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ga(e._repo,e._path,n,e._orderByCalled)}}function bQe(t,e){return sT("startAfter","key",e,!0),new wQe(t,e)}class SQe extends Rc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ga(e._repo,e._path,SXe(e._queryParams,this._limit),e._orderByCalled)}}function CQe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new SQe(t)}class TQe extends Rc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ga(e._repo,e._path,CXe(e._queryParams,this._limit),e._orderByCalled)}}function EQe(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new TQe(t)}class IQe extends Rc{constructor(e){super(),this._path=e}_apply(e){oL(e,"orderByChild");const n=new sr(this._path);if(Sn(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new p4(n),i=qk(e._queryParams,r);return up(i),new ga(e._repo,e._path,i,!0)}}function MQe(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return DS("orderByChild","path",t,!1),new IQe(t)}class AQe extends Rc{_apply(e){oL(e,"orderByKey");const n=qk(e._queryParams,fu);return up(n),new ga(e._repo,e._path,n,!0)}}function RQe(){return new AQe}class PQe extends Rc{_apply(e){oL(e,"orderByPriority");const n=qk(e._queryParams,wr);return up(n),new ga(e._repo,e._path,n,!0)}}function kQe(){return new PQe}class LQe extends Rc{_apply(e){oL(e,"orderByValue");const n=qk(e._queryParams,m4);return up(n),new ga(e._repo,e._path,n,!0)}}function DQe(){return new LQe}class NQe extends Rc{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(Tu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Dae(this._value,this._key)._apply(new Nae(this._value,this._key)._apply(e))}}function OQe(t,e){return sT("equalTo","key",e,!0),new NQe(t,e)}function Zl(t,...e){let n=ft(t);for(const r of e)n=r._apply(n);return n}pYe(Dl);_Ye(Dl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQe="FIREBASE_DATABASE_EMULATOR_HOST",$3={};let BQe=!1;function $Qe(t,e,n,r){t.repoInfo_=new Noe(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function Oae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Su("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),as("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=F3(s,i),a=o.repoInfo,l,c;typeof process!="undefined"&&process.env&&(c=process.env[FQe]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=F3(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new U0(U0.OWNER):new TKe(t.name,t.options,e);bae("Invalid Firebase Database URL",o),Sn(o.path)||Su("Database URL must point to the root of a Firebase Database (not including a child path).");const d=zQe(a,t,u,new CKe(t.name,n));return new VQe(d,t)}function UQe(t,e){const n=$3[e];(!n||n[t.key]!==t)&&Su(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Eae(t),delete n[t.key]}function zQe(t,e,n,r){let i=$3[e.name];i||(i={},$3[e.name]=i);let s=i[t.toURLString()];return s&&Su("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qYe(t,BQe,n,r),i[t.toURLString()]=s,s}class VQe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KYe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dl(this._repo,Yn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UQe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Su("Cannot call "+e+" on a deleted database.")}}function WQe(t,e,n,r={}){t=ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Su("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Su('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new U0(U0.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:x$(r.mockUserToken,t.app.options.projectId);s=new U0(o)}$Qe(i,e,n,s)}function HQe(t){t=ft(t),t._checkNotDeleted("goOffline"),Eae(t._repo)}function GQe(t){t=ft(t),t._checkNotDeleted("goOnline"),rQe(t._repo)}function jQe(t,e){Soe(t,e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQe(t){_oe(ku),ti(new Gn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Oae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dr(Dj,Nj,t),dr(Dj,Nj,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQe={".sv":"timestamp"};function XQe(){return KQe}function YQe(t){return{".sv":{increment:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function JQe(t,e,n){var r;if(t=ft(t),hl("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new Ui,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new Eg(u,new Dl(t._repo,t._path),wr),s.resolve(new QQe(c,d)))},a=B3(t,()=>{});return iQe(t._repo,t._path,e,o,a,i),s.promise}Ed.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ed.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qQe();const ZQe="@firebase/database-compat",eJe="0.1.8";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJe=new Pu("@firebase/database-compat"),Fae=function(t){const e="FIREBASE WARNING: "+t;tJe.warn(e)};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJe=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(ca(t,e)+"must be a boolean.")},rJe=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ca(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJe{constructor(e){this._delegate=e}cancel(e){sn("OnDisconnect.cancel",0,1,arguments.length),ss("OnDisconnect.cancel","onComplete",e,!0);const n=this._delegate.cancel();return e&&n.then(()=>e(null),r=>e(r)),n}remove(e){sn("OnDisconnect.remove",0,1,arguments.length),ss("OnDisconnect.remove","onComplete",e,!0);const n=this._delegate.remove();return e&&n.then(()=>e(null),r=>e(r)),n}set(e,n){sn("OnDisconnect.set",1,2,arguments.length),ss("OnDisconnect.set","onComplete",n,!0);const r=this._delegate.set(e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){sn("OnDisconnect.setWithPriority",2,3,arguments.length),ss("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,n);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,n){if(sn("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Fae("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ss("OnDisconnect.update","onComplete",n,!0);const r=this._delegate.update(e);return n&&r.then(()=>n(null),i=>n(i)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJe{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return sn("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this._database=e,this._delegate=n}val(){return sn("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return sn("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return sn("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return sn("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return sn("DataSnapshot.child",0,1,arguments.length),e=String(e),DS("DataSnapshot.child","path",e,!1),new bh(this._database,this._delegate.child(e))}hasChild(e){return sn("DataSnapshot.hasChild",1,1,arguments.length),DS("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return sn("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return sn("DataSnapshot.forEach",1,1,arguments.length),ss("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new bh(this._database,n)))}hasChildren(){return sn("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return sn("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return sn("DataSnapshot.ref",0,0,arguments.length),new Ra(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ms{constructor(e,n){this.database=e,this._delegate=n}on(e,n,r,i){var s;sn("Query.on",2,4,arguments.length),ss("Query.on","callback",n,!1);const o=Ms.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(o.context,new bh(this.database,c),u)};a.userCallback=n,a.context=o.context;const l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return B3(this._delegate,a,l),n;case"child_added":return mq(this._delegate,a,l),n;case"child_removed":return yq(this._delegate,a,l),n;case"child_changed":return gq(this._delegate,a,l),n;case"child_moved":return vq(this._delegate,a,l),n;default:throw new Error(ca("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,r){if(sn("Query.off",0,3,arguments.length),rJe("Query.off",e,!0),ss("Query.off","callback",n,!0),Q6("Query.off","context",r,!0),n){const i=()=>{};i.userCallback=n,i.context=r,_q(this._delegate,e,i)}else _q(this._delegate,e)}get(){return gQe(this._delegate).then(e=>new bh(this.database,e))}once(e,n,r,i){sn("Query.once",1,4,arguments.length),ss("Query.once","callback",n,!0);const s=Ms.getCancelAndContextArgs_("Query.once",r,i),o=new Ui,a=(c,u)=>{const d=new bh(this.database,c);n&&n.call(s.context,d,u),o.resolve(d)};a.userCallback=n,a.context=s.context;const l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":B3(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":mq(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":yq(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":gq(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":vq(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(ca("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return sn("Query.limitToFirst",1,1,arguments.length),new Ms(this.database,Zl(this._delegate,CQe(e)))}limitToLast(e){return sn("Query.limitToLast",1,1,arguments.length),new Ms(this.database,Zl(this._delegate,EQe(e)))}orderByChild(e){return sn("Query.orderByChild",1,1,arguments.length),new Ms(this.database,Zl(this._delegate,MQe(e)))}orderByKey(){return sn("Query.orderByKey",0,0,arguments.length),new Ms(this.database,Zl(this._delegate,RQe()))}orderByPriority(){return sn("Query.orderByPriority",0,0,arguments.length),new Ms(this.database,Zl(this._delegate,kQe()))}orderByValue(){return sn("Query.orderByValue",0,0,arguments.length),new Ms(this.database,Zl(this._delegate,DQe()))}startAt(e=null,n){return sn("Query.startAt",0,2,arguments.length),new Ms(this.database,Zl(this._delegate,xQe(e,n)))}startAfter(e=null,n){return sn("Query.startAfter",0,2,arguments.length),new Ms(this.database,Zl(this._delegate,bQe(e,n)))}endAt(e=null,n){return sn("Query.endAt",0,2,arguments.length),new Ms(this.database,Zl(this._delegate,vQe(e,n)))}endBefore(e=null,n){return sn("Query.endBefore",0,2,arguments.length),new Ms(this.database,Zl(this._delegate,_Qe(e,n)))}equalTo(e,n){return sn("Query.equalTo",1,2,arguments.length),new Ms(this.database,Zl(this._delegate,OQe(e,n)))}toString(){return sn("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return sn("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(sn("Query.isEqual",1,1,arguments.length),!(e instanceof Ms)){const n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,r){const i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,ss(e,"cancel",i.cancel,!0),i.context=r,Q6(e,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(ca(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Ra(this.database,new Dl(this._delegate._repo,this._delegate._path))}}class Ra extends Ms{constructor(e,n){super(e,new ga(n._repo,n._path,new jk,!1)),this.database=e,this._delegate=n}getKey(){return sn("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return sn("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new Ra(this.database,Ig(this._delegate,e))}getParent(){sn("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ra(this.database,e):null}getRoot(){return sn("Reference.root",0,0,arguments.length),new Ra(this.database,this._delegate.root)}set(e,n){sn("Reference.set",1,2,arguments.length),ss("Reference.set","onComplete",n,!0);const r=U4(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}update(e,n){if(sn("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,Fae("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hl("Reference.update",this._delegate._path),ss("Reference.update","onComplete",n,!0);const r=mQe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(e,n,r){sn("Reference.setWithPriority",2,3,arguments.length),ss("Reference.setWithPriority","onComplete",r,!0);const i=pQe(this._delegate,e,n);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){sn("Reference.remove",0,1,arguments.length),ss("Reference.remove","onComplete",e,!0);const n=fQe(this._delegate);return e&&n.then(()=>e(null),r=>e(r)),n}transaction(e,n,r){sn("Reference.transaction",1,3,arguments.length),ss("Reference.transaction","transactionUpdate",e,!1),ss("Reference.transaction","onComplete",n,!0),nJe("Reference.transaction","applyLocally",r,!0);const i=JQe(this._delegate,e,{applyLocally:r}).then(s=>new sJe(s.committed,new bh(this.database,s.snapshot)));return n&&i.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),i}setPriority(e,n){sn("Reference.setPriority",1,2,arguments.length),ss("Reference.setPriority","onComplete",n,!0);const r=hQe(this._delegate,e);return n&&r.then(()=>n(null),i=>n(i)),r}push(e,n){sn("Reference.push",0,2,arguments.length),ss("Reference.push","onComplete",n,!0);const r=dQe(this._delegate,e),i=r.then(o=>new Ra(this.database,o));n&&i.then(()=>n(null),o=>n(o));const s=new Ra(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return hl("Reference.onDisconnect",this._delegate._path),new iJe(new uQe(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(e,n,r={}){WQe(this._delegate,e,n,r)}ref(e){if(sn("database.ref",0,1,arguments.length),e instanceof Ra){const n=pq(this._delegate,e.toString());return new Ra(this,n)}else{const n=Lae(this._delegate,e);return new Ra(this,n)}}refFromURL(e){sn("database.refFromURL",1,1,arguments.length);const r=pq(this._delegate,e);return new Ra(this,r)}goOffline(){return sn("database.goOffline",0,0,arguments.length),HQe(this._delegate)}goOnline(){return sn("database.goOnline",0,0,arguments.length),GQe(this._delegate)}}NS.ServerValue={TIMESTAMP:XQe(),increment:t=>YQe(t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJe({app:t,url:e,version:n,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){_oe(n);const o=new FX("auth-internal",new BX("database-standalone"));return o.setComponent(new Gn("auth-internal",()=>r,"PRIVATE")),{instance:new NS(Oae(t,o,void 0,e,s),t),namespace:i}}var aJe=Object.freeze({__proto__:null,initStandalone:oJe});/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJe=NS.ServerValue;function cJe(t){t.INTERNAL.registerComponent(new Gn("database-compat",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new NS(i,r)},"PUBLIC").setServiceProps({Reference:Ra,Query:Ms,Database:NS,DataSnapshot:bh,enableLogging:jQe,INTERNAL:aJe,ServerValue:lJe}).setMultipleInstances(!0)),t.registerVersion(ZQe,eJe)}cJe(qi);var uJe=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},$t,z4=z4||{},un=uJe||self;function LR(){}function U3(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lT(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function dJe(t){return Object.prototype.hasOwnProperty.call(t,yN)&&t[yN]||(t[yN]=++fJe)}var yN="closure_uid_"+(1e9*Math.random()>>>0),fJe=0;function hJe(t,e,n){return t.call.apply(t.bind,arguments)}function pJe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $s(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$s=hJe:$s=pJe,$s.apply(null,arguments)}function eM(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ws(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function dp(){this.s=this.s,this.o=this.o}var mJe=0,gJe={};dp.prototype.s=!1;dp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),mJe!=0)){var t=dJe(this);delete gJe[t]}};dp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bae=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$ae=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function vJe(t){e:{var e=lZe;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function xq(t){return Array.prototype.concat.apply([],arguments)}function V4(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function DR(t){return/^[\s\xa0]*$/.test(t)}var wq=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function So(t,e){return t.indexOf(e)!=-1}function _N(t,e){return t<e?-1:t>e?1:0}var Co;e:{var bq=un.navigator;if(bq){var Sq=bq.userAgent;if(Sq){Co=Sq;break e}}Co=""}function W4(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Uae(t){const e={};for(const n in t)e[n]=t[n];return e}var Cq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zae(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Cq.length;s++)n=Cq[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function H4(t){return H4[" "](t),t}H4[" "]=LR;function yJe(t){var e=wJe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var _Je=So(Co,"Opera"),F_=So(Co,"Trident")||So(Co,"MSIE"),Vae=So(Co,"Edge"),z3=Vae||F_,Wae=So(Co,"Gecko")&&!(So(Co.toLowerCase(),"webkit")&&!So(Co,"Edge"))&&!(So(Co,"Trident")||So(Co,"MSIE"))&&!So(Co,"Edge"),xJe=So(Co.toLowerCase(),"webkit")&&!So(Co,"Edge");function Hae(){var t=un.document;return t?t.documentMode:void 0}var NR;e:{var xN="",wN=function(){var t=Co;if(Wae)return/rv:([^\);]+)(\)|;)/.exec(t);if(Vae)return/Edge\/([\d\.]+)/.exec(t);if(F_)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xJe)return/WebKit\/(\S+)/.exec(t);if(_Je)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wN&&(xN=wN?wN[1]:""),F_){var bN=Hae();if(bN!=null&&bN>parseFloat(xN)){NR=String(bN);break e}}NR=xN}var wJe={};function bJe(){return yJe(function(){let t=0;const e=wq(String(NR)).split("."),n=wq("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=_N(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||_N(i[2].length==0,s[2].length==0)||_N(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var V3;if(un.document&&F_){var Tq=Hae();V3=Tq||parseInt(NR,10)||void 0}else V3=void 0;var SJe=V3,CJe=function(){if(!un.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{un.addEventListener("test",LR,e),un.removeEventListener("test",LR,e)}catch{}return t}();function lo(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lo.prototype.h=function(){this.defaultPrevented=!0};function OS(t,e){if(lo.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Wae){e:{try{H4(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:TJe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&OS.Z.h.call(this)}}Ws(OS,lo);var TJe={2:"touch",3:"pen",4:"mouse"};OS.prototype.h=function(){OS.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cT="closure_listenable_"+(1e6*Math.random()|0),EJe=0;function IJe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++EJe,this.ca=this.fa=!1}function uL(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function dL(t){this.src=t,this.g={},this.h=0}dL.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=H3(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new IJe(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function W3(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Bae(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uL(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function H3(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var G4="closure_lm_"+(1e6*Math.random()|0),SN={};function Gae(t,e,n,r,i){if(r&&r.once)return qae(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Gae(t,e[s],n,r,i);return null}return n=K4(n),t&&t[cT]?t.N(e,n,lT(r)?!!r.capture:!!r,i):jae(t,e,n,!1,r,i)}function jae(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=lT(i)?!!i.capture:!!i,a=q4(t);if(a||(t[G4]=a=new dL(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=MJe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)CJe||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Xae(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MJe(){function t(n){return e.call(t.src,t.listener,n)}var e=AJe;return t}function qae(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)qae(t,e[s],n,r,i);return null}return n=K4(n),t&&t[cT]?t.O(e,n,lT(r)?!!r.capture:!!r,i):jae(t,e,n,!0,r,i)}function Kae(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Kae(t,e[s],n,r,i);else r=lT(r)?!!r.capture:!!r,n=K4(n),t&&t[cT]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=H3(s,n,r,i),-1<n&&(uL(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=q4(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H3(e,n,r,i)),(n=-1<t?e[t]:null)&&j4(n))}function j4(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[cT])W3(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Xae(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=q4(e))?(W3(n,t),n.h==0&&(n.src=null,e[G4]=null)):uL(t)}}}function Xae(t){return t in SN?SN[t]:SN[t]="on"+t}function AJe(t,e){if(t.ca)t=!0;else{e=new OS(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&j4(t),t=n.call(r,e)}return t}function q4(t){return t=t[G4],t instanceof dL?t:null}var CN="__closure_events_fn_"+(1e9*Math.random()>>>0);function K4(t){return typeof t=="function"?t:(t[CN]||(t[CN]=function(e){return t.handleEvent(e)}),t[CN])}function ys(){dp.call(this),this.i=new dL(this),this.P=this,this.I=null}Ws(ys,dp);ys.prototype[cT]=!0;ys.prototype.removeEventListener=function(t,e,n,r){Kae(this,t,e,n,r)};function Us(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new lo(e,t);else if(e instanceof lo)e.target=e.target||t;else{var i=e;e=new lo(r,t),zae(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=tM(o,r,!0,e)&&i}if(o=e.g=t,i=tM(o,r,!0,e)&&i,i=tM(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=tM(o,r,!1,e)&&i}ys.prototype.M=function(){if(ys.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)uL(n[r]);delete t.g[e],t.h--}}this.I=null};ys.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ys.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function tM(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&W3(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var X4=un.JSON.stringify;function RJe(){var t=Qae;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class PJe{constructor(){this.h=this.g=null}add(e,n){const r=Yae.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Yae=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new kJe,t=>t.reset());class kJe{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LJe(t){un.setTimeout(()=>{throw t},0)}function Y4(t,e){G3||DJe(),j3||(G3(),j3=!0),Qae.add(t,e)}var G3;function DJe(){var t=un.Promise.resolve(void 0);G3=function(){t.then(NJe)}}var j3=!1,Qae=new PJe;function NJe(){for(var t;t=RJe();){try{t.h.call(t.g)}catch(n){LJe(n)}var e=Yae;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}j3=!1}function fL(t,e){ys.call(this),this.h=t||1,this.g=e||un,this.j=$s(this.kb,this),this.l=Date.now()}Ws(fL,ys);$t=fL.prototype;$t.da=!1;$t.S=null;$t.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Us(this,"tick"),this.da&&(Q4(this),this.start()))}};$t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Q4(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}$t.M=function(){fL.Z.M.call(this),Q4(this),delete this.g};function J4(t,e,n){if(typeof t=="function")n&&(t=$s(t,n));else if(t&&typeof t.handleEvent=="function")t=$s(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:un.setTimeout(t,e||0)}function Jae(t){t.g=J4(()=>{t.g=null,t.i&&(t.i=!1,Jae(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class OJe extends dp{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jae(this)}M(){super.M(),this.g&&(un.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function FS(t){dp.call(this),this.h=t,this.g={}}Ws(FS,dp);var Eq=[];function Zae(t,e,n,r){Array.isArray(n)||(n&&(Eq[0]=n.toString()),n=Eq);for(var i=0;i<n.length;i++){var s=Gae(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ele(t){W4(t.g,function(e,n){this.g.hasOwnProperty(n)&&j4(e)},t),t.g={}}FS.prototype.M=function(){FS.Z.M.call(this),ele(this)};FS.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function hL(){this.g=!0}hL.prototype.Aa=function(){this.g=!1};function FJe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function BJe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function y0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UJe(t,n)+(r?" "+r:"")})}function $Je(t,e){t.info(function(){return"TIMEOUT: "+e})}hL.prototype.info=function(){};function UJe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return X4(n)}catch{return e}}var cv={},Iq=null;function pL(){return Iq=Iq||new ys}cv.Ma="serverreachability";function tle(t){lo.call(this,cv.Ma,t)}Ws(tle,lo);function BS(t){const e=pL();Us(e,new tle(e,t))}cv.STAT_EVENT="statevent";function nle(t,e){lo.call(this,cv.STAT_EVENT,t),this.stat=e}Ws(nle,lo);function Mo(t){const e=pL();Us(e,new nle(e,t))}cv.Na="timingevent";function rle(t,e){lo.call(this,cv.Na,t),this.size=e}Ws(rle,lo);function uT(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return un.setTimeout(function(){t()},e)}var mL={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ile={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Z4(){}Z4.prototype.h=null;function Mq(t){return t.h||(t.h=t.i())}function sle(){}var dT={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function eV(){lo.call(this,"d")}Ws(eV,lo);function tV(){lo.call(this,"c")}Ws(tV,lo);var q3;function gL(){}Ws(gL,Z4);gL.prototype.g=function(){return new XMLHttpRequest};gL.prototype.i=function(){return{}};q3=new gL;function fT(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new FS(this),this.P=zJe,t=z3?125:void 0,this.W=new fL(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ole}function ole(){this.i=null,this.g="",this.h=!1}var zJe=45e3,K3={},OR={};$t=fT.prototype;$t.setTimeout=function(t){this.P=t};function X3(t,e,n){t.K=1,t.v=yL(Vd(e)),t.s=n,t.U=!0,ale(t,null)}function ale(t,e){t.F=Date.now(),hT(t),t.A=Vd(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),ple(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ole,t.g=Dle(t.l,n?e:null,!t.s),0<t.O&&(t.L=new OJe($s(t.Ia,t,t.g),t.O)),Zae(t.V,t.g,"readystatechange",t.gb),e=t.H?Uae(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),BS(1),FJe(t.j,t.u,t.A,t.m,t.X,t.s)}$t.gb=function(t){t=t.target;const e=this.L;e&&xd(t)==3?e.l():this.Ia(t)};$t.Ia=function(t){try{if(t==this.g)e:{const u=xd(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>u)&&(u!=3||z3||this.g&&(this.h.h||this.g.ga()||kq(this.g)))){this.I||u!=4||e==7||(e==8||0>=d?BS(3):BS(2)),vL(this);var n=this.g.ba();this.N=n;t:if(lle(this)){var r=kq(this.g);t="";var i=r.length,s=xd(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){Dm(this),g1(this);var o="";break t}this.h.i=new un.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,BJe(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!DR(a)){var c=a;break t}}c=null}if(n=c)y0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Y3(this,n);else{this.i=!1,this.o=3,Mo(12),Dm(this),g1(this);break e}}this.U?(cle(this,u,o),z3&&this.i&&u==3&&(Zae(this.V,this.W,"tick",this.fb),this.W.start())):(y0(this.j,this.m,o,null),Y3(this,o)),u==4&&Dm(this),this.i&&!this.I&&(u==4?Rle(this.l,this):(this.i=!1,hT(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Mo(12)):(this.o=0,Mo(13)),Dm(this),g1(this)}}}catch{}finally{}};function lle(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function cle(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=VJe(t,n),i==OR){e==4&&(t.o=4,Mo(14),r=!1),y0(t.j,t.m,null,"[Incomplete Response]");break}else if(i==K3){t.o=4,Mo(15),y0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else y0(t.j,t.m,i,null),Y3(t,i);lle(t)&&i!=OR&&i!=K3&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Mo(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),uV(e),e.L=!0,Mo(11))):(y0(t.j,t.m,n,"[Invalid Chunked Response]"),Dm(t),g1(t))}$t.fb=function(){if(this.g){var t=xd(this.g),e=this.g.ga();this.C<e.length&&(vL(this),cle(this,t,e),this.i&&t!=4&&hT(this))}};function VJe(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?OR:(n=Number(e.substring(n,r)),isNaN(n)?K3:(r+=1,r+n>e.length?OR:(e=e.substr(r,n),t.C=r+n,e)))}$t.cancel=function(){this.I=!0,Dm(this)};function hT(t){t.Y=Date.now()+t.P,ule(t,t.P)}function ule(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=uT($s(t.eb,t),e)}function vL(t){t.B&&(un.clearTimeout(t.B),t.B=null)}$t.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($Je(this.j,this.A),this.K!=2&&(BS(3),Mo(17)),Dm(this),this.o=2,g1(this)):ule(this,this.Y-t)};function g1(t){t.l.G==0||t.I||Rle(t.l,t)}function Dm(t){vL(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Q4(t.W),ele(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Y3(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Q3(n.i,t))){if(n.I=t.N,!t.J&&Q3(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)UR(n),wL(n);else break e;cV(n),Mo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=uT($s(n.ab,n),6e3));if(1>=vle(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Nm(n,11)}else if((t.J||n.g==t)&&UR(n),!DR(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.J=c[1],n.la=c[2];const u=c[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));const d=c[4];d!=null&&(n.za=d,n.h.info("SVER="+n.za));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;!s.g&&(So(g,"spdy")||So(g,"quic")||So(g,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(iV(s,s.h),s.h=null))}if(r.D){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.sa=v,Or(r.F,r.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=Lle(r,r.H?r.la:null,r.W),o.J){yle(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(vL(a),hT(a)),r.g=o}else Mle(r);0<n.l.length&&bL(n)}else c[0]!="stop"&&c[0]!="close"||Nm(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Nm(n,7):lV(n):c[0]!="noop"&&n.j&&n.j.wa(c),n.A=0)}}BS(4)}catch{}}function WJe(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(U3(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function nV(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(U3(t)||typeof t=="string")$ae(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(U3(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=WJe(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ex(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ex)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}$t=Ex.prototype;$t.R=function(){rV(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};$t.T=function(){return rV(this),this.g.concat()};function rV(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Mg(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Mg(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}$t.get=function(t,e){return Mg(this.h,t)?this.h[t]:e};$t.set=function(t,e){Mg(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};$t.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Mg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var dle=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function HJe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ag(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ag){this.g=e!==void 0?e:t.g,FR(this,t.j),this.s=t.s,BR(this,t.i),$R(this,t.m),this.l=t.l,e=t.h;var n=new $S;n.i=e.i,e.g&&(n.g=new Ex(e.g),n.h=e.h),Aq(this,n),this.o=t.o}else t&&(n=String(t).match(dle))?(this.g=!!e,FR(this,n[1]||"",!0),this.s=v1(n[2]||""),BR(this,n[3]||"",!0),$R(this,n[4]),this.l=v1(n[5]||"",!0),Aq(this,n[6]||"",!0),this.o=v1(n[7]||"")):(this.g=!!e,this.h=new $S(null,this.g))}Ag.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ub(e,Rq,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ub(e,Rq,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Ub(n,n.charAt(0)=="/"?XJe:KJe,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ub(n,QJe)),t.join("")};function Vd(t){return new Ag(t)}function FR(t,e,n){t.j=n?v1(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function BR(t,e,n){t.i=n?v1(e,!0):e}function $R(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Aq(t,e,n){e instanceof $S?(t.h=e,JJe(t.h,t.g)):(n||(e=Ub(e,YJe)),t.h=new $S(e,t.g))}function Or(t,e,n){t.h.set(e,n)}function yL(t){return Or(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function GJe(t){return t instanceof Ag?Vd(t):new Ag(t,void 0)}function jJe(t,e,n,r){var i=new Ag(null,void 0);return t&&FR(i,t),e&&BR(i,e),n&&$R(i,n),r&&(i.l=r),i}function v1(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ub(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qJe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qJe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Rq=/[#\/\?@]/g,KJe=/[#\?:]/g,XJe=/[#\?]/g,YJe=/[#\?@]/g,QJe=/#/g;function $S(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fp(t){t.g||(t.g=new Ex,t.h=0,t.i&&HJe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$t=$S.prototype;$t.add=function(t,e){fp(this),this.i=null,t=Ix(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function fle(t,e){fp(t),e=Ix(t,e),Mg(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Mg(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&rV(t)))}function hle(t,e){return fp(t),e=Ix(t,e),Mg(t.g.h,e)}$t.forEach=function(t,e){fp(this),this.g.forEach(function(n,r){$ae(n,function(i){t.call(e,i,r,this)},this)},this)};$t.T=function(){fp(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};$t.R=function(t){fp(this);var e=[];if(typeof t=="string")hle(this,t)&&(e=xq(e,this.g.get(Ix(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=xq(e,t[n])}return e};$t.set=function(t,e){return fp(this),this.i=null,t=Ix(this,t),hle(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$t.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function ple(t,e,n){fle(t,e),0<n.length&&(t.i=null,t.g.set(Ix(t,e),V4(n)),t.h+=n.length)}$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function Ix(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function JJe(t,e){e&&!t.j&&(fp(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(fle(this,r),ple(this,i,n))},t)),t.j=e}var ZJe=class{constructor(t,e){this.h=t,this.g=e}};function mle(t){this.l=t||eZe,un.PerformanceNavigationTiming?(t=un.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(un.g&&un.g.Ea&&un.g.Ea()&&un.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var eZe=10;function gle(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vle(t){return t.h?1:t.g?t.g.size:0}function Q3(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function iV(t,e){t.g?t.g.add(e):t.h=e}function yle(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mle.prototype.cancel=function(){if(this.i=_le(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function _le(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return V4(t.i)}function sV(){}sV.prototype.stringify=function(t){return un.JSON.stringify(t,void 0)};sV.prototype.parse=function(t){return un.JSON.parse(t,void 0)};function tZe(){this.g=new sV}function nZe(t,e,n){const r=n||"";try{nV(t,function(i,s){let o=i;lT(i)&&(o=X4(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rZe(t,e){const n=new hL;if(un.Image){const r=new Image;r.onload=eM(nM,n,r,"TestLoadImage: loaded",!0,e),r.onerror=eM(nM,n,r,"TestLoadImage: error",!1,e),r.onabort=eM(nM,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=eM(nM,n,r,"TestLoadImage: timeout",!1,e),un.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function nM(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function pT(t){this.l=t.$b||null,this.j=t.ib||!1}Ws(pT,Z4);pT.prototype.g=function(){return new _L(this.l,this.j)};pT.prototype.i=function(t){return function(){return t}}({});function _L(t,e){ys.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=oV,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ws(_L,ys);var oV=0;$t=_L.prototype;$t.open=function(t,e){if(this.readyState!=oV)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,US(this)};$t.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||un).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mT(this)),this.readyState=oV};$t.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,US(this)),this.g&&(this.readyState=3,US(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof un.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xle(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function xle(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}$t.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mT(this):US(this),this.readyState==3&&xle(this)}};$t.Ua=function(t){this.g&&(this.response=this.responseText=t,mT(this))};$t.Ta=function(t){this.g&&(this.response=t,mT(this))};$t.ha=function(){this.g&&mT(this)};function mT(t){t.readyState=4,t.l=null,t.j=null,t.A=null,US(t)}$t.setRequestHeader=function(t,e){this.v.append(t,e)};$t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function US(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(_L.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var iZe=un.JSON.parse;function Ei(t){ys.call(this),this.headers=new Ex,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wle,this.K=this.L=!1}Ws(Ei,ys);var wle="",sZe=/^https?$/i,oZe=["POST","PUT"];$t=Ei.prototype;$t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():q3.g(),this.C=this.u?Mq(this.u):Mq(q3),this.g.onreadystatechange=$s(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Pq(this,s);return}t=n||"";const i=new Ex(this.headers);r&&nV(r,function(s,o){i.set(o,s)}),r=vJe(i.T()),n=un.FormData&&t instanceof un.FormData,!(0<=Bae(oZe,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cle(this),0<this.B&&((this.K=aZe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$s(this.pa,this)):this.A=J4(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Pq(this,s)}};function aZe(t){return F_&&bJe()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function lZe(t){return t.toLowerCase()=="content-type"}$t.pa=function(){typeof z4!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Us(this,"timeout"),this.abort(8))};function Pq(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ble(t),xL(t)}function ble(t){t.D||(t.D=!0,Us(t,"complete"),Us(t,"error"))}$t.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Us(this,"complete"),Us(this,"abort"),xL(this))};$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xL(this,!0)),Ei.Z.M.call(this)};$t.Fa=function(){this.s||(this.F||this.v||this.l?Sle(this):this.cb())};$t.cb=function(){Sle(this)};function Sle(t){if(t.h&&typeof z4!="undefined"&&(!t.C[1]||xd(t)!=4||t.ba()!=2)){if(t.v&&xd(t)==4)J4(t.Fa,0,t);else if(Us(t,"readystatechange"),xd(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(dle)[1]||null;if(!i&&un.self&&un.self.location){var s=un.self.location.protocol;i=s.substr(0,s.length-1)}r=!sZe.test(i?i.toLowerCase():"")}n=r}if(n)Us(t,"complete"),Us(t,"success");else{t.m=6;try{var o=2<xd(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",ble(t)}}finally{xL(t)}}}}function xL(t,e){if(t.g){Cle(t);const n=t.g,r=t.C[0]?LR:null;t.g=null,t.C=null,e||Us(t,"ready");try{n.onreadystatechange=r}catch{}}}function Cle(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(un.clearTimeout(t.A),t.A=null)}function xd(t){return t.g?t.g.readyState:0}$t.ba=function(){try{return 2<xd(this)?this.g.status:-1}catch{return-1}};$t.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};$t.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iZe(e)}};function kq(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wle:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}$t.Da=function(){return this.m};$t.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function cZe(t){let e="";return W4(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function aV(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=cZe(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Or(t,e,n))}function vb(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Tle(t){this.za=0,this.l=[],this.h=new hL,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vb("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vb("baseRetryDelayMs",5e3,t),this.$a=vb("retryDelaySeedMs",1e4,t),this.Ya=vb("forwardChannelMaxRetries",2,t),this.ra=vb("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new mle(t&&t.concurrentRequestLimit),this.Ca=new tZe,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}$t=Tle.prototype;$t.ma=8;$t.G=1;function lV(t){if(Ele(t),t.G==3){var e=t.V++,n=Vd(t.F);Or(n,"SID",t.J),Or(n,"RID",e),Or(n,"TYPE","terminate"),gT(t,n),e=new fT(t,t.h,e,void 0),e.K=2,e.v=yL(Vd(n)),n=!1,un.navigator&&un.navigator.sendBeacon&&(n=un.navigator.sendBeacon(e.v.toString(),"")),!n&&un.Image&&(new Image().src=e.v,n=!0),n||(e.g=Dle(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hT(e)}kle(t)}$t.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function wL(t){t.g&&(uV(t),t.g.cancel(),t.g=null)}function Ele(t){wL(t),t.u&&(un.clearTimeout(t.u),t.u=null),UR(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&un.clearTimeout(t.m),t.m=null)}function TN(t,e){t.l.push(new ZJe(t.Za++,e)),t.G==3&&bL(t)}function bL(t){gle(t.i)||t.m||(t.m=!0,Y4(t.Ha,t),t.C=0)}function uZe(t,e){return vle(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=uT($s(t.Ha,t,e),Ple(t,t.C)),t.C++,!0)}$t.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new fT(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=Uae(s),zae(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ile(this,i,e),n=Vd(this.F),Or(n,"RID",t),Or(n,"CVER",22),this.D&&Or(n,"X-HTTP-Session-Id",this.D),gT(this,n),this.o&&s&&aV(n,this.o,s),iV(this.i,i),this.Ra&&Or(n,"TYPE","init"),this.ja?(Or(n,"$req",e),Or(n,"SID","null"),i.$=!0,X3(i,n,null)):X3(i,n,e),this.G=2}}else this.G==3&&(t?Lq(this,t):this.l.length==0||gle(this.i)||Lq(this))};function Lq(t,e){var n;e?n=e.m:n=t.V++;const r=Vd(t.F);Or(r,"SID",t.J),Or(r,"RID",n),Or(r,"AID",t.U),gT(t,r),t.o&&t.s&&aV(r,t.o,t.s),n=new fT(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Ile(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),iV(t.i,n),X3(n,r,e)}function gT(t,e){t.j&&nV({},function(n,r){Or(e,r,n)})}function Ile(t,e,n){n=Math.min(t.l.length,n);var r=t.j?$s(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{nZe(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Mle(t){t.g||t.u||(t.Y=1,Y4(t.Ga,t),t.A=0)}function cV(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=uT($s(t.Ga,t),Ple(t,t.A)),t.A++,!0)}$t.Ga=function(){if(this.u=null,Ale(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=uT($s(this.bb,this),t)}};$t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mo(10),wL(this),Ale(this))};function uV(t){t.B!=null&&(un.clearTimeout(t.B),t.B=null)}function Ale(t){t.g=new fT(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Vd(t.oa);Or(e,"RID","rpc"),Or(e,"SID",t.J),Or(e,"CI",t.N?"0":"1"),Or(e,"AID",t.U),gT(t,e),Or(e,"TYPE","xmlhttp"),t.o&&t.s&&aV(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=yL(Vd(e)),n.s=null,n.U=!0,ale(n,t)}$t.ab=function(){this.v!=null&&(this.v=null,wL(this),cV(this),Mo(19))};function UR(t){t.v!=null&&(un.clearTimeout(t.v),t.v=null)}function Rle(t,e){var n=null;if(t.g==e){UR(t),uV(t),t.g=null;var r=2}else if(Q3(t.i,e))n=e.D,yle(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=pL(),Us(r,new rle(r,n,e,i)),bL(t)}else Mle(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&uZe(t,e)||r==2&&cV(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Nm(t,5);break;case 4:Nm(t,10);break;case 3:Nm(t,6);break;default:Nm(t,2)}}}function Ple(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Nm(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=$s(t.jb,t);n||(n=new Ag("//www.google.com/images/cleardot.gif"),un.location&&un.location.protocol=="http"||FR(n,"https"),yL(n)),rZe(n.toString(),r)}else Mo(2);t.G=0,t.j&&t.j.va(e),kle(t),Ele(t)}$t.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Mo(2)):(this.h.info("Failed to ping google.com"),Mo(1))};function kle(t){t.G=0,t.I=-1,t.j&&((_le(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,V4(t.l),t.l.length=0),t.j.ua())}function Lle(t,e,n){let r=GJe(n);if(r.i!="")e&&BR(r,e+"."+r.i),$R(r,r.m);else{const i=un.location;r=jJe(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&W4(t.aa,function(i,s){Or(r,s,i)}),e=t.D,n=t.sa,e&&n&&Or(r,e,n),Or(r,"VER",t.ma),gT(t,r),r}function Dle(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Ei(new pT({ib:!0})):new Ei(t.qa),e.L=t.H,e}function Nle(){}$t=Nle.prototype;$t.xa=function(){};$t.wa=function(){};$t.va=function(){};$t.ua=function(){};$t.Oa=function(){};function zR(){if(F_&&!(10<=Number(SJe)))throw Error("Environmental error: no available transport.")}zR.prototype.g=function(t,e){return new Ha(t,e)};function Ha(t,e){ys.call(this),this.g=new Tle(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!DR(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!DR(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Mx(this)}Ws(Ha,ys);Ha.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Y4($s(t.hb,t,e))),Mo(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Lle(t,null,t.W),bL(t)};Ha.prototype.close=function(){lV(this.g)};Ha.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,TN(this.g,e)}else this.v?(e={},e.__data__=X4(t),TN(this.g,e)):TN(this.g,t)};Ha.prototype.M=function(){this.g.j=null,delete this.j,lV(this.g),delete this.g,Ha.Z.M.call(this)};function Ole(t){eV.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ws(Ole,eV);function Fle(){tV.call(this),this.status=1}Ws(Fle,tV);function Mx(t){this.g=t}Ws(Mx,Nle);Mx.prototype.xa=function(){Us(this.g,"a")};Mx.prototype.wa=function(t){Us(this.g,new Ole(t))};Mx.prototype.va=function(t){Us(this.g,new Fle(t))};Mx.prototype.ua=function(){Us(this.g,"b")};zR.prototype.createWebChannel=zR.prototype.g;Ha.prototype.send=Ha.prototype.u;Ha.prototype.open=Ha.prototype.m;Ha.prototype.close=Ha.prototype.close;mL.NO_ERROR=0;mL.TIMEOUT=8;mL.HTTP_ERROR=6;ile.COMPLETE="complete";sle.EventType=dT;dT.OPEN="a";dT.CLOSE="b";dT.ERROR="c";dT.MESSAGE="d";ys.prototype.listen=ys.prototype.N;Ei.prototype.listenOnce=Ei.prototype.O;Ei.prototype.getLastError=Ei.prototype.La;Ei.prototype.getLastErrorCode=Ei.prototype.Da;Ei.prototype.getStatus=Ei.prototype.ba;Ei.prototype.getResponseJson=Ei.prototype.Qa;Ei.prototype.getResponseText=Ei.prototype.ga;Ei.prototype.send=Ei.prototype.ea;var dZe=function(){return new zR},fZe=function(){return pL()},EN=mL,hZe=ile,pZe=cv,Dq={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mZe=pT,rM=sle,gZe=Ei;const Nq="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rs.UNAUTHENTICATED=new Rs(null),Rs.GOOGLE_CREDENTIALS=new Rs("google-credentials-uid"),Rs.FIRST_PARTY=new Rs("first-party-uid"),Rs.MOCK_USER=new Rs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ax="9.6.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Pu("@firebase/firestore");function J3(){return Hh.logLevel}function vZe(t){Hh.setLogLevel(t)}function gt(t,...e){if(Hh.logLevel<=wn.DEBUG){const n=e.map(dV);Hh.debug(`Firestore (${Ax}): ${t}`,...n)}}function Si(t,...e){if(Hh.logLevel<=wn.ERROR){const n=e.map(dV);Hh.error(`Firestore (${Ax}): ${t}`,...n)}}function zS(t,...e){if(Hh.logLevel<=wn.WARN){const n=e.map(dV);Hh.warn(`Firestore (${Ax}): ${t}`,...n)}}function dV(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t="Unexpected state"){const e=`FIRESTORE (${Ax}) INTERNAL ASSERTION FAILED: `+t;throw Si(e),new Error(e)}function on(t,e){t||zt()}function yZe(t,e){t||zt()}function kt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ble{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _Ze{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rs.UNAUTHENTICATED))}shutdown(){}}class xZe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wZe{constructor(e){this.t=e,this.currentUser=Rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fs,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(on(typeof r.accessToken=="string"),new Ble(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return on(e===null||typeof e=="string"),new Rs(e)}}class bZe{constructor(e,n,r){this.type="FirstParty",this.user=Rs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class SZe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bZe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CZe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TZe{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(on(typeof n.token=="string"),this.p=n.token,new CZe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZe(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da.A=-1;class $le{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=EZe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function hn(t,e){return t<e?-1:t>e?1:0}function B_(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Ule(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ht(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ht(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pi(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?hn(this.nanoseconds,e.nanoseconds):hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rn(e)}static min(){return new rn(new pi(0,0))}static max(){return new rn(new pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oq(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uv(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zle(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r){n===void 0?n=0:n>e.length&&zt(),r===void 0?r=e.length-n:r>e.length-n&&zt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return VS.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof VS?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Bn extends VS{construct(e,n,r){return new Bn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ht(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Bn(n)}static emptyPath(){return new Bn([])}}const IZe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ls extends VS{construct(e,n,r){return new ls(e,n,r)}static isValidIdentifier(e){return IZe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ls.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ls(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ht(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ht(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ht(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ht(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ls(n)}static emptyPath(){return new ls([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this.fields=e,e.sort(ls.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return B_(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MZe(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Gi(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Gi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const AZe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gh(t){if(on(!!t),typeof t=="string"){let e=0;const n=AZe.exec(t);if(on(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(t.seconds),nanos:ei(t.nanos)}}function ei(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rg(t){return typeof t=="string"?Gi.fromBase64String(t):Gi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vle(t){const e=t.mapValue.fields.__previous_value__;return fV(e)?Vle(e):e}function WS(t){const e=Gh(t.mapValue.fields.__local_write_time__.timestampValue);return new pi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZe{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Wd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){return t==null}function HS(t){return t===0&&1/t==-1/0}function Wle(t){return typeof t=="number"&&Number.isInteger(t)&&!HS(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.path=e}static fromPath(e){return new Mt(Bn.fromString(e))}static fromName(e){return new Mt(Bn.fromString(e).popFirst(5))}static empty(){return new Mt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Bn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mt(new Bn(e.slice()))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hle={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gle={nullValue:"NULL_VALUE"};function Pg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fV(t)?4:jle(t)?9:10:zt()}function Eu(t,e){if(t===e)return!0;const n=Pg(t);if(n!==Pg(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return WS(t).isEqual(WS(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Gh(r.timestampValue),o=Gh(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Rg(r.bytesValue).isEqual(Rg(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ei(r.geoPointValue.latitude)===ei(i.geoPointValue.latitude)&&ei(r.geoPointValue.longitude)===ei(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ei(r.integerValue)===ei(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ei(r.doubleValue),o=ei(i.doubleValue);return s===o?HS(s)===HS(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return B_(t.arrayValue.values||[],e.arrayValue.values||[],Eu);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Oq(s)!==Oq(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Eu(s[a],o[a])))return!1;return!0}(t,e);default:return zt()}}function GS(t,e){return(t.values||[]).find(n=>Eu(n,e))!==void 0}function jh(t,e){if(t===e)return 0;const n=Pg(t),r=Pg(e);if(n!==r)return hn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hn(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ei(i.integerValue||i.doubleValue),a=ei(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Fq(t.timestampValue,e.timestampValue);case 4:return Fq(WS(t),WS(e));case 5:return hn(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Rg(i),a=Rg(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=hn(o[l],a[l]);if(c!==0)return c}return hn(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=hn(ei(i.latitude),ei(s.latitude));return o!==0?o:hn(ei(i.longitude),ei(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=jh(o[l],a[l]);if(c)return c}return hn(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=hn(a[u],c[u]);if(d!==0)return d;const f=jh(o[a[u]],l[c[u]]);if(f!==0)return f}return hn(a.length,c.length)}(t.mapValue,e.mapValue);default:throw zt()}}function Fq(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return hn(t,e);const n=Gh(t),r=Gh(e),i=hn(n.seconds,r.seconds);return i!==0?i:hn(n.nanos,r.nanos)}function z0(t){return Z3(t)}function Z3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Gh(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Rg(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Mt.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Z3(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Z3(r.fields[a])}`;return s+"}"}(t.mapValue):zt();var e,n}function kg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eB(t){return!!t&&"integerValue"in t}function jS(t){return!!t&&"arrayValue"in t}function Bq(t){return!!t&&"nullValue"in t}function $q(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ZM(t){return!!t&&"mapValue"in t}function y1(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return uv(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=y1(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=y1(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jle(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function PZe(t){return"nullValue"in t?Gle:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?kg(Wd.empty(),Mt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:zt()}function kZe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?kg(Wd.empty(),Mt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Hle:zt()}function Uq(t,e){return t===void 0?e:e===void 0||jh(t,e)>0?t:e}function zq(t,e){return t===void 0?e:e===void 0||jh(t,e)<0?t:e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.value=e}static empty(){return new so({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ZM(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=y1(n)}setAll(e){let n=ls.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=y1(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ZM(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Eu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ZM(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uv(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new so(y1(this.value))}}function qle(t){const e=[];return uv(t.fields,(n,r)=>{const i=new ls([n]);if(ZM(r)){const s=qle(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $_(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Er(e,0,rn.min(),rn.min(),so.empty(),0)}static newFoundDocument(e,n,r){return new Er(e,1,n,rn.min(),r,0)}static newNoDocument(e,n){return new Er(e,2,n,rn.min(),so.empty(),0)}static newUnknownDocument(e,n){return new Er(e,3,n,rn.min(),so.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kle{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function tB(t){return t.fields.find(e=>e.kind===2)}function mm(t){return t.fields.filter(e=>e.kind!==2)}Kle.UNKNOWN_ID=-1;class LZe{constructor(e,n){this.fieldPath=e,this.kind=n}}class VR{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new VR(0,Hd.min())}}function Xle(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rn.fromTimestamp(r===1e9?new pi(n+1,0):new pi(n,r));return new Hd(i,Mt.empty(),e)}function DZe(t){return new Hd(t.readTime,t.key,-1)}class Hd{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hd(rn.min(),Mt.empty(),-1)}static max(){return new Hd(rn.max(),Mt.empty(),-1)}}function NZe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Mt.comparator(t.documentKey,e.documentKey),n!==0?n:hn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function Vq(t,e=null,n=[],r=[],i=null,s=null,o=null){return new OZe(t,e,n,r,i,s,o)}function Lg(t){const e=kt(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+z0(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>z0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>z0(r)).join(",")),e.P=n}return e.P}function FZe(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${z0(r.value)}`;var r}).join(", ")}]`),dv(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>z0(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>z0(n)).join(",")),`Target(${e})`}function vT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!GZe(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Eu(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jq(t.startAt,e.startAt)&&jq(t.endAt,e.endAt)}function WR(t){return Mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function HR(t,e){return t.filters.filter(n=>n instanceof Ds&&n.field.isEqual(e))}function Wq(t,e,n){let r,i=!0;for(const s of HR(t,e)){let o,a=!0;switch(s.op){case"<":case"<=":o=PZe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Gle}Uq(r,o)===o&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];Uq(r,o)===o&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function Hq(t,e,n){let r,i=!0;for(const s of HR(t,e)){let o,a=!0;switch(s.op){case">=":case">":o=kZe(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Hle}zq(r,o)===o&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];zq(r,o)===o&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}class Ds extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,r):new BZe(e,n,r):n==="array-contains"?new zZe(e,r):n==="in"?new VZe(e,r):n==="not-in"?new WZe(e,r):n==="array-contains-any"?new HZe(e,r):new Ds(e,n,r)}static V(e,n,r){return n==="in"?new $Ze(e,r):new UZe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(jh(n,this.value)):n!==null&&Pg(this.value)===Pg(n)&&this.v(jh(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return zt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class BZe extends Ds{constructor(e,n,r){super(e,n,r),this.key=Mt.fromName(r.referenceValue)}matches(e){const n=Mt.comparator(e.key,this.key);return this.v(n)}}class $Ze extends Ds{constructor(e,n){super(e,"in",n),this.keys=Yle("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UZe extends Ds{constructor(e,n){super(e,"not-in",n),this.keys=Yle("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Yle(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Mt.fromName(r.referenceValue))}class zZe extends Ds{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jS(n)&&GS(n.arrayValue,this.value)}}class VZe extends Ds{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&GS(this.value.arrayValue,n)}}class WZe extends Ds{constructor(e,n){super(e,"not-in",n)}matches(e){if(GS(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!GS(this.value.arrayValue,n)}}class HZe extends Ds{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>GS(this.value.arrayValue,r))}}class qh{constructor(e,n){this.position=e,this.inclusive=n}}class V0{constructor(e,n="asc"){this.field=e,this.dir=n}}function GZe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Gq(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Mt.comparator(Mt.fromName(o.referenceValue),n.key):r=jh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jq(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Eu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function Qle(t,e,n,r,i,s,o,a){return new Jd(t,e,n,r,i,s,o,a)}function Rx(t){return new Jd(t)}function eA(t){return!dv(t.limit)&&t.limitType==="F"}function GR(t){return!dv(t.limit)&&t.limitType==="L"}function hV(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pV(t){for(const e of t.filters)if(e.S())return e.field;return null}function mV(t){return t.collectionGroup!==null}function U_(t){const e=kt(t);if(e.D===null){e.D=[];const n=pV(e),r=hV(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new V0(n)),e.D.push(new V0(ls.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new V0(ls.keyField(),s))}}}return e.D}function Pl(t){const e=kt(t);if(!e.C)if(e.limitType==="F")e.C=Vq(e.path,e.collectionGroup,U_(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of U_(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new V0(s.field,o))}const r=e.endAt?new qh(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new qh(e.startAt.position,!e.startAt.inclusive):null;e.C=Vq(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Jle(t,e,n){return new Jd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yT(t,e){return vT(Pl(t),Pl(e))&&t.limitType===e.limitType}function Zle(t){return`${Lg(Pl(t))}|lt:${t.limitType}`}function nB(t){return`Query(target=${FZe(Pl(t))}; limitType=${t.limitType})`}function gV(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Mt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=Gq(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,U_(n),r)||n.endAt&&!function(i,s,o){const a=Gq(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,U_(n),r))}(t,e)}function ece(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tce(t){return(e,n)=>{let r=!1;for(const i of U_(t)){const s=jZe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jZe(t,e,n){const r=t.field.isKeyField()?Mt.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?jh(a,l):zt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return zt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nce(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HS(e)?"-0":e}}function rce(t){return{integerValue:""+t}}function ice(t,e){return Wle(e)?rce(e):nce(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this._=void 0}}function qZe(t,e,n){return t instanceof z_?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Dg?oce(t,e):t instanceof Ng?ace(t,e):function(r,i){const s=sce(r,i),o=qq(s)+qq(r.k);return eB(s)&&eB(r.k)?rce(o):nce(r.M,o)}(t,e)}function KZe(t,e,n){return t instanceof Dg?oce(t,e):t instanceof Ng?ace(t,e):n}function sce(t,e){return t instanceof V_?eB(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class z_ extends SL{}class Dg extends SL{constructor(e){super(),this.elements=e}}function oce(t,e){const n=lce(e);for(const r of t.elements)n.some(i=>Eu(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ng extends SL{constructor(e){super(),this.elements=e}}function ace(t,e){let n=lce(e);for(const r of t.elements)n=n.filter(i=>!Eu(i,r));return{arrayValue:{values:n}}}class V_ extends SL{constructor(e,n){super(),this.M=e,this.k=n}}function qq(t){return ei(t.integerValue||t.doubleValue)}function lce(t){return jS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.field=e,this.transform=n}}function XZe(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Dg&&r instanceof Dg||n instanceof Ng&&r instanceof Ng?B_(n.elements,r.elements,Eu):n instanceof V_&&r instanceof V_?Eu(n.k,r.k):n instanceof z_&&r instanceof z_}(t.transform,e.transform)}class YZe{constructor(e,n){this.version=e,this.transformResults=n}}class Ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tA(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class CL{}function QZe(t,e,n){t instanceof xT?function(r,i,s){const o=r.value.clone(),a=Yq(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fv?function(r,i,s){if(!tA(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Yq(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(cce(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function rB(t,e,n){t instanceof xT?function(r,i,s){if(!tA(r.precondition,i))return;const o=r.value.clone(),a=Qq(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(Xq(i),o).setHasLocalMutations()}(t,e,n):t instanceof fv?function(r,i,s){if(!tA(r.precondition,i))return;const o=Qq(r.fieldTransforms,s,i),a=i.data;a.setAll(cce(r)),a.setAll(o),i.convertToFoundDocument(Xq(i),a).setHasLocalMutations()}(t,e,n):function(r,i){tA(r.precondition,i)&&i.convertToNoDocument(rn.min())}(t,e)}function JZe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sce(r.transform,i||null);s!=null&&(n==null&&(n=so.empty()),n.set(r.field,s))}return n||null}function Kq(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&B_(n,r,(i,s)=>XZe(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Xq(t){return t.isFoundDocument()?t.version:rn.min()}class xT extends CL{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class fv extends CL{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function cce(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yq(t,e,n){const r=new Map;on(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KZe(o,a,n[i]))}return r}function Qq(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,qZe(s,o,e))}return r}class wT extends CL{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class vV extends CL{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZe{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi,Fn;function uce(t){switch(t){default:return zt();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function dce(t){if(t===void 0)return Si("GRPC error has no .code"),Ke.UNKNOWN;switch(t){case yi.OK:return Ke.OK;case yi.CANCELLED:return Ke.CANCELLED;case yi.UNKNOWN:return Ke.UNKNOWN;case yi.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case yi.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case yi.INTERNAL:return Ke.INTERNAL;case yi.UNAVAILABLE:return Ke.UNAVAILABLE;case yi.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case yi.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case yi.NOT_FOUND:return Ke.NOT_FOUND;case yi.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case yi.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case yi.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case yi.ABORTED:return Ke.ABORTED;case yi.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case yi.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case yi.DATA_LOSS:return Ke.DATA_LOSS;default:return zt()}}(Fn=yi||(yi={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uv(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return zle(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.comparator=e,this.root=n||Ps.EMPTY}insert(e,n){return new mi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new iM(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new iM(this.root,e,this.comparator,!1)}getReverseIterator(){return new iM(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new iM(this.root,e,this.comparator,!0)}}class iM{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ps{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ps.RED,this.left=i!=null?i:Ps.EMPTY,this.right=s!=null?s:Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ps(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ps.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const e=this.left.check();if(e!==this.right.check())throw zt();return e+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1;Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ps(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jq(this.data.getIterator())}getIteratorFrom(e){return new Jq(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Rr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rr(this.comparator);return n.data=e,n}}class Jq{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function By(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eet=new mi(Mt.comparator);function pl(){return eet}const tet=new mi(Mt.comparator);function iB(){return tet}function _1(){return new hp(t=>t.toString(),(t,e)=>t.isEqual(e))}const net=new mi(Mt.comparator),ret=new Rr(Mt.comparator);function ir(...t){let e=ret;for(const n of t)e=e.add(n);return e}const iet=new Rr(hn);function TL(){return iet}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ST.createSynthesizedTargetChangeForCurrentChange(e,n)),new bT(rn.min(),r,TL(),pl(),ir())}}class ST{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ST(Gi.EMPTY_BYTE_STRING,n,ir(),ir(),ir())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class fce{constructor(e,n){this.targetId=e,this.$=n}}class hce{constructor(e,n,r=Gi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Zq{constructor(){this.B=0,this.L=t9(),this.U=Gi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ir(),n=ir(),r=ir();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:zt()}}),new ST(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=t9()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class set{constructor(e){this.nt=e,this.st=new Map,this.it=pl(),this.rt=e9(),this.ot=new Rr(hn)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:zt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(WR(s))if(r===0){const o=new Mt(s.path);this.ct(n,o,Er.newNoDocument(o,rn.min()))}else on(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&WR(a.target)){const l=new Mt(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.ct(o,l,Er.newNoDocument(l,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=ir();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.wt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new bT(e,n,this.ot,this.it,r);return this.it=pl(),this.rt=e9(),this.ot=new Rr(hn),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new Zq,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Rr(hn),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||gt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Zq),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function e9(){return new mi(Mt.comparator)}function t9(){return new mi(Mt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oet=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aet=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class cet{constructor(e,n){this.databaseId=e,this.N=n}}function qS(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pce(t,e){return t.N?e.toBase64():e.toUint8Array()}function uet(t,e){return qS(t,e.toTimestamp())}function hs(t){return on(!!t),rn.fromTimestamp(function(e){const n=Gh(e);return new pi(n.seconds,n.nanos)}(t))}function yV(t,e){return function(n){return new Bn(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mce(t){const e=Bn.fromString(t);return on(Sce(e)),e}function KS(t,e){return yV(t.databaseId,e.path)}function hu(t,e){const n=mce(e);if(n.get(1)!==t.databaseId.projectId)throw new ht(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ht(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Mt(vce(n))}function sB(t,e){return yV(t.databaseId,e)}function gce(t){const e=mce(t);return e.length===4?Bn.emptyPath():vce(e)}function XS(t){return new Bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vce(t){return on(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function n9(t,e,n){return{name:KS(t,e),fields:n.value.mapValue.fields}}function yce(t,e,n){const r=hu(t,e.name),i=hs(e.updateTime),s=new so({mapValue:{fields:e.fields}}),o=Er.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function det(t,e){return"found"in e?function(n,r){on(!!r.found),r.found.name,r.found.updateTime;const i=hu(n,r.found.name),s=hs(r.found.updateTime),o=new so({mapValue:{fields:r.found.fields}});return Er.newFoundDocument(i,s,o)}(t,e):"missing"in e?function(n,r){on(!!r.missing),on(!!r.readTime);const i=hu(n,r.missing),s=hs(r.readTime);return Er.newNoDocument(i,s)}(t,e):zt()}function fet(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:zt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.N?(on(c===void 0||typeof c=="string"),Gi.fromBase64String(c||"")):(on(c===void 0||c instanceof Uint8Array),Gi.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?Ke.UNKNOWN:dce(l.code);return new ht(c,l.message||"")}(o);n=new hce(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=hu(t,r.document.name),s=hs(r.document.updateTime),o=new so({mapValue:{fields:r.document.fields}}),a=Er.newFoundDocument(i,s,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new nA(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=hu(t,r.document),s=r.readTime?hs(r.readTime):rn.min(),o=Er.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nA([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=hu(t,r.document),s=r.removedTargetIds||[];n=new nA([],s,i,null)}else{if(!("filter"in e))return zt();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new ZZe(i),o=r.targetId;n=new fce(o,s)}}return n}function YS(t,e){let n;if(e instanceof xT)n={update:n9(t,e.key,e.value)};else if(e instanceof wT)n={delete:KS(t,e.key)};else if(e instanceof fv)n={update:n9(t,e.key,e.data),updateMask:_et(e.fieldMask)};else{if(!(e instanceof vV))return zt();n={verify:KS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof z_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dg)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ng)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof V_)return{fieldPath:s.field.canonicalString(),increment:o.k};throw zt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:uet(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:zt()}(t,e.precondition)),n}function oB(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Ci.updateTime(hs(i.updateTime)):i.exists!==void 0?Ci.exists(i.exists):Ci.none()}(e.currentDocument):Ci.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)on(o.setToServerValue==="REQUEST_TIME"),a=new z_;else if("appendMissingElements"in o){const c=o.appendMissingElements.values||[];a=new Dg(c)}else if("removeAllFromArray"in o){const c=o.removeAllFromArray.values||[];a=new Ng(c)}else"increment"in o?a=new V_(s,o.increment):zt();const l=ls.fromServerFormat(o.fieldPath);return new _T(l,a)}(t,i)):[];if(e.update){e.update.name;const i=hu(t,e.update.name),s=new so({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(a){const l=a.fieldPaths||[];return new $_(l.map(c=>ls.fromServerFormat(c)))}(e.updateMask);return new fv(i,s,o,n,r)}return new xT(i,s,n,r)}if(e.delete){const i=hu(t,e.delete);return new wT(i,n)}if(e.verify){const i=hu(t,e.verify);return new vV(i,n)}return zt()}function het(t,e){return t&&t.length>0?(on(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?hs(r.updateTime):hs(i);return s.isEqual(rn.min())&&(s=hs(i)),new YZe(s,r.transformResults||[])}(n,e))):[]}function _ce(t,e){return{documents:[sB(t,e.path)]}}function xce(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=sB(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sB(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const c=l.map(u=>function(d){if(d.op==="=="){if($q(d.value))return{unaryFilter:{field:$y(d.field),op:"IS_NAN"}};if(Bq(d.value))return{unaryFilter:{field:$y(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if($q(d.value))return{unaryFilter:{field:$y(d.field),op:"IS_NOT_NAN"}};if(Bq(d.value))return{unaryFilter:{field:$y(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$y(d.field),op:get(d.op),value:d.value}}}(u));return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:$y(u.field),direction:met(u.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,c){return l.N||dv(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function wce(t){let e=gce(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){on(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=bce(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new V0(_0(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,dv(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(u){const d=!!u.before,f=u.values||[];return new qh(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,f=u.values||[];return new qh(f,d)}(n.endAt)),Qle(e,i,o,s,a,"F",l,c)}function pet(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zt()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function bce(t){return t?t.unaryFilter!==void 0?[yet(t)]:t.fieldFilter!==void 0?[vet(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>bce(e)).reduce((e,n)=>e.concat(n)):zt():[]}function met(t){return oet[t]}function get(t){return aet[t]}function $y(t){return{fieldPath:t.canonicalString()}}function _0(t){return ls.fromServerFormat(t.fieldPath)}function vet(t){return Ds.create(_0(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zt()}}(t.fieldFilter.op),t.fieldFilter.value)}function yet(t){switch(t.unaryFilter.op){case"IS_NAN":const e=_0(t.unaryFilter.field);return Ds.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=_0(t.unaryFilter.field);return Ds.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_0(t.unaryFilter.field);return Ds.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_0(t.unaryFilter.field);return Ds.create(i,"!=",{nullValue:"NULL_VALUE"});default:return zt()}}function _et(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sce(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r9(e)),e=xet(t.get(n),e);return r9(e)}function xet(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function r9(t){return t+""}function su(t){const e=t.length;if(on(e>=2),e===2)return on(t.charAt(0)===""&&t.charAt(1)===""),Bn.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&zt(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:zt()}s=o+2}return new Bn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){return[t,Lo(e)]}function Cce(t,e,n){return[t,Lo(e),n]}const wet={},bet=["prefixPath","collectionGroup","readTime","documentId"],Cet=["prefixPath","collectionGroup","documentId"],Tet=["collectionGroup","readTime","prefixPath","documentId"],Eet=["canonicalId","targetId"],Iet=["targetId","path"],Met=["path","targetId"],Aet=["collectionId","parent"],Ret=["indexId","uid"],Pet=["uid","sequenceNumber"],ket=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Let=["indexId","uid","orderedDocumentKey"],Det=["userId","collectionPath","documentId"],Net=["userId","collectionPath","largestBatchId"],Oet=["userId","collectionGroup","largestBatchId"],Tce=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fet=[...Tce,"documentOverlays"],Ece=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bet=[...Ece,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ice="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mce{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Xe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Xe?n:Xe.resolve(n)}catch(n){return Xe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Xe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Xe.reject(n)}static resolve(e){return new Xe((n,r)=>{n(e)})}static reject(e){return new Xe((n,r)=>{r(e)})}static waitFor(e){return new Xe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Xe.resolve(!1);for(const r of e)n=n.next(i=>i?Xe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new fs,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new x1(e,n.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=_V(r.target.error);this.At.reject(new x1(e,i))}}static open(e,n,r,i){try{return new EL(n,e.transaction(i,r))}catch(s){throw new x1(n,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Uet(n)}}class gc{constructor(e,n,r){this.name=e,this.version=n,this.bt=r,gc.Vt(kr())===12.2&&Si("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gt("SimpleDb","Removing database:",e),wm(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!ha())return!1;if(gc.St())return!0;const e=kr(),n=gc.Vt(e),r=0<n&&n<10,i=gc.Dt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static St(){var e;return typeof process!="undefined"&&((e=process.env)===null||e===void 0?void 0:e.Ct)==="YES"}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async Nt(e){return this.db||(gt("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new x1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ht(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ht(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new x1(e,o))},i.onupgradeneeded=s=>{gt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.bt.kt(o,i.transaction,s.oldVersion,this.version).next(()=>{gt("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Mt&&(this.db.onversionchange=n=>this.Mt(n)),this.db}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.Nt(e);const a=EL.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.Pt(),c)).catch(c=>(a.abort(c),Xe.reject(c))).toPromise();return l.catch(()=>{}),await a.Rt,l}catch(a){const l=a.name!=="FirebaseError"&&o<3;if(gt("SimpleDb","Transaction failed with error:",a.message,"Retrying:",l),this.close(),!l)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}class $et{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return wm(this.Ft.delete())}}class x1 extends ht{constructor(e,n){super(Ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function hv(t){return t.name==="IndexedDbTransactionError"}class Uet{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(gt("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wm(r)}add(e){return gt("SimpleDb","ADD",this.store.name,e,e),wm(this.store.add(e))}get(e){return wm(this.store.get(e)).next(n=>(n===void 0&&(n=null),gt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return gt("SimpleDb","DELETE",this.store.name,e),wm(this.store.delete(e))}count(){return gt("SimpleDb","COUNT",this.store.name),wm(this.store.count())}qt(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.Kt(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new Xe((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}Gt(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Xe((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Qt(e,n){gt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(s,o,a)=>a.delete())}Wt(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.Kt(i,n)}zt(e){const n=this.cursor({});return new Xe((r,i)=>{n.onerror=s=>{const o=_V(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}Kt(e,n){const r=[];return new Xe((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new $et(a),c=n(a.primaryKey,a.value,l);if(c instanceof Xe){const u=c.catch(d=>(l.done(),Xe.reject(d)));r.push(u)}l.isDone?i():l.Lt===null?a.continue():a.continue(l.Lt)}}).next(()=>Xe.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function wm(t){return new Xe((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=_V(r.target.error);n(i)}})}let s9=!1;function _V(t){const e=gc.Vt(kr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return s9||(s9=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9 extends Mce{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function ws(t,e){const n=kt(t);return gc.xt(n.Ht,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&QZe(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&rB(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&rB(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(rn.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ir())}isEqual(e){return this.batchId===e.batchId&&B_(this.mutations,e.mutations,(n,r)=>Kq(n,r))&&B_(this.baseMutations,e.baseMutations,(n,r)=>Kq(n,r))}}class wV{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){on(e.mutations.length===r.length);let i=net;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new wV(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i,s=rn.min(),o=rn.min(),a=Gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Sh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Sh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ace{constructor(e){this.Jt=e}}function zet(t,e){let n;if(e.document)n=yce(t.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Mt.fromSegments(e.noDocument.path),i=Fg(e.noDocument.readTime);n=Er.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return zt();{const r=Mt.fromSegments(e.unknownDocument.path),i=Fg(e.unknownDocument.version);n=Er.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(r){const i=new pi(r[0],r[1]);return rn.fromTimestamp(i)}(e.readTime)),n}function a9(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:jR(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:KS(i,s.key),fields:s.data.value.mapValue.fields,updateTime:qS(i,s.version.toTimestamp())}}(t.Jt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Og(e.version)};else{if(!e.isUnknownDocument())return zt();r.unknownDocument={path:n.path.toArray(),version:Og(e.version)}}return r}function jR(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Og(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Fg(t){const e=new pi(t.seconds,t.nanoseconds);return rn.fromTimestamp(e)}function Yy(t,e){const n=(e.baseMutations||[]).map(s=>oB(t.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>oB(t.Jt,s)),i=pi.fromMillis(e.localWriteTimeMs);return new xV(e.batchId,i,n,r)}function zb(t){const e=Fg(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Fg(t.lastLimboFreeSnapshotVersion):rn.min();let r;var i;return t.query.documents!==void 0?(on((i=t.query).documents.length===1),r=Pl(Rx(gce(i.documents[0])))):r=function(s){return Pl(wce(s))}(t.query),new Sh(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Gi.fromBase64String(t.resumeToken))}function Rce(t,e){const n=Og(e.snapshotVersion),r=Og(e.lastLimboFreeSnapshotVersion);let i;i=WR(e.target)?_ce(t.Jt,e.target):xce(t.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Lg(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function SV(t){const e=wce({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jle(e,e.limit,"L"):e}function IN(t,e){return new bV(e.largestBatchId,oB(t.Jt,e.overlayMutation))}function l9(t,e){const n=e.path.lastSegment();return[t,Lo(e.path.popLast()),n]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vet{getBundleMetadata(e,n){return c9(e).get(n).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Fg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,n){return c9(e).put({bundleId:(r=n).id,createTime:Og(hs(r.createTime)),version:r.version});var r}getNamedQuery(e,n){return u9(e).get(n).next(r=>{if(r)return{name:(i=r).name,query:SV(i.bundledQuery),readTime:Fg(i.readTime)};var i})}saveNamedQuery(e,n){return u9(e).put(function(r){return{name:r.name,readTime:Og(hs(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function c9(t){return ws(t,"bundles")}function u9(t){return ws(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){const r=n.uid||"";return new CV(e,r)}getOverlay(e,n){return yb(e).get(l9(this.userId,n)).next(r=>r?IN(this.M,r):null)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new bV(n,o);i.push(this.Xt(e,a))}),Xe.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Lo(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(yb(e).Qt("collectionPathOverlayIndex",a))}),Xe.waitFor(s)}getOverlaysForCollection(e,n,r){const i=_1(),s=Lo(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return yb(e).qt("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=IN(this.M,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=_1();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return yb(e).Wt({index:"collectionGroupOverlayIndex",range:a},(l,c,u)=>{const d=IN(this.M,c);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):u.done()}).next(()=>s)}Xt(e,n){return yb(e).put(function(r,i,s){const[o,a,l]=l9(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:YS(r.Jt,s.mutation)}}(this.M,this.userId,n))}}function yb(t){return ws(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(ei(e.integerValue));else if("doubleValue"in e){const r=ei(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),HS(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),typeof r=="string"?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Rg(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?jle(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):zt()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),Mt.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}bm.fe=new bm;function Wet(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function d9(t){const e=64-function(n){let r=0;for(let i=0;i<8;++i){const s=Wet(255&n[i]);if(r+=s,s!==8)break}return r}(t);return Math.ceil(e/8)}class Het{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this._e(r.value),r=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.ge(r.value),r=n.next();this.ye()}pe(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=n.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=n.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const n=this.Ee(e),r=d9(n);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Re(e){const n=this.Ee(e),r=d9(n);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(i){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}_e(e){const n=255&e;n===0?(this.be(0),this.be(255)):n===255?(this.be(255),this.be(0)):this.be(n)}ge(e){const n=255&e;n===0?(this.ve(0),this.ve(255)):n===255?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Get{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class jet{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class _b{constructor(){this.De=new Het,this.Ce=new Get(this.De),this.xe=new jet(this.De)}seed(e){this.De.seed(e)}Ne(e){return e===0?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Yf(this.indexId,this.documentKey,this.arrayValue,r)}}function tm(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=f9(t.arrayValue,e.arrayValue),n!==0?n:(n=f9(t.directionalValue,e.directionalValue),n!==0?n:Mt.comparator(t.documentKey,e.documentKey)))}function f9(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qet{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const r=n;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const n=tB(e);if(n!==void 0&&!this.Be(n))return!1;const r=mm(e);let i=0,s=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(this.Fe!==void 0){const o=r[i];if(!this.Le(this.Fe,o)||!this.Ue(this.Me[s++],o))return!1;++i}for(;i<r.length;++i){const o=r[i];if(s>=this.Me.length||!this.Ue(this.Me[s++],o))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ket{constructor(){this.qe=new TV}addToCollectionParentIndex(e,n){return this.qe.add(n),Xe.resolve()}getCollectionParents(e,n){return Xe.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return Xe.resolve()}deleteFieldIndex(e,n){return Xe.resolve()}getDocumentsMatchingTarget(e,n){return Xe.resolve(null)}getFieldIndex(e,n){return Xe.resolve(null)}getFieldIndexes(e,n){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}updateCollectionGroup(e,n,r){return Xe.resolve()}updateIndexEntries(e,n){return Xe.resolve()}}class TV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rr(Bn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rr(Bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=new Uint8Array(0);class Xet{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new TV,this.Ge=new hp(r=>Lg(r),(r,i)=>vT(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const s={collectionId:r,parent:Lo(i)};return h9(e).put(s)}return Xe.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[Ule(n),""],!1,!0);return h9(e).qt(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(su(o.parent))}return r})}addFieldIndex(e,n){const r=sM(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(o=>[o.fieldPath.canonicalString(),o.kind])}}(n);return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,n){const r=sM(e),i=oM(e),s=xb(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const r=xb(e);let i=!0;const s=new Map;return Xe.forEach(this.Qe(n),o=>this.getFieldIndex(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ir();const a=[];return Xe.forEach(s,(l,c)=>{var u;gt("IndexedDbIndexManager",`Using index ${u=l,`id=${u.indexId}|cg=${u.collectionGroup}|f=${u.fields.map(b=>`${b.fieldPath}:${b.kind}`).join(",")}`} to execute ${Lg(n)}`);const d=function(b,T){const E=tB(T);if(E===void 0)return null;for(const P of HR(b,E.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null}(c,l),f=function(b,T){const E=new Map;for(const P of mm(T))for(const L of HR(b,P.fieldPath))switch(L.op){case"==":case"in":E.set(P.fieldPath.canonicalString(),L.value);break;case"not-in":case"!=":return E.set(P.fieldPath.canonicalString(),L.value),Array.from(E.values())}return null}(c,l),p=function(b,T){const E=[];let P=!0;for(const L of mm(T)){const R=L.kind===0?Wq(b,L.fieldPath,b.startAt):Hq(b,L.fieldPath,b.startAt);if(!R.value)return null;E.push(R.value),P&&(P=R.inclusive)}return new qh(E,P)}(c,l),g=function(b,T){const E=[];let P=!0;for(const L of mm(T)){const R=L.kind===0?Hq(b,L.fieldPath,b.endAt):Wq(b,L.fieldPath,b.endAt);if(!R.value)return null;E.push(R.value),P&&(P=R.inclusive)}return new qh(E,P)}(c,l),v=this.je(l,c,p),y=this.je(l,c,g),x=this.We(l,c,f),w=this.ze(l.indexId,d,v,!!p&&p.inclusive,y,!!g&&g.inclusive,x);return Xe.forEach(w,b=>r.Gt(b,n.limit).next(T=>{T.forEach(E=>{const P=Mt.fromSegments(E.documentKey);o.has(P)||(o=o.add(P),a.push(P))})}))}).next(()=>a)}return Xe.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}ze(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r!=null?r.length:1,s!=null?s.length:1),c=l/(n!=null?n.length:1),u=[];for(let d=0;d<l;++d){const f=n?this.He(n[d/c]):Uy,p=r?this.Je(e,f,r[d%c],i):this.Ye(e),g=s?this.Xe(e,f,s[d%c],o):this.Ye(e+1);u.push(...this.createRange(p,g,a.map(v=>this.Je(e,f,v,!0))))}return u}Je(e,n,r,i){const s=new Yf(e,Mt.empty(),n,r);return i?s:s.ke()}Xe(e,n,r,i){const s=new Yf(e,Mt.empty(),n,r);return i?s.ke():s}Ye(e){return new Yf(e,Mt.empty(),Uy,Uy)}getFieldIndex(e,n){const r=new qet(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{const o=s.filter(a=>r.$e(a));return o.sort((a,l)=>l.fields.length-a.fields.length),o.length>0?o[0]:null})}Ze(e,n){const r=new _b;for(const i of mm(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ne(i.kind);bm.fe.Zt(s,o)}return r.Se()}He(e){const n=new _b;return bm.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const r=new _b;return bm.fe.Zt(kg(this.databaseId,n),r.Ne(function(i){const s=mm(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Se()}We(e,n,r){if(r===null)return[];let i=[];i.push(new _b);let s=0;for(const o of mm(e)){const a=r[s++];for(const l of i)if(this.en(n,o.fieldPath)&&jS(a))i=this.nn(i,o,a);else{const c=l.Ne(o.kind);bm.fe.Zt(a,c)}}return this.sn(i)}je(e,n,r){return r==null?null:this.We(e,n,r.position)}sn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Se();return n}nn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new _b;l.seed(a.Se()),bm.fe.Zt(o,l.Ne(n.kind)),s.push(l)}return s}en(e,n){return!!e.filters.find(r=>r instanceof Ds&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=sM(e),i=oM(e);return(n?r.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.qt()).next(s=>{const o=[];return Xe.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,u){const d=u?new VR(u.sequenceNumber,new Hd(Fg(u.readTime),new Mt(su(u.documentKey)),u.largestBatchId)):VR.empty(),f=c.fields.map(([p,g])=>new LZe(ls.fromServerFormat(p),g));return new Kle(c.indexId,c.collectionGroup,f,d)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:hn(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=sM(e),s=oM(e);return this.rn(e).next(o=>i.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Xe.forEach(a,l=>s.put(function(c,u,d,f){return{indexId:c,uid:u.uid||"",sequenceNumber:d,readTime:Og(f.readTime),documentKey:Lo(f.documentKey.path),largestBatchId:f.largestBatchId}}(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return Xe.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Xe.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Xe.forEach(a,l=>this.on(e,i,l).next(c=>{const u=this.un(s,l);return c.isEqual(u)?Xe.resolve():this.an(e,s,l,c,u)}))))})}cn(e,n,r,i){return xb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,n.key),documentKey:n.key.path.toArray()})}hn(e,n,r,i){return xb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,n.key),n.key.path.toArray()])}on(e,n,r){const i=xb(e);let s=new Rr(tm);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,n)])},(o,a)=>{s=s.add(new Yf(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}un(e,n){let r=new Rr(tm);const i=this.Ze(n,e);if(i==null)return r;const s=tB(n);if(s!=null){const o=e.data.field(s.fieldPath);if(jS(o))for(const a of o.arrayValue.values||[])r=r.add(new Yf(n.indexId,e.key,this.He(a),i))}else r=r.add(new Yf(n.indexId,e.key,Uy,i));return r}an(e,n,r,i,s){gt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(a,l,c,u,d){const f=a.getIterator(),p=l.getIterator();let g=By(f),v=By(p);for(;g||v;){let y=!1,x=!1;if(g&&v){const w=c(g,v);w<0?x=!0:w>0&&(y=!0)}else g!=null?x=!0:y=!0;y?(u(v),v=By(p)):x?(d(g),g=By(f)):(g=By(f),v=By(p))}}(i,s,tm,a=>{o.push(this.cn(e,n,r,a))},a=>{o.push(this.hn(e,n,r,a))}),Xe.waitFor(o)}rn(e){let n=1;return oM(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>tm(o,a)).filter((o,a,l)=>!a||tm(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=tm(o,e),l=tm(o,n);if(a===0)i[0]=e.ke();else if(a>0&&l<0)i.push(o),i.push(o.ke());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2)s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Uy,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Uy,[]]));return s}}function h9(t){return ws(t,"collectionParents")}function xb(t){return ws(t,"indexEntries")}function sM(t){return ws(t,"indexConfiguration")}function oM(t){return ws(t,"indexState")}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pce(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Wt({range:o},(u,d,f)=>(a++,f.delete()));s.push(l.next(()=>{on(a===1)}));const c=[];for(const u of n.mutations){const d=Cce(e,u.key.path,n.batchId);s.push(i.delete(d)),c.push(u.key)}return Xe.waitFor(s).next(()=>c)}function qR(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class EV{constructor(e,n,r,i){this.userId=e,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,n,r,i){on(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new EV(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vf(e).Wt({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Qy(e),o=Vf(e);return o.add({}).next(a=>{on(typeof a=="number");const l=new xV(a,n,r,i),c=function(f,p,g){const v=g.baseMutations.map(x=>YS(f.Jt,x)),y=g.mutations.map(x=>YS(f.Jt,x));return{userId:p,batchId:g.batchId,localWriteTimeMs:g.localWriteTime.toMillis(),baseMutations:v,mutations:y}}(this.M,this.userId,l),u=[];let d=new Rr((f,p)=>hn(f.canonicalString(),p.canonicalString()));for(const f of i){const p=Cce(this.userId,f.key.path,a);d=d.add(f.key.path.popLast()),u.push(o.put(c)),u.push(s.put(p,wet))}return d.forEach(f=>{u.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.ln[a]=l.keys()}),Xe.waitFor(u).next(()=>l)})}lookupMutationBatch(e,n){return Vf(e).get(n).next(r=>r?(on(r.userId===this.userId),Yy(this.M,r)):null)}fn(e,n){return this.ln[n]?Xe.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.ln[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Vf(e).Wt({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(on(a.batchId>=r),s=Yy(this.M,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vf(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vf(e).qt("userMutationsIndex",n).next(r=>r.map(i=>Yy(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=rA(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Qy(e).Wt({range:i},(o,a,l)=>{const[c,u,d]=o,f=su(u);if(c===this.userId&&n.path.isEqual(f))return Vf(e).get(d).next(p=>{if(!p)throw zt();on(p.userId===this.userId),s.push(Yy(this.M,p))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rr(hn);const i=[];return n.forEach(s=>{const o=rA(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Qy(e).Wt({range:a},(c,u,d)=>{const[f,p,g]=c,v=su(p);f===this.userId&&s.path.isEqual(v)?r=r.add(g):d.done()});i.push(l)}),Xe.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=rA(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Rr(hn);return Qy(e).Wt({range:o},(l,c,u)=>{const[d,f,p]=l,g=su(f);d===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(p)):u.done()}).next(()=>this.dn(e,a))}dn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Vf(e).get(s).next(o=>{if(o===null)throw zt();on(o.userId===this.userId),r.push(Yy(this.M,o))}))}),Xe.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return Pce(e.Ht,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),Xe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Xe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Qy(e).Wt({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=su(s[1]);i.push(l)}else a.done()}).next(()=>{on(i.length===0)})})}containsKey(e,n){return kce(e,this.userId,n)}wn(e){return Lce(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kce(t,e,n){const r=rA(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Qy(t).Wt({range:s,jt:!0},(a,l,c)=>{const[u,d,f]=a;u===e&&d===i&&(o=!0),c.done()}).next(()=>o)}function Vf(t){return ws(t,"mutations")}function Qy(t){return ws(t,"documentMutations")}function Lce(t){return ws(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Bg(0)}static yn(){return new Bg(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yet{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const r=new Bg(n.highestTargetId);return n.highestTargetId=r.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>rn.fromTimestamp(new pi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.In(e,i)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(n,r),this.In(e,r))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>zy(e).delete(n.targetId)).next(()=>this.pn(e)).next(r=>(on(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return zy(e).Wt((o,a)=>{const l=zb(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>Xe.waitFor(s)).next(()=>i)}forEachTarget(e,n){return zy(e).Wt((r,i)=>{const s=zb(i);n(s)})}pn(e){return m9(e).get("targetGlobalKey").next(n=>(on(n!==null),n))}In(e,n){return m9(e).put("targetGlobalKey",n)}Tn(e,n){return zy(e).put(Rce(this.M,n))}En(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Lg(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return zy(e).Wt({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=zb(a);vT(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Zf(e);return n.forEach(o=>{const a=Lo(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Xe.waitFor(i)}removeMatchingKeys(e,n,r){const i=Zf(e);return Xe.forEach(n,s=>{const o=Lo(s.path);return Xe.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Zf(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Zf(e);let s=ir();return i.Wt({range:r,jt:!0},(o,a,l)=>{const c=su(o[1]),u=new Mt(c);s=s.add(u)}).next(()=>s)}containsKey(e,n){const r=Lo(n.path),i=IDBKeyRange.bound([r],[Ule(r)],!1,!0);let s=0;return Zf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}Et(e,n){return zy(e).get(n).next(r=>r?zb(r):null)}}function zy(t){return ws(t,"targets")}function m9(t){return ws(t,"targetGlobal")}function Zf(t){return ws(t,"targetDocuments")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t){if(t.code!==Ke.FAILED_PRECONDITION||t.message!==Ice)throw t;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9([t,e],[n,r]){const i=hn(t,n);return i===0?hn(e,r):i}class Qet{constructor(e){this.An=e,this.buffer=new Rr(g9),this.Rn=0}Pn(){return++this.Rn}bn(e){const n=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g9(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Jet{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return this.vn!==null}Sn(e){const n=this.Vn?3e5:6e4;gt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,async()=>{this.vn=null,this.Vn=!0;try{await e.collectGarbage(this.garbageCollector)}catch(r){hv(r)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await pv(r)}await this.Sn(e)})}}class Zet{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Xe.resolve(Da.A);const r=new Qet(n);return this.Dn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Dn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(p9)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p9):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let r,i,s,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),J3()<=wn.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ett{constructor(e,n){this.db=e,this.garbageCollector=function(r,i){return new Zet(r,i)}(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}kn(e){let n=0;return this.xn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(r,i)=>n(i))}addReference(e,n,r){return aM(e,r)}removeReference(e,n,r){return aM(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return aM(e,n)}On(e,n){return function(r,i){let s=!1;return Lce(r).zt(o=>kce(r,o,i).next(a=>(a&&(s=!0),Xe.resolve(!a)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Mn(e,(o,a)=>{if(a<=n){const l=this.On(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,rn.min()),Zf(e).delete([0,Lo(o.path)])))});i.push(l)}}).next(()=>Xe.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return aM(e,n)}Mn(e,n){const r=Zf(e);let i,s=Da.A;return r.Wt({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==Da.A&&n(new Mt(su(i)),s),s=c,i=l):s=Da.A}).next(()=>{s!==Da.A&&n(new Mt(su(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function aM(t,e){return Zf(t).put(function(n,r){return{targetId:0,path:Lo(n.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dce{constructor(){this.changes=new hp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Xe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ttt{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return nm(e).put(r)}removeEntry(e,n,r){return nm(e).delete(function(i,s){const o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],jR(s),o[o.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Fn(e,r)))}getEntry(e,n){let r=Er.newInvalidDocument(n);return nm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(wb(n))},(i,s)=>{r=this.$n(n,s)}).next(()=>r)}Bn(e,n){let r={size:0,document:Er.newInvalidDocument(n)};return nm(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(wb(n))},(i,s)=>{r={document:this.$n(n,s),size:qR(s)}}).next(()=>r)}getEntries(e,n){let r=pl();return this.Ln(e,n,(i,s)=>{const o=this.$n(i,s);r=r.insert(i,o)}).next(()=>r)}Un(e,n){let r=pl(),i=new mi(Mt.comparator);return this.Ln(e,n,(s,o)=>{const a=this.$n(s,o);r=r.insert(s,a),i=i.insert(s,qR(o))}).next(()=>({documents:r,qn:i}))}Ln(e,n,r){if(n.isEmpty())return Xe.resolve();let i=new Rr(_9);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(wb(i.first()),wb(i.last())),o=i.getIterator();let a=o.getNext();return nm(e).Wt({index:"documentKeyIndex",range:s},(l,c,u)=>{const d=Mt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&_9(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?u.Ut(wb(a)):u.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getAllFromCollection(e,n,r){const i=[n.popLast().toArray(),n.lastSegment(),jR(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],s=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return nm(e).qt(IDBKeyRange.bound(i,s,!0)).next(o=>{let a=pl();for(const l of o){const c=this.$n(Mt.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);a=a.insert(c.key,c)}return a})}getAllFromCollectionGroup(e,n,r,i){let s=pl();const o=y9(n,r),a=y9(n,Hd.max());return nm(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,u)=>{const d=this.$n(Mt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(d.key,d),s.size===i&&u.done()}).next(()=>s)}newChangeBuffer(e){return new ntt(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return v9(e).get("remoteDocumentGlobalKey").next(n=>(on(!!n),n))}Fn(e,n){return v9(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const r=zet(this.M,n);if(!(r.isNoDocument()&&r.version.isEqual(rn.min())))return r}return Er.newInvalidDocument(e)}}class ntt extends Dce{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new hp(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Rr((s,o)=>hn(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Gn.get(s);if(n.push(this.Kn.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=a9(this.Kn.M,o);i=i.add(s.path.popLast()),r+=qR(l)-a.size,n.push(this.Kn.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=a9(this.Kn.M,o.convertToNoDocument(rn.min()));n.push(this.Kn.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Kn.updateMetadata(e,r)),Xe.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(r=>(this.Gn.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:r,qn:i})=>(i.forEach((s,o)=>{this.Gn.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function v9(t){return ws(t,"remoteDocumentGlobal")}function nm(t){return ws(t,"remoteDocumentsV14")}function wb(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function y9(t,e){const n=e.documentKey.path.toArray();return[t,jR(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _9(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=hn(n[s],r[s]),i)return i;return i=hn(n.length,r.length),i||(i=hn(n[n.length-2],r[r.length-2]),i||hn(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rtt{constructor(e){this.M=e}kt(e,n,r,i){const s=new EL("createOrUpgrade",n);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i9,{unique:!0}),a.createObjectStore("documentMutations")}(e),x9(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=Xe.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),x9(e)),o=o.next(()=>function(a){const l=a.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,l){return l.store("mutations").qt().next(c=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",i9,{unique:!0});const u=l.store("mutations"),d=c.map(f=>u.put(f));return Xe.waitFor(d)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Qn(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),r<7&&i>=7&&(o=o.next(()=>this.Wn(s))),r<8&&i>=8&&(o=o.next(()=>this.zn(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Hn(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){const l=a.createObjectStore("documentOverlays",{keyPath:Det});l.createIndex("collectionPathOverlayIndex",Net,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",Oet,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){const l=a.createObjectStore("remoteDocumentsV14",{keyPath:bet});l.createIndex("documentKeyIndex",Cet),l.createIndex("collectionGroupIndex",Tet)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>{(function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:Ret}).createIndex("sequenceNumberIndex",Pet,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:ket}).createIndex("documentKeyIndex",Let,{unique:!1})})(e)})),o}jn(e){let n=0;return e.store("remoteDocuments").Wt((r,i)=>{n+=qR(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next(i=>Xe.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",o).next(a=>Xe.forEach(a,l=>{on(l.userId===s.userId);const c=Yy(this.M,l);return Pce(e,s.userId,c).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Wt((o,a)=>{const l=new Bn(o),c=function(u){return[0,Lo(u)]}(l);s.push(n.get(c).next(u=>u?Xe.resolve():(d=>n.put({targetId:0,path:Lo(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>Xe.waitFor(s))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:Aet});const r=n.store("collectionParents"),i=new TV,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Lo(l)})}};return n.store("remoteDocuments").Wt({jt:!0},(o,a)=>{const l=new Bn(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([o,a,l],c)=>{const u=su(a);return s(u.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((r,i)=>{const s=zb(i),o=Rce(this.M,s);return n.put(o)})}Jn(e,n){const r=n.store("remoteDocuments"),i=[];return r.Wt((s,o)=>{const a=n.store("remoteDocumentsV14"),l=(c=o,c.document?new Mt(Bn.fromString(c.document.name).popFirst(5)):c.noDocument?Mt.fromSegments(c.noDocument.path):c.unknownDocument?Mt.fromSegments(c.unknownDocument.path):zt()).path.toArray();var c;/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>Xe.waitFor(i))}}function x9(t){t.createObjectStore("targetDocuments",{keyPath:Iet}).createIndex("documentTargetsIndex",Met,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Eet,{unique:!0}),t.createObjectStore("targetGlobal")}const MN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class IV{constructor(e,n,r,i,s,o,a,l,c,u,d=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Yn=s,this.window=o,this.document=a,this.Xn=c,this.Zn=u,this.ts=d,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=f=>Promise.resolve(),!IV.vt())throw new ht(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ett(this,i),this.hs=n+"main",this.M=new Ace(l),this.ls=new gc(this.hs,this.ts,new rtt(this.M)),this.fs=new Yet(this.referenceDelegate,this.M),this.ds=function(f){return new ttt(f)}(this.M),this._s=new Vet,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,u===!1&&Si("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ht(Ke.FAILED_PRECONDITION,MN);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Da(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){return this.cs=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(async()=>{this.started&&await this.gs()}))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lM(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.Ps(e).next(()=>!0))).catch(e=>{if(hv(e))return gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return bb(e).get("owner").next(n=>Xe.resolve(this.bs(n)))}Vs(e){return lM(e).delete(this.clientId)}async vs(){if(this.isPrimary&&!this.Ss(this.us,18e5)){this.us=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=ws(n,"clientMetadata");return r.qt().next(i=>{const s=this.Ds(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return Xe.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ws)for(const n of e)this.ws.removeItem(this.Cs(n.clientId))}}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Xe.resolve(!0):bb(e).get("owner").next(n=>{if(n!==null&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.bs(n)&&this.networkEnabled)return!0;if(!this.bs(n)){if(!n.allowTabSynchronization)throw new ht(Ke.FAILED_PRECONDITION,MN);return!1}}return!(!this.networkEnabled||!this.inForeground)||lM(e).qt().next(r=>this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&gt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),await this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new o9(e,Da.A);return this.Rs(n).next(()=>this.Vs(n))}),this.ls.close(),this.Os()}Ds(e,n){return e.filter(r=>this.Ss(r.updateTimeMs,n)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>lM(e).qt().next(n=>this.Ds(n,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return EV.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Xet(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return CV.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,r){gt("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(o=this.ts)===14?Bet:o===13?Ece:o===12?Fet:o===11?Tce:void zt();var o;let a;return this.ls.runTransaction(e,i,s,l=>(a=new o9(l,this.es?this.es.next():Da.A),n==="readwrite-primary"?this.Es(a).next(c=>!!c||this.As(a)).next(c=>{if(!c)throw Si(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ht(Ke.FAILED_PRECONDITION,Ice);return r(a)}).next(c=>this.Ps(a).next(()=>c)):this.$s(a).next(()=>r(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}$s(e){return bb(e).get("owner").next(n=>{if(n!==null&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.bs(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ht(Ke.FAILED_PRECONDITION,MN)})}Ps(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bb(e).put("owner",n)}static vt(){return gc.vt()}Rs(e){const n=bb(e);return n.get("owner").next(r=>this.bs(r)?(gt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Xe.resolve())}Ss(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Si(`Detected an update time that is in the future: ${e} > ${r}`),!1))}ys(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground=this.document.visibilityState==="visible")}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ss=()=>{this.Ns(),Ope()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const r=((n=this.ws)===null||n===void 0?void 0:n.getItem(this.Cs(e)))!==null;return gt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Si("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Si("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch{}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bb(t){return ws(t,"owner")}function lM(t){return ws(t,"clientMetadata")}function MV(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class itt{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return function(i){return Mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.js(e,n.path):mV(n)?this.Ws(e,n,r):this.zs(e,n,r)}js(e,n){return this.Ls(e,new Mt(n)).next(r=>{let i=iB();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=iB();return this.indexManager.getCollectionParents(e,i).next(o=>Xe.forEach(o,a=>{const l=function(c,u){return new Jd(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.zs(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let c=i.get(l);c==null&&(c=Er.newInvalidDocument(l),i=i.insert(l,c)),rB(a,c,o.localWriteTime),c.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{gV(n,o)||(i=i.remove(s))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=ir(),i=ir();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new AV(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nce{Xs(e){this.Zs=e}Qs(e,n,r,i){return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(rn.min())?this.ti(e,n):this.Zs.Ks(e,i).next(s=>{const o=this.ei(n,s);return(eA(n)||GR(n))&&this.ni(n.limitType,o,i,r)?this.ti(e,n):(J3()<=wn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nB(n)),this.Zs.Qs(e,n,Xle(r,-1)).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}ei(e,n){let r=new Rr(tce(e));return n.forEach((i,s)=>{gV(e,s)&&(r=r.add(s))}),r}ni(e,n,r,i){if(r.size!==n.size)return!0;const s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ti(e,n){return J3()<=wn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",nB(n)),this.Zs.Qs(e,n,Hd.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class stt{constructor(e,n,r,i){this.persistence=e,this.si=n,this.M=i,this.ii=new mi(hn),this.ri=new hp(s=>Lg(s),vT),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new itt(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function Oce(t,e,n,r){return new stt(t,e,n,r)}async function Fce(t,e){const n=kt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.ai(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ir();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.ci.Ks(r,l).next(c=>({hi:c,removedBatchIds:o,addedBatchIds:a}))})})}function ott(t,e){const n=kt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ui.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let f=Xe.resolve();return d.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(g=>{const v=l.docVersions.get(p);on(v!==null),g.version.compareTo(v)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),f.next(()=>o.Bs.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.ci.Ks(r,i))})}function Bce(t){const e=kt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function att(t,e){const n=kt(t),r=e.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const a=[];e.targetChanges.forEach((c,u)=>{const d=i.get(u);if(!d)return;a.push(n.fs.removeMatchingKeys(s,c.removedDocuments,u).next(()=>n.fs.addMatchingKeys(s,c.addedDocuments,u)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(u)?f=f.withResumeToken(Gi.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(u,f),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,c)&&a.push(n.fs.updateTargetData(s,f))});let l=pl();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push($ce(s,o,e.documentUpdates).next(c=>{l=c})),!r.isEqual(rn.min())){const c=n.fs.getLastRemoteSnapshotVersion(s).next(u=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Xe.waitFor(a).next(()=>o.apply(s)).next(()=>n.ci.Gs(s,l)).next(()=>l)}).then(s=>(n.ii=i,s))}function $ce(t,e,n){let r=ir();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=pl();return n.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(rn.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):gt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}function ltt(t,e){const n=kt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function W_(t,e){const n=kt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,Xe.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Sh(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ii.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ii=n.ii.insert(r.targetId,r),n.ri.set(e,r.targetId)),r})}async function H_(t,e,n){const r=kt(t),i=r.ii.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hv(o))throw o;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}function KR(t,e,n){const r=kt(t);let i=rn.min(),s=ir();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=kt(a),d=u.ri.get(c);return d!==void 0?Xe.resolve(u.ii.get(d)):u.fs.getTargetData(l,c)}(r,o,Pl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.si.Qs(o,e,n?i:rn.min(),n?s:ir())).next(a=>(Vce(r,ece(e),a),{documents:a,li:s})))}function Uce(t,e){const n=kt(t),r=kt(n.fs),i=n.ii.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(o=>o?o.target:null))}function zce(t,e){const n=kt(t),r=n.oi.get(e)||rn.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.ui.getAllFromCollectionGroup(i,e,Xle(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Vce(n,e,i),i))}function Vce(t,e,n){let r=rn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.oi.set(e,r)}async function ctt(t,e,n,r){const i=kt(t);let s=ir(),o=pl();for(const c of n){const u=e.fi(c.metadata.name);c.document&&(s=s.add(u));const d=e.di(c);d.setReadTime(e._i(c.metadata.readTime)),o=o.insert(u,d)}const a=i.ui.newChangeBuffer({trackRemovals:!0}),l=await W_(i,function(c){return Pl(Rx(Bn.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>$ce(c,a,o).next(u=>(a.apply(c),u)).next(u=>i.fs.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.fs.addMatchingKeys(c,s,l.targetId)).next(()=>i.ci.Gs(c,u)).next(()=>u)))}async function utt(t,e,n=ir()){const r=await W_(t,Pl(SV(e.bundledQuery))),i=kt(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=hs(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i._s.saveNamedQuery(s,e);const a=r.withResumeToken(Gi.EMPTY_BYTE_STRING,o);return i.ii=i.ii.insert(a.targetId,a),i.fs.updateTargetData(s,a).next(()=>i.fs.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.fs.addMatchingKeys(s,n,r.targetId)).next(()=>i._s.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dtt{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return Xe.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var r;return this.wi.set(n.id,{id:(r=n).id,version:r.version,createTime:hs(r.createTime)}),Xe.resolve()}getNamedQuery(e,n){return Xe.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,function(r){return{name:r.name,query:SV(r.bundledQuery),readTime:hs(r.readTime)}}(n)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ftt{constructor(){this.overlays=new mi(Mt.comparator),this.gi=new Map}getOverlay(e,n){return Xe.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),Xe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.gi.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(r)),Xe.resolve()}getOverlaysForCollection(e,n,r){const i=_1(),s=n.length+1,o=new Mt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Xe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mi((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=_1(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=_1(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return Xe.resolve(a)}Xt(e,n,r){if(r===null)return;const i=this.overlays.get(r.key);if(i!==null){const o=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bV(n,r));let s=this.gi.get(n);s===void 0&&(s=ir(),this.gi.set(n,s)),this.gi.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.yi=new Rr(rs.pi),this.Ii=new Rr(rs.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const r=new rs(e,n);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ai(new rs(e,n))}Ri(e,n){e.forEach(r=>this.removeReference(r,n))}Pi(e){const n=new Mt(new Bn([])),r=new rs(n,e),i=new rs(n,e+1),s=[];return this.Ii.forEachInRange([r,i],o=>{this.Ai(o),s.push(o.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new Mt(new Bn([])),r=new rs(n,e),i=new rs(n,e+1);let s=ir();return this.Ii.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rs(e,0),r=this.yi.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rs{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return Mt.comparator(e.key,n.key)||hn(e.vi,n.vi)}static Ti(e,n){return hn(e.vi,n.vi)||Mt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class htt{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Rr(rs.pi)}checkEmpty(e){return Xe.resolve(this.Bs.length===0)}addMutationBatch(e,n,r,i){const s=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const o=new xV(s,n,r,i);this.Bs.push(o);for(const a of i)this.Di=this.Di.add(new rs(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Xe.resolve(o)}lookupMutationBatch(e,n){return Xe.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.xi(r),s=i<0?0:i;return Xe.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.Bs.length===0?-1:this.Si-1)}getAllMutationBatches(e){return Xe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rs(n,0),i=new rs(n,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([r,i],o=>{const a=this.Ci(o.vi);s.push(a)}),Xe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rr(hn);return n.forEach(i=>{const s=new rs(i,0),o=new rs(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,o],a=>{r=r.add(a.vi)})}),Xe.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Mt.isDocumentKey(s)||(s=s.child(""));const o=new rs(new Mt(s),0);let a=new Rr(hn);return this.Di.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.vi)),!0)},o),Xe.resolve(this.Ni(a))}Ni(e){const n=[];return e.forEach(r=>{const i=this.Ci(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){on(this.ki(n.batchId,"removed")===0),this.Bs.shift();let r=this.Di;return Xe.forEach(n.mutations,i=>{const s=new rs(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,n){const r=new rs(n,0),i=this.Di.firstAfterOrEqual(r);return Xe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Bs.length,Xe.resolve()}ki(e,n){return this.xi(e)}xi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ptt{constructor(e){this.Mi=e,this.docs=new mi(Mt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mi(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Xe.resolve(r?r.document.mutableCopy():Er.newInvalidDocument(n))}getEntries(e,n){let r=pl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Er.newInvalidDocument(i))}),Xe.resolve(r)}getAllFromCollection(e,n,r){let i=pl();const s=new Mt(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||NZe(DZe(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return Xe.resolve(i)}getAllFromCollectionGroup(e,n,r,i){zt()}Oi(e,n){return Xe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mtt(this)}getSize(e){return Xe.resolve(this.size)}}class mtt extends Dce{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Xe.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gtt{constructor(e){this.persistence=e,this.Fi=new hp(n=>Lg(n),vT),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new RV,this.targetCount=0,this.Li=Bg.gn()}forEachTarget(e,n){return this.Fi.forEach((r,i)=>n(i)),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$i&&(this.$i=n),Xe.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new Bg(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,Xe.resolve()}updateTargetData(e,n){return this.Tn(n),Xe.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Xe.waitFor(s).next(()=>i)}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fi.get(n)||null;return Xe.resolve(r)}addMatchingKeys(e,n,r){return this.Bi.Ei(n,r),Xe.resolve()}removeMatchingKeys(e,n,r){this.Bi.Ri(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Xe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),Xe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Bi.Vi(n);return Xe.resolve(r)}containsKey(e,n){return Xe.resolve(this.Bi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vtt{constructor(e,n){this.Ui={},this.overlays={},this.es=new Da(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new gtt(this),this.indexManager=new Ket,this.ds=function(r){return new ptt(r)}(r=>this.referenceDelegate.qi(r)),this.M=new Ace(n),this._s=new dtt(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ftt,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ui[e.toKey()];return r||(r=new htt(n,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){gt("MemoryPersistence","Starting transaction:",e);const i=new ytt(this.es.next());return this.referenceDelegate.Ki(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Qi(e,n){return Xe.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,n)))}}class ytt extends Mce{constructor(e){super(),this.currentSequenceNumber=e}}class PV{constructor(e){this.persistence=e,this.ji=new RV,this.Wi=null}static zi(e){return new PV(e)}get Hi(){if(this.Wi)return this.Wi;throw zt()}addReference(e,n,r){return this.ji.addReference(r,n),this.Hi.delete(r.toString()),Xe.resolve()}removeReference(e,n,r){return this.ji.removeReference(r,n),this.Hi.add(r.toString()),Xe.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),Xe.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.Hi,r=>{const i=Mt.fromPath(r);return this.Ji(e,i).next(s=>{s||n.removeEntry(i,rn.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(r=>{r?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return Xe.or([()=>Xe.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e){return`firestore_clients_${t}_${e}`}function b9(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function AN(t,e){return`firestore_targets_${t}_${e}`}class XR{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Yi(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new ht(i.error.code,i.error.message))),o?new XR(e,n,i.state,s):(Si("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class w1{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Yi(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ht(r.error.code,r.error.message))),s?new w1(e,r.state,i):(Si("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YR{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Yi(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=TL();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Wle(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new YR(e,s):(Si("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class kV{constructor(e,n){this.clientId=e,this.onlineState=n}static Yi(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new kV(n.clientId,n.onlineState):(Si("SharedClientState",`Failed to parse online state: ${e}`),null)}}class aB{constructor(){this.activeTargetIds=TL()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RN{constructor(e,n,r,i,s){this.window=e,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new mi(hn),this.started=!1,this.rr=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ur=w9(this.persistenceKey,this.er),this.ar=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ir=this.ir.insert(this.er,new aB),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.dr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this._r=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Fs();for(const r of e){if(r===this.er)continue;const i=this.getItem(w9(this.persistenceKey,r));if(i){const s=YR.Yi(r,i);s&&(this.ir=this.ir.insert(s.clientId,s))}}this.wr();const n=this.storage.getItem(this.dr);if(n){const r=this.mr(n);r&&this.gr(r)}for(const r of this.rr)this.sr(r);this.rr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let n=!1;return this.ir.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,n,r){this.pr(e,n,r),this.Ir(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(AN(this.persistenceKey,e));if(r){const i=w1.Yi(e,r);i&&(n=i.state)}}return this.Tr.Zi(e),this.wr(),n}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AN(this.persistenceKey,e))}updateQueryState(e,n,r){this.Er(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Ir(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return gt("SharedClientState","READ",e,n),n}setItem(e,n){gt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){const n=e;if(n.storageArea===this.storage){if(gt("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Si("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.cr.test(n.key)){if(n.newValue==null){const r=this.Pr(n.key);return this.br(r,null)}{const r=this.Vr(n.key,n.newValue);if(r)return this.br(r.clientId,r)}}else if(this.hr.test(n.key)){if(n.newValue!==null){const r=this.vr(n.key,n.newValue);if(r)return this.Sr(r)}}else if(this.lr.test(n.key)){if(n.newValue!==null){const r=this.Dr(n.key,n.newValue);if(r)return this.Cr(r)}}else if(n.key===this.dr){if(n.newValue!==null){const r=this.mr(n.newValue);if(r)return this.gr(r)}}else if(n.key===this.ar){const r=function(i){let s=Da.A;if(i!=null)try{const o=JSON.parse(i);on(typeof o=="number"),s=o}catch(o){Si("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(n.newValue);r!==Da.A&&this.sequenceNumberHandler(r)}else if(n.key===this._r){const r=this.Nr(n.newValue);await Promise.all(r.map(i=>this.syncEngine.kr(i)))}}}else this.rr.push(n)})}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,n,r){const i=new XR(this.currentUser,e,n,r),s=b9(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Xi())}Ir(e){const n=b9(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Ar(e){const n={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(n))}Er(e,n,r){const i=AN(this.persistenceKey,e),s=new w1(e,n,r);this.setItem(i,s.Xi())}Rr(e){const n=JSON.stringify(Array.from(e));this.setItem(this._r,n)}Pr(e){const n=this.cr.exec(e);return n?n[1]:null}Vr(e,n){const r=this.Pr(e);return YR.Yi(r,n)}vr(e,n){const r=this.hr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return XR.Yi(new Rs(s),i,n)}Dr(e,n){const r=this.lr.exec(e),i=Number(r[1]);return w1.Yi(i,n)}mr(e){return kV.Yi(e)}Nr(e){return JSON.parse(e)}async Sr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Mr(e.batchId,e.state,e.error);gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,n){const r=n?this.ir.insert(e,n):this.ir.remove(e),i=this.yr(this.ir),s=this.yr(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Fr(o,a).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let n=TL();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class Wce{constructor(){this.$r=new aB,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,r){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new aB,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _tt{Lr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xtt={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wtt{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class btt extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.io=n+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,r,i,s){const o=this.uo(e,n);gt("RestConnection","Sending: ",o,r);const a={};return this.ao(a,i,s),this.co(e,o,a,r).then(l=>(gt("RestConnection","Received: ",l),l),l=>{throw zS("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ho(e,n,r,i,s){return this.oo(e,n,r,i,s)}ao(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ax,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}uo(e,n){const r=xtt[e];return`${this.io}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new gZe;a.listenOnce(hZe.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case EN.NO_ERROR:const c=a.getResponseJson();gt("Connection","XHR received:",JSON.stringify(c)),s(c);break;case EN.TIMEOUT:gt("Connection",'RPC "'+e+'" timed out'),o(new ht(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case EN.HTTP_ERROR:const u=a.getStatus();if(gt("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const f=function(p){const g=p.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(g)>=0?g:Ke.UNKNOWN}(d.status);o(new ht(f,d.message))}else o(new ht(Ke.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ht(Ke.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{gt("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}lo(e,n,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dZe(),o=fZe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new mZe({})),this.ao(a.initMessageHeaders,n,r),EP()||hC()||Dpe()||b$()||Npe()||fC()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");gt("Connection","Creating WebChannel: "+l,a);const c=s.createWebChannel(l,a);let u=!1,d=!1;const f=new wtt({Wr:g=>{d?gt("Connection","Not sending because WebChannel is closed:",g):(u||(gt("Connection","Opening WebChannel transport."),c.open(),u=!0),gt("Connection","WebChannel sending:",g),c.send(g))},zr:()=>c.close()}),p=(g,v,y)=>{g.listen(v,x=>{try{y(x)}catch(w){setTimeout(()=>{throw w},0)}})};return p(c,rM.EventType.OPEN,()=>{d||gt("Connection","WebChannel transport opened.")}),p(c,rM.EventType.CLOSE,()=>{d||(d=!0,gt("Connection","WebChannel transport closed"),f.no())}),p(c,rM.EventType.ERROR,g=>{d||(d=!0,zS("Connection","WebChannel transport errored:",g),f.no(new ht(Ke.UNAVAILABLE,"The operation could not be completed")))}),p(c,rM.EventType.MESSAGE,g=>{var v;if(!d){const y=g.data[0];on(!!y);const x=y,w=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(w){gt("Connection","WebChannel received error:",w);const b=w.status;let T=function(P){const L=yi[P];if(L!==void 0)return dce(L)}(b),E=w.message;T===void 0&&(T=Ke.INTERNAL,E="Unknown error status: "+b+" with message "+w.message),d=!0,f.no(new ht(T,E)),c.close()}else gt("Connection","WebChannel received:",y),f.so(y)}}),p(o,pZe.STAT_EVENT,g=>{g.stat===Dq.PROXY?gt("Connection","Detected buffering proxy"):g.stat===Dq.NOPROXY&&gt("Connection","Detected no buffering proxy")}),setTimeout(()=>{f.eo()},0),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hce(){return typeof window!="undefined"?window:null}function iA(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){return new cet(t,!0)}class LV{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.fo=r,this._o=i,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){this.yo!==null&&(this.yo.skipDelay(),this.yo=null)}cancel(){this.yo!==null&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gce{constructor(e,n,r,i,s,o,a,l){this.Yn=e,this.Ro=r,this.Po=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new LV(e,n)}Co(){return this.state===1||this.state===5||this.xo()}xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&this.vo===null&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,n){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,e!==4?this.Do.reset():n&&n.code===Ke.RESOURCE_EXHAUSTED?(Si(n.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(n)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.qo(r,i)},r=>{e(()=>{const i=new ht(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,n){const r=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){this.state=5,this.Do.To(async()=>{this.state=0,this.start()})}Ko(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Stt extends Gce{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=fet(this.M,e),r=function(i){if(!("targetChange"in i))return rn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?rn.min():s.readTime?hs(s.readTime):rn.min()}(e);return this.listener.Qo(n,r)}jo(e){const n={};n.database=XS(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=WR(a)?{documents:_ce(i,a)}:{query:xce(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=pce(i,s.resumeToken):s.snapshotVersion.compareTo(rn.min())>0&&(o.readTime=qS(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=pet(this.M,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=XS(this.M),n.removeTarget=e,this.Fo(n)}}class Ctt extends Gce{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,n){return this.bo.lo("Write",e,n)}onMessage(e){if(on(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const n=het(e.writeResults,e.commitTime),r=hs(e.commitTime);return this.listener.Yo(r,n)}return on(!e.writeResults||e.writeResults.length===0),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=XS(this.M),this.Fo(e)}Jo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YS(this.M,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ttt extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new ht(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.oo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ht(Ke.UNKNOWN,i.toString())})}ho(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ho(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ht(Ke.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class Ett{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){this.nu===0&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,e==="Online"&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Si(n),this.iu=!1):gt("OnlineStateTracker",n)}cu(){this.su!==null&&(this.su.cancel(),this.su=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Itt{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(o=>{r.enqueueAndForget(async()=>{pp(this)&&(gt("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=kt(a);l.fu.add(4),await Px(l),l.wu.set("Unknown"),l.fu.delete(4),await TT(l)}(this))})}),this.wu=new Ett(r,i)}}async function TT(t){if(pp(t))for(const e of t.du)await e(!0)}async function Px(t){for(const e of t.du)await e(!1)}function IL(t,e){const n=kt(t);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),OV(n)?NV(n):Lx(n).xo()&&DV(n,e))}function QS(t,e){const n=kt(t),r=Lx(n);n.lu.delete(e),r.xo()&&jce(n,e),n.lu.size===0&&(r.xo()?r.Mo():pp(n)&&n.wu.set("Unknown"))}function DV(t,e){t.mu.Z(e.targetId),Lx(t).jo(e)}function jce(t,e){t.mu.Z(e),Lx(t).Wo(e)}function NV(t){t.mu=new set({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.lu.get(e)||null}),Lx(t).start(),t.wu.ru()}function OV(t){return pp(t)&&!Lx(t).Co()&&t.lu.size>0}function pp(t){return kt(t).fu.size===0}function qce(t){t.mu=void 0}async function Mtt(t){t.lu.forEach((e,n)=>{DV(t,e)})}async function Att(t,e){qce(t),OV(t)?(t.wu.au(e),NV(t)):t.wu.set("Unknown")}async function Rtt(t,e,n){if(t.wu.set("Online"),e instanceof hce&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.lu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.lu.delete(o),r.mu.removeTarget(o))}(t,e)}catch(r){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await QR(t,r)}else if(e instanceof nA?t.mu.ut(e):e instanceof fce?t.mu._t(e):t.mu.ht(e),!n.isEqual(rn.min()))try{const r=await Bce(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.mu.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.lu.get(l);c&&i.lu.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.lu.get(a);if(!l)return;i.lu.set(a,l.withResumeToken(Gi.EMPTY_BYTE_STRING,l.snapshotVersion)),jce(i,a);const c=new Sh(l.target,a,1,l.sequenceNumber);DV(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){gt("RemoteStore","Failed to raise snapshot:",r),await QR(t,r)}}async function QR(t,e,n){if(!hv(e))throw e;t.fu.add(1),await Px(t),t.wu.set("Offline"),n||(n=()=>Bce(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{gt("RemoteStore","Retrying IndexedDB access"),await n(),t.fu.delete(1),await TT(t)})}function Kce(t,e){return e().catch(n=>QR(t,n,e))}async function kx(t){const e=kt(t),n=Kh(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;Ptt(e);)try{const i=await ltt(e.localStore,r);if(i===null){e.hu.length===0&&n.Mo();break}r=i.batchId,ktt(e,i)}catch(i){await QR(e,i)}Xce(e)&&Yce(e)}function Ptt(t){return pp(t)&&t.hu.length<10}function ktt(t,e){t.hu.push(e);const n=Kh(t);n.xo()&&n.Ho&&n.Jo(e.mutations)}function Xce(t){return pp(t)&&!Kh(t).Co()&&t.hu.length>0}function Yce(t){Kh(t).start()}async function Ltt(t){Kh(t).Zo()}async function Dtt(t){const e=Kh(t);for(const n of t.hu)e.Jo(n.mutations)}async function Ntt(t,e,n){const r=t.hu.shift(),i=wV.from(r,e,n);await Kce(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kx(t)}async function Ott(t,e){e&&Kh(t).Ho&&await async function(n,r){if(i=r.code,uce(i)&&i!==Ke.ABORTED){const s=n.hu.shift();Kh(n).ko(),await Kce(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await kx(n)}var i}(t,e),Xce(t)&&Yce(t)}async function C9(t,e){const n=kt(t);n.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const r=pp(n);n.fu.add(3),await Px(n),r&&n.wu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),await TT(n)}async function lB(t,e){const n=kt(t);e?(n.fu.delete(2),await TT(n)):e||(n.fu.add(2),await Px(n),n.wu.set("Unknown"))}function Lx(t){return t.gu||(t.gu=function(e,n,r){const i=kt(e);return i.eu(),new Stt(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:Mtt.bind(null,t),Yr:Att.bind(null,t),Qo:Rtt.bind(null,t)}),t.du.push(async e=>{e?(t.gu.ko(),OV(t)?NV(t):t.wu.set("Unknown")):(await t.gu.stop(),qce(t))})),t.gu}function Kh(t){return t.yu||(t.yu=function(e,n,r){const i=kt(e);return i.eu(),new Ctt(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:Ltt.bind(null,t),Yr:Ott.bind(null,t),Xo:Dtt.bind(null,t),Yo:Ntt.bind(null,t)}),t.du.push(async e=>{e?(t.yu.ko(),await kx(t)):(await t.yu.stop(),t.hu.length>0&&(gt("RemoteStore",`Stopping write stream with ${t.hu.length} pending writes`),t.hu=[]))})),t.yu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new FV(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dx(t,e){if(Si("AsyncQueue",`${e}: ${t}`),hv(t))return new ht(Ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Mt.comparator(n.key,r.key):(n,r)=>Mt.comparator(n.key,r.key),this.keyedMap=iB(),this.sortedSet=new mi(this.comparator)}static emptySet(e){return new W0(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof W0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new W0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.pu=new mi(Mt.comparator)}track(e){const n=e.doc.key,r=this.pu.get(n);r?e.type!==0&&r.type===3?this.pu=this.pu.insert(n,e):e.type===3&&r.type!==1?this.pu=this.pu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pu=this.pu.remove(n):e.type===1&&r.type===2?this.pu=this.pu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):zt():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,r)=>{e.push(r)}),e}}class G_{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new G_(e,n,W0.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ftt{constructor(){this.Tu=void 0,this.listeners=[]}}class Btt{constructor(){this.queries=new hp(e=>Zle(e),yT),this.onlineState="Unknown",this.Eu=new Set}}async function BV(t,e){const n=kt(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ftt),i)try{s.Tu=await n.onListen(r)}catch(o){const a=Dx(o,`Initialization of query '${nB(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Au(n.onlineState),s.Tu&&e.Ru(s.Tu)&&UV(n)}async function $V(t,e){const n=kt(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function $tt(t,e){const n=kt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Ru(i)&&(r=!0);o.Tu=i}}r&&UV(n)}function Utt(t,e,n){const r=kt(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function UV(t){t.Eu.forEach(e=>{e.next()})}class zV{constructor(e,n,r){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new G_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Cu||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Du(e){e=G_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ztt{constructor(e,n){this.payload=e,this.byteLength=n}xu(){return"metadata"in this.payload}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.M=e}fi(e){return hu(this.M,e)}di(e){return e.metadata.exists?yce(this.M,e.document,!1):Er.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return hs(e)}}class Vtt{constructor(e,n,r){this.Nu=e,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Qce(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const r=Bn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Mu(e){const n=new Map,r=new E9(this.M);for(const i of e)if(i.metadata.queries){const s=r.fi(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ir()).add(s);n.set(o,a)}}return n}async complete(){const e=await ctt(this.localStore,new E9(this.M),this.documents,this.Nu.id),n=this.Mu(this.documents);for(const r of this.queries)await utt(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:e}}}function Qce(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jce{constructor(e){this.key=e}}class Zce{constructor(e){this.key=e}}class eue{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=ir(),this.mutatedKeys=ir(),this.Uu=tce(e),this.qu=new W0(this.Uu)}get Ku(){return this.$u}Gu(e,n){const r=n?n.Qu:new T9,i=n?n.qu:this.qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=eA(this.query)&&i.size===this.query.limit?i.last():null,c=GR(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),p=gV(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),y=!0):this.ju(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.Uu(p,l)>0||c&&this.Uu(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),eA(this.query)||GR(this.query))for(;o.size>this.query.limit;){const u=eA(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{qu:o,Qu:r,ni:a,mutatedKeys:s}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((c,u)=>function(d,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return p(d)-p(f)}(c.type,u.type)||this.Uu(c.doc,u.doc)),this.Wu(r);const o=n?this.zu():[],a=this.Lu.size===0&&this.current?1:0,l=a!==this.Bu;return this.Bu=a,s.length!==0||l?{snapshot:new G_(this.query,e.qu,i,s,e.mutatedKeys,a===0,l,!1),Hu:o}:{Hu:o}}Au(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new T9,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=ir(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const n=[];return e.forEach(r=>{this.Lu.has(r)||n.push(new Zce(r))}),this.Lu.forEach(r=>{e.has(r)||n.push(new Jce(r))}),n}Yu(e){this.$u=e.li,this.Lu=ir();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return G_.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,this.Bu===0)}}class Wtt{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Htt{constructor(e){this.key=e,this.Zu=!1}}class Gtt{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new hp(a=>Zle(a),yT),this.na=new Map,this.sa=new Set,this.ia=new mi(Mt.comparator),this.ra=new Map,this.oa=new RV,this.ua={},this.aa=new Map,this.ca=Bg.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return this.ha===!0}}async function jtt(t,e){const n=jV(t);let r,i;const s=n.ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const o=await W_(n.localStore,Pl(e));n.isPrimaryClient&&IL(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await VV(n,e,r,a==="current")}return i}async function VV(t,e,n,r){t.la=(u,d,f)=>async function(p,g,v,y){let x=g.view.Gu(v);x.ni&&(x=await KR(p.localStore,g.query,!1).then(({documents:T})=>g.view.Gu(T,x)));const w=y&&y.targetChanges.get(g.targetId),b=g.view.applyChanges(x,p.isPrimaryClient,w);return cB(p,g.targetId,b.Hu),b.snapshot}(t,u,d,f);const i=await KR(t.localStore,e,!0),s=new eue(e,i.li),o=s.Gu(i.documents),a=ST.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);cB(t,n,l.Hu);const c=new Wtt(e,n,s);return t.ea.set(e,c),t.na.has(n)?t.na.get(n).push(e):t.na.set(n,[e]),l.snapshot}async function qtt(t,e){const n=kt(t),r=n.ea.get(e),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter(s=>!yT(s,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await H_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),QS(n.remoteStore,r.targetId),j_(n,r.targetId)}).catch(pv)):(j_(n,r.targetId),await H_(n.localStore,r.targetId,!0))}async function Ktt(t,e,n){const r=qV(t);try{const i=await function(s,o){const a=kt(s),l=pi.now(),c=o.reduce((d,f)=>d.add(f.key),ir());let u;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.ci.Ks(d,c).next(f=>{u=f;const p=[];for(const g of o){const v=JZe(g,u.get(g.key));v!=null&&p.push(new fv(g.key,v,qle(v.value.mapValue),Ci.exists(!0)))}return a.Bs.addMutationBatch(d,l,p,o)})).then(d=>(d.applyToLocalDocumentSet(u),{batchId:d.batchId,changes:u}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ua[s.currentUser.toKey()];l||(l=new mi(hn)),l=l.insert(o,a),s.ua[s.currentUser.toKey()]=l}(r,i.batchId,n),await Zd(r,i.changes),await kx(r.remoteStore)}catch(i){const s=Dx(i,"Failed to persist write");n.reject(s)}}async function tue(t,e){const n=kt(t);try{const r=await att(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ra.get(s);o&&(on(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Zu=!0:i.modifiedDocuments.size>0?on(o.Zu):i.removedDocuments.size>0&&(on(o.Zu),o.Zu=!1))}),await Zd(n,r,e)}catch(r){await pv(r)}}function I9(t,e,n){const r=kt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ea.forEach((s,o)=>{const a=o.view.Au(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=kt(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Au(o)&&(l=!0)}),l&&UV(a)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Xtt(t,e,n){const r=kt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ra.get(e),s=i&&i.key;if(s){let o=new mi(Mt.comparator);o=o.insert(s,Er.newNoDocument(s,rn.min()));const a=ir().add(s),l=new bT(rn.min(),new Map,new Rr(hn),o,a);await tue(r,l),r.ia=r.ia.remove(s),r.ra.delete(e),GV(r)}else await H_(r.localStore,e,!1).then(()=>j_(r,e,n)).catch(pv)}async function Ytt(t,e){const n=kt(t),r=e.batch.batchId;try{const i=await ott(n.localStore,e);HV(n,r,null),WV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Zd(n,i)}catch(i){await pv(i)}}async function Qtt(t,e,n){const r=kt(t);try{const i=await function(s,o){const a=kt(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.Bs.lookupMutationBatch(l,o).next(u=>(on(u!==null),c=u.keys(),a.Bs.removeMutationBatch(l,u))).next(()=>a.Bs.performConsistencyCheck(l)).next(()=>a.ci.Ks(l,c))})}(r.localStore,e);HV(r,e,n),WV(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Zd(r,i)}catch(i){await pv(i)}}async function Jtt(t,e){const n=kt(t);pp(n.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const o=kt(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.Bs.getHighestUnacknowledgedBatchId(a))}(n.localStore);if(r===-1)return void e.resolve();const i=n.aa.get(r)||[];i.push(e),n.aa.set(r,i)}catch(r){const i=Dx(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function WV(t,e){(t.aa.get(e)||[]).forEach(n=>{n.resolve()}),t.aa.delete(e)}function HV(t,e,n){const r=kt(t);let i=r.ua[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ua[r.currentUser.toKey()]=i}}function j_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.na.get(e))t.ea.delete(r),n&&t.ta.fa(r,n);t.na.delete(e),t.isPrimaryClient&&t.oa.Pi(e).forEach(r=>{t.oa.containsKey(r)||nue(t,r)})}function nue(t,e){t.sa.delete(e.path.canonicalString());const n=t.ia.get(e);n!==null&&(QS(t.remoteStore,n),t.ia=t.ia.remove(e),t.ra.delete(n),GV(t))}function cB(t,e,n){for(const r of n)r instanceof Jce?(t.oa.addReference(r.key,e),Ztt(t,r)):r instanceof Zce?(gt("SyncEngine","Document no longer in limbo: "+r.key),t.oa.removeReference(r.key,e),t.oa.containsKey(r.key)||nue(t,r.key)):zt()}function Ztt(t,e){const n=e.key,r=n.path.canonicalString();t.ia.get(n)||t.sa.has(r)||(gt("SyncEngine","New document in limbo: "+n),t.sa.add(r),GV(t))}function GV(t){for(;t.sa.size>0&&t.ia.size<t.maxConcurrentLimboResolutions;){const e=t.sa.values().next().value;t.sa.delete(e);const n=new Mt(Bn.fromString(e)),r=t.ca.next();t.ra.set(r,new Htt(n)),t.ia=t.ia.insert(n,r),IL(t.remoteStore,new Sh(Pl(Rx(n.path)),r,2,Da.A))}}async function Zd(t,e,n){const r=kt(t),i=[],s=[],o=[];r.ea.isEmpty()||(r.ea.forEach((a,l)=>{o.push(r.la(l,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c.fromCache?"not-current":"current"),i.push(c);const u=AV.Ys(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.ta.Qo(i),await async function(a,l){const c=kt(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>Xe.forEach(l,d=>Xe.forEach(d.Hs,f=>c.persistence.referenceDelegate.addReference(u,d.targetId,f)).next(()=>Xe.forEach(d.Js,f=>c.persistence.referenceDelegate.removeReference(u,d.targetId,f)))))}catch(u){if(!hv(u))throw u;gt("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const d=u.targetId;if(!u.fromCache){const f=c.ii.get(d),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ii=c.ii.insert(d,g)}}}(r.localStore,s))}async function ent(t,e){const n=kt(t);if(!n.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const r=await Fce(n.localStore,e);n.currentUser=e,function(i,s){i.aa.forEach(o=>{o.forEach(a=>{a.reject(new ht(Ke.CANCELLED,s))})}),i.aa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Zd(n,r.hi)}}function tnt(t,e){const n=kt(t),r=n.ra.get(e);if(r&&r.Zu)return ir().add(r.key);{let i=ir();const s=n.na.get(e);if(!s)return i;for(const o of s){const a=n.ea.get(o);i=i.unionWith(a.view.Ku)}return i}}async function nnt(t,e){const n=kt(t),r=await KR(n.localStore,e.query,!0),i=e.view.Yu(r);return n.isPrimaryClient&&cB(n,e.targetId,i.Hu),i}async function rnt(t,e){const n=kt(t);return zce(n.localStore,e).then(r=>Zd(n,r))}async function int(t,e,n,r){const i=kt(t),s=await function(o,a){const l=kt(o),c=kt(l.Bs);return l.persistence.runTransaction("Lookup mutation documents","readonly",u=>c.fn(u,a).next(d=>d?l.ci.Ks(u,d):Xe.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await kx(i.remoteStore):n==="acknowledged"||n==="rejected"?(HV(i,e,r||null),WV(i,e),function(o,a){kt(kt(o).Bs)._n(a)}(i.localStore,e)):zt(),await Zd(i,s)):gt("SyncEngine","Cannot apply mutation batch with id: "+e)}async function snt(t,e){const n=kt(t);if(jV(n),qV(n),e===!0&&n.ha!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await M9(n,r.toArray());n.ha=!0,await lB(n.remoteStore,!0);for(const s of i)IL(n.remoteStore,s)}else if(e===!1&&n.ha!==!1){const r=[];let i=Promise.resolve();n.na.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(j_(n,o),H_(n.localStore,o,!0))),QS(n.remoteStore,o)}),await i,await M9(n,r),function(s){const o=kt(s);o.ra.forEach((a,l)=>{QS(o.remoteStore,l)}),o.oa.bi(),o.ra=new Map,o.ia=new mi(Mt.comparator)}(n),n.ha=!1,await lB(n.remoteStore,!1)}}async function M9(t,e,n){const r=kt(t),i=[],s=[];for(const o of e){let a;const l=r.na.get(o);if(l&&l.length!==0){a=await W_(r.localStore,Pl(l[0]));for(const c of l){const u=r.ea.get(c),d=await nnt(r,u);d.snapshot&&s.push(d.snapshot)}}else{const c=await Uce(r.localStore,o);a=await W_(r.localStore,c),await VV(r,rue(c),o,!1)}i.push(a)}return r.ta.Qo(s),i}function rue(t){return Qle(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ont(t){const e=kt(t);return kt(kt(e.localStore).persistence).Fs()}async function ant(t,e,n,r){const i=kt(t);if(i.ha)return void gt("SyncEngine","Ignoring unexpected query state notification.");const s=i.na.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await zce(i.localStore,ece(s[0])),a=bT.createSynthesizedRemoteEventForCurrentChange(e,n==="current");await Zd(i,o,a);break}case"rejected":await H_(i.localStore,e,!0),j_(i,e,r);break;default:zt()}}async function lnt(t,e,n){const r=jV(t);if(r.ha){for(const i of e){if(r.na.has(i)){gt("SyncEngine","Adding an already active target "+i);continue}const s=await Uce(r.localStore,i),o=await W_(r.localStore,s);await VV(r,rue(s),o.targetId,!1),IL(r.remoteStore,o)}for(const i of n)r.na.has(i)&&await H_(r.localStore,i,!1).then(()=>{QS(r.remoteStore,i),j_(r,i)}).catch(pv)}}function jV(t){const e=kt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tue.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tnt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xtt.bind(null,e),e.ta.Qo=$tt.bind(null,e.eventManager),e.ta.fa=Utt.bind(null,e.eventManager),e}function qV(t){const e=kt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ytt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qtt.bind(null,e),e}function cnt(t,e,n){const r=kt(t);(async function(i,s,o){try{const a=await s.getMetadata();if(await function(d,f){const p=kt(d),g=hs(f.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",v=>p._s.getBundleMetadata(v,f.id)).then(v=>!!v&&v.createTime.compareTo(g)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(d){return{taskState:"Success",documentsLoaded:d.totalDocuments,bytesLoaded:d.totalBytes,totalDocuments:d.totalDocuments,totalBytes:d.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(Qce(a));const l=new Vtt(a,i.localStore,s.M);let c=await s.da();for(;c;){const d=await l.ku(c);d&&o._updateProgress(d),c=await s.da()}const u=await l.complete();return await Zd(i,u.Fu,void 0),await function(d,f){const p=kt(d);return p.persistence.runTransaction("Save bundle","readwrite",g=>p._s.saveBundleMetadata(g,f))}(i.localStore,a),o._completeWith(u.progress),Promise.resolve(u.Ou)}catch(a){return zS("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class iue{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=CT(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return Oce(this.persistence,new Nce,e.initialUser,this.M)}wa(e){return new vtt(PV.zi,this.M)}_a(e){return new Wce}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sue extends iue{constructor(e,n,r){super(),this.ya=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ya.initialize(this,e),await qV(this.ya.syncEngine),await kx(this.ya.remoteStore),await this.persistence.Ts(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}ga(e){return Oce(this.persistence,new Nce,e.initialUser,this.M)}ma(e){const n=this.persistence.referenceDelegate.garbageCollector;return new Jet(n,e.asyncQueue)}wa(e){const n=MV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new IV(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Hce(),iA(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Wce}}class unt extends sue{constructor(e,n){super(e,n,!1),this.ya=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.ya.syncEngine;this.sharedClientState instanceof RN&&(this.sharedClientState.syncEngine={Mr:int.bind(null,n),Or:ant.bind(null,n),Fr:lnt.bind(null,n),Fs:ont.bind(null,n),kr:rnt.bind(null,n)},await this.sharedClientState.start()),await this.persistence.Ts(async r=>{await snt(this.ya.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):r||this.gcScheduler.stop())})}_a(e){const n=Hce();if(!RN.vt(n))throw new ht(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=MV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new RN(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class KV{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I9(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ent.bind(null,this.syncEngine),await lB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Btt}createDatastore(e){const n=CT(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new btt(i));var i;return function(s,o,a,l){return new Ttt(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>I9(this.syncEngine,a,0),o=S9.vt()?new S9:new _tt,new Itt(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new Gtt(r,i,s,o,a,l);return c&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=kt(e);gt("RemoteStore","RemoteStore shutting down."),n.fu.add(5),await Px(n),n._u.shutdown(),n.wu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dnt{constructor(e,n){this.Ta=e,this.M=n,this.metadata=new fs,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}async getMetadata(){return this.metadata.promise}async da(){return await this.getMetadata(),this.Aa()}async Aa(){const e=await this.Ra();if(e===null)return null;const n=this.Ea.decode(e),r=Number(n);isNaN(r)&&this.Pa(`length string (${n}) is not valid number`);const i=await this.ba(r);return new ztt(JSON.parse(i),e.length+r)}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Ra(){for(;this.Va()<0&&!await this.va(););if(this.buffer.length===0)return null;const e=this.Va();e<0&&this.Pa("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async ba(e){for(;this.buffer.length<e;)await this.va()&&this.Pa("Reached the end of bundle when more is expected.");const n=this.Ea.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}async va(){const e=await this.Ta.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fnt{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ht(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=await async function(r,i){const s=kt(r),o=XS(s.M)+"/documents",a={documents:i.map(d=>KS(s.M,d))},l=await s.ho("BatchGetDocuments",o,a),c=new Map;l.forEach(d=>{const f=det(s.M,d);c.set(f.key.toString(),f)});const u=[];return i.forEach(d=>{const f=c.get(d.toString());on(!!f),u.push(f)}),u}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new wT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=Mt.fromPath(r);this.mutations.push(new vV(i,this.precondition(i)))}),await async function(n,r){const i=kt(n),s=XS(i.M)+"/documents",o={writes:r.map(a=>YS(i.M,a))};await i.oo("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw zt();n=rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ht(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Ci.updateTime(n):Ci.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(rn.min()))throw new ht(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(n)}return Ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hnt{constructor(e,n,r,i){this.asyncQueue=e,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new LV(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){this.Do.To(async()=>{const e=new fnt(this.datastore),n=this.Ca(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.xa(i)}))}).catch(r=>{this.xa(r)})})}Ca(e){try{const n=this.updateFunction(e);return!dv(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||!uce(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pnt{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rs.UNAUTHENTICATED,this.clientId=$le.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{gt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(gt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ht(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function oue(t,e){t.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Fce(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function aue(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XV(t);gt("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>C9(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>C9(e.remoteStore,s)),t.onlineComponents=e}async function XV(t){return t.offlineComponents||(gt("FirestoreClient","Using default OfflineComponentProvider"),await oue(t,new iue)),t.offlineComponents}async function AL(t){return t.onlineComponents||(gt("FirestoreClient","Using default OnlineComponentProvider"),await aue(t,new KV)),t.onlineComponents}function lue(t){return XV(t).then(e=>e.persistence)}function YV(t){return XV(t).then(e=>e.localStore)}function cue(t){return AL(t).then(e=>e.remoteStore)}function QV(t){return AL(t).then(e=>e.syncEngine)}async function q_(t){const e=await AL(t),n=e.eventManager;return n.onListen=jtt.bind(null,e.syncEngine),n.onUnlisten=qtt.bind(null,e.syncEngine),n}function mnt(t){return t.asyncQueue.enqueue(async()=>{const e=await lue(t),n=await cue(t);return e.setNetworkEnabled(!0),function(r){const i=kt(r);return i.fu.delete(0),TT(i)}(n)})}function gnt(t){return t.asyncQueue.enqueue(async()=>{const e=await lue(t),n=await cue(t);return e.setNetworkEnabled(!1),async function(r){const i=kt(r);i.fu.add(0),await Px(i),i.wu.set("Offline")}(n)})}function vnt(t,e){const n=new fs;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await function(a,l){const c=kt(a);return c.persistence.runTransaction("read document","readonly",u=>c.ci.Ls(u,l))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new ht(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const a=Dx(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await YV(t),e,n)),n.promise}function uue(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new ML({next:d=>{s.enqueueAndForget(()=>$V(i,u));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new ht(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new ht(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new zV(Rx(o.path),c,{includeMetadataChanges:!0,Cu:!0});return BV(i,u)}(await q_(t),t.asyncQueue,e,n,r)),r.promise}function ynt(t,e){const n=new fs;return t.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{const o=await KR(r,i,!0),a=new eue(i,o.li),l=a.Gu(o.documents),c=a.applyChanges(l,!1);s.resolve(c.snapshot)}catch(o){const a=Dx(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await YV(t),e,n)),n.promise}function due(t,e,n={}){const r=new fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const c=new ML({next:d=>{s.enqueueAndForget(()=>$V(i,u)),d.fromCache&&a.source==="server"?l.reject(new ht(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new zV(o,c,{includeMetadataChanges:!0,Cu:!0});return BV(i,u)}(await q_(t),t.asyncQueue,e,n,r)),r.promise}function _nt(t,e){const n=new ML(e);return t.asyncQueue.enqueueAndForget(async()=>function(r,i){kt(r).Eu.add(i),i.next()}(await q_(t),n)),()=>{n.Ia(),t.asyncQueue.enqueueAndForget(async()=>function(r,i){kt(r).Eu.delete(i)}(await q_(t),n))}}function xnt(t,e){const n=new fs;return t.asyncQueue.enqueueAndForget(async()=>{const r=await function(i){return AL(i).then(s=>s.datastore)}(t);new hnt(t.asyncQueue,r,e,n).run()}),n.promise}function wnt(t,e,n,r){const i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(l,c){return new dnt(l,c)}(function(l,c){if(l instanceof Uint8Array)return A9(l,c);if(l instanceof ArrayBuffer)return A9(new Uint8Array(l),c);if(l instanceof ReadableStream)return l.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(n,CT(e));t.asyncQueue.enqueueAndForget(async()=>{cnt(await QV(t),i,r)})}function bnt(t,e){return t.asyncQueue.enqueue(async()=>function(n,r){const i=kt(n);return i.persistence.runTransaction("Get named query","readonly",s=>i._s.getNamedQuery(s,r))}(await YV(t),e))}const R9=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e,n){if(!n)throw new ht(Ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fue(t,e,n,r){if(e===!0&&r===!0)throw new ht(Ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P9(t){if(!Mt.isDocumentKey(t))throw new ht(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k9(t){if(Mt.isDocumentKey(t))throw new ht(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RL(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":zt()}function Hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ht(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RL(t);throw new ht(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function hue(t,e){if(e<=0)throw new ht(Ke.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new ht(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ht(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,fue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L9({}),this._settingsFrozen=!1,e instanceof Wd?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ht(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wd(i.options.projectId)}(e))}get app(){if(!this._app)throw new ht(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ht(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L9(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _Ze;switch(n.type){case"gapi":const r=n.client;return on(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SZe(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ht(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=R9.get(e);n&&(gt("ComponentProvider","Removing Datastore"),R9.delete(e),n.terminate())}(this),Promise.resolve()}}function Snt(t,e,n,r={}){var i;const s=(t=Hn(t,ET))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&zS("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Rs.MOCK_USER;else{o=x$(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ht(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rs(l)}t._authCredentials=new xZe(new Ble(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pr(this.firestore,e,this._key)}}class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class pu extends uo{constructor(e,n,r){super(e,n,Rx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new Mt(e))}withConverter(e){return new pu(this.firestore,e,this._path)}}function pue(t,e,...n){if(t=ft(t),JV("collection","path",e),t instanceof ET){const r=Bn.fromString(e,...n);return k9(r),new pu(t,null,r)}{if(!(t instanceof Pr||t instanceof pu))throw new ht(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return k9(r),new pu(t.firestore,null,r)}}function Cnt(t,e){if(t=Hn(t,ET),JV("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ht(Ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new uo(t,null,function(n){return new Jd(Bn.emptyPath(),n)}(e))}function JR(t,e,...n){if(t=ft(t),arguments.length===1&&(e=$le.R()),JV("doc","path",e),t instanceof ET){const r=Bn.fromString(e,...n);return P9(r),new Pr(t,null,new Mt(r))}{if(!(t instanceof Pr||t instanceof pu))throw new ht(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Bn.fromString(e,...n));return P9(r),new Pr(t.firestore,t instanceof pu?t.converter:null,new Mt(r))}}function mue(t,e){return t=ft(t),e=ft(e),(t instanceof Pr||t instanceof pu)&&(e instanceof Pr||e instanceof pu)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function gue(t,e){return t=ft(t),e=ft(e),t instanceof uo&&e instanceof uo&&t.firestore===e.firestore&&yT(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tnt{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new LV(this,"async_queue_retry"),this.qa=()=>{const n=iA();n&&gt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=iA();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=iA();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new fs;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}async Qa(){if(this.Ma.length!==0){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(e){if(!hv(e))throw e;gt("AsyncQueue","Operation failed with retryable error: "+e)}this.Ma.length>0&&this.Do.To(()=>this.Qa())}}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{this.$a=r,this.Ba=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Si("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ba=!1,r))));return this.ka=n,n}enqueueAfterDelay(e,n,r){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const i=FV.createAndSchedule(this,e,n,r,s=>this.ja(s));return this.Fa.push(i),i}Ka(){this.$a&&zt()}verifyOperationInProgress(){}async Wa(){let e;do e=this.ka,await e;while(e!==this.ka)}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function uB(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ent{constructor(){this._progressObserver={},this._taskCompletionResolver=new fs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Int=-1;class ri extends ET{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Tnt,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vue(this),this._firestoreClient.terminate()}}function bs(t){return t._firestoreClient||vue(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vue(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new RZe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new pnt(t._authCredentials,t._appCheckCredentials,t._queue,r)}function Mnt(t,e){_ue(t=Hn(t,ri));const n=bs(t),r=t._freezeSettings(),i=new KV;return yue(n,i,new sue(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function Ant(t){_ue(t=Hn(t,ri));const e=bs(t),n=t._freezeSettings(),r=new KV;return yue(e,r,new unt(r,n.cacheSizeBytes))}function yue(t,e,n){const r=new fs;return t.asyncQueue.enqueue(async()=>{try{await oue(t,n),await aue(t,e),r.resolve()}catch(i){if(!function(s){return s.name==="FirebaseError"?s.code===Ke.FAILED_PRECONDITION||s.code===Ke.UNIMPLEMENTED:typeof DOMException!="undefined"&&s instanceof DOMException?s.code===22||s.code===20||s.code===11:!0}(i))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}}).then(()=>r.promise)}function Rnt(t){if(t._initialized&&!t._terminated)throw new ht(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new fs;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(n){if(!gc.vt())return Promise.resolve();const r=n+"main";await gc.delete(r)}(MV(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function Pnt(t){return function(e){const n=new fs;return e.asyncQueue.enqueueAndForget(async()=>Jtt(await QV(e),n)),n.promise}(bs(t=Hn(t,ri)))}function knt(t){return mnt(bs(t=Hn(t,ri)))}function Lnt(t){return gnt(bs(t=Hn(t,ri)))}function Dnt(t,e){const n=bs(t=Hn(t,ri)),r=new Ent;return wnt(n,t._databaseId,e,r),r}function Nnt(t,e){return bnt(bs(t=Hn(t,ri)),e).then(n=>n?new uo(t,null,n.query):null)}function _ue(t){if(t._initialized||t._terminated)throw new ht(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ht(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ls(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Iu(Gi.fromBase64String(e))}catch(n){throw new ht(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Iu(Gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ht(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ht(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return hn(this._lat,e._lat)||hn(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ont=/^__.*__$/;class Fnt{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fv(e,this.data,this.fieldMask,n,this.fieldTransforms):new xT(e,this.data,n,this.fieldTransforms)}}class xue{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fv(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wue(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class kL{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ya(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new kL(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Za({path:r,ec:!1});return i.nc(e),i}sc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Za({path:r,ec:!1});return i.Ya(),i}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return ZR(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(e.length===0)throw this.rc("Document fields must not be empty");if(wue(this.Xa)&&Ont.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class Bnt{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||CT(e)}ac(e,n,r,i=!1){return new kL({Xa:e,methodName:n,uc:r,path:ls.emptyPath(),ec:!1,oc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function gv(t){const e=t._freezeSettings(),n=CT(t._databaseId);return new Bnt(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LL(t,e,n,r,i,s={}){const o=t.ac(s.merge||s.mergeFields?2:0,e,n,i);n5("Data must be an object, but it was:",o,r);const a=Cue(r,o);let l,c;if(s.merge)l=new $_(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=dB(e,d,n);if(!o.contains(f))throw new ht(Ke.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Eue(u,f)||u.push(f)}l=new $_(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Fnt(new so(a),l,c)}class IT extends mv{_toFieldTransform(e){if(e.Xa!==2)throw e.Xa===1?e.rc(`${this._methodName}() can only appear at the top level of your update data`):e.rc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof IT}}function bue(t,e,n){return new kL({Xa:3,uc:e.settings.uc,methodName:t._methodName,ec:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class ZV extends mv{_toFieldTransform(e){return new _T(e.path,new z_)}isEqual(e){return e instanceof ZV}}class $nt extends mv{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=bue(this,e,!0),r=this.cc.map(s=>vv(s,n)),i=new Dg(r);return new _T(e.path,i)}isEqual(e){return this===e}}class Unt extends mv{constructor(e,n){super(e),this.cc=n}_toFieldTransform(e){const n=bue(this,e,!0),r=this.cc.map(s=>vv(s,n)),i=new Ng(r);return new _T(e.path,i)}isEqual(e){return this===e}}class znt extends mv{constructor(e,n){super(e),this.hc=n}_toFieldTransform(e){const n=new V_(e.M,ice(e.M,this.hc));return new _T(e.path,n)}isEqual(e){return this===e}}function e5(t,e,n,r){const i=t.ac(1,e,n);n5("Data must be an object, but it was:",i,r);const s=[],o=so.empty();uv(r,(l,c)=>{const u=r5(e,l,n);c=ft(c);const d=i.sc(u);if(c instanceof IT)s.push(u);else{const f=vv(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new $_(s);return new xue(o,a,i.fieldTransforms)}function t5(t,e,n,r,i,s){const o=t.ac(1,e,n),a=[dB(e,r,n)],l=[i];if(s.length%2!=0)throw new ht(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(dB(e,s[f])),l.push(s[f+1]);const c=[],u=so.empty();for(let f=a.length-1;f>=0;--f)if(!Eue(c,a[f])){const p=a[f];let g=l[f];g=ft(g);const v=o.sc(p);if(g instanceof IT)c.push(p);else{const y=vv(g,v);y!=null&&(c.push(p),u.set(p,y))}}const d=new $_(c);return new xue(u,d,o.fieldTransforms)}function Sue(t,e,n,r=!1){return vv(n,t.ac(r?4:3,e))}function vv(t,e){if(Tue(t=ft(t)))return n5("Unsupported field value:",e,t),Cue(t,e);if(t instanceof mv)return function(n,r){if(!wue(r.Xa))throw r.rc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ec&&e.Xa!==4)throw e.rc("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=vv(o,r.ic(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ice(r.M,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=pi.fromDate(n);return{timestampValue:qS(r.M,i)}}if(n instanceof pi){const i=new pi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qS(r.M,i)}}if(n instanceof PL)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Iu)return{bytesValue:pce(r.M,n._byteString)};if(n instanceof Pr){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.rc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yV(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.rc(`Unsupported field value: ${RL(n)}`)}(t,e)}function Cue(t,e){const n={};return zle(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uv(t,(r,i)=>{const s=vv(i,e.tc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Tue(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pi||t instanceof PL||t instanceof Iu||t instanceof Pr||t instanceof mv)}function n5(t,e,n){if(!Tue(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=RL(n);throw r==="an object"?e.rc(t+" a custom object"):e.rc(t+" "+r)}}function dB(t,e,n){if((e=ft(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return r5(t,e);throw ZR("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vnt=new RegExp("[~\\*/\\[\\]]");function r5(t,e,n){if(e.search(Vnt)>=0)throw ZR(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw ZR(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ZR(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ht(Ke.INVALID_ARGUMENT,a+t+l)}function Eue(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Wnt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(DL("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Wnt extends JS{data(){return super.data()}}function DL(t,e){return typeof e=="string"?r5(t,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends JS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new b1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(DL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class b1 extends Gd{data(e={}){return super.data(e)}}class Yh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Om(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new b1(this._firestore,this._userDataWriter,r.key,r,new Om(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new b1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Om(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new b1(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Om(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Hnt(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hnt(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function Iue(t,e){return t instanceof Gd&&e instanceof Gd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Yh&&e instanceof Yh&&t._firestore===e._firestore&&gue(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(t){if(GR(t)&&t.explicitOrderBy.length===0)throw new ht(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MT{}function Wf(t,...e){for(const n of e)t=n._apply(t);return t}class Gnt extends MT{constructor(e,n,r){super(),this.lc=e,this.fc=n,this.dc=r,this.type="where"}_apply(e){const n=gv(e.firestore),r=function(i,s,o,a,l,c,u){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ht(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){N9(u,c);const p=[];for(const g of u)p.push(D9(a,i,g));d={arrayValue:{values:p}}}else d=D9(a,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||N9(u,c),d=Sue(o,s,u,c==="in"||c==="not-in");const f=Ds.create(l,c,d);return function(p,g){if(g.S()){const y=pV(p);if(y!==null&&!y.isEqual(g.field))throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${y.toString()}' and '${g.field.toString()}'`);const x=hV(p);x!==null&&Lue(p,g.field,x)}const v=function(y,x){for(const w of y.filters)if(x.indexOf(w.op)>=0)return w.op;return null}(p,function(y){switch(y){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(g.op));if(v!==null)throw v===g.op?new ht(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${g.op.toString()}' filter.`):new ht(Ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${g.op.toString()}' filters with '${v.toString()}' filters.`)}(i,f),f}(e._query,"where",n,e.firestore._databaseId,this.lc,this.fc,this.dc);return new uo(e.firestore,e.converter,function(i,s){const o=i.filters.concat([s]);return new Jd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),o,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function jnt(t,e,n){const r=e,i=DL("where",t);return new Gnt(i,r,n)}class qnt extends MT{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new ht(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ht(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new V0(i,s);return function(a,l){if(hV(a)===null){const c=pV(a);c!==null&&Lue(a,c,l.field)}}(r,o),o}(e._query,this.lc,this._c);return new uo(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Jd(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Knt(t,e="asc"){const n=e,r=DL("orderBy",t);return new qnt(r,n)}class Aue extends MT{constructor(e,n,r){super(),this.type=e,this.wc=n,this.mc=r}_apply(e){return new uo(e.firestore,e.converter,Jle(e._query,this.wc,this.mc))}}function Xnt(t){return hue("limit",t),new Aue("limit",t,"F")}function Ynt(t){return hue("limitToLast",t),new Aue("limitToLast",t,"L")}class Rue extends MT{constructor(e,n,r){super(),this.type=e,this.gc=n,this.yc=r}_apply(e){const n=kue(e,this.type,this.gc,this.yc);return new uo(e.firestore,e.converter,function(r,i){return new Jd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,n))}}function Qnt(...t){return new Rue("startAt",t,!0)}function Jnt(...t){return new Rue("startAfter",t,!1)}class Pue extends MT{constructor(e,n,r){super(),this.type=e,this.gc=n,this.yc=r}_apply(e){const n=kue(e,this.type,this.gc,this.yc);return new uo(e.firestore,e.converter,function(r,i){return new Jd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,n))}}function Znt(...t){return new Pue("endBefore",t,!1)}function ert(...t){return new Pue("endAt",t,!0)}function kue(t,e,n,r){if(n[0]=ft(n[0]),n[0]instanceof JS)return function(i,s,o,a,l){if(!a)throw new ht(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const u of U_(i))if(u.field.isKeyField())c.push(kg(s,a.key));else{const d=a.data.field(u.field);if(fV(d))throw new ht(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(d===null){const f=u.field.canonicalString();throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(d)}return new qh(c,l)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=gv(t.firestore);return function(s,o,a,l,c,u){const d=s.explicitOrderBy;if(c.length>d.length)throw new ht(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let p=0;p<c.length;p++){const g=c[p];if(d[p].field.isKeyField()){if(typeof g!="string")throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof g}`);if(!mV(s)&&g.indexOf("/")!==-1)throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${g}' contains a slash.`);const v=s.path.child(Bn.fromString(g));if(!Mt.isDocumentKey(v))throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const y=new Mt(v);f.push(kg(o,y))}else{const v=Sue(a,l,g);f.push(v)}}return new qh(f,u)}(t._query,t.firestore._databaseId,i,e,n,r)}}function D9(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new ht(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mV(e)&&n.indexOf("/")!==-1)throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Bn.fromString(n));if(!Mt.isDocumentKey(r))throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kg(t,new Mt(r))}if(n instanceof Pr)return kg(t,n._key);throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${RL(n)}.`)}function N9(t,e){if(!Array.isArray(t)||t.length===0)throw new ht(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new ht(Ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Lue(t,e,n){if(!n.isEqual(e))throw new ht(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{convertValue(e,n="none"){switch(Pg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw zt()}}convertObject(e,n){const r={};return uv(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new PL(ei(e.latitude),ei(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vle(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(WS(e));default:return null}}convertTimestamp(e){const n=Gh(e);return new pi(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Bn.fromString(e);on(Sce(r));const i=new Wd(r.get(1),r.get(3)),s=new Mt(r.popFirst(5));return i.isEqual(n)||Si(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class trt extends i5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nrt{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gv(e)}set(e,n,r){this._verifyNotCommitted();const i=eh(e,this._firestore),s=NL(i.converter,n,r),o=LL(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ci.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=eh(e,this._firestore);let o;return o=typeof(n=ft(n))=="string"||n instanceof Xh?t5(this._dataReader,"WriteBatch.update",s._key,n,r,i):e5(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=eh(e,this._firestore);return this._mutations=this._mutations.concat(new wT(n._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function eh(t,e){if((t=ft(t)).firestore!==e)throw new ht(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rrt(t){t=Hn(t,Pr);const e=Hn(t.firestore,ri);return uue(bs(e),t._key).then(n=>s5(e,t,n))}class yv extends i5{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,n)}}function irt(t){t=Hn(t,Pr);const e=Hn(t.firestore,ri),n=bs(e),r=new yv(e);return vnt(n,t._key).then(i=>new Gd(e,r,t._key,i,new Om(i!==null&&i.hasLocalMutations,!0),t.converter))}function srt(t){t=Hn(t,Pr);const e=Hn(t.firestore,ri);return uue(bs(e),t._key,{source:"server"}).then(n=>s5(e,t,n))}function ort(t){t=Hn(t,uo);const e=Hn(t.firestore,ri),n=bs(e),r=new yv(e);return Mue(t._query),due(n,t._query).then(i=>new Yh(e,r,t,i))}function art(t){t=Hn(t,uo);const e=Hn(t.firestore,ri),n=bs(e),r=new yv(e);return ynt(n,t._query).then(i=>new Yh(e,r,t,i))}function lrt(t){t=Hn(t,uo);const e=Hn(t.firestore,ri),n=bs(e),r=new yv(e);return due(n,t._query,{source:"server"}).then(i=>new Yh(e,r,t,i))}function O9(t,e,n){t=Hn(t,Pr);const r=Hn(t.firestore,ri),i=NL(t.converter,e,n);return AT(r,[LL(gv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ci.none())])}function F9(t,e,n,...r){t=Hn(t,Pr);const i=Hn(t.firestore,ri),s=gv(i);let o;return o=typeof(e=ft(e))=="string"||e instanceof Xh?t5(s,"updateDoc",t._key,e,n,r):e5(s,"updateDoc",t._key,e),AT(i,[o.toMutation(t._key,Ci.exists(!0))])}function crt(t){return AT(Hn(t.firestore,ri),[new wT(t._key,Ci.none())])}function urt(t,e){const n=Hn(t.firestore,ri),r=JR(t),i=NL(t.converter,e);return AT(n,[LL(gv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}function Due(t,...e){var n,r,i;t=ft(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||uB(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(uB(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,c,u;if(t instanceof Pr)c=Hn(t.firestore,ri),u=Rx(t._key.path),l={next:d=>{e[o]&&e[o](s5(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Hn(t,uo);c=Hn(d.firestore,ri),u=d._query;const f=new yv(c);l={next:p=>{e[o]&&e[o](new Yh(c,f,d,p))},error:e[o+1],complete:e[o+2]},Mue(t._query)}return function(d,f,p,g){const v=new ML(g),y=new zV(f,v,p);return d.asyncQueue.enqueueAndForget(async()=>BV(await q_(d),y)),()=>{v.Ia(),d.asyncQueue.enqueueAndForget(async()=>$V(await q_(d),y))}}(bs(c),u,a,l)}function drt(t,e){return _nt(bs(t=Hn(t,ri)),uB(e)?e:{next:e})}function AT(t,e){return function(n,r){const i=new fs;return n.asyncQueue.enqueueAndForget(async()=>Ktt(await QV(n),r,i)),i.promise}(bs(t),e)}function s5(t,e,n){const r=n.docs.get(e._key),i=new yv(t);return new Gd(t,i,e._key,r,new Om(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class frt extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=gv(e)}get(e){const n=eh(e,this._firestore),r=new trt(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return zt();const s=i[0];if(s.isFoundDocument())return new JS(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new JS(this._firestore,r,n._key,null,n.converter);throw zt()})}set(e,n,r){const i=eh(e,this._firestore),s=NL(i.converter,n,r),o=LL(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=eh(e,this._firestore);let o;return o=typeof(n=ft(n))=="string"||n instanceof Xh?t5(this._dataReader,"Transaction.update",s._key,n,r,i):e5(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=eh(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=eh(e,this._firestore),r=new yv(this._firestore);return super.get(e).then(i=>new Gd(this._firestore,r,n._key,i._document,new Om(!1,!1),n.converter))}}function hrt(t,e){return xnt(bs(t=Hn(t,ri)),n=>e(new frt(t,n)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function prt(){return new IT("deleteField")}function mrt(){return new ZV("serverTimestamp")}function grt(...t){return new $nt("arrayUnion",t)}function vrt(...t){return new Unt("arrayRemove",t)}function yrt(t){return new znt("increment",t)}(function(t,e=!0){(function(n){Ax=n})(ku),ti(new Gn("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new ri(i,new wZe(n.getProvider("auth-internal")),new TZe(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),dr(Nq,"3.4.8",t),dr(Nq,"3.4.8","esm2017")})();const _rt="@firebase/firestore-compat",xrt="0.1.17";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ht("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(){if(typeof Uint8Array=="undefined")throw new ht("unimplemented","Uint8Arrays are not available in this environment.")}function $9(){if(!MZe())throw new ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ZS{constructor(e){this._delegate=e}static fromBase64String(e){return $9(),new ZS(Iu.fromBase64String(e))}static fromUint8Array(e){return B9(),new ZS(Iu.fromUint8Array(e))}toBase64(){return $9(),this._delegate.toBase64()}toUint8Array(){return B9(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(t){return wrt(t,["next","error","complete"])}function wrt(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class brt{enableIndexedDbPersistence(e,n){return Mnt(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return Ant(e._delegate)}clearIndexedDbPersistence(e){return Rnt(e._delegate)}}class Nue{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&zS("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){Snt(this._delegate,e,n,r)}enableNetwork(){return knt(this._delegate)}disableNetwork(){return Lnt(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,fue("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Pnt(this._delegate)}onSnapshotsInSync(e){return drt(this._delegate,e)}get app(){if(!this._appCompat)throw new ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new K_(this,pue(this._delegate,e))}catch(n){throw bo(n,"collection()","Firestore.collection()")}}doc(e){try{return new ml(this,JR(this._delegate,e))}catch(n){throw bo(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xo(this,Cnt(this._delegate,e))}catch(n){throw bo(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return hrt(this._delegate,n=>e(new Oue(this,n)))}batch(){return bs(this._delegate),new Fue(new nrt(this._delegate,e=>AT(this._delegate,e)))}loadBundle(e){return Dnt(this._delegate,e)}namedQuery(e){return Nnt(this._delegate,e).then(n=>n?new xo(this,n):null)}}class OL extends i5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ZS(new Iu(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ml.forKey(n,this.firestore,null)}}function Srt(t){vZe(t)}class Oue{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new OL(e)}get(e){const n=Fm(e);return this._delegate.get(n).then(r=>new eC(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Fm(e);return r?(o5("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Fm(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Fm(e);return this._delegate.delete(n),this}}class Fue{constructor(e){this._delegate=e}set(e,n,r){const i=Fm(e);return r?(o5("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Fm(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Fm(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class $g{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new b1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tC(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=$g.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new $g(e,new OL(e),n),i.set(n,s)),s}}$g.INSTANCES=new WeakMap;class ml{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new OL(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ml(n,new Pr(n._delegate,r,new Mt(e)))}static forKey(e,n,r){return new ml(n,new Pr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new K_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new K_(this.firestore,pue(this._delegate,e))}catch(n){throw bo(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ft(e),e instanceof Pr?mue(this._delegate,e):!1}set(e,n){n=o5("DocumentReference.set",n);try{return n?O9(this._delegate,e,n):O9(this._delegate,e)}catch(r){throw bo(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?F9(this._delegate,e):F9(this._delegate,e,n,...r)}catch(i){throw bo(i,"updateDoc()","DocumentReference.update()")}}delete(){return crt(this._delegate)}onSnapshot(...e){const n=Bue(e),r=$ue(e,i=>new eC(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return Due(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=irt(this._delegate):(e==null?void 0:e.source)==="server"?n=srt(this._delegate):n=rrt(this._delegate),n.then(r=>new eC(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ml(this.firestore,e?this._delegate.withConverter($g.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function bo(t,e,n){return t.message=t.message.replace(e,n),t}function Bue(t){for(const e of t)if(typeof e=="object"&&!fB(e))return e;return{}}function $ue(t,e){var n,r;let i;return fB(t[0])?i=t[0]:fB(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class eC{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ml(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return Iue(this._delegate,e._delegate)}}class tC extends eC{data(e){const n=this._delegate.data(e);return yZe(n!==void 0),n}}class xo{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new OL(e)}where(e,n,r){try{return new xo(this.firestore,Wf(this._delegate,jnt(e,n,r)))}catch(i){throw bo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new xo(this.firestore,Wf(this._delegate,Knt(e,n)))}catch(r){throw bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xo(this.firestore,Wf(this._delegate,Xnt(e)))}catch(n){throw bo(n,"limit()","Query.limit()")}}limitToLast(e){try{return new xo(this.firestore,Wf(this._delegate,Ynt(e)))}catch(n){throw bo(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xo(this.firestore,Wf(this._delegate,Qnt(...e)))}catch(n){throw bo(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xo(this.firestore,Wf(this._delegate,Jnt(...e)))}catch(n){throw bo(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xo(this.firestore,Wf(this._delegate,Znt(...e)))}catch(n){throw bo(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xo(this.firestore,Wf(this._delegate,ert(...e)))}catch(n){throw bo(n,"endAt()","Query.endAt()")}}isEqual(e){return gue(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=art(this._delegate):(e==null?void 0:e.source)==="server"?n=lrt(this._delegate):n=ort(this._delegate),n.then(r=>new hB(this.firestore,new Yh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=Bue(e),r=$ue(e,i=>new hB(this.firestore,new Yh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return Due(this._delegate,n,r)}withConverter(e){return new xo(this.firestore,e?this._delegate.withConverter($g.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Crt{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new tC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hB{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new xo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Crt(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new tC(this._firestore,r))})}isEqual(e){return Iue(this._delegate,e._delegate)}}class K_ extends xo{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ml(this.firestore,e):null}doc(e){try{return e===void 0?new ml(this.firestore,JR(this._delegate)):new ml(this.firestore,JR(this._delegate,e))}catch(n){throw bo(n,"doc()","CollectionReference.doc()")}}add(e){return urt(this._delegate,e).then(n=>new ml(this.firestore,n))}isEqual(e){return mue(this._delegate,e._delegate)}withConverter(e){return new K_(this.firestore,e?this._delegate.withConverter($g.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Fm(t){return Hn(t,Pr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(...e){this._delegate=new Xh(...e)}static documentId(){return new a5(ls.keyField().canonicalString())}isEqual(e){return e=ft(e),e instanceof Xh?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this._delegate=e}static serverTimestamp(){const e=mrt();return e._methodName="FieldValue.serverTimestamp",new Sm(e)}static delete(){const e=prt();return e._methodName="FieldValue.delete",new Sm(e)}static arrayUnion(...e){const n=grt(...e);return n._methodName="FieldValue.arrayUnion",new Sm(n)}static arrayRemove(...e){const n=vrt(...e);return n._methodName="FieldValue.arrayRemove",new Sm(n)}static increment(e){const n=yrt(e);return n._methodName="FieldValue.increment",new Sm(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Trt={Firestore:Nue,GeoPoint:PL,Timestamp:pi,Blob:ZS,Transaction:Oue,WriteBatch:Fue,DocumentReference:ml,DocumentSnapshot:eC,Query:xo,QueryDocumentSnapshot:tC,QuerySnapshot:hB,CollectionReference:K_,FieldPath:a5,FieldValue:Sm,setLogLevel:Srt,CACHE_SIZE_UNLIMITED:Int};function Ert(t,e){t.INTERNAL.registerComponent(new Gn("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Trt)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Irt(t){Ert(t,(e,n)=>new Nue(e,n,new brt)),t.registerVersion(_rt,xrt)}Irt(qi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mrt="type.googleapis.com/google.protobuf.Int64Value",Art="type.googleapis.com/google.protobuf.UInt64Value";function Uue(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function pB(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>pB(e));if(typeof t=="function"||typeof t=="object")return Uue(t,e=>pB(e));throw new Error("Data cannot be encoded in JSON: "+t)}function eP(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Mrt:case Art:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>eP(e)):typeof t=="function"||typeof t=="object"?Uue(t,e=>eP(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zue="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H0 extends hi{constructor(e,n,r){super(`${zue}/${e}`,n||""),this.details=r}}function Rrt(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Prt(t,e){let n=Rrt(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!U9[o])return new H0("internal","internal");n=U9[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=eP(i))}}catch{}return n==="ok"?null:new H0(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class krt{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(!!this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken();return{authToken:e,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9="us-central1";function Lrt(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new H0("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Drt{constructor(e,n,r,i,s=z9,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new krt(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=z9}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Nrt(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function Ort(t,e,n){return r=>$rt(t,e,r,n||{})}function Frt(t,e,n){return r=>Vue(t,e,r,n||{})}async function Brt(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function $rt(t,e,n,r){const i=t._url(e);return Vue(t,i,n,r)}async function Vue(t,e,n,r){n=pB(n);const i={data:n},s={},o=await t.contextProvider.getContext();o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=Lrt(a),c=await Promise.race([Brt(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new H0("cancelled","Firebase Functions instance was deleted.");const u=Prt(c.status,c.json);if(u)throw u;if(!c.json)throw new H0("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d=="undefined"&&(d=c.json.result),typeof d=="undefined")throw new H0("internal","Response is missing data field.");return{data:eP(d)}}const V9="@firebase/functions",W9="0.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Urt="auth-internal",zrt="app-check-internal",Vrt="messaging-internal";function Wrt(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(Urt),a=r.getProvider(Vrt),l=r.getProvider(zrt);return new Drt(s,o,a,l,i,t)};ti(new Gn(zue,n,"PUBLIC").setMultipleInstances(!0)),dr(V9,W9,e),dr(V9,W9,"esm2017")}function H9(t,e,n){Nrt(ft(t),e,n)}function Hrt(t,e,n){return Ort(ft(t),e,n)}function Grt(t,e,n){return Frt(ft(t),e,n)}Wrt(fetch.bind(self));const jrt="@firebase/functions-compat",qrt="0.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wue{constructor(e,n){this.app=e,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,n){return Hrt(this._delegate,e,n)}httpsCallableFromURL(e,n){return Grt(this._delegate,e,n)}useFunctionsEmulator(e){const n=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(n==null)throw new hi("functions","No origin provided to useFunctionsEmulator()");if(n[2]==null)throw new hi("functions","Port missing in origin provided to useFunctionsEmulator()");return H9(this._delegate,n[1],Number(n[2]))}useEmulator(e,n){return H9(this._delegate,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Krt="us-central1",Xrt=(t,{instanceIdentifier:e})=>{const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("functions").getImmediate({identifier:e!=null?e:Krt});return new Wue(n,r)};function Yrt(){const t={Functions:Wue};qi.INTERNAL.registerComponent(new Gn("functions-compat",Xrt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yrt();qi.registerVersion(jrt,qrt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qrt="/firebase-messaging-sw.js",Jrt="/firebase-cloud-messaging-push-scope",Hue="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zrt="https://fcmregistrations.googleapis.com/v1",Gue="google.c.a.c_id",eit="google.c.a.c_l",tit="google.c.a.ts",nit="google.c.a.e";var G9;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(G9||(G9={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var nC;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(nC||(nC={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rit(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="fcm_token_details_db",iit=5,j9="fcm_token_object_Store";async function sit(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(PN))return null;let e=null;return(await Z_(PN,iit,async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(j9))return;const l=o.objectStore(j9),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:sd(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:sd(u.auth),p256dh:sd(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:sd(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:sd(u.auth),p256dh:sd(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:sd(u.vapidKey)}}}}})).close(),await I0(PN),await I0("fcm_vapid_details_db"),await I0("undefined"),oit(e)?e:null}function oit(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ait="firebase-messaging-database",lit=1,Ug="firebase-messaging-store";let kN=null;function l5(){return kN||(kN=Z_(ait,lit,(t,e)=>{switch(e){case 0:t.createObjectStore(Ug)}})),kN}async function jue(t){const e=u5(t),r=await(await l5()).transaction(Ug).objectStore(Ug).get(e);if(r)return r;{const i=await sit(t.appConfig.senderId);if(i)return await c5(t,i),i}}async function c5(t,e){const n=u5(t),i=(await l5()).transaction(Ug,"readwrite");return await i.objectStore(Ug).put(e,n),await i.complete,e}async function cit(t){const e=u5(t),r=(await l5()).transaction(Ug,"readwrite");await r.objectStore(Ug).delete(e),await r.complete}function u5({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uit={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Do=new $o("messaging","Messaging",uit);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dit(t,e){const n=await f5(t),r=Kue(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(d5(t.appConfig),i)).json()}catch(o){throw Do.create("token-subscribe-failed",{errorInfo:o})}if(s.error){const o=s.error.message;throw Do.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Do.create("token-subscribe-no-token");return s.token}async function fit(t,e){const n=await f5(t),r=Kue(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${d5(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Do.create("token-update-failed",{errorInfo:o})}if(s.error){const o=s.error.message;throw Do.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Do.create("token-update-no-token");return s.token}async function que(t,e){const n=await f5(t),r={method:"DELETE",headers:n};try{const s=await(await fetch(`${d5(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw Do.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Do.create("token-unsubscribe-failed",{errorInfo:i})}}function d5({projectId:t}){return`${Zrt}/projects/${t}/registrations`}async function f5({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Kue({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Hue&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hit=7*24*60*60*1e3;async function pit(t){const e=await git(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:sd(e.getKey("auth")),p256dh:sd(e.getKey("p256dh"))},r=await jue(t.firebaseDependencies);if(r){if(vit(r.subscriptionOptions,n))return Date.now()>=r.createTime+hit?mit(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await que(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return q9(t.firebaseDependencies,n)}else return q9(t.firebaseDependencies,n)}async function Xue(t){const e=await jue(t.firebaseDependencies);e&&(await que(t.firebaseDependencies,e.token),await cit(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function mit(t,e){try{const n=await fit(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await c5(t.firebaseDependencies,r),n}catch(n){throw await Xue(t),n}}async function q9(t,e){const r={token:await dit(t,e),createTime:Date.now(),subscriptionOptions:e};return await c5(t,r),r.token}async function git(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rit(e)})}function vit(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return yit(e,t),_it(e,t),xit(e,t),e}function yit(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}function _it(t,e){!e.data||(t.data=e.data)}function xit(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wit(t){return typeof t=="object"&&!!t&&Gue in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yue("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");Yue("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function Yue(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bit(t){if(!t||!t.options)throw LN("App Configuration Object");if(!t.name)throw LN("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw LN(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function LN(t){return Do.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sit{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=bit(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Que(t){try{t.swRegistration=await navigator.serviceWorker.register(Qrt,{scope:Jrt}),t.swRegistration.update().catch(()=>{})}catch(e){throw Do.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cit(t,e){if(!e&&!t.swRegistration&&await Que(t),!(!e&&!!t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Do.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tit(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Hue)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jue(t,e){if(!navigator)throw Do.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Do.create("permission-blocked");return await Tit(t,e==null?void 0:e.vapidKey),await Cit(t,e==null?void 0:e.serviceWorkerRegistration),pit(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eit(t,e,n){const r=Iit(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Gue],message_name:n[eit],message_time:n[tit],message_device_time:Math.floor(Date.now()/1e3)})}function Iit(t){switch(t){case nC.NOTIFICATION_CLICKED:return"notification_open";case nC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mit(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===nC.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(K9(n)):t.onMessageHandler.next(K9(n)));const r=n.data;wit(r)&&r[nit]==="1"&&await Eit(t,n.messageType,r)}const X9="@firebase/messaging",Y9="0.9.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ait=t=>{const e=new Sit(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Mit(e,n)),e},Rit=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>Jue(e,r)}};function Pit(){ti(new Gn("messaging",Ait,"PUBLIC")),ti(new Gn("messaging-internal",Rit,"PRIVATE")),dr(X9,Y9),dr(X9,Y9,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kit(t){if(!navigator)throw Do.create("only-available-in-window");return t.swRegistration||await Que(t),Xue(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lit(t,e){if(!navigator)throw Do.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}async function Dit(t,e){return t=ft(t),Jue(t,e)}function Nit(t){return t=ft(t),kit(t)}function Oit(t,e){return t=ft(t),Lit(t,e)}Pit();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zue="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fit="https://fcmregistrations.googleapis.com/v1",ede="FCM_MSG",Bit="google.c.a.c_id",$it=3,Uit=1;var tP;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(tP||(tP={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var nP;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(nP||(nP={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function zit(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="fcm_token_details_db",Vit=5,Q9="fcm_token_object_Store";async function Wit(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(DN))return null;let e=null;return(await Z_(DN,Vit,async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(Q9))return;const l=o.objectStore(Q9),c=await l.index("fcmSenderId").get(t);if(await l.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(a=u.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:od(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:od(u.auth),p256dh:od(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:od(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:od(u.auth),p256dh:od(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:od(u.vapidKey)}}}}})).close(),await I0(DN),await I0("fcm_vapid_details_db"),await I0("undefined"),Hit(e)?e:null}function Hit(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Git="firebase-messaging-database",jit=1,zg="firebase-messaging-store";let NN=null;function h5(){return NN||(NN=Z_(Git,jit,(t,e)=>{switch(e){case 0:t.createObjectStore(zg)}})),NN}async function p5(t){const e=g5(t),r=await(await h5()).transaction(zg).objectStore(zg).get(e);if(r)return r;{const i=await Wit(t.appConfig.senderId);if(i)return await m5(t,i),i}}async function m5(t,e){const n=g5(t),i=(await h5()).transaction(zg,"readwrite");return await i.objectStore(zg).put(e,n),await i.complete,e}async function qit(t){const e=g5(t),r=(await h5()).transaction(zg,"readwrite");await r.objectStore(zg).delete(e),await r.complete}function g5({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kit={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},mu=new $o("messaging","Messaging",Kit);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xit(t,e){const n=await y5(t),r=nde(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(v5(t.appConfig),i)).json()}catch(o){throw mu.create("token-subscribe-failed",{errorInfo:o})}if(s.error){const o=s.error.message;throw mu.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw mu.create("token-subscribe-no-token");return s.token}async function Yit(t,e){const n=await y5(t),r=nde(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=await(await fetch(`${v5(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw mu.create("token-update-failed",{errorInfo:o})}if(s.error){const o=s.error.message;throw mu.create("token-update-failed",{errorInfo:o})}if(!s.token)throw mu.create("token-update-no-token");return s.token}async function tde(t,e){const n=await y5(t),r={method:"DELETE",headers:n};try{const s=await(await fetch(`${v5(t.appConfig)}/${e}`,r)).json();if(s.error){const o=s.error.message;throw mu.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw mu.create("token-unsubscribe-failed",{errorInfo:i})}}function v5({projectId:t}){return`${Fit}/projects/${t}/registrations`}async function y5({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function nde({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Zue&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qit=7*24*60*60*1e3;async function Jit(t){const e=await est(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:od(e.getKey("auth")),p256dh:od(e.getKey("p256dh"))},r=await p5(t.firebaseDependencies);if(r){if(tst(r.subscriptionOptions,n))return Date.now()>=r.createTime+Qit?Zit(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await tde(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return J9(t.firebaseDependencies,n)}else return J9(t.firebaseDependencies,n)}async function mB(t){const e=await p5(t.firebaseDependencies);e&&(await tde(t.firebaseDependencies,e.token),await qit(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function Zit(t,e){try{const n=await Yit(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await m5(t.firebaseDependencies,r),n}catch(n){throw await mB(t),n}}async function J9(t,e){const r={token:await Xit(t,e),createTime:Date.now(),subscriptionOptions:e};return await m5(t,r),r.token}async function est(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:zit(e)})}function tst(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nst(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return rst(e,t),ist(e,t),sst(e,t),e}function rst(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}function ist(t,e){!e.data||(t.data=e.data)}function sst(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ost(t){return typeof t=="object"&&!!t&&Bit in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ast(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rde("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");rde("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");async function lst(t,e){const n=cst(e,await t.firebaseDependencies.installations.getId());ust(t,n)}function cst(t,e){var n,r;const i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=tP.DISPLAY_NOTIFICATION.toString():i.message_type=tP.DATA_MESSAGE.toString(),i.sdk_platform=$it.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=Uit.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(r=t.fcmOptions)===null||r===void 0?void 0:r.analytics_label),i}function ust(t,e){const n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(e),t.logEvents.push(n)}function rde(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dst(t,e){var n,r;const{newSubscription:i}=t;if(!i){await mB(e);return}const s=await p5(e.firebaseDependencies);await mB(e),e.vapidKey=(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Zue,await Jit(e)}async function fst(t,e){const n=mst(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await lst(e,n);const r=await ide();if(vst(r))return yst(r,n);if(n.notification&&await _st(pst(n)),!!e&&e.onBackgroundMessageHandler){const i=nst(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function hst(t){var e,n;const r=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[ede];if(r){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();const i=xst(r);if(!i)return;const s=new URL(i,self.location.href),o=new URL(self.location.origin);if(s.host!==o.host)return;let a=await gst(s);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await ast(3e3)),!!a)return r.messageType=nP.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,a.postMessage(r)}function pst(t){const e=Object.assign({},t.notification);return e.data={[ede]:t},e}function mst({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function gst(t){const e=await ide();for(const n of e){const r=new URL(n.url,self.location.href);if(t.host===r.host)return n}return null}function vst(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function yst(t,e){e.isFirebaseMessaging=!0,e.messageType=nP.PUSH_RECEIVED;for(const n of t)n.postMessage(e)}function ide(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function _st(t){var e;const{actions:n}=t,{maxActions:r}=Notification;return n&&r&&n.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function xst(t){var e,n,r;const i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(ost(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wst(t){if(!t||!t.options)throw ON("App Configuration Object");if(!t.name)throw ON("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ON(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ON(t){return mu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bst{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=wst(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sst=t=>{const e=new bst(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(fst(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(dst(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(hst(n))}),e};function Cst(){ti(new Gn("messaging-sw",Sst,"PUBLIC"))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tst(t,e){if(self.document!==void 0)throw mu.create("only-available-in-sw");return t.onBackgroundMessageHandler=e,()=>{t.onBackgroundMessageHandler=null}}function Est(t,e){return t=ft(t),Tst(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cst();const Ist="@firebase/messaging-compat",Mst="0.1.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ast(){return self&&"ServiceWorkerGlobalScope"in self?Pst():Rst()}function Rst(){return typeof window!="undefined"&&ha()&&IP()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Pst(){return ha()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}class Z9{constructor(e,n){this.app=e,this._delegate=n,this.app=e,this._delegate=n}async getToken(e){return Dit(this._delegate,e)}async deleteToken(){return Nit(this._delegate)}onMessage(e){return Oit(this._delegate,e)}onBackgroundMessage(e){return Est(this._delegate,e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kst=t=>self&&"ServiceWorkerGlobalScope"in self?new Z9(t.getProvider("app-compat").getImmediate(),t.getProvider("messaging-sw").getImmediate()):new Z9(t.getProvider("app-compat").getImmediate(),t.getProvider("messaging").getImmediate()),Lst={isSupported:Ast};function Dst(){qi.INTERNAL.registerComponent(new Gn("messaging-compat",kst,"PUBLIC").setServiceProps(Lst))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dst();qi.registerVersion(Ist,Mst);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r){this._delegate=e,this.task=n,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new cM(this._delegate.snapshot,this,this._ref)}then(e,n){return this._delegate.then(r=>{if(e)return e(new cM(r,this,this._ref))},n)}on(e,n,r,i){let s;return n&&(typeof n=="function"?s=o=>n(new cM(o,this,this._ref)):s={next:n.next?o=>n.next(new cM(o,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}}class t7{constructor(e,n){this._delegate=e,this._service=n}get prefixes(){return this._delegate.prefixes.map(e=>new Id(e,this._service))}get items(){return this._delegate.items.map(e=>new Id(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this._delegate=e,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const n=fve(this._delegate,e);return new Id(n,this.storage)}get root(){return new Id(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return e==null?null:new Id(e,this.storage)}put(e,n){return this._throwIfRoot("put"),new e7(lve(this._delegate,e,n),this)}putString(e,n=dl.RAW,r){this._throwIfRoot("putString");const i=ZX(n,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new e7(new lY(this._delegate,new Jc(i.data,!0),s),this)}listAll(){return pY(this._delegate).then(e=>new t7(e,this.storage))}list(e){return dve(this._delegate,e||void 0).then(n=>new t7(n,this.storage))}getMetadata(){return cve(this._delegate)}updateMetadata(e){return uve(this._delegate,e)}getDownloadURL(){return mY(this._delegate)}delete(){return this._throwIfRoot("delete"),gY(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw QX(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sde{constructor(e,n){this.app=e,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(n7(e))throw M0("ref() expected a child path but got a URL, use refFromURL instead.");return new Id(A0(this._delegate,e),this)}refFromURL(e){if(!n7(e))throw M0("refFromURL() expected a full URL but got a child path, use ref() instead.");try{oo.makeFromUrl(e,this._delegate.host)}catch{throw M0("refFromUrl() expected a valid full URL but got an invalid one.")}return new Id(A0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,n,r={}){hve(this._delegate,e,n,r)}}function n7(t){return/^[A-Za-z]+:\/\//.test(t)}const Nst="@firebase/storage-compat",Ost="0.1.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fst="storage-compat";function Bst(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("storage").getImmediate({identifier:e});return new sde(n,r)}function $st(t){const e={TaskState:wo,TaskEvent:jge,StringFormat:dl,Storage:sde,Reference:Id};t.INTERNAL.registerComponent(new Gn(Fst,Bst,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(Nst,Ost)}$st(qi);const r7="@firebase/performance",gB="0.5.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ode=gB,Ust="FB-PERF-TRACE-START",zst="FB-PERF-TRACE-STOP",vB="FB-PERF-TRACE-MEASURE",ade="_wt_",lde="_fp",cde="_fcp",ude="_fid",dde="@firebase/performance/config",fde="@firebase/performance/configexpire",Vst="performance",hde="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wst={["trace started"]:"Trace {$traceName} was started before.",["trace stopped"]:"Trace {$traceName} is not running.",["nonpositive trace startTime"]:"Trace {$traceName} startTime should be positive.",["nonpositive trace duration"]:"Trace {$traceName} duration should be positive.",["no window"]:"Window is not available.",["no app id"]:"App id is not available.",["no project id"]:"Project id is not available.",["no api key"]:"Api key is not available.",["invalid cc log"]:"Attempted to queue invalid cc event",["FB not default"]:"Performance can only start when Firebase app instance is the default one.",["RC response not ok"]:"RC response is not ok",["invalid attribute name"]:"Attribute name {$attributeName} is invalid.",["invalid attribute value"]:"Attribute value {$attributeValue} is invalid.",["invalid custom metric name"]:"Custom metric name {$customMetricName} is invalid",["invalid String merger input"]:"Input for String merger is invalid, contact support team to resolve.",["already initialized"]:"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},ro=new $o(Vst,hde,Wst);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Pu(hde);Mu.logLevel=wn.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FN,pde;class ps{constructor(e){if(this.window=e,!e)throw ro.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)}getEntriesByName(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!IP()?(Mu.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):ha()?!0:(Mu.info("IndexedDB is not supported by current browswer"),!1)}setupObserver(e,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return FN===void 0&&(FN=new ps(pde)),FN}}function Hst(t){pde=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mde;function Gst(t){const e=t.getId();return e.then(n=>{mde=n}),e}function _5(){return mde}function jst(t){const e=t.getToken();return e.then(n=>{}),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i7(t,e){const n=t.length-e.length;if(n<0||n>1)throw ro.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BN;class Na{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=i7("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=i7("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return BN===void 0&&(BN=new Na),BN}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G0;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(G0||(G0={}));const qst=["firebase_","google_","ga_"],Kst=new RegExp("^[a-zA-Z]\\w*$"),Xst=40,Yst=100;function Qst(){const t=ps.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function gde(){switch(ps.getInstance().document.visibilityState){case"visible":return G0.VISIBLE;case"hidden":return G0.HIDDEN;default:return G0.UNKNOWN}}function Jst(){const e=ps.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Zst(t){return t.length===0||t.length>Xst?!1:!qst.some(n=>t.startsWith(n))&&!!t.match(Kst)}function eot(t){return t.length!==0&&t.length<=Yst}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vde(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.appId;if(!n)throw ro.create("no app id");return n}function tot(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.projectId;if(!n)throw ro.create("no project id");return n}function not(t){var e;const n=(e=t.options)===null||e===void 0?void 0:e.apiKey;if(!n)throw ro.create("no api key");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rot="0.0.1",iot={loggingEnabled:!0},sot="FIREBASE_INSTALLATIONS_AUTH";function oot(t,e){const n=aot();return n?(s7(n),Promise.resolve()):uot(t,e).then(s7).then(r=>lot(r),()=>{})}function aot(){const t=ps.getInstance().localStorage;if(!t)return;const e=t.getItem(fde);if(!e||!dot(e))return;const n=t.getItem(dde);if(!!n)try{return JSON.parse(n)}catch{return}}function lot(t){const e=ps.getInstance().localStorage;!t||!e||(e.setItem(dde,JSON.stringify(t)),e.setItem(fde,String(Date.now()+Na.getInstance().configTimeToLive*60*60*1e3)))}const cot="Could not fetch config, will use default configs";function uot(t,e){return jst(t.installations).then(n=>{const r=tot(t.app),i=not(t.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,o=new Request(s,{method:"POST",headers:{Authorization:`${sot} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:vde(t.app),app_version:ode,sdk_version:rot})});return fetch(o).then(a=>{if(a.ok)return a.json();throw ro.create("RC response not ok")})}).catch(()=>{Mu.info(cot)})}function s7(t){if(!t)return t;const e=Na.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=iot.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=o7(e.tracesSamplingRate),e.logNetworkAfterSampling=o7(e.networkRequestsSamplingRate),t}function dot(t){return Number(t)>Date.now()}function o7(t){return Math.random()<=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x5=1,$N;function yde(t){return x5=2,$N=$N||hot(t),$N}function fot(){return x5===3}function hot(t){return pot().then(()=>Gst(t.installations)).then(e=>oot(t,e)).then(()=>a7(),()=>a7())}function pot(){const t=ps.getInstance().document;return new Promise(e=>{if(t&&t.readyState!=="complete"){const n=()=>{t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function a7(){x5=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=10*1e3,mot=5.5*1e3,_de=3,got=1e3;let rP=_de,Ch=[],l7=!1;function vot(){l7||(FL(mot),l7=!0)}function FL(t){setTimeout(()=>{if(rP!==0){if(!Ch.length)return FL(w5);yot()}},t)}function yot(){const t=Ch.splice(0,got),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Na.getInstance().logSource,log_event:e};_ot(n,t).catch(()=>{Ch=[...t,...Ch],rP--,Mu.info(`Tries left: ${rP}.`),FL(w5)})}function _ot(t,e){return xot(t).then(n=>(n.ok||Mu.info("Call to Firebase backend failed."),n.json())).then(n=>{const r=Number(n.nextRequestWaitMillis);let i=w5;isNaN(r)||(i=Math.max(r,i));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Ch=[...e,...Ch],Mu.info("Retry transport request later.")),rP=_de,FL(i)})}function xot(t){const e=Na.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function wot(t){if(!t.eventTime||!t.message)throw ro.create("invalid cc log");Ch=[...Ch,t]}function bot(t){return(...e)=>{const n=t(...e);wot({message:n,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UN;function xde(t,e){UN||(UN=bot(Cot)),UN(t,e)}function uM(t){const e=Na.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!ps.getInstance().requiredApisAvailable()||t.isAuto&&gde()!==G0.VISIBLE||(fot()?zN(t):yde(t.performanceController).then(()=>zN(t),()=>zN(t)))}function zN(t){if(!_5())return;const e=Na.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>xde(t,1),0)}function Sot(t){const e=Na.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>xde(t,0),0)}function Cot(t,e){return e===0?Tot(t):Eot(t)}function Tot(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:wde(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}function Eot(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);const n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);const r={application_info:wde(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}function wde(t){return{google_app_id:vde(t),app_instance_id:_5(),web_app_info:{sdk_version:ode,page_url:ps.getInstance().getUrl(),service_worker_status:Qst(),visibility_state:gde(),effective_connection_type:Jst()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iot=100,Mot="_",Aot=[lde,cde,ude];function Rot(t,e){return t.length===0||t.length>Iot?!1:e&&e.startsWith(ade)&&Aot.indexOf(t)>-1||!t.startsWith(Mot)}function Pot(t){const e=Math.floor(t);return e<t&&Mu.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=ps.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${Ust}-${this.randomId}-${this.name}`,this.traceStopMark=`${zst}-${this.randomId}-${this.name}`,this.traceMeasure=i||`${vB}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw ro.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw ro.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),uM(this)}record(e,n,r){if(e<=0)throw ro.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw ro.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));uM(this)}incrementMetric(e,n=1){this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)}putMetric(e,n){if(Rot(e,this.name))this.counters[e]=Pot(n!=null?n:0);else throw ro.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=Zst(e),i=eot(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw ro.create("invalid attribute name",{attributeName:e});if(!i)throw ro.create("invalid attribute value",{attributeValue:n})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,n,r,i){const s=ps.getInstance().getUrl();if(!s)return;const o=new Th(e,ade+s,!0),a=Math.floor(ps.getInstance().getTimeOrigin()*1e3);o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(n[0].duration*1e3)),o.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),o.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),o.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const l="first-paint",c="first-contentful-paint";if(r){const u=r.find(f=>f.name===l);u&&u.startTime&&o.putMetric(lde,Math.floor(u.startTime*1e3));const d=r.find(f=>f.name===c);d&&d.startTime&&o.putMetric(cde,Math.floor(d.startTime*1e3)),i&&o.putMetric(ude,Math.floor(i*1e3))}uM(o)}static createUserTimingTrace(e,n){const r=new Th(e,n,!1,n);uM(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t,e){const n=e;if(!n||n.responseStart===void 0)return;const r=ps.getInstance().getTimeOrigin(),i=Math.floor((n.startTime+r)*1e3),s=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,o=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],l={performanceController:t,url:a,responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};Sot(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kot=5e3;function u7(t){!_5()||(setTimeout(()=>Dot(t),0),setTimeout(()=>Lot(t),0),setTimeout(()=>Not(t),0))}function Lot(t){const e=ps.getInstance(),n=e.getEntriesByType("resource");for(const r of n)c7(t,r);e.setupObserver("resource",r=>c7(t,r))}function Dot(t){const e=ps.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{Th.createOobTrace(t,n,r),i=void 0},kot);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),Th.createOobTrace(t,n,r,s))})}else Th.createOobTrace(t,n,r)}function Not(t){const e=ps.getInstance(),n=e.getEntriesByType("measure");for(const r of n)d7(t,r);e.setupObserver("measure",r=>d7(t,r))}function d7(t,e){const n=e.name;n.substring(0,vB.length)!==vB&&Th.createUserTimingTrace(t,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oot{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||((e==null?void 0:e.dataCollectionEnabled)!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),(e==null?void 0:e.instrumentationEnabled)!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),ps.getInstance().requiredApisAvailable()?pC().then(n=>{n&&(vot(),yde(this).then(()=>u7(this),()=>u7(this)),this.initialized=!0)}).catch(n=>{Mu.info(`Environment doesn't support IndexedDB: ${n}`)}):Mu.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Na.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Na.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Na.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Na.getInstance().dataCollectionEnabled}}const Fot="[DEFAULT]";function Bot(t,e){return t=ft(t),new Th(t,e)}const $ot=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(n.name!==Fot)throw ro.create("FB not default");if(typeof window=="undefined")throw ro.create("no window");Hst(window);const i=new Oot(n,r);return i._init(e),i};function Uot(){ti(new Gn("performance",$ot,"PUBLIC")),dr(r7,gB),dr(r7,gB,"esm2017")}Uot();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zot{constructor(e,n){this.app=e,this._delegate=n}get instrumentationEnabled(){return this._delegate.instrumentationEnabled}set instrumentationEnabled(e){this._delegate.instrumentationEnabled=e}get dataCollectionEnabled(){return this._delegate.dataCollectionEnabled}set dataCollectionEnabled(e){this._delegate.dataCollectionEnabled=e}trace(e){return Bot(this._delegate,e)}}const Vot="@firebase/performance-compat",Wot="0.1.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hot(t){t.INTERNAL.registerComponent(new Gn("performance-compat",Got,"PUBLIC")),t.registerVersion(Vot,Wot)}function Got(t){const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("performance").getImmediate();return new zot(e,n)}Hot(qi);const VN="@firebase/remote-config",f7="0.3.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jot{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qot="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kot={["registration-window"]:"Undefined window object. This SDK only supports usage in a browser environment.",["registration-project-id"]:"Undefined project identifier. Check Firebase app initialization.",["registration-api-key"]:"Undefined API key. Check Firebase app initialization.",["registration-app-id"]:"Undefined app identifier. Check Firebase app initialization.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",["fetch-client-network"]:"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-timeout"]:'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',["fetch-throttle"]:'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',["fetch-client-parse"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["indexed-db-unavailable"]:"Indexed DB is not supported by current browser"},ra=new $o("remoteconfig","Remote Config",Kot);function Xot(t,e){return t instanceof hi&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yot=!1,Qot="",h7=0,Jot=["1","true","t","yes","y","on"];class WN{constructor(e,n=Qot){this._source=e,this._value=n}asString(){return this._value}asBoolean(){return this._source==="static"?Yot:Jot.indexOf(this._value.toLowerCase())>=0}asNumber(){if(this._source==="static")return h7;let e=Number(this._value);return isNaN(e)&&(e=h7),e}getSource(){return this._source}}async function bde(t){const e=ft(t),[n,r]=await Promise.all([e._storage.getLastSuccessfulFetchResponse(),e._storage.getActiveConfigEtag()]);return!n||!n.config||!n.eTag||n.eTag===r?!1:(await Promise.all([e._storageCache.setActiveConfig(n.config),e._storage.setActiveConfigEtag(n.eTag)]),!0)}function Sde(t){const e=ft(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}async function Cde(t){const e=ft(t),n=new jot;setTimeout(async()=>{n.abort()},e.settings.fetchTimeoutMillis);try{await e._client.fetch({cacheMaxAgeMillis:e.settings.minimumFetchIntervalMillis,signal:n}),await e._storageCache.setLastFetchStatus("success")}catch(r){const i=Xot(r,"fetch-throttle")?"throttle":"failure";throw await e._storageCache.setLastFetchStatus(i),r}}function Zot(t){const e=ft(t);return iat(e._storageCache.getActiveConfig(),e.defaultConfig).reduce((n,r)=>(n[r]=RT(t,r),n),{})}function eat(t,e){return RT(ft(t),e).asBoolean()}function tat(t,e){return RT(ft(t),e).asNumber()}function nat(t,e){return RT(ft(t),e).asString()}function RT(t,e){const n=ft(t);n._isInitializationComplete||n._logger.debug(`A value was requested for key "${e}" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.`);const r=n._storageCache.getActiveConfig();return r&&r[e]!==void 0?new WN("remote",r[e]):n.defaultConfig&&n.defaultConfig[e]!==void 0?new WN("default",String(n.defaultConfig[e])):(n._logger.debug(`Returning static value for key "${e}". Define a default or remote value if this is unintentional.`),new WN("static"))}function rat(t,e){const n=ft(t);switch(e){case"debug":n._logger.logLevel=wn.DEBUG;break;case"silent":n._logger.logLevel=wn.SILENT;break;default:n._logger.logLevel=wn.ERROR}}function iat(t={},e={}){return Object.keys(Object.assign(Object.assign({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sat{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oat(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aat{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){const[n,r]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:oat()},l={method:"POST",headers:o,body:JSON.stringify(a)},c=fetch(s,l),u=new Promise((y,x)=>{e.signal.addEventListener(()=>{const w=new Error("The operation was aborted.");w.name="AbortError",x(w)})});let d;try{await Promise.race([c,u]),d=await c}catch(y){let x="fetch-client-network";throw y.name==="AbortError"&&(x="fetch-timeout"),ra.create(x,{originalErrorMessage:y.message})}let f=d.status;const p=d.headers.get("ETag")||void 0;let g,v;if(d.status===200){let y;try{y=await d.json()}catch(x){throw ra.create("fetch-client-parse",{originalErrorMessage:x.message})}g=y.entries,v=y.state}if(v==="INSTANCE_STATE_UNSPECIFIED"?f=500:v==="NO_CHANGE"?f=304:(v==="NO_TEMPLATE"||v==="EMPTY_CONFIG")&&(g={}),f!==304&&f!==200)throw ra.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lat(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ra.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cat(t){if(!(t instanceof hi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uat{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await lat(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!cat(i))throw i;const s={throttleEndTimeMillis:Date.now()+OA(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dat=60*1e3,fat=12*60*60*1e3;class hat{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:dat,minimumFetchIntervalMillis:fat},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t,e){const n=t.target.error||void 0;return ra.create(e,{originalErrorMessage:n&&n.message})}const gm="app_namespace_store",pat="firebase_remote_config",mat=1;function gat(){return new Promise((t,e)=>{try{const n=indexedDB.open(pat,mat);n.onerror=r=>{e(sA(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(gm,{keyPath:"compositeKey"})}}}catch(n){e(ra.create("storage-open",{originalErrorMessage:n}))}})}class vat{constructor(e,n,r,i=gat()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([gm],"readonly").objectStore(gm),a=this.createCompositeKey(e);try{const l=o.get(a);l.onerror=c=>{i(sA(c,"storage-get"))},l.onsuccess=c=>{const u=c.target.result;r(u?u.value:void 0)}}catch(l){i(ra.create("storage-get",{originalErrorMessage:l&&l.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([gm],"readwrite").objectStore(gm),l=this.createCompositeKey(e);try{const c=a.put({compositeKey:l,value:n});c.onerror=u=>{s(sA(u,"storage-set"))},c.onsuccess=()=>{i()}}catch(c){s(ra.create("storage-set",{originalErrorMessage:c&&c.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{const o=n.transaction([gm],"readwrite").objectStore(gm),a=this.createCompositeKey(e);try{const l=o.delete(a);l.onerror=c=>{i(sA(c,"storage-delete"))},l.onsuccess=()=>{r()}}catch(l){i(ra.create("storage-delete",{originalErrorMessage:l&&l.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yat{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _at(){ti(new Gn(qot,t,"PUBLIC").setMultipleInstances(!0)),dr(VN,f7),dr(VN,f7,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window=="undefined")throw ra.create("registration-window");if(!ha())throw ra.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw ra.create("registration-project-id");if(!o)throw ra.create("registration-api-key");if(!a)throw ra.create("registration-app-id");n=n||"firebase";const l=new vat(a,r.name,n),c=new yat(l),u=new Pu(VN);u.logLevel=wn.ERROR;const d=new aat(i,ku,n,s,o,a),f=new uat(d,l),p=new sat(f,l,c,u),g=new hat(r,p,c,l,u);return Sde(g),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xat(t){return t=ft(t),await Cde(t),bde(t)}async function wat(){if(!ha())return!1;try{return await pC()}catch{return!1}}_at();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bat{constructor(e,n){this.app=e,this._delegate=n}get defaultConfig(){return this._delegate.defaultConfig}set defaultConfig(e){this._delegate.defaultConfig=e}get fetchTimeMillis(){return this._delegate.fetchTimeMillis}get lastFetchStatus(){return this._delegate.lastFetchStatus}get settings(){return this._delegate.settings}set settings(e){this._delegate.settings=e}activate(){return bde(this._delegate)}ensureInitialized(){return Sde(this._delegate)}fetch(){return Cde(this._delegate)}fetchAndActivate(){return xat(this._delegate)}getAll(){return Zot(this._delegate)}getBoolean(e){return eat(this._delegate,e)}getNumber(e){return tat(this._delegate,e)}getString(e){return nat(this._delegate,e)}getValue(e){return RT(this._delegate,e)}setLogLevel(e){rat(this._delegate,e)}}const Sat="@firebase/remote-config-compat",Cat="0.1.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tat(t){t.INTERNAL.registerComponent(new Gn("remoteConfig-compat",Eat,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:wat})),t.registerVersion(Sat,Cat)}function Eat(t,{instanceIdentifier:e}){const n=t.getProvider("app-compat").getImmediate(),r=t.getProvider("remote-config").getImmediate({identifier:e});return new bat(n,r)}Tat(qi);var Iat="firebase",Mat="9.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi.registerVersion(Iat,Mat,"app-compat");var Aat="firebase",Rat="9.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);qi.registerVersion(Aat,Rat,"compat");qi.onLog;function Pat(t){let e=()=>{};return Tt("div",{className:"header",children:[K(fc,{onClick:t.onAdd,children:K(kU,{})}),K("div",{className:"canvas-wrapper",onClick:()=>{e()},children:K(aHe,{children:K(qHe,{getOnClick:n=>e=n})})})]})}function kat(t){const[e,n]=N.exports.useState(),[r,i]=N.exports.useState();return Tt("div",{className:"popup",children:[K("div",{className:"popup-header",children:K("h3",{className:"popup-header-text",children:"Add Image"})}),Tt("form",{onSubmit:l=>{if(l.preventDefault(),!e)return;const c=A0(EB,"images/"+e.name);ave(c,e).then(()=>{n(void 0),i(void 0),t.close()})},className:"popup-form",children:[Tt(AM,{variant:"contained",component:"label",color:"primary",children:[" ",K(kU,{})," Select a file",K("input",{type:"file",hidden:!0,onInput:l=>{const c=l.target.files;if(!c)return;const u=c.item(0);if(!!u&&(u.type==="image/jpeg"||u.type==="image/png")){n(u);const d=new FileReader;d.onload=function(f){var p,g;i((g=(p=f.target)==null?void 0:p.result)==null?void 0:g.toString())},d.readAsDataURL(u)}}})]}),K("img",{src:r,className:"image-preview",alt:"preview"}),Tt("div",{className:"popup-form-buttons",children:[K(AM,{variant:"contained",color:"primary",onClick:()=>{n(void 0),i(void 0),t.cancel()},children:"Cancel"}),K(AM,{variant:"contained",color:"primary",type:"submit",children:"Upload"})]})]})]})}function p7(){const{innerWidth:t,innerHeight:e}=window;return{width:t,height:e}}function Lat(){const[t,e]=N.exports.useState(p7());return N.exports.useEffect(()=>{function n(){e(p7())}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}var Tde={},Ede={},BL={},Ide={},Dat=function(){},Nat=function(){},Oat=Object.freeze(Object.defineProperty({__proto__:null,invariant:Nat,warning:Dat},Symbol.toStringTag,{value:"Module"})),Mde=lP(Oat),Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});var Au=iv.exports,Ade=function(t,e){return function(n){return Math.max(Math.min(n,e),t)}},S1=function(t){return t%1?Number(t.toFixed(5)):t},rC=/(-)?([\d]*\.?[\d])+/g,yB=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Fat=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function PT(t){return typeof t=="string"}var kT={test:function(t){return typeof t=="number"},parse:parseFloat,transform:function(t){return t}},b5=Au.__assign(Au.__assign({},kT),{transform:Ade(0,1)}),Bat=Au.__assign(Au.__assign({},kT),{default:1}),LT=function(t){return{test:function(e){return PT(e)&&e.endsWith(t)&&e.split(" ").length===1},parse:parseFloat,transform:function(e){return""+e+t}}},$at=LT("deg"),j0=LT("%"),Uat=LT("px"),zat=LT("vh"),Vat=LT("vw"),Wat=Au.__assign(Au.__assign({},j0),{parse:function(t){return j0.parse(t)/100},transform:function(t){return j0.transform(t*100)}}),S5=function(t,e){return function(n){return Boolean(PT(n)&&Fat.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e))}},Rde=function(t,e,n){return function(r){var i;if(!PT(r))return r;var s=r.match(rC),o=s[0],a=s[1],l=s[2],c=s[3];return i={},i[t]=parseFloat(o),i[e]=parseFloat(a),i[n]=parseFloat(l),i.alpha=c!==void 0?parseFloat(c):1,i}},Vb={test:S5("hsl","hue"),parse:Rde("hue","saturation","lightness"),transform:function(t){var e=t.hue,n=t.saturation,r=t.lightness,i=t.alpha,s=i===void 0?1:i;return"hsla("+Math.round(e)+", "+j0.transform(S1(n))+", "+j0.transform(S1(r))+", "+S1(b5.transform(s))+")"}},Hat=Ade(0,255),oA=Au.__assign(Au.__assign({},kT),{transform:function(t){return Math.round(Hat(t))}}),x0={test:S5("rgb","red"),parse:Rde("red","green","blue"),transform:function(t){var e=t.red,n=t.green,r=t.blue,i=t.alpha,s=i===void 0?1:i;return"rgba("+oA.transform(e)+", "+oA.transform(n)+", "+oA.transform(r)+", "+S1(b5.transform(s))+")"}};function Gat(t){var e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}var _B={test:S5("#"),parse:Gat,transform:x0.transform},C5={test:function(t){return x0.test(t)||_B.test(t)||Vb.test(t)},parse:function(t){return x0.test(t)?x0.parse(t):Vb.test(t)?Vb.parse(t):_B.parse(t)},transform:function(t){return PT(t)?t:t.hasOwnProperty("red")?x0.transform(t):Vb.transform(t)}},Pde="${c}",kde="${n}";function jat(t){var e,n,r,i;return isNaN(t)&&PT(t)&&((n=(e=t.match(rC))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((i=(r=t.match(yB))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function Lde(t){var e=[],n=0,r=t.match(yB);r&&(n=r.length,t=t.replace(yB,Pde),e.push.apply(e,r.map(C5.parse)));var i=t.match(rC);return i&&(t=t.replace(rC,kde),e.push.apply(e,i.map(kT.parse))),{values:e,numColors:n,tokenised:t}}function Dde(t){return Lde(t).values}function Nde(t){var e=Lde(t),n=e.values,r=e.numColors,i=e.tokenised,s=n.length;return function(o){for(var a=i,l=0;l<s;l++)a=a.replace(l<r?Pde:kde,l<r?C5.transform(o[l]):S1(o[l]));return a}}var qat=function(t){return typeof t=="number"?0:t};function Kat(t){var e=Dde(t),n=Nde(t);return n(e.map(qat))}var Ode={test:jat,parse:Dde,createTransformer:Nde,getAnimatableNone:Kat},Xat=new Set(["brightness","contrast","saturate","opacity"]);function Yat(t){var e=t.slice(0,-1).split("("),n=e[0],r=e[1];if(n==="drop-shadow")return t;var i=(r.match(rC)||[])[0];if(!i)return t;var s=r.replace(i,""),o=Xat.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+s+")"}var Qat=/([a-z-]*)\(.*?\)/g,Jat=Au.__assign(Au.__assign({},Ode),{getAnimatableNone:function(t){var e=t.match(Qat);return e?e.map(Yat).join(" "):t}});Xi.alpha=b5;Xi.color=C5;Xi.complex=Ode;Xi.degrees=$at;Xi.filter=Jat;Xi.hex=_B;Xi.hsla=Vb;Xi.number=kT;Xi.percent=j0;Xi.progressPercentage=Wat;Xi.px=Uat;Xi.rgbUnit=oA;Xi.rgba=x0;Xi.scale=Bat;Xi.vh=zat;Xi.vw=Vat;var Zt={},_v={};Object.defineProperty(_v,"__esModule",{value:!0});var Fde=1/60*1e3,Zat=typeof performance!="undefined"?function(){return performance.now()}:function(){return Date.now()},Bde=typeof window!="undefined"?function(t){return window.requestAnimationFrame(t)}:function(t){return setTimeout(function(){return t(Zat())},Fde)};function elt(t){var e=[],n=[],r=0,i=!1,s=new WeakSet,o={schedule:function(a,l,c){l===void 0&&(l=!1),c===void 0&&(c=!1);var u=c&&i,d=u?e:n;return l&&s.add(a),d.indexOf(a)===-1&&(d.push(a),u&&i&&(r=e.length)),a},cancel:function(a){var l=n.indexOf(a);l!==-1&&n.splice(l,1),s.delete(a)},process:function(a){var l;if(i=!0,l=[n,e],e=l[0],n=l[1],n.length=0,r=e.length,r)for(var c=0;c<r;c++){var u=e[c];u(a),s.has(u)&&(o.schedule(u),t())}i=!1}};return o}var tlt=40,xB=!0,iC=!1,wB=!1,q0={delta:0,timestamp:0},DT=["read","update","preRender","render","postRender"],$L=DT.reduce(function(t,e){return t[e]=elt(function(){return iC=!0}),t},{}),nlt=DT.reduce(function(t,e){var n=$L[e];return t[e]=function(r,i,s){return i===void 0&&(i=!1),s===void 0&&(s=!1),iC||olt(),n.schedule(r,i,s)},t},{}),rlt=DT.reduce(function(t,e){return t[e]=$L[e].cancel,t},{}),ilt=DT.reduce(function(t,e){return t[e]=function(){return $L[e].process(q0)},t},{}),slt=function(t){return $L[t].process(q0)},$de=function(t){iC=!1,q0.delta=xB?Fde:Math.max(Math.min(t-q0.timestamp,tlt),1),q0.timestamp=t,wB=!0,DT.forEach(slt),wB=!1,iC&&(xB=!1,Bde($de))},olt=function(){iC=!0,xB=!0,wB||Bde($de)},alt=function(){return q0};_v.cancelSync=rlt;_v.default=nlt;_v.flushSync=ilt;_v.getFrameData=alt;Object.defineProperty(Zt,"__esModule",{value:!0});var Ao=iv.exports,Zm=Mde,Eh=Xi,UL=_v;function llt(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var clt=llt(UL),sC=function(t,e,n){return Math.min(Math.max(n,t),e)},HN=.001,ult=.01,m7=10,dlt=.05,flt=1;function hlt(t){var e=t.duration,n=e===void 0?800:e,r=t.bounce,i=r===void 0?.25:r,s=t.velocity,o=s===void 0?0:s,a=t.mass,l=a===void 0?1:a,c,u;Zm.warning(n<=m7*1e3,"Spring duration must be 10 seconds or less");var d=1-i;d=sC(dlt,flt,d),n=sC(ult,m7,n/1e3),d<1?(c=function(v){var y=v*d,x=y*n,w=y-o,b=bB(v,d),T=Math.exp(-x);return HN-w/b*T},u=function(v){var y=v*d,x=y*n,w=x*o+o,b=Math.pow(d,2)*Math.pow(v,2)*n,T=Math.exp(-x),E=bB(Math.pow(v,2),d),P=-c(v)+HN>0?-1:1;return P*((w-b)*T)/E}):(c=function(v){var y=Math.exp(-v*n),x=(v-o)*n+1;return-HN+y*x},u=function(v){var y=Math.exp(-v*n),x=(o-v)*(n*n);return y*x});var f=5/n,p=mlt(c,u,f);if(n=n*1e3,isNaN(p))return{stiffness:100,damping:10,duration:n};var g=Math.pow(p,2)*l;return{stiffness:g,damping:d*2*Math.sqrt(l*g),duration:n}}var plt=12;function mlt(t,e,n){for(var r=n,i=1;i<plt;i++)r=r-t(r)/e(r);return r}function bB(t,e){return t*Math.sqrt(1-e*e)}var glt=["duration","bounce"],vlt=["stiffness","damping","mass"];function g7(t,e){return e.some(function(n){return t[n]!==void 0})}function ylt(t){var e=Ao.__assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!g7(t,vlt)&&g7(t,glt)){var n=hlt(t);e=Ao.__assign(Ao.__assign(Ao.__assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function zL(t){var e=t.from,n=e===void 0?0:e,r=t.to,i=r===void 0?1:r,s=t.restSpeed,o=s===void 0?2:s,a=t.restDelta,l=Ao.__rest(t,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},u=ylt(l),d=u.stiffness,f=u.damping,p=u.mass,g=u.velocity,v=u.duration,y=u.isResolvedFromDuration,x=v7,w=v7;function b(){var T=g?-(g/1e3):0,E=i-n,P=f/(2*Math.sqrt(d*p)),L=Math.sqrt(d/p)/1e3;if(a!=null||(a=Math.abs(i-n)<=1?.01:.4),P<1){var R=bB(L,P);x=function(O){var G=Math.exp(-P*L*O);return i-G*((T+P*L*E)/R*Math.sin(R*O)+E*Math.cos(R*O))},w=function(O){var G=Math.exp(-P*L*O);return P*L*G*(Math.sin(R*O)*(T+P*L*E)/R+E*Math.cos(R*O))-G*(Math.cos(R*O)*(T+P*L*E)-R*E*Math.sin(R*O))}}else if(P===1)x=function(O){return i-Math.exp(-L*O)*(E+(T+L*E)*O)};else{var F=L*Math.sqrt(P*P-1);x=function(O){var G=Math.exp(-P*L*O),Z=Math.min(F*O,300);return i-G*((T+P*L*E)*Math.sinh(Z)+F*E*Math.cosh(Z))/F}}}return b(),{next:function(T){var E=x(T);if(y)c.done=T>=v;else{var P=w(T)*1e3,L=Math.abs(P)<=o,R=Math.abs(i-E)<=a;c.done=L&&R}return c.value=c.done?i:E,c},flipTarget:function(){var T;g=-g,T=[i,n],n=T[0],i=T[1],b()}}}zL.needsInterpolation=function(t,e){return typeof t=="string"||typeof e=="string"};var v7=function(t){return 0},T5=function(t,e,n){var r=e-t;return r===0?1:(n-t)/r},oC=function(t,e,n){return-n*t+n*e+t},_lt=function(t,e,n){var r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},xlt=[Eh.hex,Eh.rgba,Eh.hsla],y7=function(t){return xlt.find(function(e){return e.test(t)})},_7=function(t){return"'"+t+"' is not an animatable color. Use the equivalent color code instead."},E5=function(t,e){var n=y7(t),r=y7(e);Zm.invariant(!!n,_7(t)),Zm.invariant(!!r,_7(e)),Zm.invariant(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var i=n.parse(t),s=r.parse(e),o=Ao.__assign({},i),a=n===Eh.hsla?oC:_lt;return function(l){for(var c in o)c!=="alpha"&&(o[c]=a(i[c],s[c],l));return o.alpha=oC(i.alpha,s.alpha,l),n.transform(o)}},wlt={x:0,y:0,z:0},SB=function(t){return typeof t=="number"},blt=function(t,e){return function(n){return e(t(n))}},I5=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(blt)};function Ude(t,e){return SB(t)?function(n){return oC(t,e,n)}:Eh.color.test(t)?E5(t,e):M5(t,e)}var zde=function(t,e){var n=Ao.__spreadArray([],t),r=n.length,i=t.map(function(s,o){return Ude(s,e[o])});return function(s){for(var o=0;o<r;o++)n[o]=i[o](s);return n}},Slt=function(t,e){var n=Ao.__assign(Ao.__assign({},t),e),r={};for(var i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ude(t[i],e[i]));return function(s){for(var o in r)n[o]=r[o](s);return n}};function x7(t){for(var e=Eh.complex.parse(t),n=e.length,r=0,i=0,s=0,o=0;o<n;o++)r||typeof e[o]=="number"?r++:e[o].hue!==void 0?s++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:s}}var M5=function(t,e){var n=Eh.complex.createTransformer(e),r=x7(t),i=x7(e);return Zm.invariant(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+t+"' and '"+e+"' too different to mix. Ensure all colors are of the same type."),I5(zde(r.parsed,i.parsed),n)},Clt=function(t,e){return function(n){return oC(t,e,n)}};function Tlt(t){if(typeof t=="number")return Clt;if(typeof t=="string")return Eh.color.test(t)?E5:M5;if(Array.isArray(t))return zde;if(typeof t=="object")return Slt}function Elt(t,e,n){for(var r=[],i=n||Tlt(t[0]),s=t.length-1,o=0;o<s;o++){var a=i(t[o],t[o+1]);if(e){var l=Array.isArray(e)?e[o]:e;a=I5(l,a)}r.push(a)}return r}function Ilt(t,e){var n=t[0],r=t[1],i=e[0];return function(s){return i(T5(n,r,s))}}function Mlt(t,e){var n=t.length,r=n-1;return function(i){var s=0,o=!1;if(i<=t[0]?o=!0:i>=t[r]&&(s=r-1,o=!0),!o){for(var a=1;a<n&&!(t[a]>i||a===r);a++);s=a-1}var l=T5(t[s],t[s+1],i);return e[s](l)}}function A5(t,e,n){var r=n===void 0?{}:n,i=r.clamp,s=i===void 0?!0:i,o=r.ease,a=r.mixer,l=t.length;Zm.invariant(l===e.length,"Both input and output ranges must be the same length"),Zm.invariant(!o||!Array.isArray(o)||o.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[l-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());var c=Elt(e,o,a),u=l===2?Ilt(t,c):Mlt(t,c);return s?function(d){return u(sC(t[0],t[l-1],d))}:u}var NT=function(t){return function(e){return 1-t(1-e)}},VL=function(t){return function(e){return e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2}},Vde=function(t){return function(e){return Math.pow(e,t)}},R5=function(t){return function(e){return e*e*((t+1)*e-t)}},Wde=function(t){var e=R5(t);return function(n){return(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))}},Hde=1.525,Alt=4/11,Rlt=8/11,Plt=9/10,Gde=function(t){return t},P5=Vde(2),klt=NT(P5),jde=VL(P5),qde=function(t){return 1-Math.sin(Math.acos(t))},Kde=NT(qde),Llt=VL(Kde),k5=R5(Hde),Dlt=NT(k5),Nlt=VL(k5),Olt=Wde(Hde),Flt=4356/361,Blt=35442/1805,$lt=16061/1805,iP=function(t){if(t===1||t===0)return t;var e=t*t;return t<Alt?7.5625*e:t<Rlt?9.075*e-9.9*t+3.4:t<Plt?Flt*e-Blt*t+$lt:10.8*t*t-20.52*t+10.72},Ult=NT(iP),zlt=function(t){return t<.5?.5*(1-iP(1-t*2)):.5*iP(t*2-1)+.5};function Vlt(t,e){return t.map(function(){return e||jde}).splice(0,t.length-1)}function Wlt(t){var e=t.length;return t.map(function(n,r){return r!==0?r/(e-1):0})}function Hlt(t,e){return t.map(function(n){return n*e})}function C1(t){var e=t.from,n=e===void 0?0:e,r=t.to,i=r===void 0?1:r,s=t.ease,o=t.offset,a=t.duration,l=a===void 0?300:a,c={done:!1,value:n},u=Array.isArray(i)?i:[n,i],d=Hlt(o&&o.length===u.length?o:Wlt(u),l);function f(){return A5(d,u,{ease:Array.isArray(s)?s:Vlt(u,s)})}var p=f();return{next:function(g){return c.value=p(g),c.done=g>=l,c},flipTarget:function(){u.reverse(),p=f()}}}function Xde(t){var e=t.velocity,n=e===void 0?0:e,r=t.from,i=r===void 0?0:r,s=t.power,o=s===void 0?.8:s,a=t.timeConstant,l=a===void 0?350:a,c=t.restDelta,u=c===void 0?.5:c,d=t.modifyTarget,f={done:!1,value:i},p=o*n,g=i+p,v=d===void 0?g:d(g);return v!==g&&(p=v-i),{next:function(y){var x=-p*Math.exp(-y/l);return f.done=!(x>u||x<-u),f.value=f.done?v:v+x,f},flipTarget:function(){}}}var w7={keyframes:C1,spring:zL,decay:Xde};function Glt(t){if(Array.isArray(t.to))return C1;if(w7[t.type])return w7[t.type];var e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?C1:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?zL:C1}function Yde(t,e,n){return n===void 0&&(n=0),t-e-n}function jlt(t,e,n,r){return n===void 0&&(n=0),r===void 0&&(r=!0),r?Yde(e+-t,e,n):e-(t-e)+n}function qlt(t,e,n,r){return r?t>=e+n:t<=-n}var Klt=function(t){var e=function(n){var r=n.delta;return t(r)};return{start:function(){return clt.default.update(e,!0)},stop:function(){return UL.cancelSync.update(e)}}};function Qde(t){var e,n,r=t.from,i=t.autoplay,s=i===void 0?!0:i,o=t.driver,a=o===void 0?Klt:o,l=t.elapsed,c=l===void 0?0:l,u=t.repeat,d=u===void 0?0:u,f=t.repeatType,p=f===void 0?"loop":f,g=t.repeatDelay,v=g===void 0?0:g,y=t.onPlay,x=t.onStop,w=t.onComplete,b=t.onRepeat,T=t.onUpdate,E=Ao.__rest(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),P=E.to,L,R=0,F=E.duration,O,G=!1,Z=!0,V,U=Glt(E);!((n=(e=U).needsInterpolation)===null||n===void 0)&&n.call(e,r,P)&&(V=A5([0,100],[r,P],{clamp:!1}),r=0,P=100);var j=U(Ao.__assign(Ao.__assign({},E),{from:r,to:P}));function W(){R++,p==="reverse"?(Z=R%2===0,c=jlt(c,F,v,Z)):(c=Yde(c,F,v),p==="mirror"&&j.flipTarget()),G=!1,b&&b()}function X(){L.stop(),w&&w()}function B(q){if(Z||(q=-q),c+=q,!G){var ee=j.next(Math.max(0,c));O=ee.value,V&&(O=V(O)),G=Z?ee.done:c<=0}T==null||T(O),G&&(R===0&&(F!=null||(F=c)),R<d?qlt(c,F,v,Z)&&W():X())}function H(){y==null||y(),L=a(B),L.start()}return s&&H(),{stop:function(){x==null||x(),L.stop()}}}function Jde(t,e){return e?t*(1e3/e):0}function Xlt(t){var e=t.from,n=e===void 0?0:e,r=t.velocity,i=r===void 0?0:r,s=t.min,o=t.max,a=t.power,l=a===void 0?.8:a,c=t.timeConstant,u=c===void 0?750:c,d=t.bounceStiffness,f=d===void 0?500:d,p=t.bounceDamping,g=p===void 0?10:p,v=t.restDelta,y=v===void 0?1:v,x=t.modifyTarget,w=t.driver,b=t.onUpdate,T=t.onComplete,E;function P(W){return s!==void 0&&W<s||o!==void 0&&W>o}function L(W){return s===void 0?o:o===void 0||Math.abs(s-W)<Math.abs(o-W)?s:o}function R(W){E==null||E.stop(),E=Qde(Ao.__assign(Ao.__assign({},W),{driver:w,onUpdate:function(X){var B;b==null||b(X),(B=W.onUpdate)===null||B===void 0||B.call(W,X)},onComplete:T}))}function F(W){R(Ao.__assign({type:"spring",stiffness:f,damping:g,restDelta:y},W))}if(P(n))F({from:n,velocity:i,to:L(n)});else{var O=l*i+n;typeof x!="undefined"&&(O=x(O));var G=L(O),Z=G===s?-1:1,V,U,j=function(W){V=U,U=W,i=Jde(W-V,UL.getFrameData().delta),(Z===1&&W>G||Z===-1&&W<G)&&F({from:W,to:G,velocity:i})};R({type:"decay",from:n,velocity:i,timeConstant:u,power:l,restDelta:y,modifyTarget:x,onUpdate:P(O)?j:void 0})}return{stop:function(){return E==null?void 0:E.stop()}}}var Zde=function(t){return t*180/Math.PI},Ylt=function(t,e){return e===void 0&&(e=wlt),Zde(Math.atan2(e.y-t.y,e.x-t.x))},Qlt=function(t,e){var n=!0;return e===void 0&&(e=t,n=!1),function(r){return n?r-t+e:(t=r,n=!0,e)}},Jlt=function(t){return t},L5=function(t){return t===void 0&&(t=Jlt),function(e,n,r){var i=n-r,s=-(0-e+1)*(0-t(Math.abs(i)));return i<=0?n+s:n-s}},Zlt=L5(),ect=L5(Math.sqrt),efe=function(t){return t*Math.PI/180},sP=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},CB=function(t){return sP(t)&&t.hasOwnProperty("z")},dM=function(t,e){return Math.abs(t-e)};function tct(t,e){if(SB(t)&&SB(e))return dM(t,e);if(sP(t)&&sP(e)){var n=dM(t.x,e.x),r=dM(t.y,e.y),i=CB(t)&&CB(e)?dM(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var nct=function(t,e,n){return e=efe(e),{x:n*Math.cos(e)+t.x,y:n*Math.sin(e)+t.y}},tfe=function(t,e){return e===void 0&&(e=2),e=Math.pow(10,e),Math.round(t*e)/e},nfe=function(t,e,n,r){return r===void 0&&(r=0),tfe(t+n*(e-t)/Math.max(r,n))},rct=function(t){t===void 0&&(t=50);var e=0,n=0;return function(r){var i=UL.getFrameData().timestamp,s=i!==n?i-n:0,o=s?nfe(e,r,s,t):e;return n=i,e=o,o}},ict=function(t){if(typeof t=="number")return function(r){return Math.round(r/t)*t};var e=0,n=t.length;return function(r){var i=Math.abs(t[0]-r);for(e=1;e<n;e++){var s=t[e],o=Math.abs(s-r);if(o===0)return s;if(o>i)return t[e-1];if(e===n-1)return s;i=o}}};function sct(t,e){return t/(1e3/e)}var oct=function(t,e,n){var r=e-t;return((n-t)%r+r)%r+t},rfe=function(t,e){return 1-3*e+3*t},ife=function(t,e){return 3*e-6*t},sfe=function(t){return 3*t},oP=function(t,e,n){return((rfe(e,n)*t+ife(e,n))*t+sfe(e))*t},ofe=function(t,e,n){return 3*rfe(e,n)*t*t+2*ife(e,n)*t+sfe(e)},act=1e-7,lct=10;function cct(t,e,n,r,i){var s,o,a=0;do o=e+(n-e)/2,s=oP(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>act&&++a<lct);return o}var uct=8,dct=.001;function fct(t,e,n,r){for(var i=0;i<uct;++i){var s=ofe(e,n,r);if(s===0)return e;var o=oP(e,n,r)-t;e-=o/s}return e}var aA=11,fM=1/(aA-1);function hct(t,e,n,r){if(t===e&&n===r)return Gde;for(var i=new Float32Array(aA),s=0;s<aA;++s)i[s]=oP(s*fM,t,n);function o(a){for(var l=0,c=1,u=aA-1;c!==u&&i[c]<=a;++c)l+=fM;--c;var d=(a-i[c])/(i[c+1]-i[c]),f=l+d*fM,p=ofe(f,t,n);return p>=dct?fct(a,f,t,n):p===0?f:cct(a,l,l+fM,t,n)}return function(a){return a===0||a===1?a:oP(o(a),e,r)}}var pct=function(t,e){return e===void 0&&(e="end"),function(n){n=e==="end"?Math.min(n,.999):Math.max(n,.001);var r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return sC(0,1,i/t)}};Zt.angle=Ylt;Zt.animate=Qde;Zt.anticipate=Olt;Zt.applyOffset=Qlt;Zt.attract=Zlt;Zt.attractExpo=ect;Zt.backIn=k5;Zt.backInOut=Nlt;Zt.backOut=Dlt;Zt.bounceIn=Ult;Zt.bounceInOut=zlt;Zt.bounceOut=iP;Zt.circIn=qde;Zt.circInOut=Llt;Zt.circOut=Kde;Zt.clamp=sC;Zt.createAnticipate=Wde;Zt.createAttractor=L5;Zt.createBackIn=R5;Zt.createExpoIn=Vde;Zt.cubicBezier=hct;Zt.decay=Xde;Zt.degreesToRadians=efe;Zt.distance=tct;Zt.easeIn=P5;Zt.easeInOut=jde;Zt.easeOut=klt;Zt.inertia=Xlt;Zt.interpolate=A5;Zt.isPoint=sP;Zt.isPoint3D=CB;Zt.keyframes=C1;Zt.linear=Gde;Zt.mirrorEasing=VL;Zt.mix=oC;Zt.mixColor=E5;Zt.mixComplex=M5;Zt.pipe=I5;Zt.pointFromVector=nct;Zt.progress=T5;Zt.radiansToDegrees=Zde;Zt.reverseEasing=NT;Zt.smooth=rct;Zt.smoothFrame=nfe;Zt.snap=ict;Zt.spring=zL;Zt.steps=pct;Zt.toDecimal=tfe;Zt.velocityPerFrame=sct;Zt.velocityPerSecond=Jde;Zt.wrap=oct;(function(t){var e=Kg.jsx;Object.defineProperty(t,"__esModule",{value:!0});var n=iv.exports,r=N.exports,i=Mde,s=Xi,o=Zt,a=_v;function l(_){return _&&typeof _=="object"&&"default"in _?_:{default:_}}function c(_){if(_&&_.__esModule)return _;var C=Object.create(null);return _&&Object.keys(_).forEach(function(M){if(M!=="default"){var k=Object.getOwnPropertyDescriptor(_,M);Object.defineProperty(C,M,k.get?k:{enumerable:!0,get:function(){return _[M]}})}}),C.default=_,Object.freeze(C)}var u=c(r),d=l(r),f=l(a),p=function(_){return{isEnabled:function(C){return _.some(function(M){return!!C[M]})}}},g={measureLayout:p(["layout","layoutId","drag","_layoutResetTransform"]),animation:p(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:p(["exit"]),drag:p(["drag","dragControls"]),focus:p(["whileFocus"]),hover:p(["whileHover","onHoverStart","onHoverEnd"]),tap:p(["whileTap","onTap","onTapStart","onTapCancel"]),pan:p(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:p(["layout","layoutId"])};function v(_){for(var C in _){var M=_[C];M!==null&&(g[C].Component=M)}}var y=r.createContext({strict:!1}),x=Object.keys(g),w=x.length;function b(_,C,M){var k=[];if(r.useContext(y),!C)return null;for(var z=0;z<w;z++){var Y=x[z],re=g[Y],ae=re.isEnabled,Ve=re.Component;ae(_)&&Ve&&k.push(u.createElement(Ve,n.__assign({key:Y},_,{visualElement:C})))}return k}var T=r.createContext({transformPagePoint:function(_){return _},isStatic:!1}),E=r.createContext({});function P(){return r.useContext(E).visualElement}var L=r.createContext(null);function R(_){var C=r.useRef(null);return C.current===null&&(C.current=_()),C.current}function F(){var _=r.useContext(L);if(_===null)return[!0,null];var C=_.isPresent,M=_.onExitComplete,k=_.register,z=U();r.useEffect(function(){return k(z)},[]);var Y=function(){return M==null?void 0:M(z)};return!C&&M?[!1,Y]:[!0]}function O(){return G(r.useContext(L))}function G(_){return _===null?!0:_.isPresent}var Z=0,V=function(){return Z++},U=function(){return R(V)},j=r.createContext(null),W=typeof window!="undefined",X=W?r.useLayoutEffect:r.useEffect;function B(_){var C=_.layoutId,M=r.useContext(j);return M&&C!==void 0?M+"-"+C:C}function H(_,C,M,k){var z=r.useContext(T),Y=r.useContext(y),re=P(),ae=r.useContext(L),Ve=B(M),De=r.useRef(void 0);k||(k=Y.renderer),!De.current&&k&&(De.current=k(_,{visualState:C,parent:re,props:n.__assign(n.__assign({},M),{layoutId:Ve}),presenceId:ae==null?void 0:ae.id,blockInitialAnimation:(ae==null?void 0:ae.initial)===!1}));var Me=De.current;return X(function(){!Me||(Me.setProps(n.__assign(n.__assign(n.__assign({},z),M),{layoutId:Ve})),Me.isPresent=G(ae),Me.isPresenceRoot=!re||re.presenceId!==(ae==null?void 0:ae.id),Me.syncRender())}),r.useEffect(function(){var Ye;!Me||(Ye=Me.animationState)===null||Ye===void 0||Ye.animateChanges()}),X(function(){return function(){return Me==null?void 0:Me.notifyUnmount()}},[]),Me}function q(_){return typeof _=="object"&&Object.prototype.hasOwnProperty.call(_,"current")}function ee(_,C,M){return r.useCallback(function(k){var z;k&&((z=_.mount)===null||z===void 0||z.call(_,k)),C&&(k?C.mount(k):C.unmount()),M&&(typeof M=="function"?M(k):q(M)&&(M.current=k))},[C])}function J(_){return Array.isArray(_)}function de(_){return typeof _=="string"||J(_)}function ye(_){var C={};return _.forEachValue(function(M,k){return C[k]=M.get()}),C}function Ce(_){var C={};return _.forEachValue(function(M,k){return C[k]=M.getVelocity()}),C}function oe(_,C,M,k,z){var Y;return k===void 0&&(k={}),z===void 0&&(z={}),typeof C=="string"&&(C=(Y=_.variants)===null||Y===void 0?void 0:Y[C]),typeof C=="function"?C(M!=null?M:_.custom,k,z):C}function He(_,C,M){var k=_.getProps();return oe(k,C,M!=null?M:k.custom,ye(_),Ce(_))}function Ae(_){var C;return typeof((C=_.animate)===null||C===void 0?void 0:C.start)=="function"||de(_.initial)||de(_.animate)||de(_.whileHover)||de(_.whileDrag)||de(_.whileTap)||de(_.whileFocus)||de(_.exit)}function Ne(_){return Boolean(Ae(_)||_.variants)}function Se(_,C){if(Ae(_)){var M=_.initial,k=_.animate;return{initial:M===!1||de(M)?M:void 0,animate:de(k)?k:void 0}}return _.inherit!==!1?C:{}}function Ze(_,C){var M=Se(_,r.useContext(E)),k=M.initial,z=M.animate;return r.useMemo(function(){return{initial:k,animate:z}},C?[we(k),we(z)]:[])}function we(_){return Array.isArray(_)?_.join(" "):_}function ve(_){var C=_.preloadedFeatures,M=_.createVisualElement,k=_.useRender,z=_.useVisualState,Y=_.Component;C&&v(C);function re(ae,Ve){var De=r.useContext(T).isStatic,Me=null,Ye=Ze(ae,De),$e=z(ae,De);return!De&&W&&(Ye.visualElement=H(Y,$e,ae,M),Me=b(ae,Ye.visualElement)),u.createElement(u.Fragment,null,u.createElement(E.Provider,{value:Ye},k(Y,ae,ee($e,Ye.visualElement,Ve),$e,De)),Me)}return r.forwardRef(re)}function Ue(_){function C(k,z){return z===void 0&&(z={}),ve(_(k,z))}var M=new Map;return new Proxy(C,{get:function(k,z){return M.has(z)||M.set(z,C(z)),M.get(z)}})}var Qe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ze(_){return typeof _!="string"||_.includes("-")?!1:!!(Qe.indexOf(_)>-1||/[A-Z]/.test(_))}var st={};function vt(_){for(var C in _)st[C]=_[C]}var mt=["","X","Y","Z"],St=["translate","scale","rotate","skew"],It=["transformPerspective","x","y","z"];St.forEach(function(_){return mt.forEach(function(C){return It.push(_+C)})});function te(_,C){return It.indexOf(_)-It.indexOf(C)}var Q=new Set(It);function ue(_){return Q.has(_)}var Re=new Set(["originX","originY","originZ"]);function Le(_){return Re.has(_)}function Pe(_,C){var M=C.layout,k=C.layoutId;return ue(_)||Le(_)||(M||k!==void 0)&&(!!st[_]||_==="opacity")}var xe=function(_){return _!==null&&typeof _=="object"&&_.getVelocity},me={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Ee(_,C,M,k){var z=_.transform,Y=_.transformKeys,re=C.enableHardwareAcceleration,ae=re===void 0?!0:re,Ve=C.allowTransformNone,De=Ve===void 0?!0:Ve,Me="";Y.sort(te);for(var Ye=!1,$e=Y.length,Je=0;Je<$e;Je++){var Ge=Y[Je];Me+=(me[Ge]||Ge)+"("+z[Ge]+") ",Ge==="z"&&(Ye=!0)}return!Ye&&ae?Me+="translateZ(0)":Me=Me.trim(),k?Me=k(z,M?"":Me):De&&M&&(Me="none"),Me}function Oe(_){var C=_.originX,M=C===void 0?"50%":C,k=_.originY,z=k===void 0?"50%":k,Y=_.originZ,re=Y===void 0?0:Y;return M+" "+z+" "+re}function qe(_){return _.startsWith("--")}var le=function(_,C){return C&&typeof _=="number"?C.transform(_):_},at=n.__assign(n.__assign({},s.number),{transform:Math.round}),et={borderWidth:s.px,borderTopWidth:s.px,borderRightWidth:s.px,borderBottomWidth:s.px,borderLeftWidth:s.px,borderRadius:s.px,radius:s.px,borderTopLeftRadius:s.px,borderTopRightRadius:s.px,borderBottomRightRadius:s.px,borderBottomLeftRadius:s.px,width:s.px,maxWidth:s.px,height:s.px,maxHeight:s.px,size:s.px,top:s.px,right:s.px,bottom:s.px,left:s.px,padding:s.px,paddingTop:s.px,paddingRight:s.px,paddingBottom:s.px,paddingLeft:s.px,margin:s.px,marginTop:s.px,marginRight:s.px,marginBottom:s.px,marginLeft:s.px,rotate:s.degrees,rotateX:s.degrees,rotateY:s.degrees,rotateZ:s.degrees,scale:s.scale,scaleX:s.scale,scaleY:s.scale,scaleZ:s.scale,skew:s.degrees,skewX:s.degrees,skewY:s.degrees,distance:s.px,translateX:s.px,translateY:s.px,translateZ:s.px,x:s.px,y:s.px,z:s.px,perspective:s.px,transformPerspective:s.px,opacity:s.alpha,originX:s.progressPercentage,originY:s.progressPercentage,originZ:s.px,zIndex:at,fillOpacity:s.alpha,strokeOpacity:s.alpha,numOctaves:at};function Vt(_,C,M,k,z,Y,re,ae){var Ve,De=_.style,Me=_.vars,Ye=_.transform,$e=_.transformKeys,Je=_.transformOrigin;$e.length=0;var Ge=!1,ct=!1,ot=!0;for(var xt in C){var Ht=C[xt];if(qe(xt)){Me[xt]=Ht;continue}var yn=et[xt],Nn=le(Ht,yn);if(ue(xt)){if(Ge=!0,Ye[xt]=Nn,$e.push(xt),!ot)continue;Ht!==((Ve=yn.default)!==null&&Ve!==void 0?Ve:0)&&(ot=!1)}else if(Le(xt))Je[xt]=Nn,ct=!0;else if((M==null?void 0:M.isHydrated)&&(k==null?void 0:k.isHydrated)&&st[xt]){var _n=st[xt].process(Ht,k,M),Qt=st[xt].applyTo;if(Qt)for(var Un=Qt.length,Pn=0;Pn<Un;Pn++)De[Qt[Pn]]=_n;else De[xt]=_n}else De[xt]=Nn}k&&M&&re&&ae?(De.transform=re(k.deltaFinal,k.treeScale,Ge?Ye:void 0),Y&&(De.transform=Y(Ye,De.transform)),De.transformOrigin=ae(k)):(Ge&&(De.transform=Ee(_,z,ot,Y)),ct&&(De.transformOrigin=Oe(Je)))}var Et=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Lt(_,C,M){for(var k in C)!xe(C[k])&&!Pe(k,M)&&(_[k]=C[k])}function lt(_,C,M){var k=_.transformTemplate;return r.useMemo(function(){var z=Et();Vt(z,C,void 0,void 0,{enableHardwareAcceleration:!M},k);var Y=z.vars,re=z.style;return n.__assign(n.__assign({},Y),re)},[C])}function Ft(_,C,M){var k=_.style||{},z={};return Lt(z,k,_),Object.assign(z,lt(_,C,M)),_.transformValues&&(z=_.transformValues(z)),z}function mn(_,C,M){var k={},z=Ft(_,C,M);return Boolean(_.drag)&&(k.draggable=!1,z.userSelect=z.WebkitUserSelect=z.WebkitTouchCallout="none",z.touchAction=_.drag===!0?"none":"pan-"+(_.drag==="x"?"y":"x")),k.style=z,k}var en=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function jn(_){return en.has(_)}var jr=function(_){return!jn(_)};try{var Ii=require("@emotion/is-prop-valid").default;jr=function(_){return _.startsWith("on")?!jn(_):Ii(_)}}catch{}function xn(_,C,M){var k={};for(var z in _)(jr(z)||M===!0&&jn(z)||!C&&!jn(z))&&(k[z]=_[z]);return k}function cr(_,C,M){return typeof _=="string"?_:s.px.transform(C+M*_)}function Yi(_,C,M){var k=cr(C,_.x,_.width),z=cr(M,_.y,_.height);return k+" "+z}var Ss=function(_,C){return s.px.transform(_*C)},Nl={offset:"stroke-dashoffset",array:"stroke-dasharray"},Pc={offset:"strokeDashoffset",array:"strokeDasharray"};function Du(_,C,M,k,z,Y){k===void 0&&(k=1),z===void 0&&(z=0),Y===void 0&&(Y=!0);var re=Y?Nl:Pc;_[re.offset]=Ss(-z,C);var ae=Ss(M,C),Ve=Ss(k,C);_[re.array]=ae+" "+Ve}function Ka(_,C,M,k,z,Y,re,ae){var Ve=C.attrX,De=C.attrY,Me=C.originX,Ye=C.originY,$e=C.pathLength,Je=C.pathSpacing,Ge=Je===void 0?1:Je,ct=C.pathOffset,ot=ct===void 0?0:ct,xt=n.__rest(C,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Vt(_,xt,M,k,z,Y,re,ae),_.attrs=_.style,_.style={};var Ht=_.attrs,yn=_.style,Nn=_.dimensions,_n=_.totalPathLength;Ht.transform&&(Nn&&(yn.transform=Ht.transform),delete Ht.transform),Nn&&(Me!==void 0||Ye!==void 0||yn.transform)&&(yn.transformOrigin=Yi(Nn,Me!==void 0?Me:.5,Ye!==void 0?Ye:.5)),Ve!==void 0&&(Ht.x=Ve),De!==void 0&&(Ht.y=De),_n!==void 0&&$e!==void 0&&Du(Ht,_n,$e,Ge,ot,!1)}var ie=function(){return n.__assign(n.__assign({},Et()),{attrs:{}})};function Te(_,C){var M=r.useMemo(function(){var z=ie();return Ka(z,C,void 0,void 0,{enableHardwareAcceleration:!1},_.transformTemplate),n.__assign(n.__assign({},z.attrs),{style:n.__assign({},z.style)})},[C]);if(_.style){var k={};Lt(k,_.style,_),M.style=n.__assign(n.__assign({},k),M.style)}return M}function Fe(_){_===void 0&&(_=!1);var C=function(M,k,z,Y,re){var ae=Y.latestValues,Ve=ze(M)?Te:mn,De=Ve(k,ae,re),Me=xn(k,typeof M=="string",_),Ye=n.__assign(n.__assign(n.__assign({},Me),De),{ref:z});return e(M,Qn({},Ye))};return C}var ce=/([a-z])([A-Z])/g,ge="$1-$2",dt=function(_){return _.replace(ce,ge).toLowerCase()};function bt(_,C){var M=C.style,k=C.vars;Object.assign(_.style,M);for(var z in k)_.style.setProperty(z,k[z])}var Dt=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function Wt(_,C){bt(_,C);for(var M in C.attrs)_.setAttribute(Dt.has(M)?M:dt(M),C.attrs[M])}function Yt(_){var C=_.style,M={};for(var k in C)(xe(C[k])||Pe(k,_))&&(M[k]=C[k]);return M}function tn(_){var C=Yt(_);for(var M in _)if(xe(_[M])){var k=M==="x"||M==="y"?"attr"+M.toUpperCase():M;C[k]=_[M]}return C}function gn(_){return typeof _=="object"&&typeof _.start=="function"}var Zn=function(_){return Array.isArray(_)},Ol=function(_){return Boolean(_&&typeof _=="object"&&_.mix&&_.toValue)},kc=function(_){return Zn(_)?_[_.length-1]||0:_};function Fl(_){var C=xe(_)?_.get():_;return Ol(C)?C.toValue():C}function ho(_,C,M,k){var z=_.scrapeMotionValuesFromProps,Y=_.createRenderState,re=_.onMount,ae={latestValues:Vo(C,M,k,z),renderState:Y()};return re&&(ae.mount=function(Ve){return re(C,Ve,ae)}),ae}var Cn=function(_){return function(C,M){var k=r.useContext(E),z=r.useContext(L);return M?ho(_,C,k,z):R(function(){return ho(_,C,k,z)})}};function Vo(_,C,M,k){var z={},Y=(M==null?void 0:M.initial)===!1,re=k(_);for(var ae in re)z[ae]=Fl(re[ae]);var Ve=_.initial,De=_.animate,Me=Ae(_),Ye=Ne(_);C&&Ye&&!Me&&_.inherit!==!1&&(Ve!=null||(Ve=C.initial),De!=null||(De=C.animate));var $e=Y||Ve===!1?De:Ve;if($e&&typeof $e!="boolean"&&!gn($e)){var Je=Array.isArray($e)?$e:[$e];Je.forEach(function(Ge){var ct=oe(_,Ge);if(!!ct){var ot=ct.transitionEnd;ct.transition;var xt=n.__rest(ct,["transitionEnd","transition"]);for(var Ht in xt)z[Ht]=xt[Ht];for(var Ht in ot)z[Ht]=ot[Ht]}})}return z}var gr={useVisualState:Cn({scrapeMotionValuesFromProps:tn,createRenderState:ie,onMount:function(_,C,M){var k=M.renderState,z=M.latestValues;try{k.dimensions=typeof C.getBBox=="function"?C.getBBox():C.getBoundingClientRect()}catch{k.dimensions={x:0,y:0,width:0,height:0}}Hs(C)&&(k.totalPathLength=C.getTotalLength()),Ka(k,z,void 0,void 0,{enableHardwareAcceleration:!1},_.transformTemplate),Wt(C,k)}})};function Hs(_){return _.tagName==="path"}var Xa={useVisualState:Cn({scrapeMotionValuesFromProps:Yt,createRenderState:Et})};function va(_,C,M,k){var z=C.forwardMotionProps,Y=z===void 0?!1:z,re=ze(_)?gr:Xa;return n.__assign(n.__assign({},re),{preloadedFeatures:M,useRender:Fe(Y),createVisualElement:k,Component:_})}var $n;(function(_){_.Animate="animate",_.Hover="whileHover",_.Tap="whileTap",_.Drag="whileDrag",_.Focus="whileFocus",_.Exit="exit"})($n||($n={}));function qn(_,C,M,k){return _.addEventListener(C,M,k),function(){return _.removeEventListener(C,M,k)}}function Rn(_,C,M,k){r.useEffect(function(){var z=_.current;if(M&&z)return qn(z,C,M,k)},[_,C,M,k])}function Kn(_){var C=_.whileFocus,M=_.visualElement,k=function(){var Y;(Y=M.animationState)===null||Y===void 0||Y.setActive($n.Focus,!0)},z=function(){var Y;(Y=M.animationState)===null||Y===void 0||Y.setActive($n.Focus,!1)};Rn(M,"focus",C?k:void 0),Rn(M,"blur",C?z:void 0)}function qr(_){return typeof PointerEvent!="undefined"&&_ instanceof PointerEvent?_.pointerType==="mouse":_ instanceof MouseEvent}function Mi(_){var C=!!_.touches;return C}function Gs(_){return function(C){var M=C instanceof MouseEvent,k=!M||M&&C.button===0;k&&_(C)}}var Nu={pageX:0,pageY:0};function ef(_,C){C===void 0&&(C="page");var M=_.touches[0]||_.changedTouches[0],k=M||Nu;return{x:k[C+"X"],y:k[C+"Y"]}}function js(_,C){return C===void 0&&(C="page"),{x:_[C+"X"],y:_[C+"Y"]}}function tf(_,C){return C===void 0&&(C="page"),{point:Mi(_)?ef(_,C):js(_,C)}}function OT(_){return tf(_,"client")}var Nx=function(_,C){C===void 0&&(C=!1);var M=function(k){return _(k,tf(k))};return C?Gs(M):M},xv=function(){return W&&window.onpointerdown===null},FT=function(){return W&&window.ontouchstart===null},ya=function(){return W&&window.onmousedown===null},qL={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},KL={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function BT(_){return xv()?_:FT()?KL[_]:ya()?qL[_]:_}function Bl(_,C,M,k){return qn(_,BT(C),Nx(M,C==="pointerdown"),k)}function Ou(_,C,M,k){return Rn(_,BT(C),M&&Nx(M,C==="pointerdown"),k)}function nf(_){var C=null;return function(){var M=function(){C=null};return C===null?(C=_,M):!1}}var mp=nf("dragHorizontal"),$T=nf("dragVertical");function UT(_){var C=!1;if(_==="y")C=$T();else if(_==="x")C=mp();else{var M=mp(),k=$T();M&&k?C=function(){M(),k()}:(M&&M(),k&&k())}return C}function wv(){var _=UT(!0);return _?(_(),!1):!0}function bv(_,C,M){return function(k,z){var Y;!qr(k)||wv()||(M==null||M(k,z),(Y=_.animationState)===null||Y===void 0||Y.setActive($n.Hover,C))}}function gp(_){var C=_.onHoverStart,M=_.onHoverEnd,k=_.whileHover,z=_.visualElement;Ou(z,"pointerenter",C||k?bv(z,!0,C):void 0),Ou(z,"pointerleave",M||k?bv(z,!1,M):void 0)}var zT=function(_,C){return C?_===C?!0:zT(_,C.parentElement):!1};function vp(_){return r.useEffect(function(){return function(){return _()}},[])}function On(_){var C=_.onTap,M=_.onTapStart,k=_.onTapCancel,z=_.whileTap,Y=_.visualElement,re=C||M||k||z,ae=r.useRef(!1),Ve=r.useRef(null);function De(){var Ge;(Ge=Ve.current)===null||Ge===void 0||Ge.call(Ve),Ve.current=null}function Me(){var Ge;return De(),ae.current=!1,(Ge=Y.animationState)===null||Ge===void 0||Ge.setActive($n.Tap,!1),!wv()}function Ye(Ge,ct){!Me()||(zT(Y.getInstance(),Ge.target)?C==null||C(Ge,ct):k==null||k(Ge,ct))}function $e(Ge,ct){!Me()||k==null||k(Ge,ct)}function Je(Ge,ct){var ot;De(),!ae.current&&(ae.current=!0,Ve.current=o.pipe(Bl(window,"pointerup",Ye),Bl(window,"pointercancel",$e)),M==null||M(Ge,ct),(ot=Y.animationState)===null||ot===void 0||ot.setActive($n.Tap,!0))}Ou(Y,"pointerdown",re?Je:void 0),vp(De)}var Lc=function(_){return function(C){return _(C),null}},Sv={tap:Lc(On),focus:Lc(Kn),hover:Lc(gp)};function Ox(_,C){if(!Array.isArray(C))return!1;var M=C.length;if(M!==_.length)return!1;for(var k=0;k<M;k++)if(C[k]!==_[k])return!1;return!0}var Cv=function(_){return _*1e3},VT={linear:o.linear,easeIn:o.easeIn,easeInOut:o.easeInOut,easeOut:o.easeOut,circIn:o.circIn,circInOut:o.circInOut,circOut:o.circOut,backIn:o.backIn,backInOut:o.backInOut,backOut:o.backOut,anticipate:o.anticipate,bounceIn:o.bounceIn,bounceInOut:o.bounceInOut,bounceOut:o.bounceOut},si=function(_){if(Array.isArray(_)){i.invariant(_.length===4,"Cubic bezier arrays must contain four numerical values.");var C=n.__read(_,4),M=C[0],k=C[1],z=C[2],Y=C[3];return o.cubicBezier(M,k,z,Y)}else if(typeof _=="string")return i.invariant(VT[_]!==void 0,"Invalid easing type '"+_+"'"),VT[_];return _},Fx=function(_){return Array.isArray(_)&&typeof _[0]!="number"},WT=function(_,C){return _==="zIndex"?!1:!!(typeof C=="number"||Array.isArray(C)||typeof C=="string"&&s.complex.test(C)&&!C.startsWith("url("))},$l=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},Tv=function(_){return{type:"spring",stiffness:550,damping:_===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},rf=function(){return{type:"keyframes",ease:"linear",duration:.3}},Ya=function(_){return{type:"keyframes",duration:.8,values:_}},HT={x:$l,y:$l,z:$l,rotate:$l,rotateX:$l,rotateY:$l,rotateZ:$l,scaleX:Tv,scaleY:Tv,scale:Tv,opacity:rf,backgroundColor:rf,color:rf,default:Tv},XL=function(_,C){var M;return Zn(C)?M=Ya:M=HT[_]||HT.default,n.__assign({to:C},M(C))},Qa=n.__assign(n.__assign({},et),{color:s.color,backgroundColor:s.color,outlineColor:s.color,fill:s.color,stroke:s.color,borderColor:s.color,borderTopColor:s.color,borderRightColor:s.color,borderBottomColor:s.color,borderLeftColor:s.color,filter:s.filter,WebkitFilter:s.filter}),_a=function(_){return Qa[_]};function sf(_,C){var M,k=_a(_);return k!==s.filter&&(k=s.complex),(M=k.getAnimatableNone)===null||M===void 0?void 0:M.call(k,C)}function Bx(_){_.when,_.delay,_.delayChildren,_.staggerChildren,_.staggerDirection,_.repeat,_.repeatType,_.repeatDelay,_.from;var C=n.__rest(_,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(C).length}var $x=!1;function YL(_){var C=_.ease,M=_.times,k=_.yoyo,z=_.flip,Y=_.loop,re=n.__rest(_,["ease","times","yoyo","flip","loop"]),ae=n.__assign({},re);return M&&(ae.offset=M),re.duration&&(ae.duration=Cv(re.duration)),re.repeatDelay&&(ae.repeatDelay=Cv(re.repeatDelay)),C&&(ae.ease=Fx(C)?C.map(si):si(C)),re.type==="tween"&&(ae.type="keyframes"),(k||Y||z)&&(i.warning(!$x,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),$x=!0,k?ae.repeatType="reverse":Y?ae.repeatType="loop":z&&(ae.repeatType="mirror"),ae.repeat=Y||k||z||re.repeat),re.type!=="spring"&&(ae.type="keyframes"),ae}function Ja(_,C){var M,k=Fu(_,C)||{};return(M=k.delay)!==null&&M!==void 0?M:0}function QL(_){return Array.isArray(_.to)&&_.to[0]===null&&(_.to=n.__spreadArray([],n.__read(_.to)),_.to[0]=_.from),_}function Ev(_,C,M){var k;return Array.isArray(C.to)&&((k=_.duration)!==null&&k!==void 0||(_.duration=.8)),QL(C),Bx(_)||(_=n.__assign(n.__assign({},_),XL(M,C.to))),n.__assign(n.__assign({},C),YL(_))}function JL(_,C,M,k,z){var Y,re=Fu(k,_),ae=(Y=re.from)!==null&&Y!==void 0?Y:C.get(),Ve=WT(_,M);ae==="none"&&Ve&&typeof M=="string"?ae=sf(_,M):Wo(ae)&&typeof M=="string"?ae=yp(M):!Array.isArray(M)&&Wo(M)&&typeof ae=="string"&&(M=yp(ae));var De=WT(_,ae);i.warning(De===Ve,"You are trying to animate "+_+' from "'+ae+'" to "'+M+'". '+ae+" is not an animatable value - to enable this animation set "+ae+" to a value animatable to "+M+" via the `style` property.");function Me(){var $e={from:ae,to:M,velocity:C.getVelocity(),onComplete:z,onUpdate:function(Je){return C.set(Je)}};return re.type==="inertia"||re.type==="decay"?o.inertia(n.__assign(n.__assign({},$e),re)):o.animate(n.__assign(n.__assign({},Ev(re,$e,_)),{onUpdate:function(Je){var Ge;$e.onUpdate(Je),(Ge=re.onUpdate)===null||Ge===void 0||Ge.call(re,Je)},onComplete:function(){var Je;$e.onComplete(),(Je=re.onComplete)===null||Je===void 0||Je.call(re)}}))}function Ye(){var $e;return C.set(M),z(),($e=re==null?void 0:re.onComplete)===null||$e===void 0||$e.call(re),{stop:function(){}}}return!De||!Ve||re.type===!1?Ye:Me}function Wo(_){return _===0||typeof _=="string"&&parseFloat(_)===0&&_.indexOf(" ")===-1}function yp(_){return typeof _=="number"?0:sf("",_)}function Fu(_,C){return _[C]||_.default||_}function Za(_,C,M,k){return k===void 0&&(k={}),C.start(function(z){var Y,re,ae=JL(_,C,M,k,z),Ve=Ja(k,_),De=function(){return re=ae()};return Ve?Y=setTimeout(De,Cv(Ve)):De(),function(){clearTimeout(Y),re==null||re.stop()}})}var Ux=function(_){return/^\-?\d*\.?\d+$/.test(_)};function Iv(_,C){_.indexOf(C)===-1&&_.push(C)}function zx(_,C){var M=_.indexOf(C);M>-1&&_.splice(M,1)}var of=function(){function _(){this.subscriptions=[]}return _.prototype.add=function(C){var M=this;return Iv(this.subscriptions,C),function(){return zx(M.subscriptions,C)}},_.prototype.notify=function(C,M,k){var z=this.subscriptions.length;if(!!z)if(z===1)this.subscriptions[0](C,M,k);else for(var Y=0;Y<z;Y++){var re=this.subscriptions[Y];re&&re(C,M,k)}},_.prototype.getSize=function(){return this.subscriptions.length},_.prototype.clear=function(){this.subscriptions.length=0},_}(),Vx=function(_){return!isNaN(parseFloat(_))},Bu=function(){function _(C){var M=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new of,this.velocityUpdateSubscribers=new of,this.renderSubscribers=new of,this.canTrackVelocity=!1,this.updateAndNotify=function(k,z){z===void 0&&(z=!0),M.prev=M.current,M.current=k;var Y=a.getFrameData(),re=Y.delta,ae=Y.timestamp;M.lastUpdated!==ae&&(M.timeDelta=re,M.lastUpdated=ae,f.default.postRender(M.scheduleVelocityCheck)),M.prev!==M.current&&M.updateSubscribers.notify(M.current),M.velocityUpdateSubscribers.getSize()&&M.velocityUpdateSubscribers.notify(M.getVelocity()),z&&M.renderSubscribers.notify(M.current)},this.scheduleVelocityCheck=function(){return f.default.postRender(M.velocityCheck)},this.velocityCheck=function(k){var z=k.timestamp;z!==M.lastUpdated&&(M.prev=M.current,M.velocityUpdateSubscribers.notify(M.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=C,this.canTrackVelocity=Vx(this.current)}return _.prototype.onChange=function(C){return this.updateSubscribers.add(C)},_.prototype.clearListeners=function(){this.updateSubscribers.clear()},_.prototype.onRenderRequest=function(C){return C(this.get()),this.renderSubscribers.add(C)},_.prototype.attach=function(C){this.passiveEffect=C},_.prototype.set=function(C,M){M===void 0&&(M=!0),!M||!this.passiveEffect?this.updateAndNotify(C,M):this.passiveEffect(C,this.updateAndNotify)},_.prototype.get=function(){return this.current},_.prototype.getPrevious=function(){return this.prev},_.prototype.getVelocity=function(){return this.canTrackVelocity?o.velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},_.prototype.start=function(C){var M=this;return this.stop(),new Promise(function(k){M.hasAnimated=!0,M.stopAnimation=C(k)}).then(function(){return M.clearAnimation()})},_.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},_.prototype.isAnimating=function(){return!!this.stopAnimation},_.prototype.clearAnimation=function(){this.stopAnimation=null},_.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},_}();function or(_){return new Bu(_)}var xa=function(_){return function(C){return C.test(_)}},Dc={test:function(_){return _==="auto"},parse:function(_){return _}},Mv=[s.number,s.px,s.percent,s.degrees,s.vw,s.vh,Dc],_p=function(_){return Mv.find(xa(_))},Ul=n.__spreadArray(n.__spreadArray([],n.__read(Mv)),[s.color,s.complex]),Nc=function(_){return Ul.find(xa(_))};function Av(_,C,M){_.hasValue(C)?_.getValue(C).set(M):_.addValue(C,or(M))}function Rv(_,C){var M=He(_,C),k=M?_.makeTargetAnimatable(M,!1):{},z=k.transitionEnd,Y=z===void 0?{}:z;k.transition;var re=n.__rest(k,["transitionEnd","transition"]);re=n.__assign(n.__assign({},re),Y);for(var ae in re){var Ve=kc(re[ae]);Av(_,ae,Ve)}}function af(_,C){var M=n.__spreadArray([],n.__read(C)).reverse();M.forEach(function(k){var z,Y=_.getVariant(k);Y&&Rv(_,Y),(z=_.variantChildren)===null||z===void 0||z.forEach(function(re){af(re,C)})})}function GT(_,C){if(Array.isArray(C))return af(_,C);if(typeof C=="string")return af(_,[C]);Rv(_,C)}function Wx(_,C,M){var k,z,Y,re,ae=Object.keys(C).filter(function(Je){return!_.hasValue(Je)}),Ve=ae.length;if(!!Ve)for(var De=0;De<Ve;De++){var Me=ae[De],Ye=C[Me],$e=null;Array.isArray(Ye)&&($e=Ye[0]),$e===null&&($e=(z=(k=M[Me])!==null&&k!==void 0?k:_.readValue(Me))!==null&&z!==void 0?z:C[Me]),$e!=null&&(typeof $e=="string"&&Ux($e)?$e=parseFloat($e):!Nc($e)&&s.complex.test(Ye)&&($e=sf(Me,Ye)),_.addValue(Me,or($e)),(Y=(re=M)[Me])!==null&&Y!==void 0||(re[Me]=$e),_.setBaseTarget(Me,$e))}}function Hx(_,C){if(!!C){var M=C[_]||C.default||C;return M.from}}function xp(_,C,M){var k,z,Y={};for(var re in _)Y[re]=(k=Hx(re,C))!==null&&k!==void 0?k:(z=M.getValue(re))===null||z===void 0?void 0:z.get();return Y}function wp(_,C,M){M===void 0&&(M={}),_.notifyAnimationStart();var k;if(Array.isArray(C)){var z=C.map(function(re){return Pv(_,re,M)});k=Promise.all(z)}else if(typeof C=="string")k=Pv(_,C,M);else{var Y=typeof C=="function"?He(_,C,M.custom):C;k=Gx(_,Y,M)}return k.then(function(){return _.notifyAnimationComplete(C)})}function Pv(_,C,M){var k;M===void 0&&(M={});var z=He(_,C,M.custom),Y=(z||{}).transition,re=Y===void 0?_.getDefaultTransition()||{}:Y;M.transitionOverride&&(re=M.transitionOverride);var ae=z?function(){return Gx(_,z,M)}:function(){return Promise.resolve()},Ve=!((k=_.variantChildren)===null||k===void 0)&&k.size?function(Je){Je===void 0&&(Je=0);var Ge=re.delayChildren,ct=Ge===void 0?0:Ge,ot=re.staggerChildren,xt=re.staggerDirection;return jx(_,C,ct+Je,ot,xt,M)}:function(){return Promise.resolve()},De=re.when;if(De){var Me=n.__read(De==="beforeChildren"?[ae,Ve]:[Ve,ae],2),Ye=Me[0],$e=Me[1];return Ye().then($e)}else return Promise.all([ae(),Ve(M.delay)])}function Gx(_,C,M){var k,z=M===void 0?{}:M,Y=z.delay,re=Y===void 0?0:Y,ae=z.transitionOverride,Ve=z.type,De=_.makeTargetAnimatable(C),Me=De.transition,Ye=Me===void 0?_.getDefaultTransition():Me,$e=De.transitionEnd,Je=n.__rest(De,["transition","transitionEnd"]);ae&&(Ye=ae);var Ge=[],ct=Ve&&((k=_.animationState)===null||k===void 0?void 0:k.getState()[Ve]);for(var ot in Je){var xt=_.getValue(ot),Ht=Je[ot];if(!(!xt||Ht===void 0||ct&&kv(ct,ot))){var yn=Za(ot,xt,Ht,n.__assign({delay:re},Ye));Ge.push(yn)}}return Promise.all(Ge).then(function(){$e&&Rv(_,$e)})}function jx(_,C,M,k,z,Y){M===void 0&&(M=0),k===void 0&&(k=0),z===void 0&&(z=1);var re=[],ae=(_.variantChildren.size-1)*k,Ve=z===1?function(De){return De===void 0&&(De=0),De*k}:function(De){return De===void 0&&(De=0),ae-De*k};return Array.from(_.variantChildren).sort(cf).forEach(function(De,Me){re.push(Pv(De,C,n.__assign(n.__assign({},Y),{delay:M+Ve(Me)})).then(function(){return De.notifyAnimationComplete(C)}))}),Promise.all(re)}function lf(_){_.forEachValue(function(C){return C.stop()})}function cf(_,C){return _.sortNodePosition(C)}function kv(_,C){var M=_.protectedKeys,k=_.needsAnimating,z=M.hasOwnProperty(C)&&k[C]!==!0;return k[C]=!1,z}var uf=[$n.Animate,$n.Hover,$n.Tap,$n.Drag,$n.Focus,$n.Exit],Ho=n.__spreadArray([],n.__read(uf)).reverse(),Go=uf.length;function $u(_){return function(C){return Promise.all(C.map(function(M){var k=M.animation,z=M.options;return wp(_,k,z)}))}}function zl(_){var C=$u(_),M=jT(),k={},z=!0,Y=function(Me,Ye){var $e=He(_,Ye);if($e){$e.transition;var Je=$e.transitionEnd,Ge=n.__rest($e,["transition","transitionEnd"]);Me=n.__assign(n.__assign(n.__assign({},Me),Ge),Je)}return Me};function re(Me){return k[Me]!==void 0}function ae(Me){C=Me(_)}function Ve(Me,Ye){for(var $e,Je=_.getProps(),Ge=_.getVariantContext(!0)||{},ct=[],ot=new Set,xt={},Ht=1/0,yn=function(Un){var Pn=Ho[Un],fn=M[Pn],Qr=($e=Je[Pn])!==null&&$e!==void 0?$e:Ge[Pn],es=de(Qr),rl=Pn===Ye?fn.isActive:null;rl===!1&&(Ht=Un);var Qs=Qr===Ge[Pn]&&Qr!==Je[Pn]&&es;if(Qs&&z&&_.manuallyAnimateOnMount&&(Qs=!1),fn.protectedKeys=n.__assign({},xt),!fn.isActive&&rl===null||!Qr&&!fn.prevProp||gn(Qr)||typeof Qr=="boolean")return"continue";var Li=Vl(fn.prevProp,Qr)||Pn===Ye&&fn.isActive&&!Qs&&es||Un>Ht&&es,Ku=Array.isArray(Qr)?Qr:[Qr],h=Ku.reduce(Y,{});rl===!1&&(h={});var m=fn.prevResolvedValues,S=m===void 0?{}:m,I=n.__assign(n.__assign({},S),h),D=function(je){Li=!0,ot.delete(je),fn.needsAnimating[je]=!0};for(var $ in I){var se=h[$],be=S[$];xt.hasOwnProperty($)||(se!==be?Zn(se)&&Zn(be)?Ox(se,be)?fn.protectedKeys[$]=!0:D($):se!==void 0?D($):ot.add($):se!==void 0&&ot.has($)?D($):fn.protectedKeys[$]=!0)}fn.prevProp=Qr,fn.prevResolvedValues=h,fn.isActive&&(xt=n.__assign(n.__assign({},xt),h)),z&&_.blockInitialAnimation&&(Li=!1),Li&&!Qs&&ct.push.apply(ct,n.__spreadArray([],n.__read(Ku.map(function(je){return{animation:je,options:n.__assign({type:Pn},Me)}}))))},Nn=0;Nn<Go;Nn++)yn(Nn);if(k=n.__assign({},xt),ot.size){var _n={};ot.forEach(function(Un){var Pn=_.getBaseTarget(Un);Pn!==void 0&&(_n[Un]=Pn)}),ct.push({animation:_n})}var Qt=Boolean(ct.length);return z&&Je.initial===!1&&!_.manuallyAnimateOnMount&&(Qt=!1),z=!1,Qt?C(ct):Promise.resolve()}function De(Me,Ye,$e){var Je;return M[Me].isActive===Ye?Promise.resolve():((Je=_.variantChildren)===null||Je===void 0||Je.forEach(function(Ge){var ct;return(ct=Ge.animationState)===null||ct===void 0?void 0:ct.setActive(Me,Ye)}),M[Me].isActive=Ye,Ve($e,Me))}return{isAnimated:re,animateChanges:Ve,setActive:De,setAnimateFunction:ae,getState:function(){return M}}}function Vl(_,C){return typeof C=="string"?C!==_:J(C)?!Ox(C,_):!1}function jo(_){return _===void 0&&(_=!1),{isActive:_,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jT(){var _;return _={},_[$n.Animate]=jo(!0),_[$n.Hover]=jo(),_[$n.Tap]=jo(),_[$n.Drag]=jo(),_[$n.Focus]=jo(),_[$n.Exit]=jo(),_}var Lv={animation:Lc(function(_){var C=_.visualElement,M=_.animate;C.animationState||(C.animationState=zl(C)),gn(M)&&r.useEffect(function(){return M.subscribe(C)},[M])}),exit:Lc(function(_){var C=_.custom,M=_.visualElement,k=n.__read(F(),2),z=k[0],Y=k[1],re=r.useContext(L);r.useEffect(function(){var ae,Ve,De=(ae=M.animationState)===null||ae===void 0?void 0:ae.setActive($n.Exit,!z,{custom:(Ve=re==null?void 0:re.custom)!==null&&Ve!==void 0?Ve:C});!z&&(De==null||De.then(Y))},[z])})},Dv=function(){function _(C,M,k){var z=this,Y=k===void 0?{}:k,re=Y.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(z.lastMoveEvent&&z.lastMoveEventInfo)){var $e=ur(z.lastMoveEventInfo,z.history),Je=z.startEvent!==null,Ge=o.distance($e.offset,{x:0,y:0})>=3;if(!(!Je&&!Ge)){var ct=$e.point,ot=a.getFrameData().timestamp;z.history.push(n.__assign(n.__assign({},ct),{timestamp:ot}));var xt=z.handlers,Ht=xt.onStart,yn=xt.onMove;Je||(Ht&&Ht(z.lastMoveEvent,$e),z.startEvent=z.lastMoveEvent),yn&&yn(z.lastMoveEvent,$e)}}},this.handlePointerMove=function($e,Je){if(z.lastMoveEvent=$e,z.lastMoveEventInfo=Cs(Je,z.transformPagePoint),qr($e)&&$e.buttons===0){z.handlePointerUp($e,Je);return}f.default.update(z.updatePoint,!0)},this.handlePointerUp=function($e,Je){z.end();var Ge=z.handlers,ct=Ge.onEnd,ot=Ge.onSessionEnd,xt=ur(Cs(Je,z.transformPagePoint),z.history);z.startEvent&&ct&&ct($e,xt),ot&&ot($e,xt)},!(Mi(C)&&C.touches.length>1)){this.handlers=M,this.transformPagePoint=re;var ae=tf(C),Ve=Cs(ae,this.transformPagePoint),De=Ve.point,Me=a.getFrameData().timestamp;this.history=[n.__assign(n.__assign({},De),{timestamp:Me})];var Ye=M.onSessionStart;Ye&&Ye(C,ur(Ve,this.history)),this.removeListeners=o.pipe(Bl(window,"pointermove",this.handlePointerMove),Bl(window,"pointerup",this.handlePointerUp),Bl(window,"pointercancel",this.handlePointerUp))}}return _.prototype.updateHandlers=function(C){this.handlers=C},_.prototype.end=function(){this.removeListeners&&this.removeListeners(),a.cancelSync.update(this.updatePoint)},_}();function Cs(_,C){return C?{point:C(_.point)}:_}function qs(_,C){return{x:_.x-C.x,y:_.y-C.y}}function ur(_,C){var M=_.point;return{point:M,delta:qs(M,qo(C)),offset:qs(M,bp(C)),velocity:qT(C,.1)}}function bp(_){return _[0]}function qo(_){return _[_.length-1]}function qT(_,C){if(_.length<2)return{x:0,y:0};for(var M=_.length-1,k=null,z=qo(_);M>=0&&(k=_[M],!(z.timestamp-k.timestamp>Cv(C)));)M--;if(!k)return{x:0,y:0};var Y=(z.timestamp-k.timestamp)/1e3;if(Y===0)return{x:0,y:0};var re={x:(z.x-k.x)/Y,y:(z.y-k.y)/Y};return re.x===1/0&&(re.x=0),re.y===1/0&&(re.y=0),re}function KT(_){return _}function Nv(_){var C=_.top,M=_.left,k=_.right,z=_.bottom;return{x:{min:M,max:k},y:{min:C,max:z}}}function qx(_){var C=_.x,M=_.y;return{top:M.min,bottom:M.max,left:C.min,right:C.max}}function XT(_,C){var M=_.top,k=_.left,z=_.bottom,Y=_.right;C===void 0&&(C=KT);var re=C({x:k,y:M}),ae=C({x:Y,y:z});return{top:re.y,left:re.x,bottom:ae.y,right:ae.x}}function po(){return{x:{min:0,max:1},y:{min:0,max:1}}}function df(_){return{x:n.__assign({},_.x),y:n.__assign({},_.y)}}var Ov={translate:0,scale:1,origin:0,originPoint:0};function ff(){return{x:n.__assign({},Ov),y:n.__assign({},Ov)}}function Ai(_){return[_("x"),_("y")]}var YT=function(_){return o.clamp(0,1,_)};function Kx(_,C,M){return C===void 0&&(C=0),M===void 0&&(M=.01),o.distance(_,C)<M}function el(_){return _.max-_.min}function QT(_,C){var M=.5,k=el(_),z=el(C);return z>k?M=o.progress(C.min,C.max-k,_.min):k>z&&(M=o.progress(_.min,_.max-z,C.min)),YT(M)}function hf(_,C,M,k){k===void 0&&(k=.5),_.origin=k,_.originPoint=o.mix(C.min,C.max,_.origin),_.scale=el(M)/el(C),Kx(_.scale,1,1e-4)&&(_.scale=1),_.translate=o.mix(M.min,M.max,_.origin)-_.originPoint,Kx(_.translate)&&(_.translate=0)}function mo(_,C,M,k){hf(_.x,C.x,M.x,pf(k.originX)),hf(_.y,C.y,M.y,pf(k.originY))}function pf(_){return typeof _=="number"?_:.5}function Uu(_,C,M){_.min=M.min+C.min,_.max=_.min+el(C)}function tl(_,C){Uu(_.target.x,_.relativeTarget.x,C.target.x),Uu(_.target.y,_.relativeTarget.y,C.target.y)}function Fv(_,C,M){var k=C.min,z=C.max;return k!==void 0&&_<k?_=M?o.mix(k,_,M.min):Math.max(_,k):z!==void 0&&_>z&&(_=M?o.mix(z,_,M.max):Math.min(_,z)),_}function mf(_,C,M,k,z){var Y=_-C*M;return k?Fv(Y,k,z):Y}function Xx(_,C,M){return{min:C!==void 0?_.min+C:void 0,max:M!==void 0?_.max+M-(_.max-_.min):void 0}}function Yx(_,C){var M=C.top,k=C.left,z=C.bottom,Y=C.right;return{x:Xx(_.x,k,Y),y:Xx(_.y,M,z)}}function vr(_,C){var M,k=C.min-_.min,z=C.max-_.max;return C.max-C.min<_.max-_.min&&(M=n.__read([z,k],2),k=M[0],z=M[1]),{min:_.min+k,max:_.min+z}}function Bv(_,C){return{x:vr(_.x,C.x),y:vr(_.y,C.y)}}function Qx(_,C,M){var k=_.max-_.min,z=o.mix(C.min,C.max-k,M);return{min:z,max:z+k}}function Jx(_,C){var M={};return C.min!==void 0&&(M.min=C.min-_.min),C.max!==void 0&&(M.max=C.max-_.min),M}var Sp=.35;function Ko(_){return _===!1?_=0:_===!0&&(_=Sp),{x:zu(_,"left","right"),y:zu(_,"top","bottom")}}function zu(_,C,M){return{min:Sr(_,C),max:Sr(_,M)}}function Sr(_,C){var M;return typeof _=="number"?_:(M=_[C])!==null&&M!==void 0?M:0}function Ri(_,C){var M=_.getBoundingClientRect();return Nv(XT(M,C))}var Kr=function(_,C){return _.depth-C.depth};function Cp(_){var C=_.projection.isEnabled;return C||_.shouldResetTransform()}function Oc(_,C){C===void 0&&(C=[]);var M=_.parent;return M&&Oc(M,C),Cp(_)&&C.push(_),C}function Tp(_){var C=[],M=function(k){Cp(k)&&C.push(k),k.children.forEach(M)};return _.children.forEach(M),C.sort(Kr)}function $v(_){if(!_.shouldResetTransform()){var C=_.getLayoutState();_.notifyBeforeLayoutMeasure(C.layout),C.isHydrated=!0,C.layout=_.measureViewportBox(),C.layoutCorrected=df(C.layout),_.notifyLayoutMeasure(C.layout,_.prevViewportBox||C.layout),f.default.update(function(){return _.rebaseProjectionTarget()})}}function gi(_){_.shouldResetTransform()||(_.prevViewportBox=_.measureViewportBox(!1),_.rebaseProjectionTarget(!1,_.prevViewportBox))}function Zx(_,C,M,k){_.min=o.mix(C.min,M.min,k),_.max=o.mix(C.max,M.max,k)}function Uv(_,C){return{min:C.min-_.min,max:C.max-_.min}}function Fc(_,C){return{x:Uv(_.x,C.x),y:Uv(_.y,C.y)}}function Wl(_,C){var M=_.getLayoutId(),k=C.getLayoutId();return M!==k||k===void 0&&_!==C}function wa(_){var C=_.getProps(),M=C.drag,k=C._dragX;return M&&!k}function Bc(_,C){_.min=C.min,_.max=C.max}function zv(_,C){Bc(_.x,C.x),Bc(_.y,C.y)}function Vu(_,C,M){var k=_-M,z=C*k;return M+z}function ew(_,C,M,k,z){return z!==void 0&&(_=Vu(_,z,k)),Vu(_,M,k)+C}function Vv(_,C,M,k,z){C===void 0&&(C=0),M===void 0&&(M=1),_.min=ew(_.min,C,M,k,z),_.max=ew(_.max,C,M,k,z)}function JT(_,C){var M=C.x,k=C.y;Vv(_.x,M.translate,M.scale,M.originPoint),Vv(_.y,k.translate,k.scale,k.originPoint)}function tw(_,C,M,k){var z=n.__read(k,3),Y=z[0],re=z[1],ae=z[2];_.min=C.min,_.max=C.max;var Ve=M[ae]!==void 0?M[ae]:.5,De=o.mix(C.min,C.max,Ve);Vv(_,M[Y],M[re],De,M.scale)}var nw=["x","scaleX","originX"],rw=["y","scaleY","originY"];function Ep(_,C,M){tw(_.x,C.x,M,nw),tw(_.y,C.y,M,rw)}function gf(_,C,M,k,z){return _-=C,_=Vu(_,1/M,k),z!==void 0&&(_=Vu(_,1/z,k)),_}function ZT(_,C,M,k,z){C===void 0&&(C=0),M===void 0&&(M=1),k===void 0&&(k=.5);var Y=o.mix(_.min,_.max,k)-C;_.min=gf(_.min,C,M,Y,z),_.max=gf(_.max,C,M,Y,z)}function Ip(_,C,M){var k=n.__read(M,3),z=k[0],Y=k[1],re=k[2];ZT(_,C[z],C[Y],C[re],C.scale)}function Mp(_,C){Ip(_.x,C,nw),Ip(_.y,C,rw)}function iw(_,C,M){var k=M.length;if(!!k){C.x=C.y=1;for(var z,Y,re=0;re<k;re++)z=M[re],Y=z.getLayoutState().delta,C.x*=Y.x.scale,C.y*=Y.y.scale,JT(_,Y),wa(z)&&Ep(_,_,z.getLatestValues())}}function Ap(_,C){C===void 0&&(C=!0);var M=_.getProjectionParent();if(!M)return!1;var k;return C?(k=Fc(M.projection.target,_.projection.target),Mp(k,M.getLatestValues())):k=Fc(M.getLayoutState().layout,_.getLayoutState().layout),Ai(function(z){return _.setProjectionTargetAxis(z,k[z].min,k[z].max,!0)}),!0}var vf=new Set;function sw(_,C,M){_[M]||(_[M]=[]),_[M].push(C)}function Rp(_){return vf.add(_),function(){return vf.delete(_)}}function yf(){if(!!vf.size){var _=0,C=[[]],M=[],k=function(ae){return sw(C,ae,_)},z=function(ae){sw(M,ae,_),_++};vf.forEach(function(ae){ae(k,z),_=0}),vf.clear();for(var Y=M.length,re=0;re<=Y;re++)C[re]&&C[re].forEach(Wv),M[re]&&M[re].forEach(Wv)}}var Wv=function(_){return _()},ow=new WeakMap,aw,ZL=function(){function _(C){var M=C.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=po(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=M,this.visualElement.enableLayoutProjection(),ow.set(M,this)}return _.prototype.start=function(C,M){var k=this,z=M===void 0?{}:M,Y=z.snapToCursor,re=Y===void 0?!1:Y,ae=z.cursorProgress,Ve=function(Je){var Ge;k.stopMotion();var ct=OT(Je).point;(Ge=k.cancelLayout)===null||Ge===void 0||Ge.call(k),k.cancelLayout=Rp(function(ot,xt){var Ht=Oc(k.visualElement),yn=Tp(k.visualElement),Nn=n.__spreadArray(n.__spreadArray([],n.__read(Ht)),n.__read(yn)),_n=!1;k.isLayoutDrag()&&k.visualElement.lockProjectionTarget(),xt(function(){Nn.forEach(function(Qt){return Qt.resetTransform()})}),ot(function(){$v(k.visualElement),yn.forEach($v)}),xt(function(){Nn.forEach(function(Qt){return Qt.restoreTransform()}),re&&(_n=k.snapToCursor(ct))}),ot(function(){var Qt=Boolean(k.getAxisMotionValue("x")&&!k.isExternalDrag());Qt||k.visualElement.rebaseProjectionTarget(!0,k.visualElement.measureViewportBox(!1)),k.visualElement.scheduleUpdateLayoutProjection();var Un=k.visualElement.projection;Ai(function(Pn){if(!_n){var fn=Un.target[Pn],Qr=fn.min,es=fn.max;k.cursorProgress[Pn]=ae?ae[Pn]:o.progress(Qr,es,ct[Pn])}var rl=k.getAxisMotionValue(Pn);rl&&(k.originPoint[Pn]=rl.get())})}),xt(function(){a.flushSync.update(),a.flushSync.preRender(),a.flushSync.render(),a.flushSync.postRender()}),ot(function(){return k.resolveDragConstraints()})})},De=function(Je,Ge){var ct,ot,xt,Ht=k.props,yn=Ht.drag,Nn=Ht.dragPropagation;yn&&!Nn&&(k.openGlobalLock&&k.openGlobalLock(),k.openGlobalLock=UT(yn),!k.openGlobalLock)||(yf(),k.isDragging=!0,k.currentDirection=null,(ot=(ct=k.props).onDragStart)===null||ot===void 0||ot.call(ct,Je,Ge),(xt=k.visualElement.animationState)===null||xt===void 0||xt.setActive($n.Drag,!0))},Me=function(Je,Ge){var ct,ot,xt,Ht,yn=k.props,Nn=yn.dragPropagation,_n=yn.dragDirectionLock;if(!(!Nn&&!k.openGlobalLock)){var Qt=Ge.offset;if(_n&&k.currentDirection===null){k.currentDirection=e2(Qt),k.currentDirection!==null&&((ot=(ct=k.props).onDirectionLock)===null||ot===void 0||ot.call(ct,k.currentDirection));return}k.updateAxis("x",Ge.point,Qt),k.updateAxis("y",Ge.point,Qt),(Ht=(xt=k.props).onDrag)===null||Ht===void 0||Ht.call(xt,Je,Ge),aw=Je}},Ye=function(Je,Ge){return k.stop(Je,Ge)},$e=this.props.transformPagePoint;this.panSession=new Dv(C,{onSessionStart:Ve,onStart:De,onMove:Me,onSessionEnd:Ye},{transformPagePoint:$e})},_.prototype.resolveDragConstraints=function(){var C=this,M=this.props,k=M.dragConstraints,z=M.dragElastic,Y=this.visualElement.getLayoutState().layoutCorrected;k?this.constraints=q(k)?this.resolveRefConstraints(Y,k):Yx(Y,k):this.constraints=!1,this.elastic=Ko(z),this.constraints&&!this.hasMutatedConstraints&&Ai(function(re){C.getAxisMotionValue(re)&&(C.constraints[re]=Jx(Y[re],C.constraints[re]))})},_.prototype.resolveRefConstraints=function(C,M){var k=this.props,z=k.onMeasureDragConstraints,Y=k.transformPagePoint,re=M.current;i.invariant(re!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=Ri(re,Y);var ae=Bv(C,this.constraintsBox);if(z){var Ve=z(qx(ae));this.hasMutatedConstraints=!!Ve,Ve&&(ae=Nv(Ve))}return ae},_.prototype.cancelDrag=function(){var C,M;this.visualElement.unlockProjectionTarget(),(C=this.cancelLayout)===null||C===void 0||C.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(M=this.visualElement.animationState)===null||M===void 0||M.setActive($n.Drag,!1)},_.prototype.stop=function(C,M){var k,z,Y;(k=this.panSession)===null||k===void 0||k.end(),this.panSession=null;var re=this.isDragging;if(this.cancelDrag(),!!re){var ae=M.velocity;this.animateDragEnd(ae),(Y=(z=this.props).onDragEnd)===null||Y===void 0||Y.call(z,C,M)}},_.prototype.snapToCursor=function(C){var M=this;return Ai(function(k){var z=M.props.drag;if(!!Pp(k,z,M.currentDirection)){var Y=M.getAxisMotionValue(k);if(Y){var re=M.visualElement.getLayoutState().layout,ae=re[k].max-re[k].min,Ve=re[k].min+ae/2,De=C[k]-Ve;M.originPoint[k]=C[k],Y.set(De)}else return M.cursorProgress[k]=.5,!0}}).includes(!0)},_.prototype.updateAxis=function(C,M,k){var z=this.props.drag;if(!!Pp(C,z,this.currentDirection))return this.getAxisMotionValue(C)?this.updateAxisMotionValue(C,k):this.updateVisualElementAxis(C,M)},_.prototype.updateAxisMotionValue=function(C,M){var k=this.getAxisMotionValue(C);if(!(!M||!k)){var z=this.originPoint[C]+M[C],Y=this.constraints?Fv(z,this.constraints[C],this.elastic[C]):z;k.set(Y)}},_.prototype.updateVisualElementAxis=function(C,M){var k,z=this.visualElement.getLayoutState().layout[C],Y=z.max-z.min,re=this.cursorProgress[C],ae=mf(M[C],Y,re,(k=this.constraints)===null||k===void 0?void 0:k[C],this.elastic[C]);this.visualElement.setProjectionTargetAxis(C,ae,ae+Y)},_.prototype.setProps=function(C){var M=C.drag,k=M===void 0?!1:M,z=C.dragDirectionLock,Y=z===void 0?!1:z,re=C.dragPropagation,ae=re===void 0?!1:re,Ve=C.dragConstraints,De=Ve===void 0?!1:Ve,Me=C.dragElastic,Ye=Me===void 0?Sp:Me,$e=C.dragMomentum,Je=$e===void 0?!0:$e,Ge=n.__rest(C,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=n.__assign({drag:k,dragDirectionLock:Y,dragPropagation:ae,dragConstraints:De,dragElastic:Ye,dragMomentum:Je},Ge)},_.prototype.getAxisMotionValue=function(C){var M=this.props,k=M.layout,z=M.layoutId,Y="_drag"+C.toUpperCase();if(this.props[Y])return this.props[Y];if(!k&&z===void 0)return this.visualElement.getValue(C,0)},_.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},_.prototype.isExternalDrag=function(){var C=this.props,M=C._dragX,k=C._dragY;return M||k},_.prototype.animateDragEnd=function(C){var M=this,k=this.props,z=k.drag,Y=k.dragMomentum,re=k.dragElastic,ae=k.dragTransition,Ve=Ap(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),De=this.constraints||{};if(Ve&&Object.keys(De).length&&this.isLayoutDrag()){var Me=this.visualElement.getProjectionParent();if(Me){var Ye=Fc(Me.projection.targetFinal,De);Ai(function(Je){var Ge=Ye[Je],ct=Ge.min,ot=Ge.max;De[Je]={min:isNaN(ct)?void 0:ct,max:isNaN(ot)?void 0:ot}})}}var $e=Ai(function(Je){var Ge;if(!!Pp(Je,z,M.currentDirection)){var ct=(Ge=De==null?void 0:De[Je])!==null&&Ge!==void 0?Ge:{},ot=re?200:1e6,xt=re?40:1e7,Ht=n.__assign(n.__assign({type:"inertia",velocity:Y?C[Je]:0,bounceStiffness:ot,bounceDamping:xt,timeConstant:750,restDelta:1,restSpeed:10},ae),ct);return M.getAxisMotionValue(Je)?M.startAxisValueAnimation(Je,Ht):M.visualElement.startLayoutAnimation(Je,Ht,Ve)}});return Promise.all($e).then(function(){var Je,Ge;(Ge=(Je=M.props).onDragTransitionEnd)===null||Ge===void 0||Ge.call(Je)})},_.prototype.stopMotion=function(){var C=this;Ai(function(M){var k=C.getAxisMotionValue(M);k?k.stop():C.visualElement.stopLayoutAnimation()})},_.prototype.startAxisValueAnimation=function(C,M){var k=this.getAxisMotionValue(C);if(!!k){var z=k.get();return k.set(z),k.set(z),Za(C,k,0,M)}},_.prototype.scalePoint=function(){var C=this,M=this.props,k=M.drag,z=M.dragConstraints;if(!(!q(z)||!this.constraintsBox)){this.stopMotion();var Y={x:0,y:0};Ai(function(re){Y[re]=QT(C.visualElement.projection.target[re],C.constraintsBox[re])}),this.updateConstraints(function(){Ai(function(re){if(!!Pp(re,k,null)){var ae=Qx(C.visualElement.projection.target[re],C.constraintsBox[re],Y[re]),Ve=ae.min,De=ae.max;C.visualElement.setProjectionTargetAxis(re,Ve,De)}})}),setTimeout(yf,1)}},_.prototype.updateConstraints=function(C){var M=this;this.cancelLayout=Rp(function(k,z){var Y=Oc(M.visualElement);z(function(){return Y.forEach(function(re){return re.resetTransform()})}),k(function(){return $v(M.visualElement)}),z(function(){return Y.forEach(function(re){return re.restoreTransform()})}),k(function(){M.resolveDragConstraints()}),C&&z(C)})},_.prototype.mount=function(C){var M=this,k=C.getInstance(),z=Bl(k,"pointerdown",function(Ve){var De=M.props,Me=De.drag,Ye=De.dragListener,$e=Ye===void 0?!0:Ye;Me&&$e&&M.start(Ve)}),Y=qn(window,"resize",function(){M.scalePoint()}),re=C.onLayoutUpdate(function(){M.isDragging&&M.resolveDragConstraints()}),ae=C.prevDragCursor;return ae&&this.start(aw,{cursorProgress:ae}),function(){z==null||z(),Y==null||Y(),re==null||re(),M.cancelDrag()}},_}();function Pp(_,C,M){return(C===!0||C===_)&&(M===null||M===_)}function e2(_,C){C===void 0&&(C=10);var M=null;return Math.abs(_.y)>C?M="y":Math.abs(_.x)>C&&(M="x"),M}function t2(_){var C=_.dragControls,M=_.visualElement,k=r.useContext(T).transformPagePoint,z=R(function(){return new ZL({visualElement:M})});z.setProps(n.__assign(n.__assign({},_),{transformPagePoint:k})),r.useEffect(function(){return C&&C.subscribe(z)},[z]),r.useEffect(function(){return z.mount(M)},[])}function eE(_){var C=_.onPan,M=_.onPanStart,k=_.onPanEnd,z=_.onPanSessionStart,Y=_.visualElement,re=C||M||k||z,ae=r.useRef(null),Ve=r.useContext(T).transformPagePoint,De={onSessionStart:z,onStart:M,onMove:C,onEnd:function(Ye,$e){ae.current=null,k&&k(Ye,$e)}};r.useEffect(function(){ae.current!==null&&ae.current.updateHandlers(De)});function Me(Ye){ae.current=new Dv(Ye,De,{transformPagePoint:Ve})}Ou(Y,"pointerdown",re&&Me),vp(function(){return ae.current&&ae.current.end()})}var lw={pan:Lc(eE),drag:Lc(t2)},Pi;(function(_){_[_.Entering=0]="Entering",_[_.Present=1]="Present",_[_.Exiting=2]="Exiting"})(Pi||(Pi={})),t.VisibilityAction=void 0,function(_){_[_.Hide=0]="Hide",_[_.Show=1]="Show"}(t.VisibilityAction||(t.VisibilityAction={}));function Hv(_){return typeof _=="string"&&_.startsWith("var(--")}var kp=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n2(_){var C=kp.exec(_);if(!C)return[,];var M=n.__read(C,3),k=M[1],z=M[2];return[k,z]}var r2=4;function cw(_,C,M){M===void 0&&(M=1),i.invariant(M<=r2,'Max CSS variable fallback depth detected in property "'+_+'". This may indicate a circular fallback dependency.');var k=n.__read(n2(_),2),z=k[0],Y=k[1];if(!!z){var re=window.getComputedStyle(C).getPropertyValue(z);return re?re.trim():Hv(Y)?cw(Y,C,M+1):Y}}function uw(_,C,M){var k,z=n.__rest(C,[]),Y=_.getInstance();if(!(Y instanceof HTMLElement))return{target:z,transitionEnd:M};M&&(M=n.__assign({},M)),_.forEachValue(function(De){var Me=De.get();if(!!Hv(Me)){var Ye=cw(Me,Y);Ye&&De.set(Ye)}});for(var re in z){var ae=z[re];if(!!Hv(ae)){var Ve=cw(ae,Y);!Ve||(z[re]=Ve,M&&((k=M[re])!==null&&k!==void 0||(M[re]=ae)))}}return{target:z,transitionEnd:M}}function Gv(_,C){return _/(C.max-C.min)*100}function i2(_,C,M){var k=M.target;if(typeof _=="string")if(s.px.test(_))_=parseFloat(_);else return _;var z=Gv(_,k.x),Y=Gv(_,k.y);return z+"% "+Y+"%"}var dw="_$css";function tE(_,C){var M=C.delta,k=C.treeScale,z=_,Y=_.includes("var("),re=[];Y&&(_=_.replace(kp,function(ct){return re.push(ct),dw}));var ae=s.complex.parse(_);if(ae.length>5)return z;var Ve=s.complex.createTransformer(_),De=typeof ae[0]!="number"?1:0,Me=M.x.scale*k.x,Ye=M.y.scale*k.y;ae[0+De]/=Me,ae[1+De]/=Ye;var $e=o.mix(Me,Ye,.5);typeof ae[2+De]=="number"&&(ae[2+De]/=$e),typeof ae[3+De]=="number"&&(ae[3+De]/=$e);var Je=Ve(ae);if(Y){var Ge=0;Je=Je.replace(dw,function(){var ct=re[Ge];return Ge++,ct})}return Je}var _f={process:i2},nE={borderRadius:n.__assign(n.__assign({},_f),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:_f,borderTopRightRadius:_f,borderBottomLeftRadius:_f,borderBottomRightRadius:_f,boxShadow:{process:tE}},fw=1e3,nl=function(_){n.__extends(C,_);function C(){var M=_!==null&&_.apply(this,arguments)||this;return M.frameTarget=po(),M.currentAnimationTarget=po(),M.isAnimating={x:!1,y:!1},M.stopAxisAnimation={x:void 0,y:void 0},M.isAnimatingTree=!1,M.animate=function(k,z,Y){Y===void 0&&(Y={});var re=Y.originBox,ae=Y.targetBox,Ve=Y.visibilityAction,De=Y.shouldStackAnimate,Me=Y.onComplete,Ye=Y.prevParent,$e=n.__rest(Y,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),Je=M.props,Ge=Je.visualElement,ct=Je.layout;if(De===!1)return M.isAnimatingTree=!1,M.safeToRemove();if(!(M.isAnimatingTree&&De!==!0)){De&&(M.isAnimatingTree=!0),z=re||z,k=ae||k;var ot=!1,xt=Ge.getProjectionParent();if(xt){var Ht=xt.prevViewportBox,yn=xt.getLayoutState().layout;Ye&&(ae&&(yn=Ye.getLayoutState().layout),re&&!Wl(Ye,xt)&&Ye.prevViewportBox&&(Ht=Ye.prevViewportBox)),Ht&&Np(Ye,re,ae)&&(ot=!0,z=Fc(Ht,z),k=Fc(yn,k))}var Nn=Lp(z,k),_n=Ai(function(Qt){var Un,Pn;if(ct==="position"){var fn=k[Qt].max-k[Qt].min;z[Qt].max=z[Qt].min+fn}if(!Ge.projection.isTargetLocked)if(Ve!==void 0)Ge.setVisibility(Ve===t.VisibilityAction.Show);else return Nn?M.animateAxis(Qt,k[Qt],z[Qt],n.__assign(n.__assign({},$e),{isRelative:ot})):((Pn=(Un=M.stopAxisAnimation)[Qt])===null||Pn===void 0||Pn.call(Un),Ge.setProjectionTargetAxis(Qt,k[Qt].min,k[Qt].max,ot))});return Ge.syncRender(),Promise.all(_n).then(function(){M.isAnimatingTree=!1,Me&&Me(),Ge.notifyLayoutAnimationComplete()})}},M}return C.prototype.componentDidMount=function(){var M=this,k=this.props.visualElement;k.animateMotionValue=Za,k.enableLayoutProjection(),this.unsubLayoutReady=k.onLayoutUpdate(this.animate),k.layoutSafeToRemove=function(){return M.safeToRemove()},vt(nE)},C.prototype.componentWillUnmount=function(){var M=this;this.unsubLayoutReady(),Ai(function(k){var z,Y;return(Y=(z=M.stopAxisAnimation)[k])===null||Y===void 0?void 0:Y.call(z)})},C.prototype.animateAxis=function(M,k,z,Y){var re=this,ae,Ve,De=Y===void 0?{}:Y,Me=De.transition,Ye=De.isRelative;if(!(this.isAnimating[M]&&$c(k,this.currentAnimationTarget[M]))){(Ve=(ae=this.stopAxisAnimation)[M])===null||Ve===void 0||Ve.call(ae),this.isAnimating[M]=!0;var $e=this.props.visualElement,Je=this.frameTarget[M],Ge=$e.getProjectionAnimationProgress()[M];Ge.clearListeners(),Ge.set(0),Ge.set(0);var ct=function(){var yn=Ge.get()/fw;Zx(Je,z,k,yn),$e.setProjectionTargetAxis(M,Je.min,Je.max,Ye)};ct();var ot=Ge.onChange(ct);this.stopAxisAnimation[M]=function(){re.isAnimating[M]=!1,Ge.stop(),ot()},this.currentAnimationTarget[M]=k;var xt=Me||$e.getDefaultTransition()||iE,Ht=Za(M==="x"?"layoutX":"layoutY",Ge,fw,xt&&Fu(xt,"layout")).then(this.stopAxisAnimation[M]);return Ht}},C.prototype.safeToRemove=function(){var M,k;(k=(M=this.props).safeToRemove)===null||k===void 0||k.call(M)},C.prototype.render=function(){return null},C}(u.Component);function rE(_){var C=n.__read(F(),2),M=C[1];return u.createElement(nl,n.__assign({},_,{safeToRemove:M}))}function Lp(_,C){return!Dp(_)&&!Dp(C)&&(!$c(_.x,C.x)||!$c(_.y,C.y))}var xf={min:0,max:0};function Dp(_){return $c(_.x,xf)&&$c(_.y,xf)}function $c(_,C){return _.min===C.min&&_.max===C.max}var iE={duration:.45,ease:[.4,0,.1,1]};function Np(_,C,M){return _||!_&&!(C||M)}var Qi={layoutReady:function(_){return _.notifyLayoutReady()}};function jv(){var _=new Set;return{add:function(C){return _.add(C)},flush:function(C){var M=C===void 0?Qi:C,k=M.layoutReady,z=M.parent;Rp(function(Y,re){var ae=Array.from(_).sort(Kr),Ve=z?Oc(z):[];re(function(){var De=n.__spreadArray(n.__spreadArray([],n.__read(Ve)),n.__read(ae));De.forEach(function(Me){return Me.resetTransform()})}),Y(function(){ae.forEach($v)}),re(function(){Ve.forEach(function(De){return De.restoreTransform()}),ae.forEach(k)}),Y(function(){ae.forEach(function(De){De.isPresent&&(De.presence=Pi.Present)})}),re(function(){a.flushSync.preRender(),a.flushSync.render()}),Y(function(){f.default.postRender(function(){return ae.forEach(s2)}),_.clear()})}),yf()}}}function s2(_){_.prevViewportBox=_.projection.target}var Ji=r.createContext(jv()),Zi=r.createContext(jv());function Uc(_){return!!_.forceUpdate}var sE=function(_){n.__extends(C,_);function C(){return _!==null&&_.apply(this,arguments)||this}return C.prototype.componentDidMount=function(){var M=this.props,k=M.syncLayout,z=M.framerSyncLayout,Y=M.visualElement;Uc(k)&&k.register(Y),Uc(z)&&z.register(Y),Y.onUnmount(function(){Uc(k)&&k.remove(Y),Uc(z)&&z.remove(Y)})},C.prototype.getSnapshotBeforeUpdate=function(){var M=this.props,k=M.syncLayout,z=M.visualElement;return Uc(k)?k.syncUpdate():(gi(z),k.add(z)),null},C.prototype.componentDidUpdate=function(){var M=this.props.syncLayout;Uc(M)||M.flush()},C.prototype.render=function(){return null},C}(d.default.Component);function oE(_){var C=r.useContext(Ji),M=r.useContext(Zi);return d.default.createElement(sE,n.__assign({},_,{syncLayout:C,framerSyncLayout:M}))}var hw={measureLayout:oE,layoutAnimation:rE},aE=function(){return{isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:po(),targetFinal:po()}};function qv(){return{isHydrated:!1,layout:po(),layoutCorrected:po(),treeScale:{x:1,y:1},delta:ff(),deltaFinal:ff(),deltaTransform:""}}var pw=qv();function wf(_,C,M){var k=_.x,z=_.y,Y=k.translate/C.x,re=z.translate/C.y,ae="translate3d("+Y+"px, "+re+"px, 0) ";if(M){var Ve=M.rotate,De=M.rotateX,Me=M.rotateY;Ve&&(ae+="rotate("+Ve+") "),De&&(ae+="rotateX("+De+") "),Me&&(ae+="rotateY("+Me+") ")}return ae+="scale("+k.scale+", "+z.scale+")",!M&&ae===lE?"":ae}function mw(_){var C=_.deltaFinal;return C.x.origin*100+"% "+C.y.origin*100+"% 0"}var lE=wf(pw.delta,pw.treeScale,{x:1,y:1}),Wu=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function Kv(){var _=Wu.map(function(){return new of}),C={},M={clearAllListeners:function(){return _.forEach(function(k){return k.clear()})},updatePropListeners:function(k){return Wu.forEach(function(z){var Y;(Y=C[z])===null||Y===void 0||Y.call(C);var re="on"+z,ae=k[re];ae&&(C[z]=M[re](ae))})}};return _.forEach(function(k,z){M["on"+Wu[z]]=function(Y){return k.add(Y)},M["notify"+Wu[z]]=function(){for(var Y=[],re=0;re<arguments.length;re++)Y[re]=arguments[re];return k.notify.apply(k,n.__spreadArray([],n.__read(Y)))}}),M}function cE(_,C,M){var k;for(var z in C){var Y=C[z],re=M[z];if(xe(Y))_.addValue(z,Y);else if(xe(re))_.addValue(z,or(Y));else if(re!==Y)if(_.hasValue(z)){var ae=_.getValue(z);!ae.hasAnimated&&ae.set(Y)}else _.addValue(z,or((k=_.getStaticValue(z))!==null&&k!==void 0?k:Y))}for(var z in M)C[z]===void 0&&_.removeValue(z);return C}function gw(_,C,M,k){var z=_.delta,Y=_.layout,re=_.layoutCorrected,ae=_.treeScale,Ve=C.target;zv(re,Y),iw(re,ae,M),mo(z,re,Ve,k)}var vw=function(){function _(){this.children=[],this.isDirty=!1}return _.prototype.add=function(C){Iv(this.children,C),this.isDirty=!0},_.prototype.remove=function(C){zx(this.children,C),this.isDirty=!0},_.prototype.forEach=function(C){this.isDirty&&this.children.sort(Kr),this.isDirty=!1,this.children.forEach(C)},_}();function uE(_){var C=_.getProjectionParent();if(!C){_.rebaseProjectionTarget();return}var M=Fc(C.getLayoutState().layout,_.getLayoutState().layout);Ai(function(k){_.setProjectionTargetAxis(k,M[k].min,M[k].max,!0)})}var Hu=function(_){var C=_.treeType,M=C===void 0?"":C,k=_.build,z=_.getBaseTarget,Y=_.makeTargetAnimatable,re=_.measureViewportBox,ae=_.render,Ve=_.readValueFromInstance,De=_.resetTransform,Me=_.restoreTransform,Ye=_.removeValueFromRenderState,$e=_.sortNodePosition,Je=_.scrapeMotionValuesFromProps;return function(Ge,ct){var ot=Ge.parent,xt=Ge.props,Ht=Ge.presenceId,yn=Ge.blockInitialAnimation,Nn=Ge.visualState;ct===void 0&&(ct={});var _n=Nn.latestValues,Qt=Nn.renderState,Un,Pn=Kv(),fn=aE(),Qr,es=fn,rl=_n,Qs,Li=qv(),Ku,h=!1,m=new Map,S=new Map,I={},D,$=n.__assign({},_n),se;function be(){!Un||(pe.isProjectionReady()&&(Ep(es.targetFinal,es.target,rl),mo(Li.deltaFinal,Li.layoutCorrected,es.targetFinal,_n)),je(),ae(Un,Qt))}function je(){var fe=_n;if(Ku&&Ku.isActive()){var We=Ku.getCrossfadeState(pe);We&&(fe=We)}k(pe,Qt,fe,es,Li,ct,xt)}function yt(){Pn.notifyUpdate(_n)}function Nt(){if(!!pe.isProjectionReady()){var fe=Li.delta,We=Li.treeScale,Ct=We.x,qt=We.y,Kt=Li.deltaTransform;gw(Li,es,pe.path,_n),h&&pe.notifyViewportBoxUpdate(es.target,fe),h=!1;var cn=wf(fe,We);(cn!==Kt||Ct!==We.x||qt!==We.y)&&pe.scheduleRender(),Li.deltaTransform=cn}}function ln(){pe.layoutTree.forEach(yw)}function Jt(fe,We){var Ct=We.onChange(function(Kt){_n[fe]=Kt,xt.onUpdate&&f.default.update(yt,!1,!0)}),qt=We.onRenderRequest(pe.scheduleRender);S.set(fe,function(){Ct(),qt()})}var er=Je(xt);for(var Gt in er){var Di=er[Gt];_n[Gt]!==void 0&&xe(Di)&&Di.set(_n[Gt],!1)}var go=Ae(xt),Be=Ne(xt),pe=n.__assign(n.__assign({treeType:M,current:null,depth:ot?ot.depth+1:0,parent:ot,children:new Set,path:ot?n.__spreadArray(n.__spreadArray([],n.__read(ot.path)),[ot]):[],layoutTree:ot?ot.layoutTree:new vw,presenceId:Ht,projection:fn,variantChildren:Be?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(ot==null?void 0:ot.isMounted()),blockInitialAnimation:yn,isMounted:function(){return Boolean(Un)},mount:function(fe){Un=pe.current=fe,pe.pointTo(pe),Be&&ot&&!go&&(se=ot==null?void 0:ot.addVariantChild(pe)),ot==null||ot.children.add(pe)},unmount:function(){a.cancelSync.update(yt),a.cancelSync.render(be),a.cancelSync.preRender(pe.updateLayoutProjection),S.forEach(function(fe){return fe()}),pe.stopLayoutAnimation(),pe.layoutTree.remove(pe),se==null||se(),ot==null||ot.children.delete(pe),Qs==null||Qs(),Pn.clearAllListeners()},addVariantChild:function(fe){var We,Ct=pe.getClosestVariantNode();if(Ct)return(We=Ct.variantChildren)===null||We===void 0||We.add(fe),function(){return Ct.variantChildren.delete(fe)}},sortNodePosition:function(fe){return!$e||M!==fe.treeType?0:$e(pe.getInstance(),fe.getInstance())},getClosestVariantNode:function(){return Be?pe:ot==null?void 0:ot.getClosestVariantNode()},scheduleUpdateLayoutProjection:ot?ot.scheduleUpdateLayoutProjection:function(){return f.default.preRender(pe.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return xt.layoutId},getInstance:function(){return Un},getStaticValue:function(fe){return _n[fe]},setStaticValue:function(fe,We){return _n[fe]=We},getLatestValues:function(){return _n},setVisibility:function(fe){pe.isVisible!==fe&&(pe.isVisible=fe,pe.scheduleRender())},makeTargetAnimatable:function(fe,We){return We===void 0&&(We=!0),Y(pe,fe,xt,We)},addValue:function(fe,We){pe.hasValue(fe)&&pe.removeValue(fe),m.set(fe,We),_n[fe]=We.get(),Jt(fe,We)},removeValue:function(fe){var We;m.delete(fe),(We=S.get(fe))===null||We===void 0||We(),S.delete(fe),delete _n[fe],Ye(fe,Qt)},hasValue:function(fe){return m.has(fe)},getValue:function(fe,We){var Ct=m.get(fe);return Ct===void 0&&We!==void 0&&(Ct=or(We),pe.addValue(fe,Ct)),Ct},forEachValue:function(fe){return m.forEach(fe)},readValue:function(fe){var We;return(We=_n[fe])!==null&&We!==void 0?We:Ve(Un,fe,ct)},setBaseTarget:function(fe,We){$[fe]=We},getBaseTarget:function(fe){if(z){var We=z(xt,fe);if(We!==void 0&&!xe(We))return We}return $[fe]}},Pn),{build:function(){return je(),Qt},scheduleRender:function(){f.default.render(be,!1,!0)},syncRender:be,setProps:function(fe){xt=fe,Pn.updatePropListeners(fe),I=cE(pe,Je(xt),I)},getProps:function(){return xt},getVariant:function(fe){var We;return(We=xt.variants)===null||We===void 0?void 0:We[fe]},getDefaultTransition:function(){return xt.transition},getVariantContext:function(fe){if(fe===void 0&&(fe=!1),fe)return ot==null?void 0:ot.getVariantContext();if(!go){var We=(ot==null?void 0:ot.getVariantContext())||{};return xt.initial!==void 0&&(We.initial=xt.initial),We}for(var Ct={},qt=0;qt<Hl;qt++){var Kt=_w[qt],cn=xt[Kt];(de(cn)||cn===!1)&&(Ct[Kt]=cn)}return Ct},enableLayoutProjection:function(){fn.isEnabled=!0,pe.layoutTree.add(pe)},lockProjectionTarget:function(){fn.isTargetLocked=!0},unlockProjectionTarget:function(){pe.stopLayoutAnimation(),fn.isTargetLocked=!1},getLayoutState:function(){return Li},setCrossfader:function(fe){Ku=fe},isProjectionReady:function(){return fn.isEnabled&&fn.isHydrated&&Li.isHydrated},startLayoutAnimation:function(fe,We,Ct){Ct===void 0&&(Ct=!1);var qt=pe.getProjectionAnimationProgress()[fe],Kt=Ct?fn.relativeTarget[fe]:fn.target[fe],cn=Kt.min,Ur=Kt.max,In=Ur-cn;return qt.clearListeners(),qt.set(cn),qt.set(cn),qt.onChange(function(ba){pe.setProjectionTargetAxis(fe,ba,ba+In,Ct)}),pe.animateMotionValue(fe,qt,0,We)},stopLayoutAnimation:function(){Ai(function(fe){return pe.getProjectionAnimationProgress()[fe].stop()})},measureViewportBox:function(fe){fe===void 0&&(fe=!0);var We=re(Un,ct);return fe||Mp(We,_n),We},getProjectionAnimationProgress:function(){return D||(D={x:or(0),y:or(0)}),D},setProjectionTargetAxis:function(fe,We,Ct,qt){qt===void 0&&(qt=!1);var Kt;qt?(fn.relativeTarget||(fn.relativeTarget=po()),Kt=fn.relativeTarget[fe]):(fn.relativeTarget=void 0,Kt=fn.target[fe]),fn.isHydrated=!0,Kt.min=We,Kt.max=Ct,h=!0,Pn.notifySetAxisTarget()},rebaseProjectionTarget:function(fe,We){We===void 0&&(We=Li.layout);var Ct=pe.getProjectionAnimationProgress(),qt=Ct.x,Kt=Ct.y,cn=!fn.relativeTarget&&!fn.isTargetLocked&&!qt.isAnimating()&&!Kt.isAnimating();(fe||cn)&&Ai(function(Ur){var In=We[Ur],ba=In.min,f2=In.max;pe.setProjectionTargetAxis(Ur,ba,f2)})},notifyLayoutReady:function(fe){uE(pe),pe.notifyLayoutUpdate(Li.layout,pe.prevViewportBox||Li.layout,fe)},resetTransform:function(){return De(pe,Un,xt)},restoreTransform:function(){return Me(Un,Qt)},updateLayoutProjection:Nt,updateTreeLayoutProjection:function(){pe.layoutTree.forEach(dE),f.default.preRender(ln,!1,!0)},getProjectionParent:function(){if(Qr===void 0){for(var fe=!1,We=pe.path.length-1;We>=0;We--){var Ct=pe.path[We];if(Ct.projection.isEnabled){fe=Ct;break}}Qr=fe}return Qr},resolveRelativeTargetBox:function(){var fe=pe.getProjectionParent();if(!(!fn.relativeTarget||!fe)&&(tl(fn,fe.projection),wa(fe))){var We=fn.target;Ep(We,We,fe.getLatestValues())}},shouldResetTransform:function(){return Boolean(xt._layoutResetTransform)},pointTo:function(fe){es=fe.projection,rl=fe.getLatestValues(),Qs==null||Qs(),Qs=o.pipe(fe.onSetAxisTarget(pe.scheduleUpdateLayoutProjection),fe.onLayoutAnimationComplete(function(){var We;pe.isPresent?pe.presence=Pi.Present:(We=pe.layoutSafeToRemove)===null||We===void 0||We.call(pe)}))},isPresent:!0,presence:Pi.Entering});return pe}};function dE(_){_.resolveRelativeTargetBox()}function yw(_){_.updateLayoutProjection()}var _w=n.__spreadArray(["initial"],n.__read(uf)),Hl=_w.length,o2=new Set(["width","height","top","left","right","bottom","x","y"]),fE=function(_){return o2.has(_)},Xv=function(_){return Object.keys(_).some(fE)},zc=function(_,C){_.set(C,!1),_.set(C)},Yv=function(_){return _===s.number||_===s.px},At;(function(_){_.width="width",_.height="height",_.left="left",_.right="right",_.top="top",_.bottom="bottom"})(At||(At={}));var Op=function(_,C){return parseFloat(_.split(", ")[C])},Qv=function(_,C){return function(M,k){var z=k.transform;if(z==="none"||!z)return 0;var Y=z.match(/^matrix3d\((.+)\)$/);if(Y)return Op(Y[1],C);var re=z.match(/^matrix\((.+)\)$/);return re?Op(re[1],_):0}},hE=new Set(["x","y","z"]),a2=It.filter(function(_){return!hE.has(_)});function Gu(_){var C=[];return a2.forEach(function(M){var k=_.getValue(M);k!==void 0&&(C.push([M,k.get()]),k.set(M.startsWith("scale")?1:0))}),C.length&&_.syncRender(),C}var bf={width:function(_){var C=_.x;return C.max-C.min},height:function(_){var C=_.y;return C.max-C.min},top:function(_,C){var M=C.top;return parseFloat(M)},left:function(_,C){var M=C.left;return parseFloat(M)},bottom:function(_,C){var M=_.y,k=C.top;return parseFloat(k)+(M.max-M.min)},right:function(_,C){var M=_.x,k=C.left;return parseFloat(k)+(M.max-M.min)},x:Qv(4,13),y:Qv(5,14)},xw=function(_,C,M){var k=C.measureViewportBox(),z=C.getInstance(),Y=getComputedStyle(z),re=Y.display,ae=Y.top,Ve=Y.left,De=Y.bottom,Me=Y.right,Ye=Y.transform,$e={top:ae,left:Ve,bottom:De,right:Me,transform:Ye};re==="none"&&C.setStaticValue("display",_.display||"block"),C.syncRender();var Je=C.measureViewportBox();return M.forEach(function(Ge){var ct=C.getValue(Ge);zc(ct,bf[Ge](k,$e)),_[Ge]=bf[Ge](Je,Y)}),_},pE=function(_,C,M,k){M===void 0&&(M={}),k===void 0&&(k={}),C=n.__assign({},C),k=n.__assign({},k);var z=Object.keys(C).filter(fE),Y=[],re=!1,ae=[];if(z.forEach(function(De){var Me=_.getValue(De);if(!!_.hasValue(De)){var Ye=M[De],$e=C[De],Je=_p(Ye),Ge;if(Zn($e))for(var ct=$e.length,ot=$e[0]===null?1:0;ot<ct;ot++)Ge?i.invariant(_p($e[ot])===Ge,"All keyframes must be of the same type"):(Ge=_p($e[ot]),i.invariant(Ge===Je||Yv(Je)&&Yv(Ge),"Keyframes must be of the same dimension as the current value"));else Ge=_p($e);if(Je!==Ge)if(Yv(Je)&&Yv(Ge)){var xt=Me.get();typeof xt=="string"&&Me.set(parseFloat(xt)),typeof $e=="string"?C[De]=parseFloat($e):Array.isArray($e)&&Ge===s.px&&(C[De]=$e.map(parseFloat))}else(Je==null?void 0:Je.transform)&&(Ge==null?void 0:Ge.transform)&&(Ye===0||$e===0)?Ye===0?Me.set(Ge.transform(Ye)):C[De]=Je.transform($e):(re||(Y=Gu(_),re=!0),ae.push(De),k[De]=k[De]!==void 0?k[De]:C[De],zc(Me,$e))}}),ae.length){var Ve=xw(C,_,ae);return Y.length&&Y.forEach(function(De){var Me=n.__read(De,2),Ye=Me[0],$e=Me[1];_.getValue(Ye).set($e)}),_.syncRender(),{target:Ve,transitionEnd:k}}else return{target:C,transitionEnd:k}};function mE(_,C,M,k){return Xv(C)?pE(_,C,M,k):{target:C,transitionEnd:k}}var gE=function(_,C,M,k){var z=uw(_,C,k);return C=z.target,k=z.transitionEnd,mE(_,C,M,k)};function vE(_){return window.getComputedStyle(_)}var ww={treeType:"dom",readValueFromInstance:function(_,C){if(ue(C)){var M=_a(C);return M&&M.default||0}else{var k=vE(_);return(qe(C)?k.getPropertyValue(C):k[C])||0}},sortNodePosition:function(_,C){return _.compareDocumentPosition(C)&2?1:-1},getBaseTarget:function(_,C){var M;return(M=_.style)===null||M===void 0?void 0:M[C]},measureViewportBox:function(_,C){var M=C.transformPagePoint;return Ri(_,M)},resetTransform:function(_,C,M){var k=M.transformTemplate;C.style.transform=k?k({},""):"none",_.scheduleRender()},restoreTransform:function(_,C){_.style.transform=C.style.transform},removeValueFromRenderState:function(_,C){var M=C.vars,k=C.style;delete M[_],delete k[_]},makeTargetAnimatable:function(_,C,M,k){var z=M.transformValues;k===void 0&&(k=!0);var Y=C.transition,re=C.transitionEnd,ae=n.__rest(C,["transition","transitionEnd"]),Ve=xp(ae,Y||{},_);if(z&&(re&&(re=z(re)),ae&&(ae=z(ae)),Ve&&(Ve=z(Ve))),k){Wx(_,ae,Ve);var De=gE(_,ae,Ve,re);re=De.transitionEnd,ae=De.target}return n.__assign({transition:Y,transitionEnd:re},ae)},scrapeMotionValuesFromProps:Yt,build:function(_,C,M,k,z,Y,re){_.isVisible!==void 0&&(C.style.visibility=_.isVisible?"visible":"hidden");var ae=k.isEnabled&&z.isHydrated;Vt(C,M,k,z,Y,re.transformTemplate,ae?wf:void 0,ae?mw:void 0)},render:bt},yE=Hu(ww),bw=Hu(n.__assign(n.__assign({},ww),{getBaseTarget:function(_,C){return _[C]},readValueFromInstance:function(_,C){var M;return ue(C)?((M=_a(C))===null||M===void 0?void 0:M.default)||0:(C=Dt.has(C)?C:dt(C),_.getAttribute(C))},scrapeMotionValuesFromProps:tn,build:function(_,C,M,k,z,Y,re){var ae=k.isEnabled&&z.isHydrated;Ka(C,M,k,z,Y,re.transformTemplate,ae?wf:void 0,ae?mw:void 0)},render:Wt})),Fp=function(_,C){return ze(_)?bw(C,{enableHardwareAcceleration:!1}):yE(C,{enableHardwareAcceleration:!0})},Sw=n.__assign(n.__assign(n.__assign(n.__assign({},Lv),Sv),lw),hw),Cw=Ue(function(_,C){return va(_,C,Sw,Fp)});function Jv(_){return ve(va(_,{forwardMotionProps:!1},Sw,Fp))}var l2=Ue(va);function c2(){var _=r.useRef(!1),C=n.__read(r.useState(0),2),M=C[0],k=C[1];return vp(function(){return _.current=!0}),r.useCallback(function(){!_.current&&k(M+1)},[M])}var Tw=0;function _E(){var _=Tw;return Tw++,_}var Zv=function(_){var C=_.children,M=_.initial,k=_.isPresent,z=_.onExitComplete,Y=_.custom,re=_.presenceAffectsLayout,ae=R(xE),Ve=R(_E),De=r.useMemo(function(){return{id:Ve,initial:M,isPresent:k,custom:Y,onExitComplete:function(Me){ae.set(Me,!0);var Ye=!0;ae.forEach(function($e){$e||(Ye=!1)}),Ye&&(z==null||z())},register:function(Me){return ae.set(Me,!1),function(){return ae.delete(Me)}}}},re?void 0:[k]);return r.useMemo(function(){ae.forEach(function(Me,Ye){return ae.set(Ye,!1)})},[k]),u.useEffect(function(){!k&&!ae.size&&(z==null||z())},[k]),u.createElement(L.Provider,{value:De},C)};function xE(){return new Map}function Gl(_){return _.key||""}function ey(_,C){_.forEach(function(M){var k=Gl(M);C.set(k,M)})}function ty(_){var C=[];return r.Children.forEach(_,function(M){r.isValidElement(M)&&C.push(M)}),C}var ny=function(_){var C=_.children,M=_.custom,k=_.initial,z=k===void 0?!0:k,Y=_.onExitComplete,re=_.exitBeforeEnter,ae=_.presenceAffectsLayout,Ve=ae===void 0?!0:ae,De=c2(),Me=r.useContext(Ji);Uc(Me)&&(De=Me.forceUpdate);var Ye=r.useRef(!0),$e=ty(C),Je=r.useRef($e),Ge=r.useRef(new Map).current,ct=r.useRef(new Set).current;if(ey($e,Ge),Ye.current)return Ye.current=!1,u.createElement(u.Fragment,null,$e.map(function(Qt){return u.createElement(Zv,{key:Gl(Qt),isPresent:!0,initial:z?void 0:!1,presenceAffectsLayout:Ve},Qt)}));for(var ot=n.__spreadArray([],n.__read($e)),xt=Je.current.map(Gl),Ht=$e.map(Gl),yn=xt.length,Nn=0;Nn<yn;Nn++){var _n=xt[Nn];Ht.indexOf(_n)===-1?ct.add(_n):ct.delete(_n)}return re&&ct.size&&(ot=[]),ct.forEach(function(Qt){if(Ht.indexOf(Qt)===-1){var Un=Ge.get(Qt);if(!!Un){var Pn=xt.indexOf(Qt),fn=function(){Ge.delete(Qt),ct.delete(Qt);var Qr=Je.current.findIndex(function(es){return es.key===Qt});Je.current.splice(Qr,1),ct.size||(Je.current=$e,De(),Y&&Y())};ot.splice(Pn,0,u.createElement(Zv,{key:Gl(Un),isPresent:!1,onExitComplete:fn,custom:M,presenceAffectsLayout:Ve},Un))}}}),ot=ot.map(function(Qt){var Un=Qt.key;return ct.has(Un)?Qt:u.createElement(Zv,{key:Gl(Qt),isPresent:!0,presenceAffectsLayout:Ve},Qt)}),Je.current=ot,u.createElement(u.Fragment,null,ct.size?ot:ot.map(function(Qt){return r.cloneElement(Qt)}))};function Bp(_,C,M){M===void 0&&(M={});var k=xe(_)?_:or(_);return Za("",k,C,M),{stop:function(){return k.stop()}}}function Sf(){var _=or(1),C={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},M=n.__assign({},C),k={},z={},Y=!1,re=null,ae=0;function Ve(Me,Ye){var $e=C.lead,Je=C.follow;Y=!0,re=null;var Ge=!1,ct=function(){Ge=!0,$e&&$e.scheduleRender(),Je&&Je.scheduleRender()},ot=function(){Y=!1,re=a.getFrameData().timestamp};return Ye=Ye&&Fu(Ye,"crossfade"),Bp(_,Me,n.__assign(n.__assign({},Ye),{onUpdate:ct,onComplete:function(){Ge?ot():(_.set(Me),f.default.read(ot)),ct()}}))}function De(){var Me,Ye,$e=a.getFrameData().timestamp,Je=C.lead,Ge=C.follow;if(!($e===ae||!Je)){ae=$e;var ct=Je.getLatestValues();Object.assign(k,ct);var ot=Ge?Ge.getLatestValues():C.prevValues;Object.assign(z,ot);var xt=_.get(),Ht=(Me=ct.opacity)!==null&&Me!==void 0?Me:1,yn=(Ye=ot==null?void 0:ot.opacity)!==null&&Ye!==void 0?Ye:1;C.crossfadeOpacity&&Ge?(k.opacity=o.mix(Ge.isVisible!==!1?0:yn,Ht,Ew(xt)),z.opacity=C.preserveFollowOpacity?yn:o.mix(yn,0,Iw(xt))):Ge||(k.opacity=o.mix(yn,Ht,xt)),u2(k,z,ct,ot||{},Boolean(Ge),xt)}}return{isActive:function(){return k&&(Y||a.getFrameData().timestamp===re)},fromLead:function(Me){return Ve(0,Me)},toLead:function(Me){var Ye=0;return!C.prevValues&&!C.follow?Ye=1:M.lead===C.follow&&M.follow===C.lead&&(Ye=1-_.get()),_.set(Ye),Ve(1,Me)},reset:function(){return _.set(1)},stop:function(){return _.stop()},getCrossfadeState:function(Me){if(De(),Me===C.lead)return k;if(Me===C.follow)return z},setOptions:function(Me){M=C,C=Me,k={},z={}},getLatestValues:function(){return k}}}var Ew=ry(0,.5,o.circOut),Iw=ry(.5,.95,o.linear);function ry(_,C,M){return function(k){return k<_?0:k>C?1:M(o.progress(_,C,k))}}var Mw=["TopLeft","TopRight","BottomLeft","BottomRight"],Aw=Mw.length;function u2(_,C,M,k,z,Y){for(var re=0;re<Aw;re++){var ae="border"+Mw[re]+"Radius",Ve=$p(k,ae),De=$p(M,ae);if(!(Ve===void 0&&De===void 0)&&(Ve||(Ve=0),De||(De=0),typeof Ve=="number"&&typeof De=="number")){var Me=Math.max(o.mix(Ve,De,Y),0);_[ae]=C[ae]=Me}}if(k.rotate||M.rotate){var Ye=o.mix(k.rotate||0,M.rotate||0,Y);_.rotate=C.rotate=Ye}!z&&M.backgroundColor&&k.backgroundColor&&(_.backgroundColor=C.backgroundColor=o.mixColor(k.backgroundColor,M.backgroundColor)(Y))}function $p(_,C){var M;return(M=_[C])!==null&&M!==void 0?M:_.borderRadius}function Rw(){var _=new Set,C={leadIsExiting:!1},M=n.__assign({},C),k,z,Y,re=Sf(),ae=!1;function Ve(){return C.follow?C.follow.prevViewportBox:z}function De(){var Me;return(Me=C.follow)===null||Me===void 0?void 0:Me.getLayoutState().layout}return{add:function(Me){Me.setCrossfader(re),_.add(Me),Y&&(Me.prevDragCursor=Y),C.lead||(C.lead=Me)},remove:function(Me){_.delete(Me)},getLead:function(){return C.lead},updateSnapshot:function(){if(!!C.lead){k=re.isActive()?re.getLatestValues():C.lead.getLatestValues(),z=C.lead.prevViewportBox;var Me=ow.get(C.lead);Me&&Me.isDragging&&(Y=Me.cursorProgress)}},clearSnapshot:function(){Y=z=void 0},updateLeadAndFollow:function(){var Me;M=n.__assign({},C);for(var Ye,$e,Je=Array.from(_),Ge=Je.length;Ge--;Ge>=0){var ct=Je[Ge];if(Ye&&($e!=null||($e=ct)),Ye!=null||(Ye=ct),Ye&&$e)break}C.lead=Ye,C.follow=$e,C.leadIsExiting=((Me=C.lead)===null||Me===void 0?void 0:Me.presence)===Pi.Exiting,re.setOptions({lead:Ye,follow:$e,prevValues:k,crossfadeOpacity:($e==null?void 0:$e.isPresenceRoot)||(Ye==null?void 0:Ye.isPresenceRoot)}),C.lead!==M.follow&&(M.lead!==C.lead||M.leadIsExiting!==C.leadIsExiting)&&(ae=!0)},animate:function(Me,Ye){var $e;if(Ye===void 0&&(Ye=!1),Me===C.lead){Ye?Me.pointTo(C.lead):Me.setVisibility(!0);var Je={},Ge=($e=C.follow)===null||$e===void 0?void 0:$e.getProjectionParent();if(Ge&&(Je.prevParent=Ge),Me.presence===Pi.Entering?Je.originBox=Ve():Me.presence===Pi.Exiting&&(Je.targetBox=De()),ae){ae=!1;var ct=Me.getDefaultTransition();Me.presence===Pi.Entering?re.toLead(ct):re.fromLead(ct)}Me.notifyLayoutReady(Je)}else Ye?C.lead&&Me.pointTo(C.lead):Me.setVisibility(!1)}}}function $r(_){for(var C=!1,M={},k=0;k<mt.length;k++){var z=mt[k],Y="rotate"+z;!_.hasValue(Y)||_.getStaticValue(Y)===0||(C=!0,M[Y]=_.getStaticValue(Y),_.setStaticValue(Y,0))}if(!!C){_.syncRender();for(var Y in M)_.setStaticValue(Y,M[Y]);_.scheduleRender()}}var vn=function(_){n.__extends(C,_);function C(){var M=_!==null&&_.apply(this,arguments)||this;return M.children=new Set,M.stacks=new Map,M.hasMounted=!1,M.updateScheduled=!1,M.renderScheduled=!1,M.syncContext=n.__assign(n.__assign({},jv()),{syncUpdate:function(k){return M.scheduleUpdate(k)},forceUpdate:function(){M.syncContext=n.__assign({},M.syncContext),M.scheduleUpdate(!0)},register:function(k){return M.addChild(k)},remove:function(k){return M.removeChild(k)}}),M}return C.prototype.componentDidMount=function(){this.hasMounted=!0},C.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},C.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},C.prototype.startLayoutAnimation=function(){var M=this;this.renderScheduled=this.updateScheduled=!1;var k=this.props.type;this.children.forEach(function(Y){Y.isPresent?Y.presence!==Pi.Entering&&(Y.presence=Y.presence===Pi.Exiting?Pi.Entering:Pi.Present):Y.presence=Pi.Exiting}),this.updateStacks();var z={layoutReady:function(Y){if(Y.getLayoutId()!==void 0){var re=M.getStack(Y);re.animate(Y,k==="crossfade")}else Y.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach(function(Y){return M.syncContext.add(Y)}),this.syncContext.flush(z),this.stacks.forEach(function(Y){return Y.clearSnapshot()})},C.prototype.updateStacks=function(){this.stacks.forEach(function(M){return M.updateLeadAndFollow()})},C.prototype.scheduleUpdate=function(M){M===void 0&&(M=!1),(M||!this.updateScheduled)&&(this.updateScheduled=!0,this.children.forEach(function(k){$r(k),k.shouldResetTransform()&&k.resetTransform()}),this.children.forEach(gi),this.stacks.forEach(function(k){return k.updateSnapshot()}),(M||!this.renderScheduled)&&(this.renderScheduled=!0,this.forceUpdate()))},C.prototype.addChild=function(M){this.children.add(M),this.addToStack(M),M.presence=this.hasMounted?Pi.Entering:Pi.Present},C.prototype.removeChild=function(M){this.scheduleUpdate(),this.children.delete(M),this.removeFromStack(M)},C.prototype.addToStack=function(M){var k=this.getStack(M);k==null||k.add(M)},C.prototype.removeFromStack=function(M){var k=this.getStack(M);k==null||k.remove(M)},C.prototype.getStack=function(M){var k=M.getLayoutId();if(k!==void 0)return!this.stacks.has(k)&&this.stacks.set(k,Rw()),this.stacks.get(k)},C.prototype.render=function(){return u.createElement(Ji.Provider,{value:this.syncContext},this.props.children)},C.contextType=E,C}(u.Component);function Xr(_){var C=_.children,M=n.__rest(_,["children"]);M=n.__assign(n.__assign({},r.useContext(T)),M),M.isStatic=R(function(){return M.isStatic});var k=typeof M.transition=="object"?M.transition.toString():"",z=r.useMemo(function(){return M},[k,M.transformPagePoint]);return u.createElement(T.Provider,{value:z},C)}function Yr(_){var C=_.children,M=_.features,k=_.strict,z=k===void 0?!1:k,Y=n.__read(r.useState(!oi(M)),2),re=Y[1],ae=r.useRef(void 0);if(!oi(M)){var Ve=M.renderer,De=n.__rest(M,["renderer"]);ae.current=Ve,v(De)}return r.useEffect(function(){oi(M)&&M().then(function(Me){var Ye=Me.renderer,$e=n.__rest(Me,["renderer"]);v($e),ae.current=Ye,re(!0)})},[]),u.createElement(y.Provider,{value:{renderer:ae.current,strict:z}},C)}function oi(_){return typeof _=="function"}var Ks=n.__assign(n.__assign({renderer:Fp},Lv),Sv),Cf=n.__assign(n.__assign(n.__assign({},Ks),lw),hw);function yr(_){var C=R(function(){return or(_)}),M=r.useContext(T).isStatic;if(M){var k=n.__read(r.useState(_),2),z=k[1];r.useEffect(function(){return C.onChange(z)},[])}return C}function Tf(_,C){r.useEffect(function(){if(xe(_))return _.onChange(C)},[C])}function Ef(_,C){r.useEffect(function(){var M=_.map(function(k){return k.onChange(C)});return function(){return M.forEach(function(k){return k()})}})}function Up(_,C){var M=yr(C()),k=function(){return M.set(C())};return k(),Ef(_,function(){return f.default.update(k,!1,!0)}),M}function Pw(_){for(var C=[],M=1;M<arguments.length;M++)C[M-1]=arguments[M];var k=_.length;function z(){for(var Y="",re=0;re<k;re++){Y+=_[re];var ae=C[re];ae&&(Y+=C[re].get())}return Y}return Up(C,z)}var zp=function(_){return typeof _=="object"&&_.mix},Xs=function(_){return zp(_)?_.mix:void 0};function iy(){for(var _=[],C=0;C<arguments.length;C++)_[C]=arguments[C];var M=!Array.isArray(_[0]),k=M?0:-1,z=_[0+k],Y=_[1+k],re=_[2+k],ae=_[3+k],Ve=o.interpolate(Y,re,n.__assign({mixer:Xs(re[0])},ae));return M?Ve(z):Ve}function Vp(_,C,M,k){var z=typeof C=="function"?C:iy(C,M,k);return Array.isArray(_)?ju(_,z):ju([_],function(Y){var re=n.__read(Y,1),ae=re[0];return z(ae)})}function ju(_,C){var M=R(function(){return[]});return Up(_,function(){M.length=0;for(var k=_.length,z=0;z<k;z++)M[z]=_[z].get();return C(M)})}function sy(_,C){C===void 0&&(C={});var M=r.useContext(T).isStatic,k=r.useRef(null),z=yr(xe(_)?_.get():_);return r.useMemo(function(){return z.attach(function(Y,re){return M?re(Y):(k.current&&k.current.stop(),k.current=o.animate(n.__assign(n.__assign({from:z.get(),to:Y,velocity:z.getVelocity()},C),{onUpdate:re})),z.get())})},Object.values(C)),Tf(_,function(Y){return z.set(parseFloat(Y))}),z}function kw(_){var C=yr(_.getVelocity());return r.useEffect(function(){return _.velocityUpdateSubscribers.add(function(M){C.set(M)})},[_]),C}function jl(){return{scrollX:or(0),scrollY:or(0),scrollXProgress:or(0),scrollYProgress:or(0)}}function Wp(_,C,M){M.set(!_||!C?0:_/C)}function ql(_,C){var M=function(){var k=C(),z=k.xOffset,Y=k.yOffset,re=k.xMaxOffset,ae=k.yMaxOffset;_.scrollX.set(z),_.scrollY.set(Y),Wp(z,re,_.scrollXProgress),Wp(Y,ae,_.scrollYProgress)};return M(),M}var oy=function(_){return function(){return{xOffset:_.scrollLeft,yOffset:_.scrollTop,xMaxOffset:_.scrollWidth-_.offsetWidth,yMaxOffset:_.scrollHeight-_.offsetHeight}}};function Hp(_){var C=R(jl);return X(function(){var M=_.current;if(i.invariant(!!M,"ref provided to useScroll must be passed into a HTML element."),!!M){var k=ql(C,oy(M)),z=qn(M,"scroll",k,{passive:!0}),Y=qn(M,"resize",k);return function(){z&&z(),Y&&Y()}}},[]),C}var If;function ay(){return{xOffset:window.pageXOffset,yOffset:window.pageYOffset,xMaxOffset:document.body.clientWidth-window.innerWidth,yMaxOffset:document.body.clientHeight-window.innerHeight}}var Gp=!1;function Ts(){if(Gp=!0,typeof window!="undefined"){var _=ql(If,ay);qn(window,"scroll",_,{passive:!0}),qn(window,"resize",_)}}function Vc(){return If||(If=jl()),X(function(){!Gp&&Ts()},[]),If}var ki;function ly(){if(ki=or(null),typeof window!="undefined")if(window.matchMedia){var _=window.matchMedia("(prefers-reduced-motion)"),C=function(){return ki.set(_.matches)};_.addListener(C),C()}else ki.set(!1)}function Ys(){!ki&&ly();var _=n.__read(r.useState(ki.get()),2),C=_[0],M=_[1];return Tf(ki,M),C}function Lw(){var _=!1,C=[],M=new Set,k={subscribe:function(z){return M.add(z),function(){return void M.delete(z)}},start:function(z,Y){if(_){var re=[];return M.forEach(function(ae){re.push(wp(ae,z,{transitionOverride:Y}))}),Promise.all(re)}else return new Promise(function(ae){C.push({animation:[z,Y],resolve:ae})})},set:function(z){return i.invariant(_,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),M.forEach(function(Y){GT(Y,z)})},stop:function(){M.forEach(function(z){lf(z)})},mount:function(){return _=!0,C.forEach(function(z){var Y=z.animation,re=z.resolve;k.start.apply(k,n.__spreadArray([],n.__read(Y))).then(re)}),function(){_=!1,k.stop()}}};return k}function Dw(){var _=R(Lw);return r.useEffect(_.mount,[]),_}function Nw(){for(var _=[],C=0;C<arguments.length;C++)_[C]=arguments[C];var M=r.useRef(0),k=n.__read(r.useState(_[M.current]),2),z=k[0],Y=k[1];return[z,function(re){M.current=typeof re!="number"?o.wrap(0,_.length,M.current+1):re,Y(_[M.current])}]}var wE=function(){function _(){this.componentControls=new Set}return _.prototype.subscribe=function(C){var M=this;return this.componentControls.add(C),function(){return M.componentControls.delete(C)}},_.prototype.start=function(C,M){this.componentControls.forEach(function(k){k.start(C.nativeEvent||C,M)})},_.prototype.updateConstraints=function(C){C===void 0&&(C=!0),this.componentControls.forEach(function(M){M.updateConstraints()}),C&&yf()},_}(),Wc=function(){return new wE};function bE(){return R(Wc)}var cy=function(){return{}},Ow=Hu({build:function(){},measureViewportBox:po,resetTransform:function(){},restoreTransform:function(){},removeValueFromRenderState:function(){},render:function(){},scrapeMotionValuesFromProps:cy,readValueFromInstance:function(_,C,M){return M.initialState[C]||0},makeTargetAnimatable:function(_,C){var M=C.transition,k=C.transitionEnd,z=n.__rest(C,["transition","transitionEnd"]),Y=xp(z,M||{},_);return Wx(_,z,Y),n.__assign({transition:M,transitionEnd:k},z)}}),qu=Cn({scrapeMotionValuesFromProps:cy,createRenderState:cy});function SE(_){var C=n.__read(r.useState(_),2),M=C[0],k=C[1],z=qu({},!1),Y=R(function(){return Ow({props:{},visualState:z},{initialState:_})});r.useEffect(function(){return Y.mount({}),Y.unmount()},[]),r.useEffect(function(){Y.setProps({onUpdate:function(ae){return k(n.__assign({},ae))}})});var re=R(function(){return function(ae){return wp(Y,ae)}});return[M,re]}var CE=1e5,uy=function(_){return _>.001?1/_:CE},jp=!1;function d2(_){var C=yr(1),M=yr(1),k=P();i.invariant(!!(_||k),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),i.warning(jp,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),jp=!0,_?(C=_.scaleX||C,M=_.scaleY||M):k&&(C=k.getValue("scaleX",1),M=k.getValue("scaleY",1));var z=Vp(C,uy),Y=Vp(M,uy);return{scaleX:z,scaleY:Y}}t.AnimatePresence=ny,t.AnimateSharedLayout=vn,t.DragControls=wE,t.FlatTree=vw,t.FramerTreeLayoutContext=Zi,t.LayoutGroupContext=j,t.LazyMotion=Yr,t.MotionConfig=Xr,t.MotionConfigContext=T,t.MotionValue=Bu,t.PresenceContext=L,t.SharedLayoutContext=Ji,t.addScaleCorrection=vt,t.animate=Bp,t.animateVisualElement=wp,t.animationControls=Lw,t.batchLayout=Rp,t.createBatcher=jv,t.createCrossfader=Sf,t.createDomMotionComponent=Jv,t.createMotionComponent=ve,t.domAnimation=Ks,t.domMax=Cf,t.flushLayout=yf,t.isValidMotionProp=jn,t.m=l2,t.motion=Cw,t.motionValue=or,t.resolveMotionValue=Fl,t.snapshotViewportBox=gi,t.transform=iy,t.useAnimation=Dw,t.useCycle=Nw,t.useDeprecatedAnimatedState=SE,t.useDeprecatedInvertedScale=d2,t.useDomEvent=Rn,t.useDragControls=bE,t.useElementScroll=Hp,t.useIsPresent=O,t.useMotionTemplate=Pw,t.useMotionValue=yr,t.usePresence=F,t.useReducedMotion=Ys,t.useSpring=sy,t.useTransform=Vp,t.useVelocity=kw,t.useViewportScroll=Vc,t.visualElement=Hu})(Ide);var _i={},WL={},mct=jg.exports;Object.defineProperty(WL,"__esModule",{value:!0});WL.default=void 0;var gct=mct(qg),vct=Kg,yct=(0,gct.default)((0,vct.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord");WL.default=yct;var _ct=lP(NBe),T1=an&&an.__assign||function(){return T1=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},T1.apply(this,arguments)},xct=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});_i.StyledButtonWrapper=_i.StyledIconButton=_i.StyledIndicatorIconButton=_i.StyledFiberManualRecordIcon=_i.StyledIndicators=_i.StyledItemWrapper=_i.StyledItem=_i.StyledRoot=void 0;var wct=xct(WL),Ru=_ct;_i.StyledRoot=(0,Ru.styled)("div")({position:"relative",overflow:"hidden"});_i.StyledItem=(0,Ru.styled)("div")({position:"absolute",height:"100%",width:"100%"});_i.StyledItemWrapper=(0,Ru.styled)("div")({position:"relative",width:"100%",height:"100%"});_i.StyledIndicators=(0,Ru.styled)("div")({width:"100%",marginTop:"10px",textAlign:"center"});_i.StyledFiberManualRecordIcon=(0,Ru.styled)(wct.default)({fontSize:"15px"});_i.StyledIndicatorIconButton=(0,Ru.styled)(Ru.IconButton,{shouldForwardProp:function(t){return!t.startsWith("$")}})(function(t){var e=t.$active;return{cursor:"pointer",transition:"200ms",padding:0,color:e?"#494949":"#afafaf","&:hover":{color:e?"#494949":"#1f1f1f"},"&:active":{color:e?"#494949":"#1f1f1f"}}});_i.StyledIconButton=(0,Ru.styled)(Ru.IconButton,{shouldForwardProp:function(t){return!t.startsWith("$")}})(function(t){var e=t.$alwaysVisible;return{margin:"0 10px",position:"relative",backgroundColor:"#494949",top:"calc(50% - 20px) !important",color:"white",fontSize:"30px",transition:"200ms",cursor:"pointer",opacity:e?"1":"0","&:hover":{opacity:"0.6 !important"}}});_i.StyledButtonWrapper=(0,Ru.styled)("div",{shouldForwardProp:function(t){return!t.startsWith("$")}})(function(t){var e=t.$next,n=t.$prev,r=t.$fullHeightHover;return T1(T1(T1({position:"absolute",height:"100px",backgroundColor:"transparent",zIndex:1,top:"calc(50% - 70px)","&:hover":{"& button":{backgroundColor:"black",filter:"brightness(120%)",opacity:"0.4"}}},r?{height:"100%",top:"0"}:void 0),e?{right:0}:void 0),n?{left:0}:void 0)});var TB=an&&an.__assign||function(){return TB=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},TB.apply(this,arguments)},bct=an&&an.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Sct=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cct=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&bct(e,t,n);return Sct(e,t),e};Object.defineProperty(BL,"__esModule",{value:!0});BL.CarouselItem=void 0;var GN=Ide,Hf=Cct(N.exports),Tct=_i,Ect=function(t){var e=t.animation,n=t.next,r=t.prev,i=t.swipe,s=t.state,o=t.index,a=t.maxIndex,l=t.duration,c=t.child,u=t.height,d=t.setHeight,f=e==="slide",p=e==="fade",g={drag:"x",layout:!0,onDragEnd:function(P,L){!i||(L.offset.x>0?r&&r():L.offset.x<0&&n&&n(),P.stopPropagation())},dragElastic:0,dragConstraints:{left:0,right:0}},v=(0,Hf.useRef)(null),y=(0,Hf.useCallback)(function(){o===s.active&&(!v.current||(v.current.offsetHeight===0?setTimeout(function(){return y()},100):d(v.current.offsetHeight)))},[d,s.active,o,v]);(0,Hf.useEffect)(function(){y()},[y]);var x={leftwardExit:{x:f?"-100%":void 0,opacity:p?0:void 0,zIndex:0},leftOut:{x:f?"-100%":void 0,opacity:p?0:void 0,display:"none",zIndex:0},rightwardExit:{x:f?"100%":void 0,opacity:p?0:void 0,zIndex:0},rightOut:{x:f?"100%":void 0,opacity:p?0:void 0,display:"none",zIndex:0},center:{x:0,opacity:1,zIndex:1}},w=s.active,b=s.next,T=s.prevActive,E="center";return o===w?E="center":o===T?(E=b?"leftwardExit":"rightwardExit",w===a&&o===0&&(E="rightwardExit"),w===0&&o===a&&(E="leftwardExit")):(E=o<w?"leftOut":"rightOut",w===a&&o===0&&(E="rightOut"),w===0&&o===a&&(E="leftOut")),l=l/1e3,Hf.default.createElement(Tct.StyledItem,null,Hf.default.createElement(GN.AnimatePresence,{custom:b},Hf.default.createElement(GN.motion.div,TB({},i&&g,{style:{height:"100%"}}),Hf.default.createElement(GN.motion.div,{custom:b,variants:x,animate:E,transition:{x:{type:"tween",duration:l,delay:0},opacity:{duration:l}},style:{position:"relative",height:"100%"}},Hf.default.createElement("div",{ref:v,style:{height:u}},c)))))};BL.CarouselItem=Ect;var HL={},aP=an&&an.__assign||function(){return aP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},aP.apply(this,arguments)},Ict=an&&an.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Mct=an&&an.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Act=an&&an.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Ict(e,t,n);return Mct(e,t),e},jN=an&&an.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(HL,"__esModule",{value:!0});HL.Indicators=void 0;var Sb=Act(N.exports),qN=_i,Rct=function(t){for(var e=(0,Sb.useMemo)(function(){return t.IndicatorIcon!==void 0?t.IndicatorIcon:Sb.default.createElement(qN.StyledFiberManualRecordIcon,null)},[t.IndicatorIcon]),n=(0,Sb.useCallback)(function(w){for(;w.length<t.length;){var b=0;w.push(w[b]),b+=1}},[t.length]),r=t.indicatorIconButtonProps,i=r.className,s=r.style,o=jN(r,["className","style"]),a=t.activeIndicatorIconButtonProps,l=a.className,c=a.style,u=jN(a,["className","style"]),d=[],f=function(w){var b=w===t.active?i+" "+l:""+i,T=w===t.active?Object.assign({},s,c):s,E=w===t.active?Object.assign({},o,u):o;E["aria-label"]===void 0&&(E["aria-label"]="carousel indicator");var P=function(L){return Sb.default.createElement(qN.StyledIndicatorIconButton,aP({$active:w===t.active,key:w,className:b,style:T,onClick:function(){t.press(w)}},E,{"aria-label":E["aria-label"]+" "+(w+1)}),L)};Array.isArray(e)?d.push(P(e[w]))&&n(e):d.push(P(e))},p=0;p<t.length;p++)f(p);var g=t.indicatorContainerProps,v=g.className,y=g.style,x=jN(g,["className","style"]);return Sb.default.createElement(qN.StyledIndicators,aP({className:v,style:y},x),d)};HL.Indicators=Rct;var afe={},GL={},Pct=jg.exports;Object.defineProperty(GL,"__esModule",{value:!0});GL.default=void 0;var kct=Pct(qg),Lct=Kg,Dct=(0,kct.default)((0,Lct.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");GL.default=Dct;var jL={},Nct=jg.exports;Object.defineProperty(jL,"__esModule",{value:!0});jL.default=void 0;var Oct=Nct(qg),Fct=Kg,Bct=(0,Oct.default)((0,Fct.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");jL.default=Bct;(function(t){var e=an&&an.__assign||function(){return e=Object.assign||function(p){for(var g,v=1,y=arguments.length;v<y;v++){g=arguments[v];for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(p[x]=g[x])}return p},e.apply(this,arguments)},n=an&&an.__createBinding||(Object.create?function(p,g,v,y){y===void 0&&(y=v),Object.defineProperty(p,y,{enumerable:!0,get:function(){return g[v]}})}:function(p,g,v,y){y===void 0&&(y=v),p[y]=g[v]}),r=an&&an.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),i=an&&an.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var v in p)v!=="default"&&Object.prototype.hasOwnProperty.call(p,v)&&n(g,p,v);return r(g,p),g},s=an&&an.__rest||function(p,g){var v={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&g.indexOf(y)<0&&(v[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,y=Object.getOwnPropertySymbols(p);x<y.length;x++)g.indexOf(y[x])<0&&Object.prototype.propertyIsEnumerable.call(p,y[x])&&(v[y[x]]=p[y[x]]);return v},o=an&&an.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.useInterval=t.sanitizeProps=t.sanitizeNavProps=void 0;var a=o(GL),l=o(jL),c=i(N.exports),u=function(p){var g=p||{};g.className,g.style;var v=s(g,["className","style"]);return e(p!==void 0?{style:p.style!==void 0?p.style:{},className:p.className!==void 0?p.className:""}:{style:{},className:""},v)};t.sanitizeNavProps=u;var d=function(p){var g=p.animation!==void 0?p.animation:"fade",v=p.duration!==void 0?p.duration:g==="fade"?500:200;return{sx:p.sx!==void 0?p.sx:{},className:p.className!==void 0?p.className:"",children:p.children?p.children:[],height:p.height,index:p.index!==void 0?p.index:0,strictIndexing:p.strictIndexing!==void 0?p.strictIndexing:!0,autoPlay:p.autoPlay!==void 0?p.autoPlay:!0,stopAutoPlayOnHover:p.stopAutoPlayOnHover!==void 0?p.stopAutoPlayOnHover:!0,interval:p.interval!==void 0?p.interval:4e3,animation:g,duration:v,swipe:p.swipe!==void 0?p.swipe:!0,navButtonsAlwaysInvisible:p.navButtonsAlwaysInvisible!==void 0?p.navButtonsAlwaysInvisible:!1,navButtonsAlwaysVisible:p.navButtonsAlwaysVisible!==void 0?p.navButtonsAlwaysVisible:!1,cycleNavigation:p.cycleNavigation!==void 0?p.cycleNavigation:!0,fullHeightHover:p.fullHeightHover!==void 0?p.fullHeightHover:!0,navButtonsWrapperProps:(0,t.sanitizeNavProps)(p.navButtonsWrapperProps),navButtonsProps:(0,t.sanitizeNavProps)(p.navButtonsProps),NavButton:p.NavButton,NextIcon:p.NextIcon!==void 0?p.NextIcon:c.default.createElement(l.default,null),PrevIcon:p.PrevIcon!==void 0?p.PrevIcon:c.default.createElement(a.default,null),indicators:p.indicators!==void 0?p.indicators:!0,indicatorContainerProps:(0,t.sanitizeNavProps)(p.indicatorContainerProps),indicatorIconButtonProps:(0,t.sanitizeNavProps)(p.indicatorIconButtonProps),activeIndicatorIconButtonProps:(0,t.sanitizeNavProps)(p.activeIndicatorIconButtonProps),IndicatorIcon:p.IndicatorIcon,onChange:p.onChange!==void 0?p.onChange:function(){},changeOnFirstRender:p.changeOnFirstRender!==void 0?p.changeOnFirstRender:!1,next:p.next!==void 0?p.next:function(){},prev:p.prev!==void 0?p.prev:function(){}}};t.sanitizeProps=d;var f=function(p,g){var v=(0,c.useRef)(function(){});(0,c.useEffect)(function(){v.current=p},[p]),(0,c.useEffect)(function(){function y(){v.current()}if(g!==null){var x=setInterval(y,g);return function(){return clearInterval(x)}}return function(){}},[g])};t.useInterval=f})(afe);(function(t){var e=an&&an.__assign||function(){return e=Object.assign||function(d){for(var f,p=1,g=arguments.length;p<g;p++){f=arguments[p];for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(d[v]=f[v])}return d},e.apply(this,arguments)},n=an&&an.__createBinding||(Object.create?function(d,f,p,g){g===void 0&&(g=p),Object.defineProperty(d,g,{enumerable:!0,get:function(){return f[p]}})}:function(d,f,p,g){g===void 0&&(g=p),d[g]=f[p]}),r=an&&an.__setModuleDefault||(Object.create?function(d,f){Object.defineProperty(d,"default",{enumerable:!0,value:f})}:function(d,f){d.default=f}),i=an&&an.__importStar||function(d){if(d&&d.__esModule)return d;var f={};if(d!=null)for(var p in d)p!=="default"&&Object.prototype.hasOwnProperty.call(d,p)&&n(f,d,p);return r(f,d),f};Object.defineProperty(t,"__esModule",{value:!0}),t.Carousel=void 0;var s=BL,o=HL,a=afe,l=_i,c=i(N.exports),u=function(d){var f=(0,c.useState)({active:0,prevActive:0,next:!0}),p=f[0],g=f[1],v=(0,c.useState)(),y=v[0],x=v[1],w=(0,c.useState)(!1),b=w[0],T=w[1],E=(0,a.sanitizeProps)(d);(0,c.useEffect)(function(){var we=E.index,ve=E.changeOnFirstRender;R(we,!0,ve)},[E.index]),(0,a.useInterval)(function(){var we=E.autoPlay;we&&!b&&P(void 0)},E.interval);var P=function(we){var ve=E.children,Ue=E.cycleNavigation,Qe=Array.isArray(ve)?ve.length-1:0,ze=p.active+1>Qe?Ue?0:p.active:p.active+1;R(ze,!0),we&&we.stopPropagation()},L=function(we){var ve=E.children,Ue=E.cycleNavigation,Qe=Array.isArray(ve)?ve.length-1:0,ze=p.active-1<0?Ue?Qe:p.active:p.active-1;R(ze,!1),we&&we.stopPropagation()},R=function(we,ve,Ue){Ue===void 0&&(Ue=!0);var Qe=E.onChange,ze=E.children,st=E.strictIndexing;Array.isArray(ze)?(st&&we>ze.length-1&&(we=ze.length-1),st&&we<0&&(we=0)):we=0,Ue&&(ve!==void 0&&(ve?E.next(we,p.active):E.prev(we,p.active)),Qe(we,p.active)),ve===void 0&&(ve=we>p.active),g({active:we,prevActive:p.active,next:ve})},F=E.children,O=E.sx,G=E.className,Z=E.height,V=E.stopAutoPlayOnHover,U=E.animation,j=E.duration,W=E.swipe,X=E.navButtonsAlwaysInvisible,B=E.navButtonsAlwaysVisible,H=E.cycleNavigation,q=E.fullHeightHover,ee=E.navButtonsProps,J=E.navButtonsWrapperProps,de=E.NavButton,ye=E.NextIcon,Ce=E.PrevIcon,oe=E.indicators,He=E.indicatorContainerProps,Ae=E.indicatorIconButtonProps,Ne=E.activeIndicatorIconButtonProps,Se=E.IndicatorIcon,Ze=function(we){if(we===void 0&&(we=!0),H)return!0;var ve=Array.isArray(F)?F.length-1:0;return!(we&&p.active===ve||!we&&p.active===0)};return c.default.createElement(l.StyledRoot,{sx:O,className:G,onMouseOver:function(){V&&T(!0)},onMouseOut:function(){V&&T(!1)},onFocus:function(){V&&T(!0)},onBlur:function(){V&&T(!1)}},c.default.createElement(l.StyledItemWrapper,{style:{height:Z||y}},Array.isArray(F)?F.map(function(we,ve){return c.default.createElement(s.CarouselItem,{key:"carousel-item"+ve,state:p,index:ve,maxIndex:F.length-1,child:we,animation:U,duration:j,swipe:W,next:P,prev:L,height:Z,setHeight:x})}):c.default.createElement(s.CarouselItem,{key:"carousel-item0",state:p,index:0,maxIndex:0,child:F,animation:U,duration:j,height:Z,setHeight:x})),!X&&Ze(!0)&&c.default.createElement(l.StyledButtonWrapper,e({$next:!0,$prev:!1,$fullHeightHover:q},J),de!==void 0?de(e({onClick:P,next:!0,prev:!1},ee)):c.default.createElement(l.StyledIconButton,e({$alwaysVisible:B,$fullHeightHover:q,onClick:P,"aria-label":"Next"},ee),ye)),!X&&Ze(!1)&&c.default.createElement(l.StyledButtonWrapper,e({$next:!1,$prev:!0,$fullHeightHover:q},J),de!==void 0?de(e({onClick:L,next:!1,prev:!0},ee)):c.default.createElement(l.StyledIconButton,e({$alwaysVisible:B,$fullHeightHover:q,onClick:L,"aria-label":"Previous"},ee),Ce)),oe?c.default.createElement(o.Indicators,{length:Array.isArray(F)?F.length:0,active:p.active,press:R,indicatorContainerProps:He,indicatorIconButtonProps:Ae,activeIndicatorIconButtonProps:Ne,IndicatorIcon:Se}):null)};t.Carousel=u,t.default=t.Carousel})(Ede);var $ct=an&&an.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tde,"__esModule",{value:!0});var Uct=$ct(Ede),zct=Tde.default=Uct.default,D5={},Vct=jg.exports;Object.defineProperty(D5,"__esModule",{value:!0});var lfe=D5.default=void 0,Wct=Vct(qg),Hct=Kg,Gct=(0,Wct.default)((0,Hct.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined");lfe=D5.default=Gct;function jct(){const[t,e]=N.exports.useState([]),[n,r]=N.exports.useState(!1),[i,s]=N.exports.useState(!1),[o,a]=N.exports.useState([]),[l,c]=N.exports.useState(!1),{height:u,width:d}=Lat(),f=d>1e3?3:d>600?2:1;N.exports.useEffect(()=>{p()},[]);const p=async()=>{const w=A0(EB,"images"),b=await pY(w),T=[];for(const E of b.items){const P=await mY(A0(EB,E.fullPath));T.push({url:P,name:E.name})}e(T.sort((E,P)=>E.name.localeCompare(P.name)))},g=()=>{r(!1),p()},v=w=>{const b=vY(),T=A0(b,"images/"+w.name);gY(T).then(()=>{p()})},y=w=>{const b=[];for(let T=w;T<t.length+w;T++)b.push(t[T%t.length]);a(b),s(!0)},x=()=>{s(!1),a([])};return Tt("div",{children:[i&&K("div",{className:"carousel-wrapper",children:K(zct,{height:u,autoPlay:l,navButtonsAlwaysVisible:!0,stopAutoPlayOnHover:!1,children:o.map(w=>Tt(zo,{className:"image-paper",children:[Tt("div",{className:"image-paper-header",children:[K("div",{children:K(vZ,{control:K(KJ,{checked:l,value:l,onChange:(b,T)=>c(T)}),label:"Autoplay"})}),K("h2",{className:"image-title",children:w.name.slice(0,w.name.length-4)}),K(fc,{className:"image-paper-cancel",onClick:x,children:K(lfe,{})})]}),K("img",{src:w.url})]}))})}),n&&K(kat,{close:g,cancel:()=>r(!1)}),Tt("div",{className:"popup-background"+(n?"":"-invisible"),children:[K(Pat,{onAdd:()=>r(!0)}),K("div",{className:"App",children:K(NZ,{variant:"masonry",cols:f,children:t.map((w,b)=>Tt(FZ,{children:[K("img",{src:w.url,alt:w.name,onClick:()=>y(b)}),K($Z,{title:w.name,actionIcon:K(fc,{sx:{color:"rgba(255, 255, 255, 0.54)"},onClick:()=>v(w),children:K(kte,{})})})]}))})})]})]})}var qct="firebase",Kct="9.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(qct,Kct,"app");const Xct={apiKey:"AIzaSyBKQnoZnw1fbg7hA1fKAQSQLIfsOIMGbcU",authDomain:"bildergalerie-86050.firebaseapp.com",projectId:"bildergalerie-86050",storageBucket:"bildergalerie-86050.appspot.com",messagingSenderId:"826899743817",appId:"1:826899743817:web:eb38dd953668e65eafab98",measurementId:"G-RPFT5SB4TZ"},Yct=E$(Xct),EB=vY(Yct);KN.createRoot(document.getElementById("root")).render(K(jct,{}));
